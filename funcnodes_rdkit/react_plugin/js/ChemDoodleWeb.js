//
// ChemDoodle Web Components 10.0.0
//
// https://web.chemdoodle.com
//
// Copyright 2009-2024 iChemLabs, LLC.  All rights reserved.
//
// The ChemDoodle Web Components library is licensed under version 3
// of the GNU GENERAL PUBLIC LICENSE.
//
// You may redistribute it and/or modify it under the terms of the
// GNU General Public License as published by the Free Software Foundation,
// either version 3 of the License, or (at your option) any later version.
//
// As an exception to the GPL, you may distribute this packed form of
// the code without the copy of the GPL license normally required,
// provided you include this license notice and a URL through which
// recipients can access the corresponding unpacked source code.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// ChemDoodle Web Components employs 3rd party libraries under the MIT
// license. For a full list with links to the original source, go to:
// https://web.chemdoodle.com/installation/download/#libraries
//
// Please contact iChemLabs <https://www.ichemlabs.com/contact-us> for
// alternate licensing options.
//
"use strict";
if(window.ChemDoodle===undefined)
(function () {
  let ChemDoodle = (function () {
    let e = {
      iChemLabs: {},
      informatics: {},
      io: {},
      lib: {},
      notations: {},
      structures: { PID: 0 },
    };
    e.structures.d2 = {};
    e.structures.d3 = {};
    e.getVersion = function () {
      return "10.0.0";
    };
    return e;
  })();
  (function (e, m) {
    "object" === typeof exports
      ? (module.exports = m(global))
      : "function" === typeof define && define.amd
      ? define([], function () {
          return m(e);
        })
      : m(e);
  })(ChemDoodle.lib, function (e) {
    function m(b) {
      return (d = b);
    }
    function k() {
      return (d = "undefined" !== typeof Float32Array ? Float32Array : Array);
    }
    var p = {};
    (function () {
      if ("undefined" != typeof Float32Array) {
        var b = new Float32Array(1),
          a = new Int32Array(b.buffer);
        p.invsqrt = function (t) {
          b[0] = t;
          a[0] = 1597463007 - (a[0] >> 1);
          var c = b[0];
          return c * (1.5 - 0.5 * t * c * c);
        };
      } else
        p.invsqrt = function (b) {
          return 1 / Math.sqrt(b);
        };
    })();
    var d = null;
    k();
    var g = {
        create: function (b) {
          var t = new d(3);
          b
            ? ((t[0] = b[0]), (t[1] = b[1]), (t[2] = b[2]))
            : (t[0] = t[1] = t[2] = 0);
          return t;
        },
        createFrom: function (b, a, c) {
          var t = new d(3);
          t[0] = b;
          t[1] = a;
          t[2] = c;
          return t;
        },
        set: function (b, a) {
          a[0] = b[0];
          a[1] = b[1];
          a[2] = b[2];
          return a;
        },
        equal: function (b, a) {
          return (
            b === a ||
            (1e-6 > Math.abs(b[0] - a[0]) &&
              1e-6 > Math.abs(b[1] - a[1]) &&
              1e-6 > Math.abs(b[2] - a[2]))
          );
        },
        add: function (b, a, c) {
          if (!c || b === c)
            return (b[0] += a[0]), (b[1] += a[1]), (b[2] += a[2]), b;
          c[0] = b[0] + a[0];
          c[1] = b[1] + a[1];
          c[2] = b[2] + a[2];
          return c;
        },
        subtract: function (b, a, c) {
          if (!c || b === c)
            return (b[0] -= a[0]), (b[1] -= a[1]), (b[2] -= a[2]), b;
          c[0] = b[0] - a[0];
          c[1] = b[1] - a[1];
          c[2] = b[2] - a[2];
          return c;
        },
        multiply: function (b, a, c) {
          if (!c || b === c)
            return (b[0] *= a[0]), (b[1] *= a[1]), (b[2] *= a[2]), b;
          c[0] = b[0] * a[0];
          c[1] = b[1] * a[1];
          c[2] = b[2] * a[2];
          return c;
        },
        negate: function (b, a) {
          a || (a = b);
          a[0] = -b[0];
          a[1] = -b[1];
          a[2] = -b[2];
          return a;
        },
        scale: function (b, a, c) {
          if (!c || b === c) return (b[0] *= a), (b[1] *= a), (b[2] *= a), b;
          c[0] = b[0] * a;
          c[1] = b[1] * a;
          c[2] = b[2] * a;
          return c;
        },
        normalize: function (b, a) {
          a || (a = b);
          var t = b[0],
            c = b[1];
          b = b[2];
          var f = Math.sqrt(t * t + c * c + b * b);
          if (!f) return (a[0] = 0), (a[1] = 0), (a[2] = 0), a;
          if (1 === f) return (a[0] = t), (a[1] = c), (a[2] = b), a;
          f = 1 / f;
          a[0] = t * f;
          a[1] = c * f;
          a[2] = b * f;
          return a;
        },
        cross: function (b, a, c) {
          c || (c = b);
          var t = b[0],
            f = b[1];
          b = b[2];
          var l = a[0],
            z = a[1];
          a = a[2];
          c[0] = f * a - b * z;
          c[1] = b * l - t * a;
          c[2] = t * z - f * l;
          return c;
        },
        length: function (b) {
          var t = b[0],
            a = b[1];
          b = b[2];
          return Math.sqrt(t * t + a * a + b * b);
        },
        squaredLength: function (b) {
          var t = b[0],
            a = b[1];
          b = b[2];
          return t * t + a * a + b * b;
        },
        dot: function (b, a) {
          return b[0] * a[0] + b[1] * a[1] + b[2] * a[2];
        },
        direction: function (b, a, c) {
          c || (c = b);
          var t = b[0] - a[0],
            f = b[1] - a[1];
          b = b[2] - a[2];
          a = Math.sqrt(t * t + f * f + b * b);
          if (!a) return (c[0] = 0), (c[1] = 0), (c[2] = 0), c;
          a = 1 / a;
          c[0] = t * a;
          c[1] = f * a;
          c[2] = b * a;
          return c;
        },
        lerp: function (b, a, c, f) {
          f || (f = b);
          f[0] = b[0] + c * (a[0] - b[0]);
          f[1] = b[1] + c * (a[1] - b[1]);
          f[2] = b[2] + c * (a[2] - b[2]);
          return f;
        },
        dist: function (b, a) {
          var t = a[0] - b[0],
            c = a[1] - b[1];
          b = a[2] - b[2];
          return Math.sqrt(t * t + c * c + b * b);
        },
      },
      a = null,
      f = new d(4);
    g.unproject = function (b, c, l, h, d) {
      d || (d = b);
      a || (a = v.create());
      var t = a;
      f[0] = (2 * (b[0] - h[0])) / h[2] - 1;
      f[1] = (2 * (b[1] - h[1])) / h[3] - 1;
      f[2] = 2 * b[2] - 1;
      f[3] = 1;
      v.multiply(l, c, t);
      if (!v.inverse(t)) return null;
      v.multiplyVec4(t, f);
      if (0 === f[3]) return null;
      d[0] = f[0] / f[3];
      d[1] = f[1] / f[3];
      d[2] = f[2] / f[3];
      return d;
    };
    var c = g.createFrom(1, 0, 0),
      b = g.createFrom(0, 1, 0),
      l = g.createFrom(0, 0, 1),
      h = g.create();
    g.rotationTo = function (t, a, f) {
      f || (f = n.create());
      var z = g.dot(t, a);
      if (1 <= z) n.set(u, f);
      else if (-0.999999 > z)
        g.cross(c, t, h),
          1e-6 > g.length(h) && g.cross(b, t, h),
          1e-6 > g.length(h) && g.cross(l, t, h),
          g.normalize(h),
          n.fromAngleAxis(Math.PI, h, f);
      else {
        z = Math.sqrt(2 * (1 + z));
        var d = 1 / z;
        g.cross(t, a, h);
        f[0] = h[0] * d;
        f[1] = h[1] * d;
        f[2] = h[2] * d;
        f[3] = 0.5 * z;
        n.normalize(f);
      }
      1 < f[3] ? (f[3] = 1) : -1 > f[3] && (f[3] = -1);
      return f;
    };
    g.str = function (b) {
      return "[" + b[0] + ", " + b[1] + ", " + b[2] + "]";
    };
    var r = {
        create: function (b) {
          var t = new d(9);
          b
            ? ((t[0] = b[0]),
              (t[1] = b[1]),
              (t[2] = b[2]),
              (t[3] = b[3]),
              (t[4] = b[4]),
              (t[5] = b[5]),
              (t[6] = b[6]),
              (t[7] = b[7]),
              (t[8] = b[8]))
            : (t[0] =
                t[1] =
                t[2] =
                t[3] =
                t[4] =
                t[5] =
                t[6] =
                t[7] =
                t[8] =
                  0);
          return t;
        },
        createFrom: function (b, a, c, f, l, h, v, r, n) {
          var t = new d(9);
          t[0] = b;
          t[1] = a;
          t[2] = c;
          t[3] = f;
          t[4] = l;
          t[5] = h;
          t[6] = v;
          t[7] = r;
          t[8] = n;
          return t;
        },
        determinant: function (b) {
          var t = b[3],
            a = b[4],
            c = b[5],
            f = b[6],
            l = b[7],
            h = b[8];
          return (
            b[0] * (h * a - c * l) +
            b[1] * (-h * t + c * f) +
            b[2] * (l * t - a * f)
          );
        },
        inverse: function (b, a) {
          var t = b[0],
            c = b[1],
            f = b[2],
            l = b[3],
            h = b[4],
            d = b[5],
            z = b[6],
            v = b[7];
          b = b[8];
          var n = b * h - d * v,
            g = -b * l + d * z,
            e = v * l - h * z,
            u = t * n + c * g + f * e;
          if (!u) return null;
          u = 1 / u;
          a || (a = r.create());
          a[0] = n * u;
          a[1] = (-b * c + f * v) * u;
          a[2] = (d * c - f * h) * u;
          a[3] = g * u;
          a[4] = (b * t - f * z) * u;
          a[5] = (-d * t + f * l) * u;
          a[6] = e * u;
          a[7] = (-v * t + c * z) * u;
          a[8] = (h * t - c * l) * u;
          return a;
        },
        multiply: function (b, a, c) {
          c || (c = b);
          var t = b[0],
            f = b[1],
            l = b[2],
            h = b[3],
            d = b[4],
            z = b[5],
            v = b[6],
            r = b[7];
          b = b[8];
          var n = a[0],
            g = a[1],
            e = a[2],
            u = a[3],
            A = a[4],
            p = a[5],
            w = a[6],
            k = a[7];
          a = a[8];
          c[0] = n * t + g * h + e * v;
          c[1] = n * f + g * d + e * r;
          c[2] = n * l + g * z + e * b;
          c[3] = u * t + A * h + p * v;
          c[4] = u * f + A * d + p * r;
          c[5] = u * l + A * z + p * b;
          c[6] = w * t + k * h + a * v;
          c[7] = w * f + k * d + a * r;
          c[8] = w * l + k * z + a * b;
          return c;
        },
        multiplyVec2: function (b, a, c) {
          c || (c = a);
          var t = a[0];
          a = a[1];
          c[0] = t * b[0] + a * b[3] + b[6];
          c[1] = t * b[1] + a * b[4] + b[7];
          return c;
        },
        multiplyVec3: function (b, a, c) {
          c || (c = a);
          var t = a[0],
            f = a[1];
          a = a[2];
          c[0] = t * b[0] + f * b[3] + a * b[6];
          c[1] = t * b[1] + f * b[4] + a * b[7];
          c[2] = t * b[2] + f * b[5] + a * b[8];
          return c;
        },
        set: function (b, a) {
          a[0] = b[0];
          a[1] = b[1];
          a[2] = b[2];
          a[3] = b[3];
          a[4] = b[4];
          a[5] = b[5];
          a[6] = b[6];
          a[7] = b[7];
          a[8] = b[8];
          return a;
        },
        equal: function (b, a) {
          return (
            b === a ||
            (1e-6 > Math.abs(b[0] - a[0]) &&
              1e-6 > Math.abs(b[1] - a[1]) &&
              1e-6 > Math.abs(b[2] - a[2]) &&
              1e-6 > Math.abs(b[3] - a[3]) &&
              1e-6 > Math.abs(b[4] - a[4]) &&
              1e-6 > Math.abs(b[5] - a[5]) &&
              1e-6 > Math.abs(b[6] - a[6]) &&
              1e-6 > Math.abs(b[7] - a[7]) &&
              1e-6 > Math.abs(b[8] - a[8]))
          );
        },
        identity: function (b) {
          b || (b = r.create());
          b[0] = 1;
          b[1] = 0;
          b[2] = 0;
          b[3] = 0;
          b[4] = 1;
          b[5] = 0;
          b[6] = 0;
          b[7] = 0;
          b[8] = 1;
          return b;
        },
        transpose: function (b, a) {
          if (!a || b === a) {
            a = b[1];
            var t = b[2],
              c = b[5];
            b[1] = b[3];
            b[2] = b[6];
            b[3] = a;
            b[5] = b[7];
            b[6] = t;
            b[7] = c;
            return b;
          }
          a[0] = b[0];
          a[1] = b[3];
          a[2] = b[6];
          a[3] = b[1];
          a[4] = b[4];
          a[5] = b[7];
          a[6] = b[2];
          a[7] = b[5];
          a[8] = b[8];
          return a;
        },
        toMat4: function (b, a) {
          a || (a = v.create());
          a[15] = 1;
          a[14] = 0;
          a[13] = 0;
          a[12] = 0;
          a[11] = 0;
          a[10] = b[8];
          a[9] = b[7];
          a[8] = b[6];
          a[7] = 0;
          a[6] = b[5];
          a[5] = b[4];
          a[4] = b[3];
          a[3] = 0;
          a[2] = b[2];
          a[1] = b[1];
          a[0] = b[0];
          return a;
        },
        str: function (b) {
          return (
            "[" +
            b[0] +
            ", " +
            b[1] +
            ", " +
            b[2] +
            ", " +
            b[3] +
            ", " +
            b[4] +
            ", " +
            b[5] +
            ", " +
            b[6] +
            ", " +
            b[7] +
            ", " +
            b[8] +
            "]"
          );
        },
      },
      v = {
        create: function (b) {
          var a = new d(16);
          b &&
            ((a[0] = b[0]),
            (a[1] = b[1]),
            (a[2] = b[2]),
            (a[3] = b[3]),
            (a[4] = b[4]),
            (a[5] = b[5]),
            (a[6] = b[6]),
            (a[7] = b[7]),
            (a[8] = b[8]),
            (a[9] = b[9]),
            (a[10] = b[10]),
            (a[11] = b[11]),
            (a[12] = b[12]),
            (a[13] = b[13]),
            (a[14] = b[14]),
            (a[15] = b[15]));
          return a;
        },
        createFrom: function (b, a, c, f, l, h, v, r, n, g, e, u, p, w, k, y) {
          var t = new d(16);
          t[0] = b;
          t[1] = a;
          t[2] = c;
          t[3] = f;
          t[4] = l;
          t[5] = h;
          t[6] = v;
          t[7] = r;
          t[8] = n;
          t[9] = g;
          t[10] = e;
          t[11] = u;
          t[12] = p;
          t[13] = w;
          t[14] = k;
          t[15] = y;
          return t;
        },
        set: function (b, a) {
          a[0] = b[0];
          a[1] = b[1];
          a[2] = b[2];
          a[3] = b[3];
          a[4] = b[4];
          a[5] = b[5];
          a[6] = b[6];
          a[7] = b[7];
          a[8] = b[8];
          a[9] = b[9];
          a[10] = b[10];
          a[11] = b[11];
          a[12] = b[12];
          a[13] = b[13];
          a[14] = b[14];
          a[15] = b[15];
          return a;
        },
        equal: function (b, a) {
          return (
            b === a ||
            (1e-6 > Math.abs(b[0] - a[0]) &&
              1e-6 > Math.abs(b[1] - a[1]) &&
              1e-6 > Math.abs(b[2] - a[2]) &&
              1e-6 > Math.abs(b[3] - a[3]) &&
              1e-6 > Math.abs(b[4] - a[4]) &&
              1e-6 > Math.abs(b[5] - a[5]) &&
              1e-6 > Math.abs(b[6] - a[6]) &&
              1e-6 > Math.abs(b[7] - a[7]) &&
              1e-6 > Math.abs(b[8] - a[8]) &&
              1e-6 > Math.abs(b[9] - a[9]) &&
              1e-6 > Math.abs(b[10] - a[10]) &&
              1e-6 > Math.abs(b[11] - a[11]) &&
              1e-6 > Math.abs(b[12] - a[12]) &&
              1e-6 > Math.abs(b[13] - a[13]) &&
              1e-6 > Math.abs(b[14] - a[14]) &&
              1e-6 > Math.abs(b[15] - a[15]))
          );
        },
        identity: function (b) {
          b || (b = v.create());
          b[0] = 1;
          b[1] = 0;
          b[2] = 0;
          b[3] = 0;
          b[4] = 0;
          b[5] = 1;
          b[6] = 0;
          b[7] = 0;
          b[8] = 0;
          b[9] = 0;
          b[10] = 1;
          b[11] = 0;
          b[12] = 0;
          b[13] = 0;
          b[14] = 0;
          b[15] = 1;
          return b;
        },
        transpose: function (b, a) {
          if (!a || b === a) {
            a = b[1];
            var c = b[2],
              t = b[3],
              f = b[6],
              l = b[7],
              h = b[11];
            b[1] = b[4];
            b[2] = b[8];
            b[3] = b[12];
            b[4] = a;
            b[6] = b[9];
            b[7] = b[13];
            b[8] = c;
            b[9] = f;
            b[11] = b[14];
            b[12] = t;
            b[13] = l;
            b[14] = h;
            return b;
          }
          a[0] = b[0];
          a[1] = b[4];
          a[2] = b[8];
          a[3] = b[12];
          a[4] = b[1];
          a[5] = b[5];
          a[6] = b[9];
          a[7] = b[13];
          a[8] = b[2];
          a[9] = b[6];
          a[10] = b[10];
          a[11] = b[14];
          a[12] = b[3];
          a[13] = b[7];
          a[14] = b[11];
          a[15] = b[15];
          return a;
        },
        determinant: function (b) {
          var a = b[0],
            c = b[1],
            f = b[2],
            t = b[3],
            l = b[4],
            h = b[5],
            d = b[6],
            v = b[7],
            r = b[8],
            n = b[9],
            g = b[10],
            e = b[11],
            u = b[12],
            p = b[13],
            w = b[14];
          b = b[15];
          return (
            u * n * d * t -
            r * p * d * t -
            u * h * g * t +
            l * p * g * t +
            r * h * w * t -
            l * n * w * t -
            u * n * f * v +
            r * p * f * v +
            u * c * g * v -
            a * p * g * v -
            r * c * w * v +
            a * n * w * v +
            u * h * f * e -
            l * p * f * e -
            u * c * d * e +
            a * p * d * e +
            l * c * w * e -
            a * h * w * e -
            r * h * f * b +
            l * n * f * b +
            r * c * d * b -
            a * n * d * b -
            l * c * g * b +
            a * h * g * b
          );
        },
        inverse: function (b, a) {
          a || (a = b);
          var c = b[0],
            f = b[1],
            t = b[2],
            l = b[3],
            h = b[4],
            d = b[5],
            v = b[6],
            r = b[7],
            n = b[8],
            g = b[9],
            z = b[10],
            e = b[11],
            u = b[12],
            p = b[13],
            w = b[14];
          b = b[15];
          var k = c * d - f * h,
            y = c * v - t * h,
            x = c * r - l * h,
            m = f * v - t * d,
            T = f * r - l * d,
            R = t * r - l * v,
            U = n * p - g * u,
            V = n * w - z * u,
            W = n * b - e * u,
            X = g * w - z * p,
            aa = g * b - e * p,
            ba = z * b - e * w,
            O = k * ba - y * aa + x * X + m * W - T * V + R * U;
          if (!O) return null;
          O = 1 / O;
          a[0] = (d * ba - v * aa + r * X) * O;
          a[1] = (-f * ba + t * aa - l * X) * O;
          a[2] = (p * R - w * T + b * m) * O;
          a[3] = (-g * R + z * T - e * m) * O;
          a[4] = (-h * ba + v * W - r * V) * O;
          a[5] = (c * ba - t * W + l * V) * O;
          a[6] = (-u * R + w * x - b * y) * O;
          a[7] = (n * R - z * x + e * y) * O;
          a[8] = (h * aa - d * W + r * U) * O;
          a[9] = (-c * aa + f * W - l * U) * O;
          a[10] = (u * T - p * x + b * k) * O;
          a[11] = (-n * T + g * x - e * k) * O;
          a[12] = (-h * X + d * V - v * U) * O;
          a[13] = (c * X - f * V + t * U) * O;
          a[14] = (-u * m + p * y - w * k) * O;
          a[15] = (n * m - g * y + z * k) * O;
          return a;
        },
        toRotationMat: function (b, a) {
          a || (a = v.create());
          a[0] = b[0];
          a[1] = b[1];
          a[2] = b[2];
          a[3] = b[3];
          a[4] = b[4];
          a[5] = b[5];
          a[6] = b[6];
          a[7] = b[7];
          a[8] = b[8];
          a[9] = b[9];
          a[10] = b[10];
          a[11] = b[11];
          a[12] = 0;
          a[13] = 0;
          a[14] = 0;
          a[15] = 1;
          return a;
        },
        toMat3: function (b, a) {
          a || (a = r.create());
          a[0] = b[0];
          a[1] = b[1];
          a[2] = b[2];
          a[3] = b[4];
          a[4] = b[5];
          a[5] = b[6];
          a[6] = b[8];
          a[7] = b[9];
          a[8] = b[10];
          return a;
        },
        toInverseMat3: function (b, a) {
          var c = b[0],
            f = b[1],
            t = b[2],
            l = b[4],
            h = b[5],
            d = b[6],
            v = b[8],
            n = b[9];
          b = b[10];
          var g = b * h - d * n,
            e = -b * l + d * v,
            z = n * l - h * v,
            u = c * g + f * e + t * z;
          if (!u) return null;
          u = 1 / u;
          a || (a = r.create());
          a[0] = g * u;
          a[1] = (-b * f + t * n) * u;
          a[2] = (d * f - t * h) * u;
          a[3] = e * u;
          a[4] = (b * c - t * v) * u;
          a[5] = (-d * c + t * l) * u;
          a[6] = z * u;
          a[7] = (-n * c + f * v) * u;
          a[8] = (h * c - f * l) * u;
          return a;
        },
        multiply: function (b, a, c) {
          c || (c = b);
          var f = b[0],
            l = b[1],
            t = b[2],
            h = b[3],
            d = b[4],
            v = b[5],
            r = b[6],
            n = b[7],
            g = b[8],
            e = b[9],
            z = b[10],
            u = b[11],
            p = b[12],
            w = b[13],
            A = b[14];
          b = b[15];
          var k = a[0],
            y = a[1],
            x = a[2],
            m = a[3];
          c[0] = k * f + y * d + x * g + m * p;
          c[1] = k * l + y * v + x * e + m * w;
          c[2] = k * t + y * r + x * z + m * A;
          c[3] = k * h + y * n + x * u + m * b;
          k = a[4];
          y = a[5];
          x = a[6];
          m = a[7];
          c[4] = k * f + y * d + x * g + m * p;
          c[5] = k * l + y * v + x * e + m * w;
          c[6] = k * t + y * r + x * z + m * A;
          c[7] = k * h + y * n + x * u + m * b;
          k = a[8];
          y = a[9];
          x = a[10];
          m = a[11];
          c[8] = k * f + y * d + x * g + m * p;
          c[9] = k * l + y * v + x * e + m * w;
          c[10] = k * t + y * r + x * z + m * A;
          c[11] = k * h + y * n + x * u + m * b;
          k = a[12];
          y = a[13];
          x = a[14];
          m = a[15];
          c[12] = k * f + y * d + x * g + m * p;
          c[13] = k * l + y * v + x * e + m * w;
          c[14] = k * t + y * r + x * z + m * A;
          c[15] = k * h + y * n + x * u + m * b;
          return c;
        },
        multiplyVec3: function (b, a, c) {
          c || (c = a);
          var f = a[0],
            l = a[1];
          a = a[2];
          c[0] = b[0] * f + b[4] * l + b[8] * a + b[12];
          c[1] = b[1] * f + b[5] * l + b[9] * a + b[13];
          c[2] = b[2] * f + b[6] * l + b[10] * a + b[14];
          return c;
        },
        multiplyVec4: function (b, a, c) {
          c || (c = a);
          var f = a[0],
            l = a[1],
            t = a[2];
          a = a[3];
          c[0] = b[0] * f + b[4] * l + b[8] * t + b[12] * a;
          c[1] = b[1] * f + b[5] * l + b[9] * t + b[13] * a;
          c[2] = b[2] * f + b[6] * l + b[10] * t + b[14] * a;
          c[3] = b[3] * f + b[7] * l + b[11] * t + b[15] * a;
          return c;
        },
        translate: function (b, a, c) {
          var f = a[0],
            l = a[1];
          a = a[2];
          if (!c || b === c)
            return (
              (b[12] = b[0] * f + b[4] * l + b[8] * a + b[12]),
              (b[13] = b[1] * f + b[5] * l + b[9] * a + b[13]),
              (b[14] = b[2] * f + b[6] * l + b[10] * a + b[14]),
              (b[15] = b[3] * f + b[7] * l + b[11] * a + b[15]),
              b
            );
          var t = b[0];
          var h = b[1];
          var d = b[2];
          var v = b[3];
          var r = b[4];
          var n = b[5];
          var g = b[6];
          var e = b[7];
          var z = b[8];
          var u = b[9];
          var p = b[10];
          var w = b[11];
          c[0] = t;
          c[1] = h;
          c[2] = d;
          c[3] = v;
          c[4] = r;
          c[5] = n;
          c[6] = g;
          c[7] = e;
          c[8] = z;
          c[9] = u;
          c[10] = p;
          c[11] = w;
          c[12] = t * f + r * l + z * a + b[12];
          c[13] = h * f + n * l + u * a + b[13];
          c[14] = d * f + g * l + p * a + b[14];
          c[15] = v * f + e * l + w * a + b[15];
          return c;
        },
        scale: function (b, a, c) {
          var f = a[0],
            l = a[1];
          a = a[2];
          if (!c || b === c)
            return (
              (b[0] *= f),
              (b[1] *= f),
              (b[2] *= f),
              (b[3] *= f),
              (b[4] *= l),
              (b[5] *= l),
              (b[6] *= l),
              (b[7] *= l),
              (b[8] *= a),
              (b[9] *= a),
              (b[10] *= a),
              (b[11] *= a),
              b
            );
          c[0] = b[0] * f;
          c[1] = b[1] * f;
          c[2] = b[2] * f;
          c[3] = b[3] * f;
          c[4] = b[4] * l;
          c[5] = b[5] * l;
          c[6] = b[6] * l;
          c[7] = b[7] * l;
          c[8] = b[8] * a;
          c[9] = b[9] * a;
          c[10] = b[10] * a;
          c[11] = b[11] * a;
          c[12] = b[12];
          c[13] = b[13];
          c[14] = b[14];
          c[15] = b[15];
          return c;
        },
        rotate: function (b, a, c, f) {
          var l = c[0],
            h = c[1];
          c = c[2];
          var t = Math.sqrt(l * l + h * h + c * c);
          if (!t) return null;
          1 !== t && ((t = 1 / t), (l *= t), (h *= t), (c *= t));
          var d = Math.sin(a);
          var v = Math.cos(a);
          var r = 1 - v;
          a = b[0];
          t = b[1];
          var n = b[2];
          var g = b[3];
          var e = b[4];
          var u = b[5];
          var z = b[6];
          var p = b[7];
          var w = b[8];
          var k = b[9];
          var A = b[10];
          var y = b[11];
          var x = l * l * r + v;
          var m = h * l * r + c * d;
          var B = c * l * r - h * d;
          var U = l * h * r - c * d;
          var V = h * h * r + v;
          var W = c * h * r + l * d;
          var X = l * c * r + h * d;
          l = h * c * r - l * d;
          h = c * c * r + v;
          f
            ? b !== f &&
              ((f[12] = b[12]),
              (f[13] = b[13]),
              (f[14] = b[14]),
              (f[15] = b[15]))
            : (f = b);
          f[0] = a * x + e * m + w * B;
          f[1] = t * x + u * m + k * B;
          f[2] = n * x + z * m + A * B;
          f[3] = g * x + p * m + y * B;
          f[4] = a * U + e * V + w * W;
          f[5] = t * U + u * V + k * W;
          f[6] = n * U + z * V + A * W;
          f[7] = g * U + p * V + y * W;
          f[8] = a * X + e * l + w * h;
          f[9] = t * X + u * l + k * h;
          f[10] = n * X + z * l + A * h;
          f[11] = g * X + p * l + y * h;
          return f;
        },
        rotateX: function (b, a, c) {
          var f = Math.sin(a);
          a = Math.cos(a);
          var l = b[4],
            h = b[5],
            d = b[6],
            t = b[7],
            v = b[8],
            r = b[9],
            n = b[10],
            g = b[11];
          c
            ? b !== c &&
              ((c[0] = b[0]),
              (c[1] = b[1]),
              (c[2] = b[2]),
              (c[3] = b[3]),
              (c[12] = b[12]),
              (c[13] = b[13]),
              (c[14] = b[14]),
              (c[15] = b[15]))
            : (c = b);
          c[4] = l * a + v * f;
          c[5] = h * a + r * f;
          c[6] = d * a + n * f;
          c[7] = t * a + g * f;
          c[8] = l * -f + v * a;
          c[9] = h * -f + r * a;
          c[10] = d * -f + n * a;
          c[11] = t * -f + g * a;
          return c;
        },
        rotateY: function (b, a, c) {
          var f = Math.sin(a);
          a = Math.cos(a);
          var l = b[0],
            h = b[1],
            d = b[2],
            t = b[3],
            v = b[8],
            r = b[9],
            n = b[10],
            g = b[11];
          c
            ? b !== c &&
              ((c[4] = b[4]),
              (c[5] = b[5]),
              (c[6] = b[6]),
              (c[7] = b[7]),
              (c[12] = b[12]),
              (c[13] = b[13]),
              (c[14] = b[14]),
              (c[15] = b[15]))
            : (c = b);
          c[0] = l * a + v * -f;
          c[1] = h * a + r * -f;
          c[2] = d * a + n * -f;
          c[3] = t * a + g * -f;
          c[8] = l * f + v * a;
          c[9] = h * f + r * a;
          c[10] = d * f + n * a;
          c[11] = t * f + g * a;
          return c;
        },
        rotateZ: function (b, a, c) {
          var f = Math.sin(a);
          a = Math.cos(a);
          var l = b[0],
            h = b[1],
            d = b[2],
            t = b[3],
            v = b[4],
            r = b[5],
            n = b[6],
            g = b[7];
          c
            ? b !== c &&
              ((c[8] = b[8]),
              (c[9] = b[9]),
              (c[10] = b[10]),
              (c[11] = b[11]),
              (c[12] = b[12]),
              (c[13] = b[13]),
              (c[14] = b[14]),
              (c[15] = b[15]))
            : (c = b);
          c[0] = l * a + v * f;
          c[1] = h * a + r * f;
          c[2] = d * a + n * f;
          c[3] = t * a + g * f;
          c[4] = l * -f + v * a;
          c[5] = h * -f + r * a;
          c[6] = d * -f + n * a;
          c[7] = t * -f + g * a;
          return c;
        },
        frustum: function (b, a, c, f, l, h, d) {
          d || (d = v.create());
          var t = a - b,
            r = f - c,
            n = h - l;
          d[0] = (2 * l) / t;
          d[1] = 0;
          d[2] = 0;
          d[3] = 0;
          d[4] = 0;
          d[5] = (2 * l) / r;
          d[6] = 0;
          d[7] = 0;
          d[8] = (a + b) / t;
          d[9] = (f + c) / r;
          d[10] = -(h + l) / n;
          d[11] = -1;
          d[12] = 0;
          d[13] = 0;
          d[14] = -(h * l * 2) / n;
          d[15] = 0;
          return d;
        },
        perspective: function (b, a, c, f, l) {
          b = c * Math.tan((b * Math.PI) / 360);
          a *= b;
          return v.frustum(-a, a, -b, b, c, f, l);
        },
        ortho: function (b, a, c, f, l, h, d) {
          d || (d = v.create());
          var t = a - b,
            r = f - c,
            n = h - l;
          d[0] = 2 / t;
          d[1] = 0;
          d[2] = 0;
          d[3] = 0;
          d[4] = 0;
          d[5] = 2 / r;
          d[6] = 0;
          d[7] = 0;
          d[8] = 0;
          d[9] = 0;
          d[10] = -2 / n;
          d[11] = 0;
          d[12] = -(b + a) / t;
          d[13] = -(f + c) / r;
          d[14] = -(h + l) / n;
          d[15] = 1;
          return d;
        },
        lookAt: function (b, a, c, f) {
          f || (f = v.create());
          var l = b[0],
            h = b[1];
          b = b[2];
          var d = c[0];
          var t = c[1];
          var r = c[2];
          var n = a[0];
          c = a[1];
          var g = a[2];
          if (l === n && h === c && b === g) return v.identity(f);
          a = l - n;
          c = h - c;
          n = b - g;
          var e = 1 / Math.sqrt(a * a + c * c + n * n);
          a *= e;
          c *= e;
          n *= e;
          g = t * n - r * c;
          r = r * a - d * n;
          d = d * c - t * a;
          (e = Math.sqrt(g * g + r * r + d * d))
            ? ((e = 1 / e), (g *= e), (r *= e), (d *= e))
            : (d = r = g = 0);
          t = c * d - n * r;
          var u = n * g - a * d;
          var z = a * r - c * g;
          (e = Math.sqrt(t * t + u * u + z * z))
            ? ((e = 1 / e), (t *= e), (u *= e), (z *= e))
            : (z = u = t = 0);
          f[0] = g;
          f[1] = t;
          f[2] = a;
          f[3] = 0;
          f[4] = r;
          f[5] = u;
          f[6] = c;
          f[7] = 0;
          f[8] = d;
          f[9] = z;
          f[10] = n;
          f[11] = 0;
          f[12] = -(g * l + r * h + d * b);
          f[13] = -(t * l + u * h + z * b);
          f[14] = -(a * l + c * h + n * b);
          f[15] = 1;
          return f;
        },
        fromRotationTranslation: function (b, a, c) {
          c || (c = v.create());
          var f = b[0],
            l = b[1],
            h = b[2],
            d = b[3],
            t = f + f,
            r = l + l,
            n = h + h;
          b = f * t;
          var g = f * r;
          f *= n;
          var e = l * r;
          l *= n;
          h *= n;
          t *= d;
          r *= d;
          d *= n;
          c[0] = 1 - (e + h);
          c[1] = g + d;
          c[2] = f - r;
          c[3] = 0;
          c[4] = g - d;
          c[5] = 1 - (b + h);
          c[6] = l + t;
          c[7] = 0;
          c[8] = f + r;
          c[9] = l - t;
          c[10] = 1 - (b + e);
          c[11] = 0;
          c[12] = a[0];
          c[13] = a[1];
          c[14] = a[2];
          c[15] = 1;
          return c;
        },
        str: function (b) {
          return (
            "[" +
            b[0] +
            ", " +
            b[1] +
            ", " +
            b[2] +
            ", " +
            b[3] +
            ", " +
            b[4] +
            ", " +
            b[5] +
            ", " +
            b[6] +
            ", " +
            b[7] +
            ", " +
            b[8] +
            ", " +
            b[9] +
            ", " +
            b[10] +
            ", " +
            b[11] +
            ", " +
            b[12] +
            ", " +
            b[13] +
            ", " +
            b[14] +
            ", " +
            b[15] +
            "]"
          );
        },
      },
      n = {
        create: function (b) {
          var a = new d(4);
          b
            ? ((a[0] = b[0]), (a[1] = b[1]), (a[2] = b[2]), (a[3] = b[3]))
            : (a[0] = a[1] = a[2] = a[3] = 0);
          return a;
        },
        createFrom: function (b, a, c, f) {
          var l = new d(4);
          l[0] = b;
          l[1] = a;
          l[2] = c;
          l[3] = f;
          return l;
        },
        set: function (b, a) {
          a[0] = b[0];
          a[1] = b[1];
          a[2] = b[2];
          a[3] = b[3];
          return a;
        },
        equal: function (b, a) {
          return (
            b === a ||
            (1e-6 > Math.abs(b[0] - a[0]) &&
              1e-6 > Math.abs(b[1] - a[1]) &&
              1e-6 > Math.abs(b[2] - a[2]) &&
              1e-6 > Math.abs(b[3] - a[3]))
          );
        },
        identity: function (b) {
          b || (b = n.create());
          b[0] = 0;
          b[1] = 0;
          b[2] = 0;
          b[3] = 1;
          return b;
        },
      },
      u = n.identity();
    n.calculateW = function (b, a) {
      var c = b[0],
        f = b[1],
        l = b[2];
      if (!a || b === a)
        return (b[3] = -Math.sqrt(Math.abs(1 - c * c - f * f - l * l))), b;
      a[0] = c;
      a[1] = f;
      a[2] = l;
      a[3] = -Math.sqrt(Math.abs(1 - c * c - f * f - l * l));
      return a;
    };
    n.dot = function (b, a) {
      return b[0] * a[0] + b[1] * a[1] + b[2] * a[2] + b[3] * a[3];
    };
    n.inverse = function (b, a) {
      var c = b[0],
        f = b[1],
        l = b[2],
        h = b[3];
      c = (c = c * c + f * f + l * l + h * h) ? 1 / c : 0;
      if (!a || b === a)
        return (b[0] *= -c), (b[1] *= -c), (b[2] *= -c), (b[3] *= c), b;
      a[0] = -b[0] * c;
      a[1] = -b[1] * c;
      a[2] = -b[2] * c;
      a[3] = b[3] * c;
      return a;
    };
    n.conjugate = function (b, a) {
      if (!a || b === a) return (b[0] *= -1), (b[1] *= -1), (b[2] *= -1), b;
      a[0] = -b[0];
      a[1] = -b[1];
      a[2] = -b[2];
      a[3] = b[3];
      return a;
    };
    n.length = function (b) {
      var a = b[0],
        c = b[1],
        f = b[2];
      b = b[3];
      return Math.sqrt(a * a + c * c + f * f + b * b);
    };
    n.normalize = function (b, a) {
      a || (a = b);
      var c = b[0],
        f = b[1],
        l = b[2];
      b = b[3];
      var h = Math.sqrt(c * c + f * f + l * l + b * b);
      if (0 === h) return (a[0] = 0), (a[1] = 0), (a[2] = 0), (a[3] = 0), a;
      h = 1 / h;
      a[0] = c * h;
      a[1] = f * h;
      a[2] = l * h;
      a[3] = b * h;
      return a;
    };
    n.add = function (b, a, c) {
      if (!c || b === c)
        return (
          (b[0] += a[0]), (b[1] += a[1]), (b[2] += a[2]), (b[3] += a[3]), b
        );
      c[0] = b[0] + a[0];
      c[1] = b[1] + a[1];
      c[2] = b[2] + a[2];
      c[3] = b[3] + a[3];
      return c;
    };
    n.multiply = function (b, a, c) {
      c || (c = b);
      var f = b[0],
        l = b[1],
        h = b[2];
      b = b[3];
      var d = a[0],
        v = a[1],
        r = a[2];
      a = a[3];
      c[0] = f * a + b * d + l * r - h * v;
      c[1] = l * a + b * v + h * d - f * r;
      c[2] = h * a + b * r + f * v - l * d;
      c[3] = b * a - f * d - l * v - h * r;
      return c;
    };
    n.multiplyVec3 = function (b, a, c) {
      c || (c = a);
      var f = a[0],
        l = a[1],
        h = a[2];
      a = b[0];
      var d = b[1],
        v = b[2];
      b = b[3];
      var r = b * f + d * h - v * l,
        n = b * l + v * f - a * h,
        g = b * h + a * l - d * f;
      f = -a * f - d * l - v * h;
      c[0] = r * b + f * -a + n * -v - g * -d;
      c[1] = n * b + f * -d + g * -a - r * -v;
      c[2] = g * b + f * -v + r * -d - n * -a;
      return c;
    };
    n.scale = function (b, a, c) {
      if (!c || b === c)
        return (b[0] *= a), (b[1] *= a), (b[2] *= a), (b[3] *= a), b;
      c[0] = b[0] * a;
      c[1] = b[1] * a;
      c[2] = b[2] * a;
      c[3] = b[3] * a;
      return c;
    };
    n.toMat3 = function (b, a) {
      a || (a = r.create());
      var c = b[0],
        f = b[1],
        l = b[2],
        h = b[3],
        d = c + c,
        v = f + f,
        n = l + l;
      b = c * d;
      var g = c * v;
      c *= n;
      var t = f * v;
      f *= n;
      l *= n;
      d *= h;
      v *= h;
      h *= n;
      a[0] = 1 - (t + l);
      a[1] = g + h;
      a[2] = c - v;
      a[3] = g - h;
      a[4] = 1 - (b + l);
      a[5] = f + d;
      a[6] = c + v;
      a[7] = f - d;
      a[8] = 1 - (b + t);
      return a;
    };
    n.toMat4 = function (b, a) {
      a || (a = v.create());
      var c = b[0],
        f = b[1],
        l = b[2],
        h = b[3],
        d = c + c,
        r = f + f,
        n = l + l;
      b = c * d;
      var g = c * r;
      c *= n;
      var t = f * r;
      f *= n;
      l *= n;
      d *= h;
      r *= h;
      h *= n;
      a[0] = 1 - (t + l);
      a[1] = g + h;
      a[2] = c - r;
      a[3] = 0;
      a[4] = g - h;
      a[5] = 1 - (b + l);
      a[6] = f + d;
      a[7] = 0;
      a[8] = c + r;
      a[9] = f - d;
      a[10] = 1 - (b + t);
      a[11] = 0;
      a[12] = 0;
      a[13] = 0;
      a[14] = 0;
      a[15] = 1;
      return a;
    };
    n.slerp = function (b, a, c, f) {
      f || (f = b);
      var l = b[0] * a[0] + b[1] * a[1] + b[2] * a[2] + b[3] * a[3];
      if (1 <= Math.abs(l))
        return (
          f !== b &&
            ((f[0] = b[0]), (f[1] = b[1]), (f[2] = b[2]), (f[3] = b[3])),
          f
        );
      var h = Math.acos(l);
      var d = Math.sqrt(1 - l * l);
      if (0.001 > Math.abs(d))
        return (
          (f[0] = 0.5 * b[0] + 0.5 * a[0]),
          (f[1] = 0.5 * b[1] + 0.5 * a[1]),
          (f[2] = 0.5 * b[2] + 0.5 * a[2]),
          (f[3] = 0.5 * b[3] + 0.5 * a[3]),
          f
        );
      l = Math.sin((1 - c) * h) / d;
      c = Math.sin(c * h) / d;
      f[0] = b[0] * l + a[0] * c;
      f[1] = b[1] * l + a[1] * c;
      f[2] = b[2] * l + a[2] * c;
      f[3] = b[3] * l + a[3] * c;
      return f;
    };
    n.fromRotationMatrix = function (b, a) {
      a || (a = n.create());
      var c = b[0] + b[4] + b[8];
      if (0 < c) {
        var f = Math.sqrt(c + 1);
        a[3] = 0.5 * f;
        f = 0.5 / f;
        a[0] = (b[7] - b[5]) * f;
        a[1] = (b[2] - b[6]) * f;
        a[2] = (b[3] - b[1]) * f;
      } else {
        f = n.fromRotationMatrix.s_iNext = n.fromRotationMatrix.s_iNext || [
          1, 2, 0,
        ];
        c = 0;
        b[4] > b[0] && (c = 1);
        b[8] > b[3 * c + c] && (c = 2);
        var l = f[c],
          h = f[l];
        f = Math.sqrt(b[3 * c + c] - b[3 * l + l] - b[3 * h + h] + 1);
        a[c] = 0.5 * f;
        f = 0.5 / f;
        a[3] = (b[3 * h + l] - b[3 * l + h]) * f;
        a[l] = (b[3 * l + c] + b[3 * c + l]) * f;
        a[h] = (b[3 * h + c] + b[3 * c + h]) * f;
      }
      return a;
    };
    r.toQuat4 = n.fromRotationMatrix;
    (function () {
      var b = r.create();
      n.fromAxes = function (a, c, f, l) {
        b[0] = c[0];
        b[3] = c[1];
        b[6] = c[2];
        b[1] = f[0];
        b[4] = f[1];
        b[7] = f[2];
        b[2] = a[0];
        b[5] = a[1];
        b[8] = a[2];
        return n.fromRotationMatrix(b, l);
      };
    })();
    n.identity = function (b) {
      b || (b = n.create());
      b[0] = 0;
      b[1] = 0;
      b[2] = 0;
      b[3] = 1;
      return b;
    };
    n.fromAngleAxis = function (b, a, c) {
      c || (c = n.create());
      b *= 0.5;
      var f = Math.sin(b);
      c[3] = Math.cos(b);
      c[0] = f * a[0];
      c[1] = f * a[1];
      c[2] = f * a[2];
      return c;
    };
    n.toAngleAxis = function (b, a) {
      a || (a = b);
      var c = b[0] * b[0] + b[1] * b[1] + b[2] * b[2];
      0 < c
        ? ((a[3] = 2 * Math.acos(b[3])),
          (c = p.invsqrt(c)),
          (a[0] = b[0] * c),
          (a[1] = b[1] * c),
          (a[2] = b[2] * c))
        : ((a[3] = 0), (a[0] = 1), (a[1] = 0), (a[2] = 0));
      return a;
    };
    n.str = function (b) {
      return "[" + b[0] + ", " + b[1] + ", " + b[2] + ", " + b[3] + "]";
    };
    var w = {
        create: function (b) {
          var a = new d(2);
          b ? ((a[0] = b[0]), (a[1] = b[1])) : ((a[0] = 0), (a[1] = 0));
          return a;
        },
        createFrom: function (b, a) {
          var c = new d(2);
          c[0] = b;
          c[1] = a;
          return c;
        },
        add: function (b, a, c) {
          c || (c = a);
          c[0] = b[0] + a[0];
          c[1] = b[1] + a[1];
          return c;
        },
        subtract: function (b, a, c) {
          c || (c = a);
          c[0] = b[0] - a[0];
          c[1] = b[1] - a[1];
          return c;
        },
        multiply: function (b, a, c) {
          c || (c = a);
          c[0] = b[0] * a[0];
          c[1] = b[1] * a[1];
          return c;
        },
        divide: function (b, a, c) {
          c || (c = a);
          c[0] = b[0] / a[0];
          c[1] = b[1] / a[1];
          return c;
        },
        scale: function (b, a, c) {
          c || (c = b);
          c[0] = b[0] * a;
          c[1] = b[1] * a;
          return c;
        },
        dist: function (b, a) {
          var c = a[0] - b[0];
          b = a[1] - b[1];
          return Math.sqrt(c * c + b * b);
        },
        set: function (b, a) {
          a[0] = b[0];
          a[1] = b[1];
          return a;
        },
        equal: function (b, a) {
          return (
            b === a ||
            (1e-6 > Math.abs(b[0] - a[0]) && 1e-6 > Math.abs(b[1] - a[1]))
          );
        },
        negate: function (b, a) {
          a || (a = b);
          a[0] = -b[0];
          a[1] = -b[1];
          return a;
        },
        normalize: function (b, a) {
          a || (a = b);
          var c = b[0] * b[0] + b[1] * b[1];
          0 < c
            ? ((c = Math.sqrt(c)), (a[0] = b[0] / c), (a[1] = b[1] / c))
            : (a[0] = a[1] = 0);
          return a;
        },
        cross: function (b, a, c) {
          b = b[0] * a[1] - b[1] * a[0];
          if (!c) return b;
          c[0] = c[1] = 0;
          c[2] = b;
          return c;
        },
        length: function (b) {
          var a = b[0];
          b = b[1];
          return Math.sqrt(a * a + b * b);
        },
        squaredLength: function (b) {
          var a = b[0];
          b = b[1];
          return a * a + b * b;
        },
        dot: function (b, a) {
          return b[0] * a[0] + b[1] * a[1];
        },
        direction: function (b, a, c) {
          c || (c = b);
          var f = b[0] - a[0];
          b = b[1] - a[1];
          a = f * f + b * b;
          if (!a) return (c[0] = 0), (c[1] = 0), (c[2] = 0), c;
          a = 1 / Math.sqrt(a);
          c[0] = f * a;
          c[1] = b * a;
          return c;
        },
        lerp: function (b, a, c, f) {
          f || (f = b);
          f[0] = b[0] + c * (a[0] - b[0]);
          f[1] = b[1] + c * (a[1] - b[1]);
          return f;
        },
        str: function (b) {
          return "[" + b[0] + ", " + b[1] + "]";
        },
      },
      y = {
        create: function (b) {
          var a = new d(4);
          b
            ? ((a[0] = b[0]), (a[1] = b[1]), (a[2] = b[2]), (a[3] = b[3]))
            : (a[0] = a[1] = a[2] = a[3] = 0);
          return a;
        },
        createFrom: function (b, a, c, f) {
          var l = new d(4);
          l[0] = b;
          l[1] = a;
          l[2] = c;
          l[3] = f;
          return l;
        },
        set: function (b, a) {
          a[0] = b[0];
          a[1] = b[1];
          a[2] = b[2];
          a[3] = b[3];
          return a;
        },
        equal: function (b, a) {
          return (
            b === a ||
            (1e-6 > Math.abs(b[0] - a[0]) &&
              1e-6 > Math.abs(b[1] - a[1]) &&
              1e-6 > Math.abs(b[2] - a[2]) &&
              1e-6 > Math.abs(b[3] - a[3]))
          );
        },
        identity: function (b) {
          b || (b = y.create());
          b[0] = 1;
          b[1] = 0;
          b[2] = 0;
          b[3] = 1;
          return b;
        },
        transpose: function (b, a) {
          if (!a || b === a) return (a = b[1]), (b[1] = b[2]), (b[2] = a), b;
          a[0] = b[0];
          a[1] = b[2];
          a[2] = b[1];
          a[3] = b[3];
          return a;
        },
        determinant: function (b) {
          return b[0] * b[3] - b[2] * b[1];
        },
        inverse: function (b, a) {
          a || (a = b);
          var c = b[0],
            f = b[1],
            l = b[2];
          b = b[3];
          var h = c * b - l * f;
          if (!h) return null;
          h = 1 / h;
          a[0] = b * h;
          a[1] = -f * h;
          a[2] = -l * h;
          a[3] = c * h;
          return a;
        },
        multiply: function (b, a, c) {
          c || (c = b);
          var f = b[0],
            l = b[1],
            h = b[2];
          b = b[3];
          c[0] = f * a[0] + l * a[2];
          c[1] = f * a[1] + l * a[3];
          c[2] = h * a[0] + b * a[2];
          c[3] = h * a[1] + b * a[3];
          return c;
        },
        rotate: function (b, a, c) {
          c || (c = b);
          var f = b[0],
            l = b[1],
            h = b[2];
          b = b[3];
          var d = Math.sin(a);
          a = Math.cos(a);
          c[0] = f * a + l * d;
          c[1] = f * -d + l * a;
          c[2] = h * a + b * d;
          c[3] = h * -d + b * a;
          return c;
        },
        multiplyVec2: function (b, a, c) {
          c || (c = a);
          var f = a[0];
          a = a[1];
          c[0] = f * b[0] + a * b[1];
          c[1] = f * b[2] + a * b[3];
          return c;
        },
        scale: function (b, a, c) {
          c || (c = b);
          var f = b[1],
            l = b[2],
            h = b[3],
            d = a[0];
          a = a[1];
          c[0] = b[0] * d;
          c[1] = f * a;
          c[2] = l * d;
          c[3] = h * a;
          return c;
        },
        str: function (b) {
          return "[" + b[0] + ", " + b[1] + ", " + b[2] + ", " + b[3] + "]";
        },
      },
      x = {
        create: function (b) {
          var a = new d(4);
          b
            ? ((a[0] = b[0]), (a[1] = b[1]), (a[2] = b[2]), (a[3] = b[3]))
            : ((a[0] = 0), (a[1] = 0), (a[2] = 0), (a[3] = 0));
          return a;
        },
        createFrom: function (b, a, c, f) {
          var l = new d(4);
          l[0] = b;
          l[1] = a;
          l[2] = c;
          l[3] = f;
          return l;
        },
        add: function (b, a, c) {
          c || (c = a);
          c[0] = b[0] + a[0];
          c[1] = b[1] + a[1];
          c[2] = b[2] + a[2];
          c[3] = b[3] + a[3];
          return c;
        },
        subtract: function (b, a, c) {
          c || (c = a);
          c[0] = b[0] - a[0];
          c[1] = b[1] - a[1];
          c[2] = b[2] - a[2];
          c[3] = b[3] - a[3];
          return c;
        },
        multiply: function (b, a, c) {
          c || (c = a);
          c[0] = b[0] * a[0];
          c[1] = b[1] * a[1];
          c[2] = b[2] * a[2];
          c[3] = b[3] * a[3];
          return c;
        },
        divide: function (b, a, c) {
          c || (c = a);
          c[0] = b[0] / a[0];
          c[1] = b[1] / a[1];
          c[2] = b[2] / a[2];
          c[3] = b[3] / a[3];
          return c;
        },
        scale: function (b, a, c) {
          c || (c = b);
          c[0] = b[0] * a;
          c[1] = b[1] * a;
          c[2] = b[2] * a;
          c[3] = b[3] * a;
          return c;
        },
        set: function (b, a) {
          a[0] = b[0];
          a[1] = b[1];
          a[2] = b[2];
          a[3] = b[3];
          return a;
        },
        equal: function (b, a) {
          return (
            b === a ||
            (1e-6 > Math.abs(b[0] - a[0]) &&
              1e-6 > Math.abs(b[1] - a[1]) &&
              1e-6 > Math.abs(b[2] - a[2]) &&
              1e-6 > Math.abs(b[3] - a[3]))
          );
        },
        negate: function (b, a) {
          a || (a = b);
          a[0] = -b[0];
          a[1] = -b[1];
          a[2] = -b[2];
          a[3] = -b[3];
          return a;
        },
        length: function (b) {
          var a = b[0],
            c = b[1],
            f = b[2];
          b = b[3];
          return Math.sqrt(a * a + c * c + f * f + b * b);
        },
        squaredLength: function (b) {
          var a = b[0],
            c = b[1],
            f = b[2];
          b = b[3];
          return a * a + c * c + f * f + b * b;
        },
        lerp: function (b, a, c, f) {
          f || (f = b);
          f[0] = b[0] + c * (a[0] - b[0]);
          f[1] = b[1] + c * (a[1] - b[1]);
          f[2] = b[2] + c * (a[2] - b[2]);
          f[3] = b[3] + c * (a[3] - b[3]);
          return f;
        },
        str: function (b) {
          return "[" + b[0] + ", " + b[1] + ", " + b[2] + ", " + b[3] + "]";
        },
      };
    e &&
      ((e.glMatrixArrayType = d),
      (e.MatrixArray = d),
      (e.setMatrixArrayType = m),
      (e.determineMatrixArrayType = k),
      (e.glMath = p),
      (e.vec2 = w),
      (e.vec3 = g),
      (e.vec4 = x),
      (e.mat2 = y),
      (e.mat3 = r),
      (e.mat4 = v),
      (e.quat4 = n));
    return {
      glMatrixArrayType: d,
      MatrixArray: d,
      setMatrixArrayType: m,
      determineMatrixArrayType: k,
      glMath: p,
      vec2: w,
      vec3: g,
      vec4: x,
      mat2: y,
      mat3: r,
      mat4: v,
      quat4: n,
    };
  });
  (function (e) {
    function m(b) {
      return 0 == b ? 0 : 0 < b ? 1 : -1;
    }
    var k = {
        subtract: function (b, a) {
          return { x: b.x - a.x, y: b.y - a.y };
        },
        dotProduct: function (b, a) {
          return b.x * a.x + b.y * a.y;
        },
        square: function (b) {
          return Math.sqrt(b.x * b.x + b.y * b.y);
        },
        scale: function (b, a) {
          return { x: b.x * a, y: b.y * a };
        },
      },
      p = Math.pow(2, -65),
      d = function (b, c) {
        for (
          var f = [],
            l = c.length - 1,
            h = 2 * l - 1,
            d = [],
            r = [],
            v = [],
            n = [],
            e = [
              [1, 0.6, 0.3, 0.1],
              [0.4, 0.6, 0.6, 0.4],
              [0.1, 0.3, 0.6, 1],
            ],
            p = 0;
          p <= l;
          p++
        )
          d[p] = k.subtract(c[p], b);
        for (p = 0; p <= l - 1; p++)
          (r[p] = k.subtract(c[p + 1], c[p])), (r[p] = k.scale(r[p], 3));
        for (p = 0; p <= l - 1; p++)
          for (var m = 0; m <= l; m++)
            v[p] || (v[p] = []), (v[p][m] = k.dotProduct(r[p], d[m]));
        for (p = 0; p <= h; p++)
          n[p] || (n[p] = []), (n[p].y = 0), (n[p].x = parseFloat(p) / h);
        h = l - 1;
        for (d = 0; d <= l + h; d++)
          for (r = Math.min(d, l), p = Math.max(0, d - h); p <= r; p++)
            (m = d - p), (n[p + m].y += v[m][p] * e[m][p]);
        l = c.length - 1;
        n = g(n, 2 * l - 1, f, 0);
        h = k.subtract(b, c[0]);
        v = k.square(h);
        for (p = e = 0; p < n; p++)
          (h = k.subtract(b, a(c, l, f[p], null, null))),
            (h = k.square(h)),
            h < v && ((v = h), (e = f[p]));
        h = k.subtract(b, c[l]);
        h = k.square(h);
        h < v && ((v = h), (e = 1));
        return { location: e, distance: v };
      },
      g = function (b, c, f, l) {
        var h = [],
          d = [],
          r = [],
          v = [],
          n = 0;
        var e = m(b[0].y);
        for (var u = 1; u <= c; u++) {
          var w = m(b[u].y);
          w != e && n++;
          e = w;
        }
        switch (n) {
          case 0:
            return 0;
          case 1:
            if (64 <= l) return (f[0] = (b[0].x + b[c].x) / 2), 1;
            var k, G;
            n = b[0].y - b[c].y;
            w = b[c].x - b[0].x;
            e = b[0].x * b[c].y - b[c].x * b[0].y;
            u = k = 0;
            for (G = 1; G < c; G++) {
              var F = n * b[G].x + w * b[G].y + e;
              F > k ? (k = F) : F < u && (u = F);
            }
            G = w;
            k = (1 / (0 * G - 1 * n)) * (e - k - 0 * G);
            G = w;
            n = (1 / (0 * G - 1 * n)) * (e - u - 0 * G);
            if (Math.max(k, n) - Math.min(k, n) < p)
              return (
                (r = b[c].x - b[0].x),
                (v = b[c].y - b[0].y),
                (f[0] =
                  (1 / (0 * r - 1 * v)) *
                  (r * (b[0].y - 0) - v * (b[0].x - 0))),
                1
              );
        }
        a(b, c, 0.5, h, d);
        b = g(h, c, r, l + 1);
        c = g(d, c, v, l + 1);
        for (l = 0; l < b; l++) f[l] = r[l];
        for (l = 0; l < c; l++) f[l + b] = v[l];
        return b + c;
      },
      a = function (b, a, c, f, l) {
        for (var h = [[]], d = 0; d <= a; d++) h[0][d] = b[d];
        for (b = 1; b <= a; b++)
          for (d = 0; d <= a - b; d++)
            h[b] || (h[b] = []),
              h[b][d] || (h[b][d] = {}),
              (h[b][d].x = (1 - c) * h[b - 1][d].x + c * h[b - 1][d + 1].x),
              (h[b][d].y = (1 - c) * h[b - 1][d].y + c * h[b - 1][d + 1].y);
        if (null != f) for (d = 0; d <= a; d++) f[d] = h[d][0];
        if (null != l) for (d = 0; d <= a; d++) l[d] = h[a - d][d];
        return h[a][0];
      },
      f = {},
      c = function (b) {
        var a = f[b];
        if (!a) {
          a = [];
          var c = function (b) {
              return function (a) {
                return b;
              };
            },
            l = function () {
              return function (b) {
                return b;
              };
            },
            h = function () {
              return function (b) {
                return 1 - b;
              };
            },
            d = function (b) {
              return function (a) {
                for (var c = 1, f = 0; f < b.length; f++) c *= b[f](a);
                return c;
              };
            };
          a.push(
            new (function () {
              return function (a) {
                return Math.pow(a, b);
              };
            })()
          );
          for (var r = 1; r < b; r++) {
            for (var v = [new c(b)], g = 0; g < b - r; g++) v.push(new l());
            for (g = 0; g < r; g++) v.push(new h());
            a.push(new d(v));
          }
          a.push(
            new (function () {
              return function (a) {
                return Math.pow(1 - a, b);
              };
            })()
          );
          f[b] = a;
        }
        return a;
      },
      b = function (b, a) {
        for (var f = c(b.length - 1), l = 0, h = 0, d = 0; d < b.length; d++)
          (l += b[d].x * f[d](a)), (h += b[d].y * f[d](a));
        return { x: l, y: h };
      },
      l = function (b, a) {
        return Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));
      },
      h = function (a, c, f) {
        for (
          var h = b(a, c), d = 0, r = 0 < f ? 1 : -1, g = null;
          d < Math.abs(f);

        )
          (c += 0.005 * r), (g = b(a, c)), (d += l(g, h)), (h = g);
        return { point: g, location: c };
      },
      r = function (a, c) {
        var f = b(a, c);
        c = b(a.slice(0, a.length - 1), c);
        a = c.y - f.y;
        f = c.x - f.x;
        return 0 == a ? Infinity : Math.atan(a / f);
      };
    ChemDoodle.lib.jsBezier = {
      distanceFromCurve: d,
      gradientAtPoint: r,
      gradientAtPointAlongCurveFrom: function (b, a, c) {
        a = h(b, a, c);
        1 < a.location && (a.location = 1);
        0 > a.location && (a.location = 0);
        return r(b, a.location);
      },
      nearestPointOnCurve: function (b, c) {
        b = d(b, c);
        return {
          point: a(c, c.length - 1, b.location, null, null),
          location: b.location,
        };
      },
      pointOnCurve: b,
      pointAlongCurveFrom: function (b, a, c) {
        return h(b, a, c).point;
      },
      perpendicularToCurveAt: function (b, a, c, f) {
        a = h(b, a, null == f ? 0 : f);
        b = r(b, a.location);
        f = Math.atan(-1 / b);
        b = (c / 2) * Math.sin(f);
        c = (c / 2) * Math.cos(f);
        return [
          { x: a.point.x + c, y: a.point.y + b },
          { x: a.point.x - c, y: a.point.y - b },
        ];
      },
      locationAlongCurveFrom: function (b, a, c) {
        return h(b, a, c).location;
      },
      getLength: function (a) {
        for (var c = b(a, 0), f = 0, h = 0, d; 1 > h; )
          (h += 0.005), (d = b(a, h)), (f += l(d, c)), (c = d);
        return f;
      },
    };
  })(ChemDoodle.lib);
  ChemDoodle.lib.MarchingCubes = (function () {
    var e = new Uint32Array([
        0, 265, 515, 778, 1030, 1295, 1541, 1804, 2060, 2309, 2575, 2822, 3082,
        3331, 3593, 3840, 400, 153, 915, 666, 1430, 1183, 1941, 1692, 2460,
        2197, 2975, 2710, 3482, 3219, 3993, 3728, 560, 825, 51, 314, 1590, 1855,
        1077, 1340, 2620, 2869, 2111, 2358, 3642, 3891, 3129, 3376, 928, 681,
        419, 170, 1958, 1711, 1445, 1196, 2988, 2725, 2479, 2214, 4010, 3747,
        3497, 3232, 1120, 1385, 1635, 1898, 102, 367, 613, 876, 3180, 3429,
        3695, 3942, 2154, 2403, 2665, 2912, 1520, 1273, 2035, 1786, 502, 255,
        1013, 764, 3580, 3317, 4095, 3830, 2554, 2291, 3065, 2800, 1616, 1881,
        1107, 1370, 598, 863, 85, 348, 3676, 3925, 3167, 3414, 2650, 2899, 2137,
        2384, 1984, 1737, 1475, 1226, 966, 719, 453, 204, 4044, 3781, 3535,
        3270, 3018, 2755, 2505, 2240, 2240, 2505, 2755, 3018, 3270, 3535, 3781,
        4044, 204, 453, 719, 966, 1226, 1475, 1737, 1984, 2384, 2137, 2899,
        2650, 3414, 3167, 3925, 3676, 348, 85, 863, 598, 1370, 1107, 1881, 1616,
        2800, 3065, 2291, 2554, 3830, 4095, 3317, 3580, 764, 1013, 255, 502,
        1786, 2035, 1273, 1520, 2912, 2665, 2403, 2154, 3942, 3695, 3429, 3180,
        876, 613, 367, 102, 1898, 1635, 1385, 1120, 3232, 3497, 3747, 4010,
        2214, 2479, 2725, 2988, 1196, 1445, 1711, 1958, 170, 419, 681, 928,
        3376, 3129, 3891, 3642, 2358, 2111, 2869, 2620, 1340, 1077, 1855, 1590,
        314, 51, 825, 560, 3728, 3993, 3219, 3482, 2710, 2975, 2197, 2460, 1692,
        1941, 1183, 1430, 666, 915, 153, 400, 3840, 3593, 3331, 3082, 2822,
        2575, 2309, 2060, 1804, 1541, 1295, 1030, 778, 515, 265, 0,
      ]),
      m = [
        [],
        [0, 8, 3],
        [0, 1, 9],
        [1, 8, 3, 9, 8, 1],
        [1, 2, 10],
        [0, 8, 3, 1, 2, 10],
        [9, 2, 10, 0, 2, 9],
        [2, 8, 3, 2, 10, 8, 10, 9, 8],
        [3, 11, 2],
        [0, 11, 2, 8, 11, 0],
        [1, 9, 0, 2, 3, 11],
        [1, 11, 2, 1, 9, 11, 9, 8, 11],
        [3, 10, 1, 11, 10, 3],
        [0, 10, 1, 0, 8, 10, 8, 11, 10],
        [3, 9, 0, 3, 11, 9, 11, 10, 9],
        [9, 8, 10, 10, 8, 11],
        [4, 7, 8],
        [4, 3, 0, 7, 3, 4],
        [0, 1, 9, 8, 4, 7],
        [4, 1, 9, 4, 7, 1, 7, 3, 1],
        [1, 2, 10, 8, 4, 7],
        [3, 4, 7, 3, 0, 4, 1, 2, 10],
        [9, 2, 10, 9, 0, 2, 8, 4, 7],
        [2, 10, 9, 2, 9, 7, 2, 7, 3, 7, 9, 4],
        [8, 4, 7, 3, 11, 2],
        [11, 4, 7, 11, 2, 4, 2, 0, 4],
        [9, 0, 1, 8, 4, 7, 2, 3, 11],
        [4, 7, 11, 9, 4, 11, 9, 11, 2, 9, 2, 1],
        [3, 10, 1, 3, 11, 10, 7, 8, 4],
        [1, 11, 10, 1, 4, 11, 1, 0, 4, 7, 11, 4],
        [4, 7, 8, 9, 0, 11, 9, 11, 10, 11, 0, 3],
        [4, 7, 11, 4, 11, 9, 9, 11, 10],
        [9, 5, 4],
        [9, 5, 4, 0, 8, 3],
        [0, 5, 4, 1, 5, 0],
        [8, 5, 4, 8, 3, 5, 3, 1, 5],
        [1, 2, 10, 9, 5, 4],
        [3, 0, 8, 1, 2, 10, 4, 9, 5],
        [5, 2, 10, 5, 4, 2, 4, 0, 2],
        [2, 10, 5, 3, 2, 5, 3, 5, 4, 3, 4, 8],
        [9, 5, 4, 2, 3, 11],
        [0, 11, 2, 0, 8, 11, 4, 9, 5],
        [0, 5, 4, 0, 1, 5, 2, 3, 11],
        [2, 1, 5, 2, 5, 8, 2, 8, 11, 4, 8, 5],
        [10, 3, 11, 10, 1, 3, 9, 5, 4],
        [4, 9, 5, 0, 8, 1, 8, 10, 1, 8, 11, 10],
        [5, 4, 0, 5, 0, 11, 5, 11, 10, 11, 0, 3],
        [5, 4, 8, 5, 8, 10, 10, 8, 11],
        [9, 7, 8, 5, 7, 9],
        [9, 3, 0, 9, 5, 3, 5, 7, 3],
        [0, 7, 8, 0, 1, 7, 1, 5, 7],
        [1, 5, 3, 3, 5, 7],
        [9, 7, 8, 9, 5, 7, 10, 1, 2],
        [10, 1, 2, 9, 5, 0, 5, 3, 0, 5, 7, 3],
        [8, 0, 2, 8, 2, 5, 8, 5, 7, 10, 5, 2],
        [2, 10, 5, 2, 5, 3, 3, 5, 7],
        [7, 9, 5, 7, 8, 9, 3, 11, 2],
        [9, 5, 7, 9, 7, 2, 9, 2, 0, 2, 7, 11],
        [2, 3, 11, 0, 1, 8, 1, 7, 8, 1, 5, 7],
        [11, 2, 1, 11, 1, 7, 7, 1, 5],
        [9, 5, 8, 8, 5, 7, 10, 1, 3, 10, 3, 11],
        [5, 7, 0, 5, 0, 9, 7, 11, 0, 1, 0, 10, 11, 10, 0],
        [11, 10, 0, 11, 0, 3, 10, 5, 0, 8, 0, 7, 5, 7, 0],
        [11, 10, 5, 7, 11, 5],
        [10, 6, 5],
        [0, 8, 3, 5, 10, 6],
        [9, 0, 1, 5, 10, 6],
        [1, 8, 3, 1, 9, 8, 5, 10, 6],
        [1, 6, 5, 2, 6, 1],
        [1, 6, 5, 1, 2, 6, 3, 0, 8],
        [9, 6, 5, 9, 0, 6, 0, 2, 6],
        [5, 9, 8, 5, 8, 2, 5, 2, 6, 3, 2, 8],
        [2, 3, 11, 10, 6, 5],
        [11, 0, 8, 11, 2, 0, 10, 6, 5],
        [0, 1, 9, 2, 3, 11, 5, 10, 6],
        [5, 10, 6, 1, 9, 2, 9, 11, 2, 9, 8, 11],
        [6, 3, 11, 6, 5, 3, 5, 1, 3],
        [0, 8, 11, 0, 11, 5, 0, 5, 1, 5, 11, 6],
        [3, 11, 6, 0, 3, 6, 0, 6, 5, 0, 5, 9],
        [6, 5, 9, 6, 9, 11, 11, 9, 8],
        [5, 10, 6, 4, 7, 8],
        [4, 3, 0, 4, 7, 3, 6, 5, 10],
        [1, 9, 0, 5, 10, 6, 8, 4, 7],
        [10, 6, 5, 1, 9, 7, 1, 7, 3, 7, 9, 4],
        [6, 1, 2, 6, 5, 1, 4, 7, 8],
        [1, 2, 5, 5, 2, 6, 3, 0, 4, 3, 4, 7],
        [8, 4, 7, 9, 0, 5, 0, 6, 5, 0, 2, 6],
        [7, 3, 9, 7, 9, 4, 3, 2, 9, 5, 9, 6, 2, 6, 9],
        [3, 11, 2, 7, 8, 4, 10, 6, 5],
        [5, 10, 6, 4, 7, 2, 4, 2, 0, 2, 7, 11],
        [0, 1, 9, 4, 7, 8, 2, 3, 11, 5, 10, 6],
        [9, 2, 1, 9, 11, 2, 9, 4, 11, 7, 11, 4, 5, 10, 6],
        [8, 4, 7, 3, 11, 5, 3, 5, 1, 5, 11, 6],
        [5, 1, 11, 5, 11, 6, 1, 0, 11, 7, 11, 4, 0, 4, 11],
        [0, 5, 9, 0, 6, 5, 0, 3, 6, 11, 6, 3, 8, 4, 7],
        [6, 5, 9, 6, 9, 11, 4, 7, 9, 7, 11, 9],
        [10, 4, 9, 6, 4, 10],
        [4, 10, 6, 4, 9, 10, 0, 8, 3],
        [10, 0, 1, 10, 6, 0, 6, 4, 0],
        [8, 3, 1, 8, 1, 6, 8, 6, 4, 6, 1, 10],
        [1, 4, 9, 1, 2, 4, 2, 6, 4],
        [3, 0, 8, 1, 2, 9, 2, 4, 9, 2, 6, 4],
        [0, 2, 4, 4, 2, 6],
        [8, 3, 2, 8, 2, 4, 4, 2, 6],
        [10, 4, 9, 10, 6, 4, 11, 2, 3],
        [0, 8, 2, 2, 8, 11, 4, 9, 10, 4, 10, 6],
        [3, 11, 2, 0, 1, 6, 0, 6, 4, 6, 1, 10],
        [6, 4, 1, 6, 1, 10, 4, 8, 1, 2, 1, 11, 8, 11, 1],
        [9, 6, 4, 9, 3, 6, 9, 1, 3, 11, 6, 3],
        [8, 11, 1, 8, 1, 0, 11, 6, 1, 9, 1, 4, 6, 4, 1],
        [3, 11, 6, 3, 6, 0, 0, 6, 4],
        [6, 4, 8, 11, 6, 8],
        [7, 10, 6, 7, 8, 10, 8, 9, 10],
        [0, 7, 3, 0, 10, 7, 0, 9, 10, 6, 7, 10],
        [10, 6, 7, 1, 10, 7, 1, 7, 8, 1, 8, 0],
        [10, 6, 7, 10, 7, 1, 1, 7, 3],
        [1, 2, 6, 1, 6, 8, 1, 8, 9, 8, 6, 7],
        [2, 6, 9, 2, 9, 1, 6, 7, 9, 0, 9, 3, 7, 3, 9],
        [7, 8, 0, 7, 0, 6, 6, 0, 2],
        [7, 3, 2, 6, 7, 2],
        [2, 3, 11, 10, 6, 8, 10, 8, 9, 8, 6, 7],
        [2, 0, 7, 2, 7, 11, 0, 9, 7, 6, 7, 10, 9, 10, 7],
        [1, 8, 0, 1, 7, 8, 1, 10, 7, 6, 7, 10, 2, 3, 11],
        [11, 2, 1, 11, 1, 7, 10, 6, 1, 6, 7, 1],
        [8, 9, 6, 8, 6, 7, 9, 1, 6, 11, 6, 3, 1, 3, 6],
        [0, 9, 1, 11, 6, 7],
        [7, 8, 0, 7, 0, 6, 3, 11, 0, 11, 6, 0],
        [7, 11, 6],
        [7, 6, 11],
        [3, 0, 8, 11, 7, 6],
        [0, 1, 9, 11, 7, 6],
        [8, 1, 9, 8, 3, 1, 11, 7, 6],
        [10, 1, 2, 6, 11, 7],
        [1, 2, 10, 3, 0, 8, 6, 11, 7],
        [2, 9, 0, 2, 10, 9, 6, 11, 7],
        [6, 11, 7, 2, 10, 3, 10, 8, 3, 10, 9, 8],
        [7, 2, 3, 6, 2, 7],
        [7, 0, 8, 7, 6, 0, 6, 2, 0],
        [2, 7, 6, 2, 3, 7, 0, 1, 9],
        [1, 6, 2, 1, 8, 6, 1, 9, 8, 8, 7, 6],
        [10, 7, 6, 10, 1, 7, 1, 3, 7],
        [10, 7, 6, 1, 7, 10, 1, 8, 7, 1, 0, 8],
        [0, 3, 7, 0, 7, 10, 0, 10, 9, 6, 10, 7],
        [7, 6, 10, 7, 10, 8, 8, 10, 9],
        [6, 8, 4, 11, 8, 6],
        [3, 6, 11, 3, 0, 6, 0, 4, 6],
        [8, 6, 11, 8, 4, 6, 9, 0, 1],
        [9, 4, 6, 9, 6, 3, 9, 3, 1, 11, 3, 6],
        [6, 8, 4, 6, 11, 8, 2, 10, 1],
        [1, 2, 10, 3, 0, 11, 0, 6, 11, 0, 4, 6],
        [4, 11, 8, 4, 6, 11, 0, 2, 9, 2, 10, 9],
        [10, 9, 3, 10, 3, 2, 9, 4, 3, 11, 3, 6, 4, 6, 3],
        [8, 2, 3, 8, 4, 2, 4, 6, 2],
        [0, 4, 2, 4, 6, 2],
        [1, 9, 0, 2, 3, 4, 2, 4, 6, 4, 3, 8],
        [1, 9, 4, 1, 4, 2, 2, 4, 6],
        [8, 1, 3, 8, 6, 1, 8, 4, 6, 6, 10, 1],
        [10, 1, 0, 10, 0, 6, 6, 0, 4],
        [4, 6, 3, 4, 3, 8, 6, 10, 3, 0, 3, 9, 10, 9, 3],
        [10, 9, 4, 6, 10, 4],
        [4, 9, 5, 7, 6, 11],
        [0, 8, 3, 4, 9, 5, 11, 7, 6],
        [5, 0, 1, 5, 4, 0, 7, 6, 11],
        [11, 7, 6, 8, 3, 4, 3, 5, 4, 3, 1, 5],
        [9, 5, 4, 10, 1, 2, 7, 6, 11],
        [6, 11, 7, 1, 2, 10, 0, 8, 3, 4, 9, 5],
        [7, 6, 11, 5, 4, 10, 4, 2, 10, 4, 0, 2],
        [3, 4, 8, 3, 5, 4, 3, 2, 5, 10, 5, 2, 11, 7, 6],
        [7, 2, 3, 7, 6, 2, 5, 4, 9],
        [9, 5, 4, 0, 8, 6, 0, 6, 2, 6, 8, 7],
        [3, 6, 2, 3, 7, 6, 1, 5, 0, 5, 4, 0],
        [6, 2, 8, 6, 8, 7, 2, 1, 8, 4, 8, 5, 1, 5, 8],
        [9, 5, 4, 10, 1, 6, 1, 7, 6, 1, 3, 7],
        [1, 6, 10, 1, 7, 6, 1, 0, 7, 8, 7, 0, 9, 5, 4],
        [4, 0, 10, 4, 10, 5, 0, 3, 10, 6, 10, 7, 3, 7, 10],
        [7, 6, 10, 7, 10, 8, 5, 4, 10, 4, 8, 10],
        [6, 9, 5, 6, 11, 9, 11, 8, 9],
        [3, 6, 11, 0, 6, 3, 0, 5, 6, 0, 9, 5],
        [0, 11, 8, 0, 5, 11, 0, 1, 5, 5, 6, 11],
        [6, 11, 3, 6, 3, 5, 5, 3, 1],
        [1, 2, 10, 9, 5, 11, 9, 11, 8, 11, 5, 6],
        [0, 11, 3, 0, 6, 11, 0, 9, 6, 5, 6, 9, 1, 2, 10],
        [11, 8, 5, 11, 5, 6, 8, 0, 5, 10, 5, 2, 0, 2, 5],
        [6, 11, 3, 6, 3, 5, 2, 10, 3, 10, 5, 3],
        [5, 8, 9, 5, 2, 8, 5, 6, 2, 3, 8, 2],
        [9, 5, 6, 9, 6, 0, 0, 6, 2],
        [1, 5, 8, 1, 8, 0, 5, 6, 8, 3, 8, 2, 6, 2, 8],
        [1, 5, 6, 2, 1, 6],
        [1, 3, 6, 1, 6, 10, 3, 8, 6, 5, 6, 9, 8, 9, 6],
        [10, 1, 0, 10, 0, 6, 9, 5, 0, 5, 6, 0],
        [0, 3, 8, 5, 6, 10],
        [10, 5, 6],
        [11, 5, 10, 7, 5, 11],
        [11, 5, 10, 11, 7, 5, 8, 3, 0],
        [5, 11, 7, 5, 10, 11, 1, 9, 0],
        [10, 7, 5, 10, 11, 7, 9, 8, 1, 8, 3, 1],
        [11, 1, 2, 11, 7, 1, 7, 5, 1],
        [0, 8, 3, 1, 2, 7, 1, 7, 5, 7, 2, 11],
        [9, 7, 5, 9, 2, 7, 9, 0, 2, 2, 11, 7],
        [7, 5, 2, 7, 2, 11, 5, 9, 2, 3, 2, 8, 9, 8, 2],
        [2, 5, 10, 2, 3, 5, 3, 7, 5],
        [8, 2, 0, 8, 5, 2, 8, 7, 5, 10, 2, 5],
        [9, 0, 1, 5, 10, 3, 5, 3, 7, 3, 10, 2],
        [9, 8, 2, 9, 2, 1, 8, 7, 2, 10, 2, 5, 7, 5, 2],
        [1, 3, 5, 3, 7, 5],
        [0, 8, 7, 0, 7, 1, 1, 7, 5],
        [9, 0, 3, 9, 3, 5, 5, 3, 7],
        [9, 8, 7, 5, 9, 7],
        [5, 8, 4, 5, 10, 8, 10, 11, 8],
        [5, 0, 4, 5, 11, 0, 5, 10, 11, 11, 3, 0],
        [0, 1, 9, 8, 4, 10, 8, 10, 11, 10, 4, 5],
        [10, 11, 4, 10, 4, 5, 11, 3, 4, 9, 4, 1, 3, 1, 4],
        [2, 5, 1, 2, 8, 5, 2, 11, 8, 4, 5, 8],
        [0, 4, 11, 0, 11, 3, 4, 5, 11, 2, 11, 1, 5, 1, 11],
        [0, 2, 5, 0, 5, 9, 2, 11, 5, 4, 5, 8, 11, 8, 5],
        [9, 4, 5, 2, 11, 3],
        [2, 5, 10, 3, 5, 2, 3, 4, 5, 3, 8, 4],
        [5, 10, 2, 5, 2, 4, 4, 2, 0],
        [3, 10, 2, 3, 5, 10, 3, 8, 5, 4, 5, 8, 0, 1, 9],
        [5, 10, 2, 5, 2, 4, 1, 9, 2, 9, 4, 2],
        [8, 4, 5, 8, 5, 3, 3, 5, 1],
        [0, 4, 5, 1, 0, 5],
        [8, 4, 5, 8, 5, 3, 9, 0, 5, 0, 3, 5],
        [9, 4, 5],
        [4, 11, 7, 4, 9, 11, 9, 10, 11],
        [0, 8, 3, 4, 9, 7, 9, 11, 7, 9, 10, 11],
        [1, 10, 11, 1, 11, 4, 1, 4, 0, 7, 4, 11],
        [3, 1, 4, 3, 4, 8, 1, 10, 4, 7, 4, 11, 10, 11, 4],
        [4, 11, 7, 9, 11, 4, 9, 2, 11, 9, 1, 2],
        [9, 7, 4, 9, 11, 7, 9, 1, 11, 2, 11, 1, 0, 8, 3],
        [11, 7, 4, 11, 4, 2, 2, 4, 0],
        [11, 7, 4, 11, 4, 2, 8, 3, 4, 3, 2, 4],
        [2, 9, 10, 2, 7, 9, 2, 3, 7, 7, 4, 9],
        [9, 10, 7, 9, 7, 4, 10, 2, 7, 8, 7, 0, 2, 0, 7],
        [3, 7, 10, 3, 10, 2, 7, 4, 10, 1, 10, 0, 4, 0, 10],
        [1, 10, 2, 8, 7, 4],
        [4, 9, 1, 4, 1, 7, 7, 1, 3],
        [4, 9, 1, 4, 1, 7, 0, 8, 1, 8, 7, 1],
        [4, 0, 3, 7, 4, 3],
        [4, 8, 7],
        [9, 10, 8, 10, 11, 8],
        [3, 0, 9, 3, 9, 11, 11, 9, 10],
        [0, 1, 10, 0, 10, 8, 8, 10, 11],
        [3, 1, 10, 11, 3, 10],
        [1, 2, 11, 1, 11, 9, 9, 11, 8],
        [3, 0, 9, 3, 9, 11, 1, 2, 9, 2, 11, 9],
        [0, 2, 11, 8, 0, 11],
        [3, 2, 11],
        [2, 3, 8, 2, 8, 10, 10, 8, 9],
        [9, 10, 2, 0, 9, 2],
        [2, 3, 8, 2, 8, 10, 0, 1, 8, 1, 10, 8],
        [1, 10, 2],
        [1, 3, 8, 9, 1, 8],
        [0, 9, 1],
        [0, 3, 8],
        [],
      ],
      k = [
        [0, 0, 0],
        [1, 0, 0],
        [1, 1, 0],
        [0, 1, 0],
        [0, 0, 1],
        [1, 0, 1],
        [1, 1, 1],
        [0, 1, 1],
      ],
      p = [
        [0, 1],
        [1, 2],
        [2, 3],
        [3, 0],
        [4, 5],
        [5, 6],
        [6, 7],
        [7, 4],
        [0, 4],
        [1, 5],
        [2, 6],
        [3, 7],
      ];
    return function (d, g) {
      var a = [],
        f = [],
        c = 0,
        b = new Float32Array(8),
        l = new Int32Array(12),
        h = new Int32Array(3);
      for (h[2] = 0; h[2] < g[2] - 1; ++h[2], c += g[0])
        for (h[1] = 0; h[1] < g[1] - 1; ++h[1], ++c)
          for (h[0] = 0; h[0] < g[0] - 1; ++h[0], ++c) {
            for (var r = 0, v = 0; 8 > v; ++v) {
              var n = k[v];
              n = d[c + n[0] + g[0] * (n[1] + g[1] * n[2])];
              b[v] = n;
              r |= 0 < n ? 1 << v : 0;
            }
            n = e[r];
            if (0 !== n) {
              for (v = 0; 12 > v; ++v)
                if (0 !== (n & (1 << v))) {
                  l[v] = a.length;
                  var u = [0, 0, 0],
                    w = p[v],
                    y = k[w[0]],
                    x = k[w[1]],
                    t = b[w[0]],
                    z = t - b[w[1]];
                  w = 0;
                  1e-6 < Math.abs(z) && (w = t / z);
                  for (t = 0; 3 > t; ++t)
                    u[t] = h[t] + y[t] + w * (x[t] - y[t]);
                  a.push(u);
                }
              r = m[r];
              for (v = 0; v < r.length; v += 3)
                f.push([l[r[v]], l[r[v + 1]], l[r[v + 2]]]);
            }
          }
      return { vertices: a, faces: f };
    };
  })();
  ChemDoodle.animations = (function (e, m) {
    m = {};
    e.requestAnimFrame = (function () {
      return (
        e.requestAnimationFrame ||
        e.webkitRequestAnimationFrame ||
        e.mozRequestAnimationFrame ||
        e.oRequestAnimationFrame ||
        e.msRequestAnimationFrame ||
        function (k, p) {
          e.setTimeout(k, 1e3 / 60);
        }
      );
    })();
    m.requestInterval = function (k, p) {
      function d() {
        new Date().getTime() - g >= p && (k.call(), (g = new Date().getTime()));
        a.value = e.requestAnimFrame(d);
      }
      if (
        !(
          e.requestAnimationFrame ||
          e.webkitRequestAnimationFrame ||
          (e.mozRequestAnimationFrame && e.mozCancelRequestAnimationFrame) ||
          e.oRequestAnimationFrame ||
          e.msRequestAnimationFrame
        )
      )
        return e.setInterval(k, p);
      let g = new Date().getTime(),
        a = {};
      a.value = e.requestAnimFrame(d);
      return a;
    };
    m.clearRequestInterval = function (k) {
      e.cancelAnimationFrame
        ? e.cancelAnimationFrame(k.value)
        : e.webkitCancelAnimationFrame
        ? e.webkitCancelAnimationFrame(k.value)
        : e.webkitCancelRequestAnimationFrame
        ? e.webkitCancelRequestAnimationFrame(k.value)
        : e.mozCancelRequestAnimationFrame
        ? e.mozCancelRequestAnimationFrame(k.value)
        : e.oCancelRequestAnimationFrame
        ? e.oCancelRequestAnimationFrame(k.value)
        : e.msCancelRequestAnimationFrame
        ? e.msCancelRequestAnimationFrame(k.value)
        : clearInterval(k);
    };
    m.requestTimeout = function (k, p) {
      function d() {
        new Date().getTime() - g >= p
          ? k.call()
          : (a.value = e.requestAnimFrame(d));
      }
      if (
        !(
          e.requestAnimationFrame ||
          e.webkitRequestAnimationFrame ||
          (e.mozRequestAnimationFrame && e.mozCancelRequestAnimationFrame) ||
          e.oRequestAnimationFrame ||
          e.msRequestAnimationFrame
        )
      )
        return e.setTimeout(k, p);
      let g = new Date().getTime(),
        a = {};
      a.value = e.requestAnimFrame(d);
      return a;
    };
    m.clearRequestTimeout = function (k) {
      e.cancelAnimationFrame
        ? e.cancelAnimationFrame(k.value)
        : e.webkitCancelAnimationFrame
        ? e.webkitCancelAnimationFrame(k.value)
        : e.webkitCancelRequestAnimationFrame
        ? e.webkitCancelRequestAnimationFrame(k.value)
        : e.mozCancelRequestAnimationFrame
        ? e.mozCancelRequestAnimationFrame(k.value)
        : e.oCancelRequestAnimationFrame
        ? e.oCancelRequestAnimationFrame(k.value)
        : e.msCancelRequestAnimationFrame
        ? e.msCancelRequestAnimationFrame(k.value)
        : clearTimeout(k);
    };
    return m;
  })(window);
  ChemDoodle.extensions = (function (e, m, k, p) {
    return {
      vec3AngleFrom: function (d, g) {
        let a = m.length(d),
          f = m.length(g);
        d = m.dot(d, g);
        return k.acos(d / a / f);
      },
      contextRoundRect: function (d, g, a, f, c, b) {
        d.beginPath();
        d.moveTo(g + b, a);
        d.lineTo(g + f - b, a);
        d.quadraticCurveTo(g + f, a, g + f, a + b);
        d.lineTo(g + f, a + c - b);
        d.quadraticCurveTo(g + f, a + c, g + f - b, a + c);
        d.lineTo(g + b, a + c);
        d.quadraticCurveTo(g, a + c, g, a + c - b);
        d.lineTo(g, a + b);
        d.quadraticCurveTo(g, a, g + b, a);
        d.closePath();
      },
      contextEllipse: function (d, g, a, f, c) {
        let b = (f / 2) * 0.5522848,
          l = (c / 2) * 0.5522848,
          h = g + f,
          r = a + c;
        f = g + f / 2;
        c = a + c / 2;
        d.beginPath();
        d.moveTo(g, c);
        d.bezierCurveTo(g, c - l, f - b, a, f, a);
        d.bezierCurveTo(f + b, a, h, c - l, h, c);
        d.bezierCurveTo(h, c + l, f + b, r, f, r);
        d.bezierCurveTo(f - b, r, g, c + l, g, c);
        d.closePath();
      },
      getFontString: function (d, g, a, f) {
        let c = [];
        a && c.push("bold ");
        f && c.push("italic ");
        c.push(d + "px ");
        for (let b = 0, a = g.length; b < a; b++)
          (d = g[b]),
            -1 !== d.indexOf(" ") && (d = '"' + d + '"'),
            c.push((0 !== b ? "," : "") + d);
        return c.join("");
      },
    };
  })(ChemDoodle.structures, ChemDoodle.lib.vec3, Math);
  (function (e, m, k) {
    m.sign ||
      (m.sign = function (e) {
        return (0 < e) - (0 > e) || +e;
      });
    "function" != typeof e.assign &&
      (e.assign = function (p, d) {
        if (null == p)
          throw new TypeError("Cannot convert undefined or null to object");
        for (var g = e(p), a = 1; a < arguments.length; a++) {
          var f = arguments[a];
          if (null != f)
            for (var c in f)
              e.prototype.hasOwnProperty.call(f, c) && (g[c] = f[c]);
        }
        return g;
      });
    String.prototype.startsWith ||
      (String.prototype.startsWith = function (e, d) {
        return this.substr(d || 0, e.length) === e;
      });
  })(Object, Math);
  ChemDoodle.math = (function (e, m, k, p, d) {
    let g = {},
      a = {
        aliceblue: "#f0f8ff",
        antiquewhite: "#faebd7",
        aqua: "#00ffff",
        aquamarine: "#7fffd4",
        azure: "#f0ffff",
        beige: "#f5f5dc",
        bisque: "#ffe4c4",
        black: "#000000",
        blanchedalmond: "#ffebcd",
        blue: "#0000ff",
        blueviolet: "#8a2be2",
        brown: "#a52a2a",
        burlywood: "#deb887",
        cadetblue: "#5f9ea0",
        chartreuse: "#7fff00",
        chocolate: "#d2691e",
        coral: "#ff7f50",
        cornflowerblue: "#6495ed",
        cornsilk: "#fff8dc",
        crimson: "#dc143c",
        cyan: "#00ffff",
        darkblue: "#00008b",
        darkcyan: "#008b8b",
        darkgoldenrod: "#b8860b",
        darkgray: "#a9a9a9",
        darkgreen: "#006400",
        darkkhaki: "#bdb76b",
        darkmagenta: "#8b008b",
        darkolivegreen: "#556b2f",
        darkorange: "#ff8c00",
        darkorchid: "#9932cc",
        darkred: "#8b0000",
        darksalmon: "#e9967a",
        darkseagreen: "#8fbc8f",
        darkslateblue: "#483d8b",
        darkslategray: "#2f4f4f",
        darkturquoise: "#00ced1",
        darkviolet: "#9400d3",
        deeppink: "#ff1493",
        deepskyblue: "#00bfff",
        dimgray: "#696969",
        dodgerblue: "#1e90ff",
        firebrick: "#b22222",
        floralwhite: "#fffaf0",
        forestgreen: "#228b22",
        fuchsia: "#ff00ff",
        gainsboro: "#dcdcdc",
        ghostwhite: "#f8f8ff",
        gold: "#ffd700",
        goldenrod: "#daa520",
        gray: "#808080",
        green: "#008000",
        greenyellow: "#adff2f",
        honeydew: "#f0fff0",
        hotpink: "#ff69b4",
        "indianred ": "#cd5c5c",
        "indigo ": "#4b0082",
        ivory: "#fffff0",
        khaki: "#f0e68c",
        lavender: "#e6e6fa",
        lavenderblush: "#fff0f5",
        lawngreen: "#7cfc00",
        lemonchiffon: "#fffacd",
        lightblue: "#add8e6",
        lightcoral: "#f08080",
        lightcyan: "#e0ffff",
        lightgoldenrodyellow: "#fafad2",
        lightgrey: "#d3d3d3",
        lightgreen: "#90ee90",
        lightpink: "#ffb6c1",
        lightsalmon: "#ffa07a",
        lightseagreen: "#20b2aa",
        lightskyblue: "#87cefa",
        lightslategray: "#778899",
        lightsteelblue: "#b0c4de",
        lightyellow: "#ffffe0",
        lime: "#00ff00",
        limegreen: "#32cd32",
        linen: "#faf0e6",
        magenta: "#ff00ff",
        maroon: "#800000",
        mediumaquamarine: "#66cdaa",
        mediumblue: "#0000cd",
        mediumorchid: "#ba55d3",
        mediumpurple: "#9370d8",
        mediumseagreen: "#3cb371",
        mediumslateblue: "#7b68ee",
        mediumspringgreen: "#00fa9a",
        mediumturquoise: "#48d1cc",
        mediumvioletred: "#c71585",
        midnightblue: "#191970",
        mintcream: "#f5fffa",
        mistyrose: "#ffe4e1",
        moccasin: "#ffe4b5",
        navajowhite: "#ffdead",
        navy: "#000080",
        oldlace: "#fdf5e6",
        olive: "#808000",
        olivedrab: "#6b8e23",
        orange: "#ffa500",
        orangered: "#ff4500",
        orchid: "#da70d6",
        palegoldenrod: "#eee8aa",
        palegreen: "#98fb98",
        paleturquoise: "#afeeee",
        palevioletred: "#d87093",
        papayawhip: "#ffefd5",
        peachpuff: "#ffdab9",
        peru: "#cd853f",
        pink: "#ffc0cb",
        plum: "#dda0dd",
        powderblue: "#b0e0e6",
        purple: "#800080",
        red: "#ff0000",
        rosybrown: "#bc8f8f",
        royalblue: "#4169e1",
        saddlebrown: "#8b4513",
        salmon: "#fa8072",
        sandybrown: "#f4a460",
        seagreen: "#2e8b57",
        seashell: "#fff5ee",
        sienna: "#a0522d",
        silver: "#c0c0c0",
        skyblue: "#87ceeb",
        slateblue: "#6a5acd",
        slategray: "#708090",
        snow: "#fffafa",
        springgreen: "#00ff7f",
        steelblue: "#4682b4",
        tan: "#d2b48c",
        teal: "#008080",
        thistle: "#d8bfd8",
        tomato: "#ff6347",
        turquoise: "#40e0d0",
        violet: "#ee82ee",
        wheat: "#f5deb3",
        white: "#ffffff",
        whitesmoke: "#f5f5f5",
        yellow: "#ffff00",
        yellowgreen: "#9acd32",
      };
    g.angleBetweenLargest = function (a) {
      if (0 === a.length) return { angle: 0, largest: 2 * k.PI };
      if (1 === a.length) return { angle: a[0] + k.PI, largest: 2 * k.PI };
      let c = 0,
        b = 0;
      for (let l = 0, d = a.length - 1; l < d; l++) {
        var f = a[l + 1] - a[l];
        f > c && ((c = f), (b = (a[l + 1] + a[l]) / 2));
      }
      f = a[0] + 2 * k.PI - a[a.length - 1];
      f > c && ((b = a[0] - f / 2), (c = f), 0 > b && (b += 2 * k.PI));
      return { angle: b, largest: c };
    };
    g.isBetween = function (a, c, b) {
      if (c > b) {
        let a = c;
        c = b;
        b = a;
      }
      return a >= c && a <= b;
    };
    p.addEventListener("DOMContentLoaded", function (a) {
      e &&
        e.iChemLabs &&
        e.iChemLabs.checkForUpdates &&
        e.iChemLabs.checkForUpdates({});
    });
    g.getRGB = function (f, c) {
      let b = [0, 0, 0];
      a[f.toLowerCase()] && (f = a[f.toLowerCase()]);
      return "#" === f.charAt(0)
        ? (4 === f.length &&
            (f =
              "#" +
              f.charAt(1) +
              f.charAt(1) +
              f.charAt(2) +
              f.charAt(2) +
              f.charAt(3) +
              f.charAt(3)),
          [
            (parseInt(f.substring(1, 3), 16) / 255) * c,
            (parseInt(f.substring(3, 5), 16) / 255) * c,
            (parseInt(f.substring(5, 7), 16) / 255) * c,
          ])
        : f.startsWith("rgba")
        ? ((f = f.replace(/rgba\(|\)/g, "").split(",")),
          4 !== f.length
            ? b
            : [
                (parseInt(f[0]) / 255) * c,
                (parseInt(f[1]) / 255) * c,
                (parseInt(f[2]) / 255) * c,
                (parseInt(f[3]) / 255) * c,
              ])
        : f.startsWith("rgb")
        ? ((f = f.replace(/rgb\(|\)/g, "").split(",")),
          3 !== f.length
            ? b
            : [
                (parseInt(f[0]) / 255) * c,
                (parseInt(f[1]) / 255) * c,
                (parseInt(f[2]) / 255) * c,
              ])
        : b;
    };
    g.hsl2rgb = function (a, c, b) {
      let f = function (b, a, c) {
        0 > c ? (c += 1) : 1 < c && --c;
        return c < 1 / 6
          ? b + 6 * (a - b) * c
          : 0.5 > c
          ? a
          : c < 2 / 3
          ? b + (a - b) * (2 / 3 - c) * 6
          : b;
      };
      if (0 === c) b = c = a = b;
      else {
        let l = 0.5 > b ? b * (1 + c) : b + c - b * c,
          d = 2 * b - l;
        b = f(d, l, a + 1 / 3);
        c = f(d, l, a);
        a = f(d, l, a - 1 / 3);
      }
      return [255 * b, 255 * c, 255 * a];
    };
    g.idx2color = function (a) {
      a = a.toString(16);
      for (let c = 0, b = 6 - a.length; c < b; c++) a = "0" + a;
      return "#" + a;
    };
    g.distanceFromPointToLineInclusive = function (a, c, b, l) {
      let f = c.distance(b);
      b = c.angle(b);
      b = k.PI / 2 - b;
      b = c.angle(a) + b;
      a = c.distance(a);
      a = new m.Point(a * k.cos(b), -a * k.sin(b));
      l = l ? l : 0;
      return g.isBetween(-a.y, l, f - l) ? k.abs(a.x) : -1;
    };
    g.calculateDistanceInterior = function (a, c, b) {
      if (
        this.isBetween(c.x, b.x, b.x + b.w) &&
        this.isBetween(c.y, b.y, b.y + b.h)
      )
        return a.distance(c);
      var f = [];
      f.push({ x1: b.x, y1: b.y, x2: b.x + b.w, y2: b.y });
      f.push({ x1: b.x, y1: b.y + b.h, x2: b.x + b.w, y2: b.y + b.h });
      f.push({ x1: b.x, y1: b.y, x2: b.x, y2: b.y + b.h });
      f.push({ x1: b.x + b.w, y1: b.y, x2: b.x + b.w, y2: b.y + b.h });
      b = [];
      for (var d = 0; 4 > d; d++) {
        var r = f[d];
        (r = this.intersectLines(c.x, c.y, a.x, a.y, r.x1, r.y1, r.x2, r.y2)) &&
          b.push(r);
      }
      if (0 === b.length) return 0;
      c = 0;
      for (let l = 0, h = b.length; l < h; l++)
        (d = b[l]),
          (f = a.x - d.x),
          (d = a.y - d.y),
          (c = k.max(c, k.sqrt(f * f + d * d)));
      return c;
    };
    g.intersectLines = function (a, c, b, l, d, r, g, n) {
      b -= a;
      l -= c;
      g -= d;
      n -= r;
      let f = l * g - b * n;
      if (0 === f) return !1;
      g = (n * (a - d) - g * (c - r)) / f;
      d = (l * (a - d) - b * (c - r)) / f;
      return 0 <= d && 1 >= d && 0 <= g && 1 >= g
        ? { x: a + g * b, y: c + g * l }
        : !1;
    };
    g.clamp = function (a, c, b) {
      return a < c ? c : a > b ? b : a;
    };
    g.rainbowAt = function (a, c, b) {
      1 > b.length
        ? b.push("#000000", "#FFFFFF")
        : 2 > b.length && b.push("#FFFFFF");
      var f = c / (b.length - 1);
      c = k.floor(a / f);
      a = (a - c * f) / f;
      f = g.getRGB(b[c], 1);
      b = g.getRGB(b[c + 1], 1);
      return (
        "rgb(" +
        [
          255 * (f[0] + (b[0] - f[0]) * a),
          255 * (f[1] + (b[1] - f[1]) * a),
          255 * (f[2] + (b[2] - f[2]) * a),
        ].join() +
        ")"
      );
    };
    g.angleBounds = function (a, c, b) {
      let f = 2 * k.PI;
      for (; 0 > a; ) a += f;
      for (; a > f; ) a -= f;
      b && a > k.PI && (a = 2 * k.PI - a);
      c && (a = (180 * a) / k.PI);
      return a;
    };
    g.isPointInPoly = function (a, c) {
      for (var b = !1, f = -1, d = a.length, r = d - 1; ++f < d; r = f)
        ((a[f].y <= c.y && c.y < a[r].y) || (a[r].y <= c.y && c.y < a[f].y)) &&
          c.x <
            ((a[r].x - a[f].x) * (c.y - a[f].y)) / (a[r].y - a[f].y) + a[f].x &&
          (b = !b);
      return b;
    };
    return g;
  })(ChemDoodle, ChemDoodle.structures, Math, document);
  (function (e, m, k) {
    e.Bounds = function () {};
    let p = e.Bounds.prototype;
    p.minX = p.minY = p.minZ = Infinity;
    p.maxX = p.maxY = p.maxZ = -Infinity;
    p.expand = function (d, g, a, f) {
      d instanceof e.Bounds
        ? ((this.minX = m.min(this.minX, d.minX)),
          (this.minY = m.min(this.minY, d.minY)),
          (this.maxX = m.max(this.maxX, d.maxX)),
          (this.maxY = m.max(this.maxY, d.maxY)),
          Infinity !== d.maxZ &&
            ((this.minZ = m.min(this.minZ, d.minZ)),
            (this.maxZ = m.max(this.maxZ, d.maxZ))))
        : ((this.minX = m.min(this.minX, d)),
          (this.maxX = m.max(this.maxX, d)),
          (this.minY = m.min(this.minY, g)),
          (this.maxY = m.max(this.maxY, g)),
          a !== k &&
            f !== k &&
            ((this.minX = m.min(this.minX, a)),
            (this.maxX = m.max(this.maxX, a)),
            (this.minY = m.min(this.minY, f)),
            (this.maxY = m.max(this.maxY, f))));
    };
    p.expand3D = function (d, g, a, f, c, b) {
      this.minX = m.min(this.minX, d);
      this.maxX = m.max(this.maxX, d);
      this.minY = m.min(this.minY, g);
      this.maxY = m.max(this.maxY, g);
      this.minZ = m.min(this.minZ, a);
      this.maxZ = m.max(this.maxZ, a);
      f !== k &&
        c !== k &&
        b !== k &&
        ((this.minX = m.min(this.minX, f)),
        (this.maxX = m.max(this.maxX, f)),
        (this.minY = m.min(this.minY, c)),
        (this.maxY = m.max(this.maxY, c)),
        (this.minZ = m.min(this.minZ, b)),
        (this.maxZ = m.max(this.maxZ, b)));
    };
  })(ChemDoodle.math, Math);
  ChemDoodle.featureDetection = (function (e, m, k, p) {
    let d = {
      supports_canvas: function () {
        return !!m.createElement("canvas").getContext;
      },
      supports_canvas_text: function () {
        return d.supports_canvas()
          ? "function" ===
              typeof m.createElement("canvas").getContext("2d").fillText
          : !1;
      },
      supports_webgl: function () {
        let d = m.createElement("canvas");
        try {
          if (d.getContext("webgl") || d.getContext("experimental-webgl"))
            return !0;
        } catch (a) {}
        return !1;
      },
      supports_xhr2: function () {
        return "withCredentials" in new XMLHttpRequest();
      },
      supports_touch: function () {
        let d =
          (/iPhone|iPad|iPod|Android|BlackBerry|BB10/i.test(
            navigator.userAgent
          ) ||
            ("MacIntel" === navigator.platform &&
              1 < navigator.maxTouchPoints)) &&
          !k.MSStream;
        return "ontouchstart" in k && d;
      },
      supports_gesture: function () {
        return "ongesturestart" in k;
      },
    };
    return d;
  })(ChemDoodle.iChemLabs, document, window);
  ChemDoodle.SYMBOLS =
    "H He Li Be B C N O F Ne Na Mg Al Si P S Cl Ar K Ca Sc Ti V Cr Mn Fe Co Ni Cu Zn Ga Ge As Se Br Kr Rb Sr Y Zr Nb Mo Tc Ru Rh Pd Ag Cd In Sn Sb Te I Xe Cs Ba La Ce Pr Nd Pm Sm Eu Gd Tb Dy Ho Er Tm Yb Lu Hf Ta W Re Os Ir Pt Au Hg Tl Pb Bi Po At Rn Fr Ra Ac Th Pa U Np Pu Am Cm Bk Cf Es Fm Md No Lr Rf Db Sg Bh Hs Mt Ds Rg Cn Nh Fl Mc Lv Ts Og".split(
      " "
    );
  ChemDoodle.ELEMENT = (function (e, m) {
    function k(e, d, g, a, f, c, b, l, h) {
      this.symbol = e;
      this.name = d;
      this.atomicNumber = g;
      this.addH = a;
      this.jmolColor = this.pymolColor = f;
      this.covalentRadius = c;
      this.vdWRadius = b;
      this.valency = l;
      this.mass = h;
    }
    e = [];
    e.H = new k("H", "Hydrogen", 1, !1, "#FFFFFF", 0.31, 1.1, 1, 1);
    e.He = new k("He", "Helium", 2, !1, "#D9FFFF", 0.28, 1.4, 0, 4);
    e.Li = new k("Li", "Lithium", 3, !1, "#CC80FF", 1.28, 1.82, 1, 7);
    e.Be = new k("Be", "Beryllium", 4, !1, "#C2FF00", 0.96, 1.53, 2, 9);
    e.B = new k("B", "Boron", 5, !0, "#FFB5B5", 0.84, 1.92, 3, 11);
    e.C = new k("C", "Carbon", 6, !0, "#909090", 0.76, 1.7, 4, 12);
    e.N = new k("N", "Nitrogen", 7, !0, "#3050F8", 0.71, 1.55, 3, 14);
    e.O = new k("O", "Oxygen", 8, !0, "#FF0D0D", 0.66, 1.52, 2, 16);
    e.F = new k("F", "Fluorine", 9, !0, "#90E050", 0.57, 1.47, 1, 19);
    e.Ne = new k("Ne", "Neon", 10, !1, "#B3E3F5", 0.58, 1.54, 0, 20);
    e.Na = new k("Na", "Sodium", 11, !1, "#AB5CF2", 1.66, 2.27, 1, 23);
    e.Mg = new k("Mg", "Magnesium", 12, !1, "#8AFF00", 1.41, 1.73, 0, 24);
    e.Al = new k("Al", "Aluminum", 13, !1, "#BFA6A6", 1.21, 1.84, 0, 27);
    e.Si = new k("Si", "Silicon", 14, !0, "#F0C8A0", 1.11, 2.1, 4, 28);
    e.P = new k("P", "Phosphorus", 15, !0, "#FF8000", 1.07, 1.8, 3, 31);
    e.S = new k("S", "Sulfur", 16, !0, "#FFFF30", 1.05, 1.8, 2, 32);
    e.Cl = new k("Cl", "Chlorine", 17, !0, "#1FF01F", 1.02, 1.75, 1, 35);
    e.Ar = new k("Ar", "Argon", 18, !1, "#80D1E3", 1.06, 1.88, 0, 40);
    e.K = new k("K", "Potassium", 19, !1, "#8F40D4", 2.03, 2.75, 0, 39);
    e.Ca = new k("Ca", "Calcium", 20, !1, "#3DFF00", 1.76, 2.31, 0, 40);
    e.Sc = new k("Sc", "Scandium", 21, !1, "#E6E6E6", 1.7, 0, 0, 45);
    e.Ti = new k("Ti", "Titanium", 22, !1, "#BFC2C7", 1.6, 0, 1, 48);
    e.V = new k("V", "Vanadium", 23, !1, "#A6A6AB", 1.53, 0, 1, 51);
    e.Cr = new k("Cr", "Chromium", 24, !1, "#8A99C7", 1.39, 0, 2, 52);
    e.Mn = new k("Mn", "Manganese", 25, !1, "#9C7AC7", 1.39, 0, 3, 55);
    e.Fe = new k("Fe", "Iron", 26, !1, "#E06633", 1.32, 0, 2, 56);
    e.Co = new k("Co", "Cobalt", 27, !1, "#F090A0", 1.26, 0, 1, 59);
    e.Ni = new k("Ni", "Nickel", 28, !1, "#50D050", 1.24, 1.63, 1, 58);
    e.Cu = new k("Cu", "Copper", 29, !1, "#C88033", 1.32, 1.4, 0, 63);
    e.Zn = new k("Zn", "Zinc", 30, !1, "#7D80B0", 1.22, 1.39, 0, 64);
    e.Ga = new k("Ga", "Gallium", 31, !1, "#C28F8F", 1.22, 1.87, 0, 69);
    e.Ge = new k("Ge", "Germanium", 32, !1, "#668F8F", 1.2, 2.11, 4, 74);
    e.As = new k("As", "Arsenic", 33, !0, "#BD80E3", 1.19, 1.85, 3, 75);
    e.Se = new k("Se", "Selenium", 34, !0, "#FFA100", 1.2, 1.9, 2, 80);
    e.Br = new k("Br", "Bromine", 35, !0, "#A62929", 1.2, 1.85, 1, 79);
    e.Kr = new k("Kr", "Krypton", 36, !1, "#5CB8D1", 1.16, 2.02, 0, 84);
    e.Rb = new k("Rb", "Rubidium", 37, !1, "#702EB0", 2.2, 3.03, 0, 85);
    e.Sr = new k("Sr", "Strontium", 38, !1, "#00FF00", 1.95, 2.49, 0, 88);
    e.Y = new k("Y", "Yttrium", 39, !1, "#94FFFF", 1.9, 0, 0, 89);
    e.Zr = new k("Zr", "Zirconium", 40, !1, "#94E0E0", 1.75, 0, 0, 90);
    e.Nb = new k("Nb", "Niobium", 41, !1, "#73C2C9", 1.64, 0, 1, 93);
    e.Mo = new k("Mo", "Molybdenum", 42, !1, "#54B5B5", 1.54, 0, 2, 98);
    e.Tc = new k("Tc", "Technetium", 43, !1, "#3B9E9E", 1.47, 0, 3, 0);
    e.Ru = new k("Ru", "Ruthenium", 44, !1, "#248F8F", 1.46, 0, 2, 102);
    e.Rh = new k("Rh", "Rhodium", 45, !1, "#0A7D8C", 1.42, 0, 1, 103);
    e.Pd = new k("Pd", "Palladium", 46, !1, "#006985", 1.39, 1.63, 0, 106);
    e.Ag = new k("Ag", "Silver", 47, !1, "#C0C0C0", 1.45, 1.72, 0, 107);
    e.Cd = new k("Cd", "Cadmium", 48, !1, "#FFD98F", 1.44, 1.58, 0, 114);
    e.In = new k("In", "Indium", 49, !1, "#A67573", 1.42, 1.93, 0, 115);
    e.Sn = new k("Sn", "Tin", 50, !1, "#668080", 1.39, 2.17, 4, 120);
    e.Sb = new k("Sb", "Antimony", 51, !1, "#9E63B5", 1.39, 2.06, 3, 121);
    e.Te = new k("Te", "Tellurium", 52, !0, "#D47A00", 1.38, 2.06, 2, 130);
    e.I = new k("I", "Iodine", 53, !0, "#940094", 1.39, 1.98, 1, 127);
    e.Xe = new k("Xe", "Xenon", 54, !1, "#429EB0", 1.4, 2.16, 0, 132);
    e.Cs = new k("Cs", "Cesium", 55, !1, "#57178F", 2.44, 3.43, 0, 133);
    e.Ba = new k("Ba", "Barium", 56, !1, "#00C900", 2.15, 2.68, 0, 138);
    e.La = new k("La", "Lanthanum", 57, !1, "#70D4FF", 2.07, 0, 0, 139);
    e.Ce = new k("Ce", "Cerium", 58, !1, "#FFFFC7", 2.04, 0, 0, 140);
    e.Pr = new k("Pr", "Praseodymium", 59, !1, "#D9FFC7", 2.03, 0, 0, 141);
    e.Nd = new k("Nd", "Neodymium", 60, !1, "#C7FFC7", 2.01, 0, 0, 142);
    e.Pm = new k("Pm", "Promethium", 61, !1, "#A3FFC7", 1.99, 0, 0, 0);
    e.Sm = new k("Sm", "Samarium", 62, !1, "#8FFFC7", 1.98, 0, 0, 152);
    e.Eu = new k("Eu", "Europium", 63, !1, "#61FFC7", 1.98, 0, 0, 153);
    e.Gd = new k("Gd", "Gadolinium", 64, !1, "#45FFC7", 1.96, 0, 0, 158);
    e.Tb = new k("Tb", "Terbium", 65, !1, "#30FFC7", 1.94, 0, 0, 159);
    e.Dy = new k("Dy", "Dysprosium", 66, !1, "#1FFFC7", 1.92, 0, 0, 164);
    e.Ho = new k("Ho", "Holmium", 67, !1, "#00FF9C", 1.92, 0, 0, 165);
    e.Er = new k("Er", "Erbium", 68, !1, "#00E675", 1.89, 0, 0, 166);
    e.Tm = new k("Tm", "Thulium", 69, !1, "#00D452", 1.9, 0, 0, 169);
    e.Yb = new k("Yb", "Ytterbium", 70, !1, "#00BF38", 1.87, 0, 0, 174);
    e.Lu = new k("Lu", "Lutetium", 71, !1, "#00AB24", 1.87, 0, 0, 175);
    e.Hf = new k("Hf", "Hafnium", 72, !1, "#4DC2FF", 1.75, 0, 0, 180);
    e.Ta = new k("Ta", "Tantalum", 73, !1, "#4DA6FF", 1.7, 0, 1, 181);
    e.W = new k("W", "Tungsten", 74, !1, "#2194D6", 1.62, 0, 2, 184);
    e.Re = new k("Re", "Rhenium", 75, !1, "#267DAB", 1.51, 0, 3, 187);
    e.Os = new k("Os", "Osmium", 76, !1, "#266696", 1.44, 0, 2, 192);
    e.Ir = new k("Ir", "Iridium", 77, !1, "#175487", 1.41, 0, 3, 193);
    e.Pt = new k("Pt", "Platinum", 78, !1, "#D0D0E0", 1.36, 1.75, 0, 195);
    e.Au = new k("Au", "Gold", 79, !1, "#FFD123", 1.36, 1.66, 1, 197);
    e.Hg = new k("Hg", "Mercury", 80, !1, "#B8B8D0", 1.32, 1.55, 0, 202);
    e.Tl = new k("Tl", "Thallium", 81, !1, "#A6544D", 1.45, 1.96, 0, 205);
    e.Pb = new k("Pb", "Lead", 82, !1, "#575961", 1.46, 2.02, 4, 208);
    e.Bi = new k("Bi", "Bismuth", 83, !1, "#9E4FB5", 1.48, 2.07, 3, 209);
    e.Po = new k("Po", "Polonium", 84, !1, "#AB5C00", 1.4, 1.97, 2, 0);
    e.At = new k("At", "Astatine", 85, !0, "#754F45", 1.5, 2.02, 1, 0);
    e.Rn = new k("Rn", "Radon", 86, !1, "#428296", 1.5, 2.2, 0, 0);
    e.Fr = new k("Fr", "Francium", 87, !1, "#420066", 2.6, 3.48, 0, 0);
    e.Ra = new k("Ra", "Radium", 88, !1, "#007D00", 2.21, 2.83, 0, 0);
    e.Ac = new k("Ac", "Actinium", 89, !1, "#70ABFA", 2.15, 0, 0, 0);
    e.Th = new k("Th", "Thorium", 90, !1, "#00BAFF", 2.06, 0, 0, 232);
    e.Pa = new k("Pa", "Protactinium", 91, !1, "#00A1FF", 2, 0, 0, 231);
    e.U = new k("U", "Uranium", 92, !1, "#008FFF", 1.96, 1.86, 0, 238);
    e.Np = new k("Np", "Neptunium", 93, !1, "#0080FF", 1.9, 0, 0, 0);
    e.Pu = new k("Pu", "Plutonium", 94, !1, "#006BFF", 1.87, 0, 0, 0);
    e.Am = new k("Am", "Americium", 95, !1, "#545CF2", 1.8, 0, 0, 0);
    e.Cm = new k("Cm", "Curium", 96, !1, "#785CE3", 1.69, 0, 0, 0);
    e.Bk = new k("Bk", "Berkelium", 97, !1, "#8A4FE3", 0, 0, 0, 0);
    e.Cf = new k("Cf", "Californium", 98, !1, "#A136D4", 0, 0, 0, 0);
    e.Es = new k("Es", "Einsteinium", 99, !1, "#B31FD4", 0, 0, 0, 0);
    e.Fm = new k("Fm", "Fermium", 100, !1, "#B31FBA", 0, 0, 0, 0);
    e.Md = new k("Md", "Mendelevium", 101, !1, "#B30DA6", 0, 0, 0, 0);
    e.No = new k("No", "Nobelium", 102, !1, "#BD0D87", 0, 0, 0, 0);
    e.Lr = new k("Lr", "Lawrencium", 103, !1, "#C70066", 0, 0, 0, 0);
    e.Rf = new k("Rf", "Rutherfordium", 104, !1, "#CC0059", 0, 0, 0, 0);
    e.Db = new k("Db", "Dubnium", 105, !1, "#D1004F", 0, 0, 0, 0);
    e.Sg = new k("Sg", "Seaborgium", 106, !1, "#D90045", 0, 0, 0, 0);
    e.Bh = new k("Bh", "Bohrium", 107, !1, "#E00038", 0, 0, 0, 0);
    e.Hs = new k("Hs", "Hassium", 108, !1, "#E6002E", 0, 0, 0, 0);
    e.Mt = new k("Mt", "Meitnerium", 109, !1, "#EB0026", 0, 0, 0, 0);
    e.Ds = new k("Ds", "Darmstadtium", 110, !1, "#000000", 0, 0, 0, 0);
    e.Rg = new k("Rg", "Roentgenium", 111, !1, "#000000", 0, 0, 0, 0);
    e.Cn = new k("Cn", "Copernicium", 112, !1, "#000000", 0, 0, 0, 0);
    e.Nh = new k("Nh", "Nihonium", 113, !1, "#000000", 0, 0, 0, 0);
    e.Fl = new k("Fl", "Flerovium", 114, !1, "#000000", 0, 0, 0, 0);
    e.Mc = new k("Mc", "Moscovium", 115, !1, "#000000", 0, 0, 0, 0);
    e.Lv = new k("Lv", "Livermorium", 116, !1, "#000000", 0, 0, 0, 0);
    e.Ts = new k("Ts", "Tennessine", 117, !1, "#000000", 0, 0, 0, 0);
    e.Og = new k("Og", "Oganesson", 118, !1, "#000000", 0, 0, 0, 0);
    e.H.pymolColor = "#E6E6E6";
    e.C.pymolColor = "#33FF33";
    e.N.pymolColor = "#3333FF";
    e.O.pymolColor = "#FF4D4D";
    e.F.pymolColor = "#B3FFFF";
    e.S.pymolColor = "#E6C640";
    return e;
  })(ChemDoodle.SYMBOLS);
  ChemDoodle.RESIDUE = (function (e) {
    function m(e, p, d, g, a, f) {
      this.symbol = e;
      this.name = p;
      this.polar = d;
      this.aminoColor = g;
      this.shapelyColor = a;
      this.acidity = f;
    }
    e = [];
    e.Ala = new m("Ala", "Alanine", !1, "#C8C8C8", "#8CFF8C", 0);
    e.Arg = new m("Arg", "Arginine", !0, "#145AFF", "#00007C", 1);
    e.Asn = new m("Asn", "Asparagine", !0, "#00DCDC", "#FF7C70", 0);
    e.Asp = new m("Asp", "Aspartic Acid", !0, "#E60A0A", "#A00042", -1);
    e.Cys = new m("Cys", "Cysteine", !0, "#E6E600", "#FFFF70", 0);
    e.Gln = new m("Gln", "Glutamine", !0, "#00DCDC", "#FF4C4C", 0);
    e.Glu = new m("Glu", "Glutamic Acid", !0, "#E60A0A", "#660000", -1);
    e.Gly = new m("Gly", "Glycine", !1, "#EBEBEB", "#FFFFFF", 0);
    e.His = new m("His", "Histidine", !0, "#8282D2", "#7070FF", 1);
    e.Ile = new m("Ile", "Isoleucine", !1, "#0F820F", "#004C00", 0);
    e.Leu = new m("Leu", "Leucine", !1, "#0F820F", "#455E45", 0);
    e.Lys = new m("Lys", "Lysine", !0, "#145AFF", "#4747B8", 1);
    e.Met = new m("Met", "Methionine", !1, "#E6E600", "#B8A042", 0);
    e.Phe = new m("Phe", "Phenylalanine", !1, "#3232AA", "#534C52", 0);
    e.Pro = new m("Pro", "Proline", !1, "#DC9682", "#525252", 0);
    e.Ser = new m("Ser", "Serine", !0, "#FA9600", "#FF7042", 0);
    e.Thr = new m("Thr", "Threonine", !0, "#FA9600", "#B84C00", 0);
    e.Trp = new m("Trp", "Tryptophan", !0, "#B45AB4", "#4F4600", 0);
    e.Tyr = new m("Tyr", "Tyrosine", !0, "#3232AA", "#8C704C", 0);
    e.Val = new m("Val", "Valine", !1, "#0F820F", "#FF8CFF", 0);
    e.Asx = new m(
      "Asx",
      "Asparagine/Aspartic Acid",
      !0,
      "#FF69B4",
      "#FF00FF",
      0
    );
    e.Glx = new m(
      "Glx",
      "Glutamine/Glutamic Acid",
      !0,
      "#FF69B4",
      "#FF00FF",
      0
    );
    e["*"] = new m("*", "Other", !1, "#BEA06E", "#FF00FF", 0);
    e.A = new m("A", "Adenine", !1, "#BEA06E", "#A0A0FF", 0);
    e.G = new m("G", "Guanine", !1, "#BEA06E", "#FF7070", 0);
    e.I = new m("I", "", !1, "#BEA06E", "#80FFFF", 0);
    e.C = new m("C", "Cytosine", !1, "#BEA06E", "#FF8C4B", 0);
    e.T = new m("T", "Thymine", !1, "#BEA06E", "#A0FFA0", 0);
    e.U = new m("U", "Uracil", !1, "#BEA06E", "#FF8080", 0);
    return e;
  })();
  (function (e, m) {
    e.Queue = function () {
      this.queue = [];
    };
    e = e.Queue.prototype;
    e.queueSpace = 0;
    e.getSize = function () {
      return this.queue.length - this.queueSpace;
    };
    e.isEmpty = function () {
      return 0 === this.queue.length;
    };
    e.enqueue = function (e) {
      this.queue.push(e);
    };
    e.dequeue = function () {
      let e;
      this.queue.length &&
        ((e = this.queue[this.queueSpace]),
        2 * ++this.queueSpace >= this.queue.length &&
          ((this.queue = this.queue.slice(this.queueSpace)),
          (this.queueSpace = 0)));
      return e;
    };
    e.getOldestElement = function () {
      let e;
      this.queue.length && (e = this.queue[this.queueSpace]);
      return e;
    };
  })(ChemDoodle.structures);
  (function (e, m, k) {
    e.Point = function (e, d) {
      this.x = e ? e : 0;
      this.y = d ? d : 0;
    };
    e = e.Point.prototype;
    e.sub = function (e) {
      this.x -= e.x;
      this.y -= e.y;
    };
    e.add = function (e) {
      this.x += e.x;
      this.y += e.y;
    };
    e.distance = function (e) {
      let d = e.x - this.x;
      e = e.y - this.y;
      return m.sqrt(d * d + e * e);
    };
    e.angleForStupidCanvasArcs = function (e) {
      var d = e.x - this.x;
      e = e.y - this.y;
      for (
        d =
          0 === d
            ? 0 === e
              ? 0
              : 0 < e
              ? m.PI / 2
              : (3 * m.PI) / 2
            : 0 === e
            ? 0 < d
              ? 0
              : m.PI
            : 0 > d
            ? m.atan(e / d) + m.PI
            : 0 > e
            ? m.atan(e / d) + 2 * m.PI
            : m.atan(e / d);
        0 > d;

      )
        d += 2 * m.PI;
      return (d %= 2 * m.PI);
    };
    e.angle = function (e) {
      var d = e.x - this.x;
      e = this.y - e.y;
      for (
        d =
          0 === d
            ? 0 === e
              ? 0
              : 0 < e
              ? m.PI / 2
              : (3 * m.PI) / 2
            : 0 === e
            ? 0 < d
              ? 0
              : m.PI
            : 0 > d
            ? m.atan(e / d) + m.PI
            : 0 > e
            ? m.atan(e / d) + 2 * m.PI
            : m.atan(e / d);
        0 > d;

      )
        d += 2 * m.PI;
      return (d %= 2 * m.PI);
    };
  })(ChemDoodle.structures, Math);
  (function (e, m, k, p) {
    let d = /[ ,]+/,
      g = /\-+/,
      a = ["Helvetica", "Arial", "Dialog"];
    m.Query = function (a) {
      this.type = a;
      this.elements = { v: [], not: !1 };
      this.saturation =
        this.hydrogens =
        this.connectivityNoH =
        this.connectivity =
        this.chirality =
        this.charge =
          p;
      this.orders = { v: [], not: !1 };
      this.cache = this.ringCount = this.aromatic = this.stereo = p;
    };
    m.Query.TYPE_ATOM = 0;
    m.Query.TYPE_BOND = 1;
    k = m.Query.prototype;
    k.parseRange = function (a) {
      let c = [];
      a = a.split(d);
      for (let l = 0, d = a.length; l < d; l++) {
        var b = a[l],
          f = !1,
          h = !1;
        "-" === b.charAt(0) && ((f = !0), (b = b.substring(1)));
        -1 != b.indexOf("--") && (h = !0);
        -1 != b.indexOf("-")
          ? ((b = b.split(g)),
            (f = {
              x: parseInt(b[0]) * (f ? -1 : 1),
              y: parseInt(b[1]) * (h ? -1 : 1),
            }),
            f.y < f.x && ((h = f.y), (f.y = f.x), (f.x = h)),
            c.push(f))
          : c.push({ x: parseInt(b) * (f ? -1 : 1) });
      }
      return c;
    };
    k.draw = function (f, c, b) {
      this.cache || (this.cache = this.toString());
      let l = this.cache,
        d = p;
      var r = l.indexOf("(");
      -1 != r &&
        ((l = this.cache.substring(0, r)),
        (d = this.cache.substring(r, this.cache.length)));
      f.textAlign = "center";
      f.textBaseline = "middle";
      f.font = e.getFontString(12, a, !0, !1);
      r = f.measureText(l).width;
      f.fillStyle = c.backgroundColor;
      f.fillRect(b.x - r / 2, b.y - 6, r, 12);
      f.fillStyle = "black";
      f.fillText(l, b.x, b.y);
      d &&
        ((f.font = e.getFontString(10, a, !1, !0)),
        (r = f.measureText(d).width),
        (f.fillStyle = c.backgroundColor),
        f.fillRect(b.x - r / 2, b.y + 6, r, 11),
        (f.fillStyle = "black"),
        f.fillText(d, b.x, b.y + 11));
    };
    k.outputRange = function (a) {
      let c = !1,
        b = [];
      for (let f = 0, d = a.length; f < d; f++) {
        c && b.push(",");
        c = !0;
        let l = a[f];
        l.y ? (b.push(l.x), b.push("-"), b.push(l.y)) : b.push(l.x);
      }
      return b.join("");
    };
    k.toString = function () {
      let a = [],
        c = [];
      this.type === m.Query.TYPE_ATOM
        ? (this.elements && 0 !== this.elements.v.length
            ? (this.elements.not && a.push("!"),
              a.push("["),
              a.push(this.elements.v.join(",")),
              a.push("]"))
            : a.push("[a]"),
          this.chirality &&
            c.push(
              (this.chirality.not ? "!" : "") + "@\x3d" + this.chirality.v
            ),
          this.aromatic && c.push((this.aromatic.not ? "!" : "") + "A"),
          this.charge &&
            c.push(
              (this.charge.not ? "!" : "") +
                "C\x3d" +
                this.outputRange(this.charge.v)
            ),
          this.hydrogens &&
            c.push(
              (this.hydrogens.not ? "!" : "") +
                "H\x3d" +
                this.outputRange(this.hydrogens.v)
            ),
          this.ringCount &&
            c.push(
              (this.ringCount.not ? "!" : "") +
                "R\x3d" +
                this.outputRange(this.ringCount.v)
            ),
          this.saturation && c.push((this.saturation.not ? "!" : "") + "S"),
          this.connectivity &&
            c.push(
              (this.connectivity.not ? "!" : "") +
                "X\x3d" +
                this.outputRange(this.connectivity.v)
            ),
          this.connectivityNoH &&
            c.push(
              (this.connectivityNoH.not ? "!" : "") +
                "x\x3d" +
                this.outputRange(this.connectivityNoH.v)
            ))
        : this.type === m.Query.TYPE_BOND &&
          (this.orders && 0 !== this.orders.v.length
            ? (this.orders.not && a.push("!"),
              a.push("["),
              a.push(this.orders.v.join(",")),
              a.push("]"))
            : a.push("[a]"),
          this.stereo &&
            c.push((this.stereo.not ? "!" : "") + "@\x3d" + this.stereo.v),
          this.aromatic && c.push((this.aromatic.not ? "!" : "") + "A"),
          this.ringCount &&
            c.push(
              (this.ringCount.not ? "!" : "") +
                "R\x3d" +
                this.outputRange(this.ringCount.v)
            ));
      0 < c.length && (a.push("("), a.push(c.join(",")), a.push(")"));
      return a.join("");
    };
  })(ChemDoodle.extensions, ChemDoodle.structures, Math);
  (function (e, m, k, p, d, g, a) {
    let f = /\s+/g;
    p.Atom = function (b, a, c, f) {
      this.label = b ? b.trim() : "C";
      this.x = a ? a : 0;
      this.y = c ? c : 0;
      this.z = f ? f : 0;
      this.enhancedStereo = { type: p.Atom.ESTEREO_ABSOLUTE, group: 1 };
      this.pid = p.PID++;
    };
    p.Atom.ESTEREO_ABSOLUTE = "abs";
    p.Atom.ESTEREO_OR = "or";
    p.Atom.ESTEREO_AND = "\x26";
    let c = (p.Atom.prototype = new p.Point(0, 0));
    c.charge = 0;
    c.numLonePair = 0;
    c.numRadical = 0;
    c.mass = -1;
    c.implicitH = -1;
    c.coordinationNumber = 0;
    c.bondNumber = 0;
    c.angleOfLeastInterference = 0;
    c.isHidden = !1;
    c.altLabel = a;
    c.isLone = !1;
    c.isHover = !1;
    c.isSelected = !1;
    c.add3D = function (b) {
      this.x += b.x;
      this.y += b.y;
      this.z += b.z;
    };
    c.sub3D = function (b) {
      this.x -= b.x;
      this.y -= b.y;
      this.z -= b.z;
    };
    c.distance3D = function (b) {
      let a = b.x - this.x,
        c = b.y - this.y;
      b = b.z - this.z;
      return d.sqrt(a * a + c * c + b * b);
    };
    c.draw = function (b, c) {
      if (!this.dontDraw) {
        if (this.isLassoed) {
          var l = b.createRadialGradient(
            this.x - 1,
            this.y - 1,
            0,
            this.x,
            this.y,
            7
          );
          l.addColorStop(0, "rgba(212, 99, 0, 0)");
          l.addColorStop(0.7, "rgba(212, 99, 0, 0.8)");
          b.fillStyle = l;
          b.beginPath();
          b.arc(this.x, this.y, 5, 0, 2 * d.PI, !1);
          b.fill();
        }
        if (!this.query) {
          this.textBounds = [];
          this.styles && (c = this.styles);
          var r = m.getFontString(
            c.atoms_font_size_2D,
            c.atoms_font_families_2D,
            c.atoms_font_bold_2D,
            c.atoms_font_italic_2D
          );
          b.font = r;
          b.fillStyle = this.getElementColor(
            c.atoms_useJMOLColors,
            c.atoms_usePYMOLColors,
            c.atoms_color,
            2
          );
          "H" === this.label && c.atoms_HBlack_2D && (b.fillStyle = "black");
          this.error && (b.fillStyle = c.colorError);
          l = this.isLabelVisible(c);
          if ((this.isLone && !l) || c.atoms_circles_2D)
            this.isLone && (b.fillStyle = "#909090"),
              b.beginPath(),
              b.arc(
                this.x,
                this.y,
                c.atoms_circleDiameter_2D / 2,
                0,
                2 * d.PI,
                !1
              ),
              b.fill(),
              0 < c.atoms_circleBorderWidth_2D &&
                ((b.lineWidth = c.atoms_circleBorderWidth_2D),
                (b.strokeStyle = "black"),
                b.stroke());
          else if (l)
            if (
              ((b.textAlign = "center"),
              (b.textBaseline = "middle"),
              this.altLabel !== a)
            ) {
              b.fillText(this.altLabel, this.x, this.y);
              var g = b.measureText(this.altLabel).width;
              this.textBounds.push({
                x: this.x - g / 2,
                y: this.y - c.atoms_font_size_2D / 2 + 1,
                w: g,
                h: c.atoms_font_size_2D - 2,
              });
            } else if (e[this.label]) {
              b.fillText(this.label, this.x, this.y);
              var n = b.measureText(this.label).width;
              this.textBounds.push({
                x: this.x - n / 2,
                y: this.y - c.atoms_font_size_2D / 2 + 1,
                w: n,
                h: c.atoms_font_size_2D - 2,
              });
              var u = 0;
              -1 !== this.mass &&
                ((g = b.font),
                (b.font = m.getFontString(
                  0.7 * c.atoms_font_size_2D,
                  c.atoms_font_families_2D,
                  c.atoms_font_bold_2D,
                  c.atoms_font_italic_2D
                )),
                (u = b.measureText(this.mass).width),
                (b.textAlign = "right"),
                b.fillText(
                  this.mass,
                  this.x - n / 2 - 1,
                  this.y - c.atoms_font_size_2D / 2 + 1
                ),
                this.textBounds.push({
                  x: this.x - n / 2 - u - 0.5,
                  y: this.y - (1.7 * c.atoms_font_size_2D) / 2 + 1,
                  w: u,
                  h: c.atoms_font_size_2D / 2 - 1,
                }),
                (b.font = g),
                (b.textAlign = "center"));
              g = n / 2;
              var w = this.getImplicitHydrogenCount();
              if (c.atoms_implicitHydrogens_2D && 0 < w) {
                var y = 0;
                var x = b.measureText("H").width;
                let a = !0;
                if (1 < w) {
                  let f = n / 2 + x / 2,
                    l = 0,
                    h = m.getFontString(
                      0.8 * c.atoms_font_size_2D,
                      c.atoms_font_families_2D,
                      c.atoms_font_bold_2D,
                      c.atoms_font_italic_2D
                    );
                  b.font = h;
                  let g = b.measureText(w).width;
                  1 === this.bondNumber
                    ? this.angleOfLeastInterference > d.PI / 2 &&
                      this.angleOfLeastInterference < (3 * d.PI) / 2 &&
                      ((f = -n / 2 - g - x / 2 - u / 2), (a = !1), (y = d.PI))
                    : this.angleOfLeastInterference <= d.PI / 4 ||
                      (this.angleOfLeastInterference < (3 * d.PI) / 4
                        ? ((f = 0),
                          (l = 0.9 * -c.atoms_font_size_2D),
                          0 !== this.charge &&
                            (l -= 0.3 * c.atoms_font_size_2D),
                          (a = !1),
                          (y = d.PI / 2))
                        : this.angleOfLeastInterference <= (5 * d.PI) / 4
                        ? ((f = -n / 2 - g - x / 2 - u / 2),
                          (a = !1),
                          (y = d.PI))
                        : this.angleOfLeastInterference < (7 * d.PI) / 4 &&
                          ((f = 0),
                          (l = 0.9 * c.atoms_font_size_2D),
                          (a = !1),
                          (y = (3 * d.PI) / 2)));
                  b.font = r;
                  b.fillText("H", this.x + f, this.y + l);
                  b.font = h;
                  b.fillText(
                    w,
                    this.x + f + x / 2 + g / 2,
                    this.y + l + 0.3 * c.atoms_font_size_2D
                  );
                  this.textBounds.push({
                    x: this.x + f - x / 2,
                    y: this.y + l - c.atoms_font_size_2D / 2 + 1,
                    w: x,
                    h: c.atoms_font_size_2D - 2,
                  });
                  this.textBounds.push({
                    x: this.x + f + x / 2,
                    y:
                      this.y +
                      l +
                      0.3 * c.atoms_font_size_2D -
                      c.atoms_font_size_2D / 2 +
                      1,
                    w: g,
                    h: 0.8 * c.atoms_font_size_2D - 2,
                  });
                } else
                  (r = n / 2 + x / 2),
                    (w = 0),
                    1 === this.bondNumber
                      ? this.angleOfLeastInterference > d.PI / 2 &&
                        this.angleOfLeastInterference < (3 * d.PI) / 2 &&
                        ((r = -n / 2 - x / 2 - u / 2), (a = !1), (y = d.PI))
                      : this.angleOfLeastInterference <= d.PI / 4 ||
                        (this.angleOfLeastInterference < (3 * d.PI) / 4
                          ? ((r = 0),
                            (w = 0.9 * -c.atoms_font_size_2D),
                            (a = !1),
                            (y = d.PI / 2))
                          : this.angleOfLeastInterference <= (5 * d.PI) / 4
                          ? ((r = -n / 2 - x / 2 - u / 2), (a = !1), (y = d.PI))
                          : this.angleOfLeastInterference < (7 * d.PI) / 4 &&
                            ((r = 0),
                            (w = 0.9 * c.atoms_font_size_2D),
                            (a = !1),
                            (y = (3 * d.PI) / 2))),
                    b.fillText("H", this.x + r, this.y + w),
                    this.textBounds.push({
                      x: this.x + r - x / 2,
                      y: this.y + w - c.atoms_font_size_2D / 2 + 1,
                      w: x,
                      h: c.atoms_font_size_2D - 2,
                    });
                a && (g += x);
              }
              0 !== this.charge &&
                ((n = this.charge.toFixed(0)),
                (n =
                  "1" === n
                    ? "+"
                    : "-1" === n
                    ? "\u2013"
                    : n.startsWith("-")
                    ? n.substring(1) + "\u2013"
                    : n + "+"),
                (u = b.measureText(n).width),
                (g += u / 2),
                (b.textAlign = "center"),
                (b.textBaseline = "middle"),
                (b.font = m.getFontString(
                  d.floor(0.8 * c.atoms_font_size_2D),
                  c.atoms_font_families_2D,
                  c.atoms_font_bold_2D,
                  c.atoms_font_italic_2D
                )),
                b.fillText(
                  n,
                  this.x + g - 1,
                  this.y - c.atoms_font_size_2D / 2 + 1
                ),
                this.textBounds.push({
                  x: this.x + g - u / 2 - 1,
                  y: this.y - (1.8 * c.atoms_font_size_2D) / 2 + 5,
                  w: u,
                  h: c.atoms_font_size_2D / 2 - 1,
                }));
            } else
              p.CondensedLabel
                ? this.label.match(f)
                  ? ((b.textAlign = "left"),
                    this.error && (b.fillStyle = c.colorError),
                    b.fillText(this.label, this.x, this.y),
                    (g = b.measureText(this.label).width),
                    this.textBounds.push({
                      x: this.x + 1,
                      y: this.y - c.atoms_font_size_2D / 2 + 1,
                      w: g,
                      h: c.atoms_font_size_2D - 2,
                    }))
                  : ((this.condensed && this.condensed.text === this.label) ||
                      (this.condensed = new p.CondensedLabel(this, this.label)),
                    this.condensed.draw(b, c))
                : (b.fillText(this.label, this.x, this.y),
                  (g = b.measureText(this.label).width),
                  this.textBounds.push({
                    x: this.x - g / 2,
                    y: this.y - c.atoms_font_size_2D / 2 + 1,
                    w: g,
                    h: c.atoms_font_size_2D - 2,
                  }));
          g = [];
          for (n = 0; n < this.numLonePair; n++) g.push({ t: 2 });
          for (n = 0; n < this.numRadical; n++) g.push({ t: 1 });
          this.enhancedStereo.type !== p.Atom.ESTEREO_ABSOLUTE &&
            g.push(this.enhancedStereo);
          if (0 < g.length)
            if (
              ((b.fillStyle = "black"),
              (b.font = m.getFontString(
                0.8 * c.atoms_font_size_2D,
                c.atoms_font_families_2D,
                c.atoms_font_bold_2D,
                c.atoms_font_italic_2D
              )),
              (b.textAlign = "center"),
              (b.textBaseline = "middle"),
              (u = this.angles.slice(0)),
              (n = this.angleOfLeastInterference),
              (x = this.largestAngle),
              y !== a &&
                (u.push(y),
                u.sort(function (b, a) {
                  return b - a;
                }),
                (x = k.angleBetweenLargest(u)),
                (n = x.angle % (2 * d.PI)),
                (x = x.largest)),
              y === a && d.abs(x - (2 * d.PI) / u.length) < d.PI / 60)
            ) {
              u = d.ceil(g.length / u.length);
              for (let a = 0, f = g.length; a < f; a += u, n += x)
                this.drawAttribute(
                  b,
                  c,
                  g.slice(a, d.min(g.length, a + u)),
                  n,
                  x,
                  y,
                  l
                );
            } else this.drawAttribute(b, c, g, n, x, y, l);
        }
      }
    };
    c.drawAttribute = function (b, c, f, r, g, e, u) {
      e = g / (f.length + (0 === this.bonds.length && e === a ? 0 : 1));
      r = r - g / 2 + e;
      for (g = 0; g < f.length; g++) {
        var l = f[g],
          h = r + g * e,
          n = c.atoms_lonePairDistance_2D;
        u && l.type !== a && (n += 4);
        let v = this.x + Math.cos(h) * n;
        n = this.y - Math.sin(h) * n;
        l.type !== a
          ? b.fillText(l.type + l.group, v, n)
          : 2 === l.t
          ? ((h += Math.PI / 2),
            (l = (Math.cos(h) * c.atoms_lonePairSpread_2D) / 2),
            (h = (-Math.sin(h) * c.atoms_lonePairSpread_2D) / 2),
            b.beginPath(),
            b.arc(v + l, n + h, c.atoms_lonePairDiameter_2D, 0, 2 * d.PI, !1),
            b.fill(),
            b.beginPath(),
            b.arc(v - l, n - h, c.atoms_lonePairDiameter_2D, 0, 2 * d.PI, !1),
            b.fill())
          : 1 === l.t &&
            (b.beginPath(),
            b.arc(v, n, c.atoms_lonePairDiameter_2D, 0, 2 * d.PI, !1),
            b.fill());
      }
    };
    c.drawDecorations = function (b, a) {
      if (this.isHover || this.isSelected)
        (b.strokeStyle = this.isHover ? a.colorHover : a.colorSelect),
          (b.lineWidth = 1.2),
          b.beginPath(),
          b.arc(this.x, this.y, this.isHover ? 7 : 15, 0, 2 * d.PI, !1),
          b.stroke();
      this.isOverlap &&
        ((b.strokeStyle = a.colorError),
        (b.lineWidth = 1.2),
        b.beginPath(),
        b.arc(this.x, this.y, 7, 0, 2 * d.PI, !1),
        b.stroke());
    };
    c.render = function (b, a, c) {
      this.styles && (a = this.styles);
      let f = g.translate(g.identity(), [this.x, this.y, this.z]),
        l = a.atoms_useVDWDiameters_3D
          ? e[this.label].vdWRadius * a.atoms_vdwMultiplier_3D
          : a.atoms_sphereDiameter_3D / 2;
      0 === l && (l = 1);
      g.scale(f, [l, l, l]);
      c ||
        ((c = a.atoms_color),
        a.atoms_useJMOLColors
          ? (c = e[this.label].jmolColor)
          : a.atoms_usePYMOLColors && (c = e[this.label].pymolColor),
        b.material.setDiffuseColor(b, c));
      b.shader.setMatrixUniforms(b, f);
      b.drawElements(
        b.TRIANGLES,
        (this.renderAsStar ? b.starBuffer : b.sphereBuffer).vertexIndexBuffer
          .numItems,
        b.UNSIGNED_SHORT,
        0
      );
    };
    c.renderHighlight = function (b, a) {
      if (this.isSelected || this.isHover) {
        this.styles && (a = this.styles);
        let c = g.translate(g.identity(), [this.x, this.y, this.z]),
          f = a.atoms_useVDWDiameters_3D
            ? e[this.label].vdWRadius * a.atoms_vdwMultiplier_3D
            : a.atoms_sphereDiameter_3D / 2;
        0 === f && (f = 1);
        f *= 1.3;
        g.scale(c, [f, f, f]);
        b.shader.setMatrixUniforms(b, c);
        b.material.setDiffuseColor(
          b,
          this.isHover ? a.colorHover : a.colorSelect
        );
        b.drawElements(
          b.TRIANGLES,
          (this.renderAsStar ? b.starBuffer : b.sphereBuffer).vertexIndexBuffer
            .numItems,
          b.UNSIGNED_SHORT,
          0
        );
      }
    };
    c.isLabelVisible = function (b) {
      return b.atoms_displayAllCarbonLabels_2D ||
        "C" !== this.label ||
        this.altLabel ||
        !e[this.label] ||
        -1 !== this.mass ||
        -1 !== this.implicitH ||
        0 !== this.charge ||
        (b.atoms_showAttributedCarbons_2D &&
          (0 !== this.numRadical || 0 !== this.numLonePair)) ||
        (this.isHidden && b.atoms_showHiddenCarbons_2D) ||
        (b.atoms_displayTerminalCarbonLabels_2D && 1 === this.bondNumber)
        ? !0
        : !1;
    };
    c.getImplicitHydrogenCount = function () {
      if (!e[this.label]) return 0;
      if (-1 !== this.implicitH) return this.implicitH;
      if (!e[this.label].addH || "H" === this.label) return 0;
      var b = e[this.label].valency;
      let a = b - this.coordinationNumber;
      0 < this.numRadical && (a = d.max(0, a - this.numRadical));
      0 < this.charge
        ? ((b = 4 - b),
          (a =
            this.charge <= b
              ? a + this.charge
              : 4 - this.coordinationNumber - this.charge + b))
        : (a += this.charge);
      return 0 > a ? 0 : d.floor(a);
    };
    c.getBounds = function () {
      let b = new k.Bounds();
      b.expand(this.x, this.y);
      if (this.textBounds)
        for (let a = 0, c = this.textBounds.length; a < c; a++) {
          let c = this.textBounds[a];
          b.expand(c.x, c.y, c.x + c.w, c.y + c.h);
        }
      return b;
    };
    c.getBounds3D = function () {
      let b = new k.Bounds();
      b.expand3D(this.x, this.y, this.z);
      return b;
    };
    c.getElementColor = function (b, a, c) {
      if (!e[this.label]) return "#000";
      b ? (c = e[this.label].jmolColor) : a && (c = e[this.label].pymolColor);
      return c;
    };
  })(
    ChemDoodle.ELEMENT,
    ChemDoodle.extensions,
    ChemDoodle.math,
    ChemDoodle.structures,
    Math,
    ChemDoodle.lib.mat4
  );
  (function (e, m, k, p, d, g, a, f) {
    k.Bond = function (a, b, l) {
      this.a1 = a;
      this.a2 = b;
      this.bondOrder = l !== f ? l : 1;
      this.pid = k.PID++;
    };
    k.Bond.STEREO_NONE = "none";
    k.Bond.STEREO_PROTRUDING = "protruding";
    k.Bond.STEREO_RECESSED = "recessed";
    k.Bond.STEREO_AMBIGUOUS = "ambiguous";
    e = k.Bond.prototype;
    e.stereo = k.Bond.STEREO_NONE;
    e.isHover = !1;
    e.ring = f;
    e.getCenter = function () {
      return new k.Point(
        (this.a1.x + this.a2.x) / 2,
        (this.a1.y + this.a2.y) / 2
      );
    };
    e.getLength = function () {
      return this.a1.distance(this.a2);
    };
    e.getLength3D = function () {
      return this.a1.distance3D(this.a2);
    };
    e.contains = function (a) {
      return a === this.a1 || a === this.a2;
    };
    e.getNeighbor = function (a) {
      return a === this.a1 ? this.a2 : a === this.a2 ? this.a1 : f;
    };
    e.draw = function (a, b) {
      if (this.a1.x !== this.a2.x || this.a1.y !== this.a2.y) {
        this.styles && (b = this.styles);
        var c = this.a1.x,
          f = this.a2.x,
          g = this.a1.y,
          e = this.a2.y,
          n = this.a1.distance(this.a2),
          u = f - c,
          w = e - g;
        if (this.a1.isLassoed && this.a2.isLassoed) {
          let b = a.createLinearGradient(c, g, f, e);
          b.addColorStop(0, "rgba(212, 99, 0, 0)");
          b.addColorStop(0.5, "rgba(212, 99, 0, 0.8)");
          b.addColorStop(1, "rgba(212, 99, 0, 0)");
          let l = this.a1.angle(this.a2) + d.PI / 2,
            h = d.cos(l),
            r = d.sin(l),
            n = c - 2.5 * h,
            v = g + 2.5 * r,
            u = c + 2.5 * h,
            p = g - 2.5 * r,
            k = f + 2.5 * h,
            w = e - 2.5 * r,
            m = f - 2.5 * h,
            H = e + 2.5 * r;
          a.fillStyle = b;
          a.beginPath();
          a.moveTo(n, v);
          a.lineTo(u, p);
          a.lineTo(k, w);
          a.lineTo(m, H);
          a.closePath();
          a.fill();
        }
        if (
          b.atoms_display &&
          !b.atoms_circles_2D &&
          this.a1.isLabelVisible(b) &&
          this.a1.textBounds
        ) {
          let a = 0;
          for (let b = 0, c = this.a1.textBounds.length; b < c; b++)
            a = Math.max(
              a,
              p.calculateDistanceInterior(
                this.a1,
                this.a2,
                this.a1.textBounds[b]
              )
            );
          a += b.bonds_atomLabelBuffer_2D;
          let f = a / n;
          c += u * f;
          g += w * f;
        }
        if (
          b.atoms_display &&
          !b.atoms_circles_2D &&
          this.a2.isLabelVisible(b) &&
          this.a2.textBounds
        ) {
          let a = 0;
          for (let b = 0, c = this.a2.textBounds.length; b < c; b++)
            a = Math.max(
              a,
              p.calculateDistanceInterior(
                this.a2,
                this.a1,
                this.a2.textBounds[b]
              )
            );
          a += b.bonds_atomLabelBuffer_2D;
          let c = a / n;
          f -= u * c;
          e -= w * c;
        }
        if (b.bonds_clearOverlaps_2D) {
          let d = c + 0.15 * u,
            l = g + 0.15 * w,
            h = f - 0.15 * u,
            r = e - 0.15 * w;
          a.strokeStyle = b.backgroundColor;
          a.lineWidth = b.bonds_width_2D + 2 * b.bonds_overlapClearWidth_2D;
          a.lineCap = "round";
          a.beginPath();
          a.moveTo(d, l);
          a.lineTo(h, r);
          a.stroke();
        }
        a.strokeStyle = this.error ? b.colorError : b.bonds_color;
        a.fillStyle = this.error ? b.colorError : b.bonds_color;
        a.lineWidth = b.bonds_width_2D;
        a.lineCap = b.bonds_ends_2D;
        if (b.bonds_splitColor) {
          let d = a.createLinearGradient(c, g, f, e),
            l = this.a1.styles ? this.a1.styles : b,
            h = this.a2.styles ? this.a2.styles : b,
            r = this.a1.getElementColor(
              l.atoms_useJMOLColors,
              l.atoms_usePYMOLColors,
              l.atoms_color,
              2
            ),
            n = this.a2.getElementColor(
              h.atoms_useJMOLColors,
              h.atoms_usePYMOLColors,
              h.atoms_color,
              2
            );
          d.addColorStop(0, r);
          b.bonds_colorGradient ||
            (d.addColorStop(0.5, r), d.addColorStop(0.51, n));
          d.addColorStop(1, n);
          a.strokeStyle = d;
          a.fillStyle = d;
        }
        if (b.bonds_lewisStyle_2D && 0 === this.bondOrder % 1)
          this.drawLewisStyle(a, b, c, g, f, e);
        else
          switch (this.query ? 1 : this.bondOrder) {
            case 0:
              if (this.stereo === k.Bond.STEREO_PROTRUDING) {
                let l = b.bonds_wedgeThickness_2D / 2,
                  h = this.a1.angle(this.a2),
                  r = h + d.PI / 2,
                  n = (2 * b.shapes_arrowLength_2D) / d.sqrt(3),
                  v = d.cos(h),
                  u = d.sin(h),
                  p = d.cos(r),
                  k = d.sin(r),
                  w = f - v * n * 0.8,
                  m = e + u * n * 0.8,
                  F = w + p * l,
                  H = m - k * l,
                  L = w - p * l,
                  N = m + k * l;
                a.beginPath();
                a.moveTo(f, e);
                a.lineTo(F, H);
                a.lineTo(L, N);
                a.closePath();
                a.fill();
                a.stroke();
                a.beginPath();
                a.moveTo(c, g);
                a.lineTo(w, m);
                a.stroke();
              } else {
                let l = f - c,
                  h = e - g,
                  r = d.sqrt(l * l + h * h),
                  n = d.floor(r / b.bonds_dotSize_2D),
                  v = (r - (n - 1) * b.bonds_dotSize_2D) / 2;
                1 === n % 2
                  ? (v += b.bonds_dotSize_2D / 4)
                  : ((v -= b.bonds_dotSize_2D / 4), (n += 2));
                n /= 2;
                let u = this.a1.angle(this.a2),
                  p = c + v * Math.cos(u),
                  k = g - v * Math.sin(u);
                a.beginPath();
                for (let c = 0; c < n; c++)
                  a.arc(p, k, b.bonds_dotSize_2D / 2, 0, 2 * d.PI, !1),
                    (p += 2 * b.bonds_dotSize_2D * Math.cos(u)),
                    (k -= 2 * b.bonds_dotSize_2D * Math.sin(u));
                a.fill();
                break;
              }
            case 0.5:
              a.beginPath();
              a.moveTo(c, g);
              a.lineTo(f, e);
              a.setLineDash([b.bonds_hashSpacing_2D, b.bonds_hashSpacing_2D]);
              a.stroke();
              a.setLineDash([]);
              break;
            case 1:
              if (
                this.query ||
                (this.stereo !== k.Bond.STEREO_PROTRUDING &&
                  this.stereo !== k.Bond.STEREO_RECESSED)
              )
                if (this.query || this.stereo !== k.Bond.STEREO_AMBIGUOUS)
                  a.beginPath(),
                    a.moveTo(c, g),
                    a.lineTo(f, e),
                    a.stroke(),
                    this.query && this.query.draw(a, b, this.getCenter());
                else {
                  let l = f - c,
                    h = e - g;
                  a.beginPath();
                  a.moveTo(c, g);
                  let r = d.floor(
                      d.sqrt(l * l + h * h) / b.bonds_wavyLength_2D
                    ),
                    n = c,
                    v = g,
                    u = this.a1.angle(this.a2) + d.PI / 2,
                    p = d.cos(u),
                    k = d.sin(u),
                    w = l / r,
                    m = h / r,
                    F,
                    H;
                  for (let c = 0; c < r; c++) {
                    n += w;
                    v += m;
                    let f = 0 === c % 2 ? 1 : -1;
                    F = b.bonds_wavyLength_2D * p * f + n - 0.5 * w;
                    H = b.bonds_wavyLength_2D * -k * f + v - 0.5 * m;
                    a.quadraticCurveTo(F, H, n, v);
                  }
                  a.stroke();
                }
              else {
                let l = b.bonds_width_2D / 2,
                  h = b.bonds_wedgeThickness_2D / 2,
                  r = this.a1.angle(this.a2) + d.PI / 2,
                  n = d.cos(r),
                  v = d.sin(r),
                  u = c - n * l,
                  p = g + v * l,
                  w = c + n * l,
                  m = g - v * l,
                  G = f + n * h,
                  F = e - v * h,
                  H = f - n * h,
                  L = e + v * h;
                a.save();
                a.beginPath();
                a.moveTo(u, p);
                a.lineTo(w, m);
                a.lineTo(G, F);
                a.lineTo(H, L);
                a.closePath();
                this.stereo === k.Bond.STEREO_PROTRUDING
                  ? a.fill()
                  : (a.clip(),
                    (a.lineWidth = 2 * h),
                    (a.lineCap = "butt"),
                    a.beginPath(),
                    a.moveTo(c, g),
                    a.lineTo(f + 5 * (f - c), e + 5 * (e - g)),
                    a.setLineDash([
                      b.bonds_hashWidth_2D,
                      b.bonds_hashSpacing_2D,
                    ]),
                    a.stroke());
                a.restore();
              }
              break;
            case 1.5:
            case 2: {
              let l = this.a1.angle(this.a2),
                h = l + d.PI / 2,
                r = d.cos(h),
                n = d.sin(h),
                v = this.a1.distance(this.a2),
                u = b.bonds_useAbsoluteSaturationWidths_2D
                  ? b.bonds_saturationWidthAbs_2D / 2
                  : (v * b.bonds_saturationWidth_2D) / 2;
              if (this.stereo === k.Bond.STEREO_AMBIGUOUS) {
                let b = c - r * u,
                  l = g + n * u,
                  d = c + r * u,
                  h = g - n * u,
                  v = f + r * u,
                  p = e - n * u,
                  k = f - r * u,
                  w = e + n * u;
                a.beginPath();
                a.moveTo(b, l);
                a.lineTo(v, p);
                a.moveTo(d, h);
                a.lineTo(k, w);
                a.stroke();
              } else if (
                !b.bonds_symmetrical_2D &&
                (this.ring || ("C" === this.a1.label && "C" === this.a2.label))
              ) {
                a.beginPath();
                a.moveTo(c, g);
                a.lineTo(f, e);
                a.stroke();
                let h = 0;
                u *= 2;
                let p = b.bonds_saturationAngle_2D;
                p < d.PI / 2 && (h = -(u / d.tan(p)));
                if (d.abs(h) < v / 2) {
                  let v = c - d.cos(l) * h,
                    p = f + d.cos(l) * h,
                    k = g + d.sin(l) * h,
                    w = e - d.sin(l) * h,
                    t = v - r * u,
                    y = k + n * u,
                    m = v + r * u,
                    x = k - n * u,
                    z = p - r * u,
                    C = w + n * u,
                    A = p + r * u,
                    D = w - n * u,
                    B =
                      !this.ring ||
                      (this.ring.center.angle(this.a1) >
                        this.ring.center.angle(this.a2) &&
                        !(
                          this.ring.center.angle(this.a1) -
                            this.ring.center.angle(this.a2) >
                          d.PI
                        )) ||
                      this.ring.center.angle(this.a1) -
                        this.ring.center.angle(this.a2) <
                        -d.PI;
                  a.beginPath();
                  B
                    ? (a.moveTo(t, y), a.lineTo(z, C))
                    : (a.moveTo(m, x), a.lineTo(A, D));
                  2 !== this.bondOrder &&
                    a.setLineDash([
                      b.bonds_hashSpacing_2D,
                      b.bonds_hashSpacing_2D,
                    ]);
                  a.stroke();
                  a.setLineDash([]);
                }
              } else {
                let l = c - r * u,
                  d = g + n * u,
                  h = c + r * u,
                  v = g - n * u,
                  p = f + r * u,
                  k = e - n * u,
                  w = f - r * u,
                  t = e + n * u;
                a.beginPath();
                a.moveTo(l, d);
                a.lineTo(w, t);
                a.stroke();
                a.beginPath();
                a.moveTo(h, v);
                a.lineTo(p, k);
                2 !== this.bondOrder &&
                  a.setLineDash([b.bonds_hashWidth_2D, b.bonds_hashSpacing_2D]);
                a.stroke();
                a.setLineDash([]);
              }
              break;
            }
            case 3: {
              let l = b.bonds_useAbsoluteSaturationWidths_2D
                  ? b.bonds_saturationWidthAbs_2D
                  : this.a1.distance(this.a2) * b.bonds_saturationWidth_2D,
                h = this.a1.angle(this.a2) + d.PI / 2,
                r = d.cos(h),
                n = d.sin(h),
                v = c - r * l,
                u = g + n * l,
                p = c + r * l,
                k = g - n * l,
                w = f + r * l,
                m = e - n * l,
                F = f - r * l,
                H = e + n * l;
              a.beginPath();
              a.moveTo(v, u);
              a.lineTo(F, H);
              a.moveTo(p, k);
              a.lineTo(w, m);
              a.moveTo(c, g);
              a.lineTo(f, e);
              a.stroke();
            }
          }
      }
    };
    e.drawDecorations = function (a, b) {
      if (this.isHover || this.isSelected) {
        let c = 2 * d.PI,
          f = (this.a1.angleForStupidCanvasArcs(this.a2) + d.PI / 2) % c;
        a.strokeStyle = this.isHover ? b.colorHover : b.colorSelect;
        a.lineWidth = 1.2;
        a.beginPath();
        b = (f + d.PI) % c;
        b %= 2 * d.PI;
        a.arc(this.a1.x, this.a1.y, 7, f, b, !1);
        a.stroke();
        a.beginPath();
        f += d.PI;
        b = (f + d.PI) % c;
        a.arc(this.a2.x, this.a2.y, 7, f, b, !1);
        a.stroke();
      }
    };
    e.drawLewisStyle = function (a, b, f, h, g, e) {
      var c = this.a1.angle(this.a2);
      let l = c + d.PI / 2;
      g -= f;
      e -= h;
      g = d.sqrt(g * g + e * e) / (this.bondOrder + 1);
      e = g * d.cos(c);
      c = -g * d.sin(c);
      f += e;
      h += c;
      for (g = 0; g < this.bondOrder; g++) {
        var r = b.atoms_lonePairSpread_2D / 2;
        let g = f - d.cos(l) * r,
          n = h + d.sin(l) * r,
          v = f + d.cos(l) * r;
        r = h - d.sin(l) * r;
        a.beginPath();
        a.arc(
          g - b.atoms_lonePairDiameter_2D / 2,
          n - b.atoms_lonePairDiameter_2D / 2,
          b.atoms_lonePairDiameter_2D,
          0,
          2 * d.PI,
          !1
        );
        a.fill();
        a.beginPath();
        a.arc(
          v - b.atoms_lonePairDiameter_2D / 2,
          r - b.atoms_lonePairDiameter_2D / 2,
          b.atoms_lonePairDiameter_2D,
          0,
          2 * d.PI,
          !1
        );
        a.fill();
        f += e;
        h += c;
      }
    };
    e.render = function (c, b, f) {
      this.styles && (b = this.styles);
      var l = this.a1.distance3D(this.a2);
      if (0 !== l) {
        var r = b.bonds_cylinderDiameter_3D / 2,
          e = b.bonds_color,
          n = g.translate(g.identity(), [this.a1.x, this.a1.y, this.a1.z]),
          u,
          p = [
            this.a2.x - this.a1.x,
            this.a2.y - this.a1.y,
            this.a2.z - this.a1.z,
          ],
          k = [0, 1, 0],
          x = 0;
        this.a1.x === this.a2.x && this.a1.z === this.a2.z
          ? ((k = [0, 0, 1]), this.a2.y < this.a1.y && (x = d.PI))
          : ((x = m.vec3AngleFrom(k, p)), (k = a.cross(k, p, [])));
        if (b.bonds_splitColor) {
          e = this.a1.styles ? this.a1.styles : b;
          var t = this.a2.styles ? this.a2.styles : b;
          e = this.a1.getElementColor(
            e.atoms_useJMOLColors,
            e.atoms_usePYMOLColors,
            e.atoms_color
          );
          t = this.a2.getElementColor(
            t.atoms_useJMOLColors,
            t.atoms_usePYMOLColors,
            t.atoms_color
          );
          e != t &&
            (u = g.translate(g.identity(), [this.a2.x, this.a2.y, this.a2.z]));
        }
        var z = [0];
        if (f) {
          if (b.bonds_showBondOrders_3D && 1 < this.bondOrder) {
            z = [b.bonds_cylinderDiameter_3D];
            var A = [0, 0, 1];
            r = g.inverse(c.rotationMatrix, []);
            g.multiplyVec3(r, A);
            A = a.cross(p, A, []);
            a.normalize(A);
          }
          p = 1;
          var B = b.bonds_pillSpacing_3D;
          r = b.bonds_pillHeight_3D;
          0 == this.bondOrder &&
            (b.bonds_renderAsLines_3D
              ? (r = B)
              : ((r = b.bonds_pillDiameter_3D),
                r < b.bonds_cylinderDiameter_3D && (r /= 2),
                (p = r / 2),
                (l /= p),
                (B /= p / 2)));
          f = r + B;
          let h = d.floor(l / f);
          l = (B + b.bonds_pillDiameter_3D + (l - f * h)) / 2;
          B = h;
          u && (B = d.floor(h / 2));
          for (let v = 0, w = z.length; v < w; v++) {
            let w = g.set(n, []);
            0 !== z[v] && g.translate(w, a.scale(A, z[v], []));
            0 !== x && g.rotate(w, x, k);
            1 != p && g.scale(w, [p, p, p]);
            e && c.material.setDiffuseColor(c, e);
            g.translate(w, [0, l, 0]);
            for (var C = 0; C < B; C++)
              b.bonds_renderAsLines_3D
                ? 0 == this.bondOrder
                  ? (c.shader.setMatrixUniforms(c, w),
                    c.drawArrays(c.POINTS, 0, 1))
                  : (g.scale(w, [1, r, 1]),
                    c.shader.setMatrixUniforms(c, w),
                    c.drawArrays(
                      c.LINES,
                      0,
                      c.lineBuffer.vertexPositionBuffer.numItems
                    ),
                    g.scale(w, [1, 1 / r, 1]))
                : (c.shader.setMatrixUniforms(c, w),
                  0 == this.bondOrder
                    ? c.drawElements(
                        c.TRIANGLES,
                        c.sphereBuffer.vertexIndexBuffer.numItems,
                        c.UNSIGNED_SHORT,
                        0
                      )
                    : c.drawElements(
                        c.TRIANGLES,
                        c.pillBuffer.vertexIndexBuffer.numItems,
                        c.UNSIGNED_SHORT,
                        0
                      )),
                g.translate(w, [0, f, 0]);
            if (u) {
              let e;
              b.bonds_renderAsLines_3D
                ? ((C = r), (C /= 2), (e = 0))
                : ((C = 2 / 3), (e = (1 - C) / 2));
              0 != h % 2 &&
                (g.scale(w, [1, C, 1]),
                c.shader.setMatrixUniforms(c, w),
                b.bonds_renderAsLines_3D
                  ? 0 == this.bondOrder
                    ? c.drawArrays(c.POINTS, 0, 1)
                    : c.drawArrays(
                        c.LINES,
                        0,
                        c.lineBuffer.vertexPositionBuffer.numItems
                      )
                  : 0 == this.bondOrder
                  ? c.drawElements(
                      c.TRIANGLES,
                      c.sphereBuffer.vertexIndexBuffer.numItems,
                      c.UNSIGNED_SHORT,
                      0
                    )
                  : c.drawElements(
                      c.TRIANGLES,
                      c.pillBuffer.vertexIndexBuffer.numItems,
                      c.UNSIGNED_SHORT,
                      0
                    ),
                g.translate(w, [0, f * (1 + e), 0]),
                g.scale(w, [1, 1 / C, 1]));
              g.set(u, w);
              0 !== z[v] && g.translate(w, a.scale(A, z[v], []));
              g.rotate(w, x + d.PI, k);
              1 != p && g.scale(w, [p, p, p]);
              t && c.material.setDiffuseColor(c, t);
              g.translate(w, [0, l, 0]);
              for (let a = 0; a < B; a++)
                b.bonds_renderAsLines_3D
                  ? 0 == this.bondOrder
                    ? (c.shader.setMatrixUniforms(c, w),
                      c.drawArrays(c.POINTS, 0, 1))
                    : (g.scale(w, [1, r, 1]),
                      c.shader.setMatrixUniforms(c, w),
                      c.drawArrays(
                        c.LINES,
                        0,
                        c.lineBuffer.vertexPositionBuffer.numItems
                      ),
                      g.scale(w, [1, 1 / r, 1]))
                  : (c.shader.setMatrixUniforms(c, w),
                    0 == this.bondOrder
                      ? c.drawElements(
                          c.TRIANGLES,
                          c.sphereBuffer.vertexIndexBuffer.numItems,
                          c.UNSIGNED_SHORT,
                          0
                        )
                      : c.drawElements(
                          c.TRIANGLES,
                          c.pillBuffer.vertexIndexBuffer.numItems,
                          c.UNSIGNED_SHORT,
                          0
                        )),
                  g.translate(w, [0, f, 0]);
              0 != h % 2 &&
                (g.scale(w, [1, C, 1]),
                c.shader.setMatrixUniforms(c, w),
                b.bonds_renderAsLines_3D
                  ? 0 == this.bondOrder
                    ? c.drawArrays(c.POINTS, 0, 1)
                    : c.drawArrays(
                        c.LINES,
                        0,
                        c.lineBuffer.vertexPositionBuffer.numItems
                      )
                  : 0 == this.bondOrder
                  ? c.drawElements(
                      c.TRIANGLES,
                      c.sphereBuffer.vertexIndexBuffer.numItems,
                      c.UNSIGNED_SHORT,
                      0
                    )
                  : c.drawElements(
                      c.TRIANGLES,
                      c.pillBuffer.vertexIndexBuffer.numItems,
                      c.UNSIGNED_SHORT,
                      0
                    ),
                g.translate(w, [0, f * (1 + e), 0]),
                g.scale(w, [1, 1 / C, 1]));
            }
          }
        } else {
          if (b.bonds_showBondOrders_3D) {
            switch (this.bondOrder) {
              case 1.5:
                z = [-b.bonds_cylinderDiameter_3D];
                break;
              case 2:
                z = [-b.bonds_cylinderDiameter_3D, b.bonds_cylinderDiameter_3D];
                break;
              case 3:
                z = [
                  -1.2 * b.bonds_cylinderDiameter_3D,
                  0,
                  1.2 * b.bonds_cylinderDiameter_3D,
                ];
            }
            1 < this.bondOrder &&
              ((A = [0, 0, 1]),
              (f = g.inverse(c.rotationMatrix, [])),
              g.multiplyVec3(f, A),
              (A = a.cross(p, A, [])),
              a.normalize(A));
          } else
            switch (this.bondOrder) {
              case 0:
                r *= 0.25;
                break;
              case 0.5:
              case 1.5:
                r *= 0.5;
            }
          u && (l /= 2);
          l = [r, l, r];
          for (let f = 0, h = z.length; f < h; f++)
            (p = g.set(n, [])),
              0 !== z[f] && g.translate(p, a.scale(A, z[f], [])),
              0 !== x && g.rotate(p, x, k),
              g.scale(p, l),
              e && c.material.setDiffuseColor(c, e),
              c.shader.setMatrixUniforms(c, p),
              b.bonds_renderAsLines_3D
                ? c.drawArrays(
                    c.LINES,
                    0,
                    c.lineBuffer.vertexPositionBuffer.numItems
                  )
                : c.drawArrays(
                    c.TRIANGLE_STRIP,
                    0,
                    c.cylinderBuffer.vertexPositionBuffer.numItems
                  ),
              u &&
                (g.set(u, p),
                0 !== z[f] && g.translate(p, a.scale(A, z[f], [])),
                g.rotate(p, x + d.PI, k),
                g.scale(p, l),
                t && c.material.setDiffuseColor(c, t),
                c.shader.setMatrixUniforms(c, p),
                b.bonds_renderAsLines_3D
                  ? c.drawArrays(
                      c.LINES,
                      0,
                      c.lineBuffer.vertexPositionBuffer.numItems
                    )
                  : c.drawArrays(
                      c.TRIANGLE_STRIP,
                      0,
                      c.cylinderBuffer.vertexPositionBuffer.numItems
                    ));
        }
      }
    };
    e.renderHighlight = function (c, b) {
      if (this.isSelected || this.isHover) {
        this.styles && (b = this.styles);
        this.styles && (b = this.styles);
        let l = this.a1.distance3D(this.a2);
        if (0 !== l) {
          var f = b.bonds_cylinderDiameter_3D / 1.2,
            h = g.translate(g.identity(), [this.a1.x, this.a1.y, this.a1.z]),
            r = [
              this.a2.x - this.a1.x,
              this.a2.y - this.a1.y,
              this.a2.z - this.a1.z,
            ],
            e = [0, 1, 0],
            n = 0;
          this.a1.x === this.a2.x && this.a1.z === this.a2.z
            ? ((r = [0, 0, 1]), this.a2.y < this.a1.y && (n = d.PI))
            : ((n = m.vec3AngleFrom(e, r)), (r = a.cross(e, r, [])));
          f = [f, l, f];
          0 !== n && g.rotate(h, n, r);
          g.scale(h, f);
          c.shader.setMatrixUniforms(c, h);
          c.material.setDiffuseColor(
            c,
            this.isHover ? b.colorHover : b.colorSelect
          );
          c.drawArrays(
            c.TRIANGLE_STRIP,
            0,
            c.cylinderBuffer.vertexPositionBuffer.numItems
          );
        }
      }
    };
    e.renderPicker = function (c, b) {
      this.styles && (b = this.styles);
      var f = this.a1.distance3D(this.a2);
      if (0 !== f) {
        var h = b.bonds_cylinderDiameter_3D / 2,
          r = g.translate(g.identity(), [this.a1.x, this.a1.y, this.a1.z]),
          e = [
            this.a2.x - this.a1.x,
            this.a2.y - this.a1.y,
            this.a2.z - this.a1.z,
          ],
          n = [0, 1, 0],
          u = 0;
        this.a1.x === this.a2.x && this.a1.z === this.a2.z
          ? ((n = [0, 0, 1]), this.a2.y < this.a1.y && (u = d.PI))
          : ((u = m.vec3AngleFrom(n, e)), (n = a.cross(n, e, [])));
        var p = [0];
        if (b.bonds_showBondOrders_3D)
          if (b.bonds_renderAsLines_3D) {
            switch (this.bondOrder) {
              case 1.5:
              case 2:
                p = [-b.bonds_cylinderDiameter_3D, b.bonds_cylinderDiameter_3D];
                break;
              case 3:
                p = [
                  -1.2 * b.bonds_cylinderDiameter_3D,
                  0,
                  1.2 * b.bonds_cylinderDiameter_3D,
                ];
            }
            if (1 < this.bondOrder) {
              var k = [0, 0, 1];
              let b = g.inverse(c.rotationMatrix, []);
              g.multiplyVec3(b, k);
              k = a.cross(e, k, []);
              a.normalize(k);
            }
          } else
            switch (this.bondOrder) {
              case 1.5:
              case 2:
                h *= 3;
                break;
              case 3:
                h *= 3.4;
            }
        else
          switch (this.bondOrder) {
            case 0:
              h *= 0.25;
              break;
            case 0.5:
            case 1.5:
              h *= 0.5;
          }
        f = [h, f, h];
        for (let l = 0, d = p.length; l < d; l++)
          (h = g.set(r, [])),
            0 !== p[l] && g.translate(h, a.scale(k, p[l], [])),
            0 !== u && g.rotate(h, u, n),
            g.scale(h, f),
            c.shader.setMatrixUniforms(c, h),
            b.bonds_renderAsLines_3D
              ? c.drawArrays(
                  c.LINES,
                  0,
                  c.lineBuffer.vertexPositionBuffer.numItems
                )
              : c.drawArrays(
                  c.TRIANGLE_STRIP,
                  0,
                  c.cylinderBuffer.vertexPositionBuffer.numItems
                );
      }
    };
  })(
    ChemDoodle.ELEMENT,
    ChemDoodle.extensions,
    ChemDoodle.structures,
    ChemDoodle.math,
    Math,
    ChemDoodle.lib.mat4,
    ChemDoodle.lib.vec3
  );
  (function (e, m, k) {
    e.Ring = function () {
      this.atoms = [];
      this.bonds = [];
    };
    let p = e.Ring.prototype;
    p.center = k;
    p.setupBonds = function () {
      for (let d = 0, g = this.bonds.length; d < g; d++)
        this.bonds[d].ring = this;
      this.center = this.getCenter();
    };
    p.getCenter = function () {
      let d = Infinity,
        g = Infinity,
        a = -Infinity,
        f = -Infinity;
      for (let c = 0, b = this.atoms.length; c < b; c++)
        (d = m.min(this.atoms[c].x, d)),
          (g = m.min(this.atoms[c].y, g)),
          (a = m.max(this.atoms[c].x, a)),
          (f = m.max(this.atoms[c].y, f));
      return new e.Point((a + d) / 2, (f + g) / 2);
    };
  })(ChemDoodle.structures, Math);
  (function (e, m, k, p, d, g) {
    k.Molecule = function () {
      this.atoms = [];
      this.bonds = [];
      this.rings = [];
    };
    let a = k.Molecule.prototype;
    a.findRings = !0;
    a.draw = function (a, c) {
      this.styles && (c = this.styles);
      if (c.atoms_display && !c.atoms_circles_2D)
        for (let b = 0, f = this.atoms.length; b < f; b++)
          this.atoms[b].draw(a, c);
      if (c.bonds_display)
        for (let b = 0, f = this.bonds.length; b < f; b++)
          this.bonds[b].draw(a, c);
      if (c.atoms_display)
        for (let b = 0, f = this.atoms.length; b < f; b++) {
          let f = this.atoms[b];
          c.atoms_circles_2D && f.draw(a, c);
          f.query && f.query.draw(a, c, f);
        }
    };
    a.render = function (a, c) {
      this.styles && (c = this.styles);
      var b = 0 < this.atoms.length && this.atoms[0].hetatm !== g;
      if (b) {
        if (c.macro_displayBonds) {
          0 < this.bonds.length &&
            ((c.bonds_renderAsLines_3D && !this.residueSpecs) ||
            (this.residueSpecs && this.residueSpecs.bonds_renderAsLines_3D)
              ? (a.lineWidth(
                  this.residueSpecs
                    ? this.residueSpecs.bonds_width_2D
                    : c.bonds_width_2D
                ),
                a.lineBuffer.bindBuffers(a))
              : a.cylinderBuffer.bindBuffers(a),
            a.material.setTempColors(
              a,
              c.bonds_materialAmbientColor_3D,
              g,
              c.bonds_materialSpecularColor_3D,
              c.bonds_materialShininess_3D
            ));
          for (let b = 0, d = this.bonds.length; b < d; b++) {
            var f = this.bonds[b];
            !f.a1.hetatm &&
              (-1 === c.macro_atomToLigandDistance ||
                (f.a1.closestDistance !== g &&
                  c.macro_atomToLigandDistance >= f.a1.closestDistance &&
                  c.macro_atomToLigandDistance >= f.a2.closestDistance)) &&
              f.render(a, this.residueSpecs ? this.residueSpecs : c);
          }
        }
        if (c.macro_displayAtoms) {
          0 < this.atoms.length &&
            (a.sphereBuffer.bindBuffers(a),
            a.material.setTempColors(
              a,
              c.atoms_materialAmbientColor_3D,
              g,
              c.atoms_materialSpecularColor_3D,
              c.atoms_materialShininess_3D
            ));
          for (let b = 0, d = this.atoms.length; b < d; b++)
            (f = this.atoms[b]),
              !f.hetatm &&
                (-1 === c.macro_atomToLigandDistance ||
                  (f.closestDistance !== g &&
                    c.macro_atomToLigandDistance >= f.closestDistance)) &&
                f.render(a, this.residueSpecs ? this.residueSpecs : c);
        }
      }
      if (c.bonds_display) {
        f = [];
        var d = [];
        0 < this.bonds.length &&
          (c.bonds_renderAsLines_3D
            ? (a.lineWidth(c.bonds_width_2D), a.lineBuffer.bindBuffers(a))
            : a.cylinderBuffer.bindBuffers(a),
          a.material.setTempColors(
            a,
            c.bonds_materialAmbientColor_3D,
            g,
            c.bonds_materialSpecularColor_3D,
            c.bonds_materialShininess_3D
          ));
        for (let l = 0, h = this.bonds.length; l < h; l++) {
          let h = this.bonds[l];
          if (!b || h.a1.hetatm)
            c.bonds_showBondOrders_3D
              ? 0 == h.bondOrder
                ? d.push(h)
                : 0.5 == h.bondOrder
                ? f.push(h)
                : (1.5 == h.bondOrder && f.push(h), h.render(a, c))
              : h.render(a, c);
        }
        if (0 < f.length) {
          c.bonds_renderAsLines_3D || a.pillBuffer.bindBuffers(a);
          for (let b = 0, d = f.length; b < d; b++) f[b].render(a, c, !0);
        }
        if (0 < d.length) {
          c.bonds_renderAsLines_3D || a.sphereBuffer.bindBuffers(a);
          for (let b = 0, f = d.length; b < f; b++) d[b].render(a, c, !0);
        }
      }
      if (c.atoms_display) {
        for (let b = 0, a = this.atoms.length; b < a; b++)
          (f = this.atoms[b]), (f.bondNumber = 0), (f.renderAsStar = !1);
        for (let b = 0, a = this.bonds.length; b < a; b++)
          (f = this.bonds[b]), f.a1.bondNumber++, f.a2.bondNumber++;
        0 < this.atoms.length &&
          (a.sphereBuffer.bindBuffers(a),
          a.material.setTempColors(
            a,
            c.atoms_materialAmbientColor_3D,
            g,
            c.atoms_materialSpecularColor_3D,
            c.atoms_materialShininess_3D
          ));
        f = [];
        for (let l = 0, h = this.atoms.length; l < h; l++)
          if (
            ((d = this.atoms[l]),
            !b || (d.hetatm && (c.macro_showWater || !d.isWater)))
          )
            c.atoms_nonBondedAsStars_3D && 0 === d.bondNumber
              ? ((d.renderAsStar = !0), f.push(d))
              : d.render(a, c);
        if (0 < f.length) {
          a.starBuffer.bindBuffers(a);
          for (let b = 0, d = f.length; b < d; b++) f[b].render(a, c);
        }
      }
      if (this.chains) {
        a.shader.setMatrixUniforms(a);
        if (c.proteins_displayRibbon) {
          a.material.setTempColors(
            a,
            c.proteins_materialAmbientColor_3D,
            g,
            c.proteins_materialSpecularColor_3D,
            c.proteins_materialShininess_3D
          );
          b = c.proteins_ribbonCartoonize ? this.cartoons : this.ribbons;
          for (let l = 0, h = b.length; l < h; l++)
            if (((f = b[l]), "none" !== c.proteins_residueColor)) {
              f.front.bindBuffers(a);
              d = "rainbow" === c.proteins_residueColor;
              for (let b = 0, l = f.front.segments.length; b < l; b++)
                d &&
                  a.material.setDiffuseColor(
                    a,
                    m.rainbowAt(b, l, c.macro_rainbowColors)
                  ),
                  f.front.segments[b].render(a, c);
              f.back.bindBuffers(a);
              for (let b = 0, l = f.back.segments.length; b < l; b++)
                d &&
                  a.material.setDiffuseColor(
                    a,
                    m.rainbowAt(b, l, c.macro_rainbowColors)
                  ),
                  f.back.segments[b].render(a, c);
            } else f.front.render(a, c), f.back.render(a, c);
        }
        if (c.proteins_displayPipePlank)
          for (let b = 0, f = this.pipePlanks.length; b < f; b++)
            this.pipePlanks[b].render(a, c);
        if (c.proteins_displayBackbone) {
          if (!this.alphaCarbonTrace) {
            this.alphaCarbonTrace = { nodes: [], edges: [] };
            for (let a = 0, c = this.chains.length; a < c; a++)
              if (
                ((b = this.chains[a]),
                !(
                  2 < b.length &&
                  p[b[2].name] &&
                  "#BEA06E" === p[b[2].name].aminoColor
                ) && 0 < b.length)
              )
                for (let a = 0, c = b.length - 2; a < c; a++)
                  (f = b[a].cp1),
                    (f.chainColor = b.chainColor),
                    this.alphaCarbonTrace.nodes.push(f),
                    (f = new k.Bond(b[a].cp1, b[a + 1].cp1)),
                    (f.residueName = b[a].name),
                    (f.chainColor = b.chainColor),
                    this.alphaCarbonTrace.edges.push(f),
                    a === b.length - 3 &&
                      ((f = b[a + 1].cp1),
                      (f.chainColor = b.chainColor),
                      this.alphaCarbonTrace.nodes.push(f));
          }
          if (0 < this.alphaCarbonTrace.nodes.length) {
            b = new k.Styles();
            b.atoms_display = !0;
            b.bonds_display = !0;
            b.atoms_sphereDiameter_3D = c.proteins_backboneThickness;
            b.bonds_cylinderDiameter_3D = c.proteins_backboneThickness;
            b.bonds_splitColor = !1;
            b.atoms_color = c.proteins_backboneColor;
            b.bonds_color = c.proteins_backboneColor;
            b.atoms_useVDWDiameters_3D = !1;
            a.material.setTempColors(
              a,
              c.proteins_materialAmbientColor_3D,
              g,
              c.proteins_materialSpecularColor_3D,
              c.proteins_materialShininess_3D
            );
            a.material.setDiffuseColor(a, c.proteins_backboneColor);
            for (let d = 0, l = this.alphaCarbonTrace.nodes.length; d < l; d++)
              (f = this.alphaCarbonTrace.nodes[d]),
                c.macro_colorByChain && (b.atoms_color = f.chainColor),
                a.sphereBuffer.bindBuffers(a),
                f.render(a, b);
            for (
              let l = 0, h = this.alphaCarbonTrace.edges.length;
              l < h;
              l++
            ) {
              f = this.alphaCarbonTrace.edges[l];
              var e;
              d = p[f.residueName] ? p[f.residueName] : p["*"];
              c.macro_colorByChain
                ? (e = f.chainColor)
                : "shapely" === c.proteins_residueColor
                ? (e = d.shapelyColor)
                : "amino" === c.proteins_residueColor
                ? (e = d.aminoColor)
                : "polarity" === c.proteins_residueColor
                ? (e = d.polar ? "#C10000" : "#FFFFFF")
                : "acidity" === c.proteins_residueColor
                ? (e =
                    1 === d.acidity
                      ? "#0000FF"
                      : -1 === d.acidity
                      ? "#FF0000"
                      : d.polar
                      ? "#FFFFFF"
                      : "#773300")
                : "rainbow" === c.proteins_residueColor &&
                  (e = m.rainbowAt(l, h, c.macro_rainbowColors));
              e && (b.bonds_color = e);
              a.cylinderBuffer.bindBuffers(a);
              f.render(a, b);
            }
          }
        }
        if (c.nucleics_display) {
          a.material.setTempColors(
            a,
            c.nucleics_materialAmbientColor_3D,
            g,
            c.nucleics_materialSpecularColor_3D,
            c.nucleics_materialShininess_3D
          );
          for (let b = 0, f = this.tubes.length; b < f; b++)
            a.shader.setMatrixUniforms(a), this.tubes[b].render(a, c);
        }
      }
      if (c.atoms_display) {
        e = !1;
        for (let a = 0, c = this.atoms.length; a < c; a++)
          if (((b = this.atoms[a]), b.isHover || b.isSelected)) {
            e = !0;
            break;
          }
        if (!e)
          for (let a = 0, c = this.bonds.length; a < c; a++)
            if (((b = this.bonds[a]), b.isHover || b.isSelected)) {
              e = !0;
              break;
            }
        if (e) {
          a.sphereBuffer.bindBuffers(a);
          a.blendFunc(a.SRC_ALPHA, a.ONE);
          a.material.setTempColors(
            a,
            c.atoms_materialAmbientColor_3D,
            g,
            "#000000",
            0
          );
          a.enable(a.BLEND);
          a.depthMask(!1);
          a.material.setAlpha(a, 0.4);
          a.sphereBuffer.bindBuffers(a);
          for (let b = 0, f = this.atoms.length; b < f; b++)
            (e = this.atoms[b]),
              (e.isHover || e.isSelected) && e.renderHighlight(a, c);
          a.cylinderBuffer.bindBuffers(a);
          for (let b = 0, f = this.bonds.length; b < f; b++)
            (e = this.bonds[b]),
              (e.isHover || e.isSelected) && e.renderHighlight(a, c);
          a.depthMask(!0);
          a.disable(a.BLEND);
          a.blendFuncSeparate(
            a.SRC_ALPHA,
            a.ONE_MINUS_SRC_ALPHA,
            a.ONE,
            a.ONE_MINUS_SRC_ALPHA
          );
        }
      }
    };
    a.renderPickFrame = function (a, c, b, d, h) {
      this.styles && (c = this.styles);
      var f = 0 < this.atoms.length && this.atoms[0].hetatm !== g;
      if (h && c.bonds_display) {
        0 < this.bonds.length &&
          (c.bonds_renderAsLines_3D
            ? (a.lineWidth(c.bonds_width_2D), a.lineBuffer.bindBuffers(a))
            : a.cylinderBuffer.bindBuffers(a));
        for (let d = 0, l = this.bonds.length; d < l; d++)
          if (((h = this.bonds[d]), !f || h.a1.hetatm))
            a.material.setDiffuseColor(a, m.idx2color(b.length)),
              h.renderPicker(a, c),
              b.push(h);
      }
      if (d && c.atoms_display) {
        for (let b = 0, a = this.atoms.length; b < a; b++)
          (d = this.atoms[b]), (d.bondNumber = 0), (d.renderAsStar = !1);
        for (let b = 0, a = this.bonds.length; b < a; b++)
          (d = this.bonds[b]), d.a1.bondNumber++, d.a2.bondNumber++;
        0 < this.atoms.length && a.sphereBuffer.bindBuffers(a);
        d = [];
        for (let l = 0, g = this.atoms.length; l < g; l++)
          if (
            ((h = this.atoms[l]),
            !f || (h.hetatm && (c.macro_showWater || !h.isWater)))
          )
            c.atoms_nonBondedAsStars_3D && 0 === h.bondNumber
              ? ((h.renderAsStar = !0), d.push(h))
              : (a.material.setDiffuseColor(a, m.idx2color(b.length)),
                h.render(a, c, !0),
                b.push(h));
        if (0 < d.length) {
          a.starBuffer.bindBuffers(a);
          for (let l = 0, h = d.length; l < h; l++)
            (f = d[l]),
              a.material.setDiffuseColor(a, m.idx2color(b.length)),
              f.render(a, c, !0),
              b.push(f);
        }
      }
    };
    a.getCenter3D = function () {
      if (1 === this.atoms.length)
        return new k.Atom(
          "C",
          this.atoms[0].x,
          this.atoms[0].y,
          this.atoms[0].z
        );
      let a = Infinity,
        c = Infinity,
        b = Infinity,
        l = -Infinity,
        h = -Infinity,
        g = -Infinity;
      if (this.chains)
        for (let f = 0, e = this.chains.length; f < e; f++) {
          let e = this.chains[f];
          for (let f = 0, r = e.length; f < r; f++) {
            let r = e[f];
            a = d.min(r.cp1.x, r.cp2.x, a);
            c = d.min(r.cp1.y, r.cp2.y, c);
            b = d.min(r.cp1.z, r.cp2.z, b);
            l = d.max(r.cp1.x, r.cp2.x, l);
            h = d.max(r.cp1.y, r.cp2.y, h);
            g = d.max(r.cp1.z, r.cp2.z, g);
          }
        }
      for (let f = 0, e = this.atoms.length; f < e; f++)
        (a = d.min(this.atoms[f].x, a)),
          (c = d.min(this.atoms[f].y, c)),
          (b = d.min(this.atoms[f].z, b)),
          (l = d.max(this.atoms[f].x, l)),
          (h = d.max(this.atoms[f].y, h)),
          (g = d.max(this.atoms[f].z, g));
      return new k.Atom("C", (l + a) / 2, (h + c) / 2, (g + b) / 2);
    };
    a.getCenter = function () {
      if (1 === this.atoms.length)
        return new k.Point(this.atoms[0].x, this.atoms[0].y);
      let a = Infinity,
        c = Infinity,
        b = -Infinity,
        l = -Infinity;
      for (let f = 0, g = this.atoms.length; f < g; f++)
        (a = d.min(this.atoms[f].x, a)),
          (c = d.min(this.atoms[f].y, c)),
          (b = d.max(this.atoms[f].x, b)),
          (l = d.max(this.atoms[f].y, l));
      return new k.Point((b + a) / 2, (l + c) / 2);
    };
    a.getDimension = function () {
      if (1 === this.atoms.length) return new k.Point(0, 0);
      let a = Infinity,
        c = Infinity,
        b = -Infinity,
        l = -Infinity;
      if (this.chains) {
        for (let f = 0, g = this.chains.length; f < g; f++) {
          let h = this.chains[f];
          for (let f = 0, g = h.length; f < g; f++) {
            let g = h[f];
            a = d.min(g.cp1.x, g.cp2.x, a);
            c = d.min(g.cp1.y, g.cp2.y, c);
            b = d.max(g.cp1.x, g.cp2.x, b);
            l = d.max(g.cp1.y, g.cp2.y, l);
          }
        }
        a -= 30;
        c -= 30;
        b += 30;
        l += 30;
      }
      for (let f = 0, g = this.atoms.length; f < g; f++)
        (a = d.min(this.atoms[f].x, a)),
          (c = d.min(this.atoms[f].y, c)),
          (b = d.max(this.atoms[f].x, b)),
          (l = d.max(this.atoms[f].y, l));
      return new k.Point(b - a, l - c);
    };
    a.check = function (a) {
      if (a && this.doChecks) {
        if (this.findRings)
          if (this.bonds.length - this.atoms.length !== this.fjNumCache) {
            this.rings = new e.informatics.SSSRFinder(this).rings;
            for (let b = 0, a = this.bonds.length; b < a; b++)
              this.bonds[b].ring = g;
            for (let b = 0, a = this.rings.length; b < a; b++)
              this.rings[b].setupBonds();
          } else
            for (let b = 0, a = this.rings.length; b < a; b++) {
              var c = this.rings[b];
              c.center = c.getCenter();
            }
        for (let b = 0, a = this.atoms.length; b < a; b++)
          if (((this.atoms[b].isLone = !1), "C" === this.atoms[b].label)) {
            c = 0;
            for (let a = 0, f = this.bonds.length; a < f; a++)
              (this.bonds[a].a1 !== this.atoms[b] &&
                this.bonds[a].a2 !== this.atoms[b]) ||
                c++;
            0 === c && (this.atoms[b].isLone = !0);
          }
        c = !1;
        for (let b = 0, a = this.atoms.length; b < a; b++)
          0 !== this.atoms[b].z && (c = !0);
        c && (this.sortAtomsByZ(), this.sortBondsByZ());
        this.setupMetaData();
        this.atomNumCache = this.atoms.length;
        this.bondNumCache = this.bonds.length;
        this.fjNumCache = this.bonds.length - this.atoms.length;
      }
      this.doChecks = !a;
    };
    a.getAngles = function (a) {
      let c = [];
      for (let b = 0, f = this.bonds.length; b < f; b++)
        this.bonds[b].contains(a) &&
          c.push(a.angle(this.bonds[b].getNeighbor(a)));
      c.sort(function (b, a) {
        return b - a;
      });
      return c;
    };
    a.getCoordinationNumber = function (a) {
      let c = 0;
      for (let b = 0, f = a.length; b < f; b++) c += a[b].bondOrder;
      return c;
    };
    a.getBonds = function (a) {
      let c = [];
      for (let b = 0, f = this.bonds.length; b < f; b++)
        this.bonds[b].contains(a) && c.push(this.bonds[b]);
      return c;
    };
    a.sortAtomsByZ = function () {
      for (let a = 1, c = this.atoms.length; a < c; a++) {
        let b = a;
        for (; 0 < b && this.atoms[b].z < this.atoms[b - 1].z; ) {
          let a = this.atoms[b];
          this.atoms[b] = this.atoms[b - 1];
          this.atoms[b - 1] = a;
          b--;
        }
      }
    };
    a.sortBondsByZ = function () {
      for (let a = 1, c = this.bonds.length; a < c; a++) {
        let b = a;
        for (
          ;
          0 < b &&
          this.bonds[b].a1.z + this.bonds[b].a2.z <
            this.bonds[b - 1].a1.z + this.bonds[b - 1].a2.z;

        ) {
          let a = this.bonds[b];
          this.bonds[b] = this.bonds[b - 1];
          this.bonds[b - 1] = a;
          b--;
        }
      }
    };
    a.setupMetaData = function () {
      let a = this.getCenter();
      for (let c = 0, b = this.atoms.length; c < b; c++) {
        let b = this.atoms[c];
        b.bonds = this.getBonds(b);
        b.angles = this.getAngles(b);
        b.isHidden =
          2 === b.bonds.length &&
          d.abs(d.abs(b.angles[1] - b.angles[0]) - d.PI) < d.PI / 30 &&
          b.bonds[0].bondOrder === b.bonds[1].bondOrder;
        let f = m.angleBetweenLargest(b.angles);
        b.angleOfLeastInterference = f.angle % (2 * d.PI);
        b.largestAngle = f.largest;
        b.coordinationNumber = this.getCoordinationNumber(b.bonds);
        b.bondNumber = b.bonds.length;
        b.molCenter = a;
      }
      for (let c = 0, b = this.bonds.length; c < b; c++)
        this.bonds[c].molCenter = a;
    };
    a.scaleToAverageBondLength = function (a) {
      let c = this.getAverageBondLength();
      if (0 !== c) {
        a /= c;
        for (let b = 0, c = this.atoms.length; b < c; b++)
          (this.atoms[b].x *= a), (this.atoms[b].y *= a);
      }
    };
    a.getAverageBondLength = function () {
      if (0 === this.bonds.length) return 0;
      let a = 0;
      for (let c = 0, b = this.bonds.length; c < b; c++)
        a += this.bonds[c].getLength();
      return (a /= this.bonds.length);
    };
    a.getBounds = function () {
      let a = new m.Bounds();
      for (let c = 0, b = this.atoms.length; c < b; c++)
        a.expand(this.atoms[c].getBounds());
      if (this.chains) {
        for (let c = 0, b = this.chains.length; c < b; c++) {
          let b = this.chains[c];
          for (let c = 0, f = b.length; c < f; c++) {
            let f = b[c];
            a.expand(f.cp1.x, f.cp1.y);
            a.expand(f.cp2.x, f.cp2.y);
          }
        }
        a.minX -= 30;
        a.minY -= 30;
        a.maxX += 30;
        a.maxY += 30;
      }
      return a;
    };
    a.getBounds3D = function () {
      let a = new m.Bounds();
      for (let c = 0, b = this.atoms.length; c < b; c++)
        a.expand(this.atoms[c].getBounds3D());
      if (this.chains)
        for (let c = 0, b = this.chains.length; c < b; c++) {
          let b = this.chains[c];
          for (let c = 0, f = b.length; c < f; c++) {
            let f = b[c];
            a.expand3D(f.cp1.x, f.cp1.y, f.cp1.z);
            a.expand3D(f.cp2.x, f.cp2.y, f.cp2.z);
          }
        }
      return a;
    };
    a.getAtomGroup = function (a) {
      let c = !1;
      for (let b = 0, a = this.atoms.length; b < a; b++)
        this.atoms[b].visited = !1;
      for (let f = 0, d = this.bonds.length; f < d; f++) {
        var b = this.bonds[f];
        !c && b.contains(a) && b.ring !== g && (c = !0);
      }
      if (!c) return g;
      b = [a];
      a.visited = !0;
      let f = new k.Queue();
      for (f.enqueue(a); !f.isEmpty(); ) {
        a = f.dequeue();
        for (let l = 0, h = this.bonds.length; l < h; l++) {
          var d = this.bonds[l];
          d.contains(a) &&
            c === (d.ring !== g) &&
            ((d = d.getNeighbor(a)),
            d.visited || ((d.visited = !0), b.push(d), f.enqueue(d)));
        }
      }
      return b;
    };
    a.getBondGroup = function (a) {
      let c = a.ring !== g;
      var b = !1;
      for (let c = 0, d = this.bonds.length; c < d; c++) {
        var f = this.bonds[c];
        f === a && (b = !0);
        f.visited = !1;
      }
      if (!b) return g;
      b = [a];
      a.visited = !0;
      f = new k.Queue();
      for (f.enqueue(a); !f.isEmpty(); ) {
        a = f.dequeue();
        for (let d = 0, l = this.bonds.length; d < l; d++) {
          let l = this.bonds[d];
          l.visited ||
            (l.a1 !== a.a1 &&
              l.a2 !== a.a1 &&
              l.a1 !== a.a2 &&
              l.a2 !== a.a2) ||
            (l.ring !== g) !== c ||
            ((l.visited = !0), b.push(l), f.enqueue(l));
        }
      }
      return b;
    };
  })(
    ChemDoodle,
    ChemDoodle.math,
    ChemDoodle.structures,
    ChemDoodle.RESIDUE,
    Math
  );
  (function (e, m) {
    e.Reaction = function () {};
    e.Reaction.prototype.resolve = function (e, p) {
      if (e && p) {
        var d = { reactants: [], products: [] };
        e = e.getPoints();
        if (!e) return d.reactants.push(...p), d;
        for (let g = 0, a = p.length; g < a; g++) {
          let a = p[g];
          a.getCenter().x < e[1].x ? d.reactants.push(a) : d.products.push(a);
        }
        return d;
      }
    };
  })(ChemDoodle.structures);
  (function (e, m, k, p, d) {
    let g,
      a = -1;
    e.Residue = function (a) {
      this.resSeq = a;
    };
    d = e.Residue.prototype;
    d.setup = function (a, c) {
      this.horizontalResolution = c;
      let b = [a.x - this.cp1.x, a.y - this.cp1.y, a.z - this.cp1.z];
      var f = p.cross(
        b,
        [
          this.cp2.x - this.cp1.x,
          this.cp2.y - this.cp1.y,
          this.cp2.z - this.cp1.z,
        ],
        []
      );
      this.D = p.cross(f, b, []);
      p.normalize(f);
      p.normalize(this.D);
      this.guidePointsSmall = [];
      this.guidePointsLarge = [];
      a = [
        (a.x + this.cp1.x) / 2,
        (a.y + this.cp1.y) / 2,
        (a.z + this.cp1.z) / 2,
      ];
      this.helix && (p.scale(f, 1.5), p.add(a, f));
      this.guidePointsSmall[0] = new e.Atom(
        "",
        a[0] - this.D[0] / 2,
        a[1] - this.D[1] / 2,
        a[2] - this.D[2] / 2
      );
      for (f = 1; f < c; f++)
        this.guidePointsSmall[f] = new e.Atom(
          "",
          this.guidePointsSmall[0].x + (this.D[0] * f) / c,
          this.guidePointsSmall[0].y + (this.D[1] * f) / c,
          this.guidePointsSmall[0].z + (this.D[2] * f) / c
        );
      p.scale(this.D, 4);
      this.guidePointsLarge[0] = new e.Atom(
        "",
        a[0] - this.D[0] / 2,
        a[1] - this.D[1] / 2,
        a[2] - this.D[2] / 2
      );
      for (f = 1; f < c; f++)
        this.guidePointsLarge[f] = new e.Atom(
          "",
          this.guidePointsLarge[0].x + (this.D[0] * f) / c,
          this.guidePointsLarge[0].y + (this.D[1] * f) / c,
          this.guidePointsLarge[0].z + (this.D[2] * f) / c
        );
    };
    d.getGuidePointSet = function (a) {
      if (0 === a)
        return this.helix || this.sheet
          ? this.guidePointsLarge
          : this.guidePointsSmall;
      if (1 === a) return this.guidePointsSmall;
      if (2 === a) return this.guidePointsLarge;
    };
    d.computeLineSegments = function (a, c, b, d, h) {
      this.setVerticalResolution(h);
      this.split = b.helix !== this.helix || b.sheet !== this.sheet;
      this.lineSegments = this.innerCompute(0, a, c, b, !1, h);
      d &&
        (this.lineSegmentsCartoon = this.innerCompute(
          this.helix || this.sheet ? 2 : 1,
          a,
          c,
          b,
          !0,
          h
        ));
    };
    d.innerCompute = function (a, c, b, d, h, r) {
      let f = [];
      var l = this.getGuidePointSet(a);
      c = c.getGuidePointSet(a);
      b = b.getGuidePointSet(a);
      a = d.getGuidePointSet(a);
      for (let h = 0, n = l.length; h < n; h++) {
        d = k.multiply(
          [
            c[h].x,
            c[h].y,
            c[h].z,
            1,
            b[h].x,
            b[h].y,
            b[h].z,
            1,
            l[h].x,
            l[h].y,
            l[h].z,
            1,
            a[h].x,
            a[h].y,
            a[h].z,
            1,
          ],
          g,
          []
        );
        let n = [];
        for (let b = 0; b < r; b++) {
          for (let b = 3; 0 < b; b--)
            for (let a = 0; 4 > a; a++) d[4 * b + a] += d[4 * (b - 1) + a];
          n[b] = new e.Atom("", d[12] / d[15], d[13] / d[15], d[14] / d[15]);
        }
        f[h] = n;
      }
      if (h && this.arrow)
        for (let g = 0, e = r; g < e; g++) {
          h = 1.5 - (1.3 * g) / r;
          l = m.floor(this.horizontalResolution / 2);
          c = f[l];
          for (let e = 0, r = f.length; e < r; e++)
            e !== l &&
              ((b = c[g]),
              (a = f[e][g]),
              (d = [a.x - b.x, a.y - b.y, a.z - b.z]),
              p.scale(d, h),
              (a.x = b.x + d[0]),
              (a.y = b.y + d[1]),
              (a.z = b.z + d[2]));
        }
      return f;
    };
    d.setVerticalResolution = function (f) {
      if (f !== a) {
        {
          let c = f * f,
            b = f * f * f;
          g = k.multiply(
            [
              -1 / 6,
              0.5,
              -0.5,
              1 / 6,
              0.5,
              -1,
              0.5,
              0,
              -0.5,
              0,
              0.5,
              0,
              1 / 6,
              2 / 3,
              1 / 6,
              0,
            ],
            [
              6 / b,
              0,
              0,
              0,
              6 / b,
              2 / c,
              0,
              0,
              1 / b,
              1 / c,
              1 / f,
              0,
              0,
              0,
              0,
              1,
            ],
            []
          );
          a = f;
        }
      }
    };
  })(ChemDoodle.structures, Math, ChemDoodle.lib.mat4, ChemDoodle.lib.vec3);
  (function (e, m, k, p, d) {
    m.Spectrum = function () {
      this.data = [];
      this.metadata = [];
      this.dataDisplay = [];
      this.memory = {
        offsetTop: 0,
        offsetLeft: 0,
        offsetBottom: 0,
        flipXAxis: !1,
        scale: 1,
        width: 0,
        height: 0,
      };
    };
    let g = m.Spectrum.prototype;
    g.title = d;
    g.xUnit = d;
    g.yUnit = d;
    g.continuous = !0;
    g.integrationSensitivity = 0.01;
    g.draw = function (a, f, c, b) {
      this.styles && (f = this.styles);
      let d = 5,
        h = 0,
        g = 0;
      a.fillStyle = f.text_color;
      a.textAlign = "center";
      a.textBaseline = "alphabetic";
      a.font = e.getFontString(f.text_font_size, f.text_font_families);
      this.xUnit &&
        ((g += f.text_font_size), a.fillText(this.xUnit, c / 2, b - 2));
      this.yUnit &&
        f.plots_showYAxis &&
        ((h += f.text_font_size),
        a.save(),
        a.translate(f.text_font_size, b / 2),
        a.rotate(-p.PI / 2),
        a.fillText(this.yUnit, 0, 0),
        a.restore());
      this.title &&
        ((d += f.text_font_size),
        a.fillText(this.title, c / 2, f.text_font_size));
      a.lineCap = "square";
      g += 5 + f.text_font_size;
      f.plots_showYAxis && (h += 5 + a.measureText("1000").width);
      f.plots_showGrid &&
        ((a.strokeStyle = f.plots_gridColor),
        (a.lineWidth = f.plots_gridLineWidth),
        a.strokeRect(h, d, c - h, b - g - d));
      a.textAlign = "center";
      a.textBaseline = "top";
      for (
        var v = this.maxX - this.minX, n = v / 100, u = 0.001;
        u < n || 25 < v / u;

      )
        u *= 10;
      v = 0;
      n = f.plots_flipXAxis ? c : 0;
      for (var k = p.round(this.minX / u) * u; k <= this.maxX; k += u / 2) {
        var m = this.getTransformedX(k, f, c, h);
        if (m > h)
          if (((a.strokeStyle = "black"), (a.lineWidth = 1), 0 === v % 2)) {
            a.beginPath();
            a.moveTo(m, b - g);
            a.lineTo(m, b - g + 2);
            a.stroke();
            let c = k.toFixed(5);
            for (; "0" === c.charAt(c.length - 1); )
              c = c.substring(0, c.length - 1);
            "." === c.charAt(c.length - 1) &&
              (c = c.substring(0, c.length - 1));
            let l = a.measureText(c).width;
            f.plots_flipXAxis && (l *= -1);
            let h = m - l / 2;
            if (f.plots_flipXAxis ? h < n : h > n)
              a.fillText(c, m, b - g + 2), (n = m + l / 2);
            f.plots_showGrid &&
              ((a.strokeStyle = f.plots_gridColor),
              (a.lineWidth = f.plots_gridLineWidth),
              a.beginPath(),
              a.moveTo(m, b - g),
              a.lineTo(m, d),
              a.stroke());
          } else
            a.beginPath(),
              a.moveTo(m, b - g),
              a.lineTo(m, b - g + 2),
              a.stroke();
        v++;
      }
      if (f.plots_showYAxis || f.plots_showGrid)
        for (
          u = 1 / f.scale,
            a.textAlign = "right",
            a.textBaseline = "middle",
            v = 0;
          10 >= v;
          v++
        )
          if (
            ((k = (u / 10) * v),
            (n = d + (b - g - d) * (1 - k * f.scale)),
            f.plots_showGrid &&
              ((a.strokeStyle = f.plots_gridColor),
              (a.lineWidth = f.plots_gridLineWidth),
              a.beginPath(),
              a.moveTo(h, n),
              a.lineTo(c, n),
              a.stroke()),
            f.plots_showYAxis)
          ) {
            a.strokeStyle = "black";
            a.lineWidth = 1;
            a.beginPath();
            a.moveTo(h, n);
            a.lineTo(h - 3, n);
            a.stroke();
            m = 100 * k;
            k = p.max(0, 3 - p.floor(m).toString().length);
            m = m.toFixed(k);
            if (0 < k)
              for (; "0" === m.charAt(m.length - 1); )
                m = m.substring(0, m.length - 1);
            "." === m.charAt(m.length - 1) &&
              (m = m.substring(0, m.length - 1));
            a.fillText(m, h - 3, n);
          }
      a.strokeStyle = "black";
      a.lineWidth = 1;
      a.beginPath();
      a.moveTo(c, b - g);
      a.lineTo(h, b - g);
      f.plots_showYAxis && a.lineTo(h, d);
      a.stroke();
      if (0 < this.dataDisplay.length) {
        a.textAlign = "left";
        a.textBaseline = "top";
        u = 0;
        for (let b = 0, c = this.dataDisplay.length; b < c; b++)
          if (this.dataDisplay[b].value)
            a.fillText(
              [
                this.dataDisplay[b].display,
                ": ",
                this.dataDisplay[b].value,
              ].join(""),
              h + 10,
              d + 10 + u * (f.text_font_size + 5)
            ),
              u++;
          else if (this.dataDisplay[b].tag)
            for (let c = 0, l = this.metadata.length; c < l; c++)
              if (this.metadata[c].startsWith(this.dataDisplay[b].tag)) {
                v = this.metadata[c];
                this.dataDisplay[b].display &&
                  ((v = this.metadata[c].indexOf("\x3d")),
                  (v = [
                    this.dataDisplay[b].display,
                    ": ",
                    -1 < v
                      ? this.metadata[c].substring(v + 2)
                      : this.metadata[c],
                  ].join("")));
                a.fillText(v, h + 10, d + 10 + u * (f.text_font_size + 5));
                u++;
                break;
              }
      }
      this.drawPlot(a, f, c, b, d, h, g);
      this.memory.offsetTop = d;
      this.memory.offsetLeft = h;
      this.memory.offsetBottom = g;
      this.memory.flipXAxis = f.plots_flipXAxis;
      this.memory.scale = f.scale;
      this.memory.width = c;
      this.memory.height = b;
    };
    g.drawPlot = function (a, f, c, b, l, h, g) {
      this.styles && (f = this.styles);
      a.strokeStyle = f.plots_color;
      a.lineWidth = f.plots_width;
      let e = [];
      a.save();
      a.rect(h, l, c - h, b - g - l);
      a.clip();
      a.beginPath();
      if (this.continuous) {
        var r = !1,
          u = 0,
          k = !1;
        for (let n = 0, v = this.data.length; n < v; n++) {
          let w = this.getTransformedX(this.data[n].x, f, c, h),
            y;
          n < v &&
            !r &&
            this.data[n + 1] &&
            (y = this.getTransformedX(this.data[n + 1].x, f, c, h));
          if ((w >= h && w < c) || (y !== d && y >= h && y < c)) {
            let c = this.getTransformedY(this.data[n].y, f, b, g, l);
            f.plots_showIntegration &&
              p.abs(this.data[n].y) > this.integrationSensitivity &&
              e.push(new m.Point(this.data[n].x, this.data[n].y));
            r || (a.moveTo(w, c), (r = !0));
            a.lineTo(w, c);
            u++;
            0 === u % 1e3 && (a.stroke(), a.beginPath(), a.moveTo(w, c));
            if (k) break;
          } else r && (k = !0);
        }
      } else
        for (let d = 0, e = this.data.length; d < e; d++)
          (r = this.getTransformedX(this.data[d].x, f, c, h)),
            r >= h &&
              r < c &&
              (a.moveTo(r, b - g),
              a.lineTo(r, this.getTransformedY(this.data[d].y, f, b, g, l)));
      a.stroke();
      if (f.plots_showIntegration && 1 < e.length) {
        a.strokeStyle = f.plots_integrationColor;
        a.lineWidth = f.plots_integrationLineWidth;
        a.beginPath();
        r = e[1].x > e[0].x;
        if ((this.flipXAxis && !r) || (!this.flipXAxis && r)) {
          for (r = e.length - 2; 0 <= r; r--) e[r].y += e[r + 1].y;
          r = e[0].y;
        } else {
          for (let b = 1, a = e.length; b < a; b++) e[b].y += e[b - 1].y;
          r = e[e.length - 1].y;
        }
        for (let d = 0, n = e.length; d < n; d++)
          (u = this.getTransformedX(e[d].x, f, c, h)),
            (k = this.getTransformedY(e[d].y / f.scale / r, f, b, g, l)),
            0 === d ? a.moveTo(u, k) : a.lineTo(u, k);
        a.stroke();
      }
      a.restore();
    };
    g.getTransformedY = function (a, f, c, b, d) {
      return d + (c - b - d) * (1 - a * f.scale);
    };
    g.getInverseTransformedY = function (a) {
      return (
        ((1 -
          (a - this.memory.offsetTop) /
            (this.memory.height -
              this.memory.offsetBottom -
              this.memory.offsetTop)) /
          this.memory.scale) *
        100
      );
    };
    g.getTransformedX = function (a, f, c, b) {
      a = b + ((a - this.minX) / (this.maxX - this.minX)) * (c - b);
      f.plots_flipXAxis && (a = c + b - a);
      return a;
    };
    g.getInverseTransformedX = function (a) {
      this.memory.flipXAxis &&
        (a = this.memory.width + this.memory.offsetLeft - a);
      return (
        ((a - this.memory.offsetLeft) * (this.maxX - this.minX)) /
          (this.memory.width - this.memory.offsetLeft) +
        this.minX
      );
    };
    g.setup = function () {
      let a = Number.MAX_VALUE,
        f = Number.MIN_VALUE,
        c = Number.MIN_VALUE;
      for (let b = 0, d = this.data.length; b < d; b++)
        (a = p.min(a, this.data[b].x)),
          (f = p.max(f, this.data[b].x)),
          (c = p.max(c, this.data[b].y));
      this.continuous
        ? ((this.minX = a), (this.maxX = f))
        : ((this.minX = a - 1), (this.maxX = f + 1));
      for (let b = 0, a = this.data.length; b < a; b++) this.data[b].y /= c;
    };
    g.zoom = function (a, f, c, b) {
      a = this.getInverseTransformedX(a);
      f = this.getInverseTransformedX(f);
      this.minX = p.min(a, f);
      this.maxX = p.max(a, f);
      if (b) {
        b = Number.MIN_VALUE;
        for (let a = 0, c = this.data.length; a < c; a++)
          k.isBetween(this.data[a].x, this.minX, this.maxX) &&
            (b = p.max(b, this.data[a].y));
        return 1 / b;
      }
    };
    g.translate = function (a, f) {
      a =
        (a / (f - this.memory.offsetLeft)) *
        (this.maxX - this.minX) *
        (this.memory.flipXAxis ? 1 : -1);
      this.minX += a;
      this.maxX += a;
    };
    g.alertMetadata = function () {
      alert(this.metadata.join("\n"));
    };
    g.getInternalCoordinates = function (a, f) {
      return new ChemDoodle.structures.Point(
        this.getInverseTransformedX(a),
        this.getInverseTransformedY(f)
      );
    };
    g.getClosestPlotInternalCoordinates = function (a) {
      var f = this.getInverseTransformedX(a - 1);
      a = this.getInverseTransformedX(a + 1);
      if (f > a) {
        var c = f;
        f = a;
        a = c;
      }
      c = -1;
      let b = -Infinity,
        l = !1;
      for (let d = 0, g = this.data.length; d < g; d++) {
        let h = this.data[d];
        if (k.isBetween(h.x, f, a)) h.y > b && ((l = !0), (b = h.y), (c = d));
        else if (l) break;
      }
      if (-1 === c) return d;
      f = this.data[c];
      return new ChemDoodle.structures.Point(f.x, 100 * f.y);
    };
    g.getClosestPeakInternalCoordinates = function (a) {
      var f = this.getInverseTransformedX(a);
      a = 0;
      var c = Infinity;
      for (let d = 0, l = this.data.length; d < l; d++) {
        var b = p.abs(this.data[d].x - f);
        if (b <= c) (c = b), (a = d);
        else break;
      }
      c = f = a;
      b = this.data[a].y;
      var d = this.data[a].y;
      for (let b = a + 1, f = this.data.length; b < f; b++)
        if (this.data[b].y + 0.05 > d) (d = this.data[b].y), (c = b);
        else break;
      for (d = a - 1; 0 <= d; d--)
        if (this.data[d].y + 0.05 > b) (b = this.data[d].y), (f = d);
        else break;
      a = this.data[f - a > c - a ? c : f];
      return new ChemDoodle.structures.Point(a.x, 100 * a.y);
    };
  })(ChemDoodle.extensions, ChemDoodle.structures, ChemDoodle.math, Math);
  (function (e, m, k, p) {
    m._Shape = function () {};
    m = m._Shape.prototype;
    m.drawDecorations = function (d, g) {
      if (this.isHover) {
        let a = this.getPoints();
        for (let f = 0, c = a.length; f < c; f++) {
          let b = a[f];
          this.drawAnchor(d, g, b, b === this.hoverPoint);
        }
      }
    };
    m.getBounds = function () {
      let d = new e.Bounds(),
        g = this.getPoints();
      for (let a = 0, f = g.length; a < f; a++) {
        let c = g[a];
        d.expand(c.x, c.y);
      }
      return d;
    };
    m.drawAnchor = function (d, g, a, f) {
      d.save();
      d.translate(a.x, a.y);
      d.rotate(k.PI / 4);
      d.scale(1 / g.scale, 1 / g.scale);
      d.beginPath();
      d.moveTo(-4, -4);
      d.lineTo(4, -4);
      d.lineTo(4, 4);
      d.lineTo(-4, 4);
      d.closePath();
      d.fillStyle = f ? g.colorHover : "white";
      d.fill();
      d.beginPath();
      d.moveTo(-4, -2);
      d.lineTo(-4, -4);
      d.lineTo(-2, -4);
      d.moveTo(2, -4);
      d.lineTo(4, -4);
      d.lineTo(4, -2);
      d.moveTo(4, 2);
      d.lineTo(4, 4);
      d.lineTo(2, 4);
      d.moveTo(-2, 4);
      d.lineTo(-4, 4);
      d.lineTo(-4, 2);
      d.moveTo(-4, -2);
      d.strokeStyle = "rgba(0,0,0,.2)";
      d.lineWidth = 5;
      d.stroke();
      d.strokeStyle = "blue";
      d.lineWidth = 1;
      d.stroke();
      d.restore();
    };
  })(ChemDoodle.math, ChemDoodle.structures.d2, Math);
  (function (e, m, k, p, d, g) {
    p.AtomMapping = function (a, f) {
      this.o1 = a;
      this.o2 = f;
      this.label = "0";
      this.error = !1;
    };
    m = p.AtomMapping.prototype = new p._Shape();
    m.drawDecorations = function (a, f) {
      if (this.isHover || this.isSelected)
        (a.strokeStyle = this.isHover ? f.colorHover : f.colorSelect),
          (a.lineWidth = 1),
          a.beginPath(),
          a.moveTo(this.o1.x, this.o1.y),
          a.lineTo(this.o2.x, this.o2.y),
          a.setLineDash([2]),
          a.stroke(),
          a.setLineDash([]);
    };
    m.draw = function (a, f) {
      if (this.o1 && this.o2) {
        this.x1 = this.o1.x + 14 * d.cos(this.o1.angleOfLeastInterference);
        this.y1 = this.o1.y - 14 * d.sin(this.o1.angleOfLeastInterference);
        this.x2 = this.o2.x + 14 * d.cos(this.o2.angleOfLeastInterference);
        this.y2 = this.o2.y - 14 * d.sin(this.o2.angleOfLeastInterference);
        a.font = e.getFontString(
          f.text_font_size,
          f.text_font_families,
          f.text_font_bold,
          f.text_font_italic
        );
        let c = this.label,
          b = a.measureText(c).width;
        this.isLassoed &&
          ((a.fillStyle = f.colorHover),
          a.fillRect(
            this.x1 - b / 2 - 3,
            this.y1 - f.text_font_size / 2 - 3,
            b + 6,
            f.text_font_size + 6
          ),
          a.fillRect(
            this.x2 - b / 2 - 3,
            this.y2 - f.text_font_size / 2 - 3,
            b + 6,
            f.text_font_size + 6
          ));
        let l = this.error ? f.colorError : f.shapes_color;
        if (this.isHover || this.isSelected)
          l = this.isHover ? f.colorHover : f.colorSelect;
        a.fillStyle = l;
        a.fillRect(
          this.x1 - b / 2 - 1,
          this.y1 - f.text_font_size / 2 - 1,
          b + 2,
          f.text_font_size + 2
        );
        a.fillRect(
          this.x2 - b / 2 - 1,
          this.y2 - f.text_font_size / 2 - 1,
          b + 2,
          f.text_font_size + 2
        );
        a.textAlign = "center";
        a.textBaseline = "middle";
        a.fillStyle = f.backgroundColor;
        a.fillText(c, this.x1, this.y1);
        a.fillText(c, this.x2, this.y2);
      }
    };
    m.getPoints = function () {
      return [new k.Point(this.x1, this.y1), new k.Point(this.x2, this.y2)];
    };
    m.isOver = function (a, f) {
      return this.x1
        ? a.distance({ x: this.x1, y: this.y1 }) < f ||
            a.distance({ x: this.x2, y: this.y2 }) < f
        : !1;
    };
  })(
    ChemDoodle.extensions,
    ChemDoodle.math,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    Math
  );
  (function (e, m, k, p, d, g) {
    p.Bracket = function (a, f) {
      this.p1 = a ? a : new k.Point();
      this.p2 = f ? f : new k.Point();
    };
    p = p.Bracket.prototype = new p._Shape();
    p.charge = 0;
    p.mult = 0;
    p.repeat = 0;
    p.draw = function (a, f) {
      let c = d.min(this.p1.x, this.p2.x),
        b = d.max(this.p1.x, this.p2.x),
        l = d.min(this.p1.y, this.p2.y),
        h = d.max(this.p1.y, this.p2.y),
        g = h - l;
      var p = g / 10;
      a.beginPath();
      a.moveTo(c + p, l);
      a.lineTo(c, l);
      a.lineTo(c, h);
      a.lineTo(c + p, h);
      a.moveTo(b - p, h);
      a.lineTo(b, h);
      a.lineTo(b, l);
      a.lineTo(b - p, l);
      this.isLassoed &&
        ((p = a.createLinearGradient(
          this.p1.x,
          this.p1.y,
          this.p2.x,
          this.p2.y
        )),
        p.addColorStop(0, "rgba(212, 99, 0, 0)"),
        p.addColorStop(0.5, "rgba(212, 99, 0, 0.8)"),
        p.addColorStop(1, "rgba(212, 99, 0, 0)"),
        (a.lineWidth = f.shapes_lineWidth + 5),
        (a.strokeStyle = p),
        (a.lineJoin = "miter"),
        (a.lineCap = "square"),
        a.stroke());
      a.strokeStyle = f.shapes_color;
      a.lineWidth = f.shapes_lineWidth;
      a.lineJoin = "miter";
      a.lineCap = "butt";
      a.stroke();
      0 !== this.charge &&
        ((a.fillStyle = f.text_color),
        (a.textAlign = "left"),
        (a.textBaseline = "alphabetic"),
        (a.font = e.getFontString(f.text_font_size, f.text_font_families)),
        (p = this.charge.toFixed(0)),
        (p =
          "1" === p
            ? "+"
            : "-1" === p
            ? "\u2013"
            : p.startsWith("-")
            ? p.substring(1) + "\u2013"
            : p + "+"),
        a.fillText(p, b + 5, l + 5));
      0 !== this.mult &&
        ((a.fillStyle = f.text_color),
        (a.textAlign = "right"),
        (a.textBaseline = "middle"),
        (a.font = e.getFontString(f.text_font_size, f.text_font_families)),
        a.fillText(this.mult.toFixed(0), c - 5, l + g / 2));
      0 !== this.repeat &&
        ((a.fillStyle = f.text_color),
        (a.textAlign = "left"),
        (a.textBaseline = "top"),
        (a.font = e.getFontString(f.text_font_size, f.text_font_families)),
        (f = this.repeat.toFixed(0)),
        a.fillText(f, b + 5, h - 5));
    };
    p.getPoints = function () {
      return [this.p1, this.p2];
    };
    p.isOver = function (a, f) {
      return (
        m.isBetween(a.x, this.p1.x, this.p2.x) &&
        m.isBetween(a.y, this.p1.y, this.p2.y)
      );
    };
  })(
    ChemDoodle.extensions,
    ChemDoodle.math,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    Math
  );
  (function (e, m, k, p, d, g, a) {
    d.RepeatUnit = function (a, b) {
      this.b1 = a;
      this.b2 = b;
      this.n1 = 1;
      this.n2 = 4;
      this.contents = [];
      this.ps = [];
    };
    m = d.RepeatUnit.prototype = new d._Shape();
    m.drawDecorations = function (a, b) {
      if (this.isHover)
        for (let c = 0, f = this.contents.length; c < f; c++) {
          b = this.contents[c];
          let f = a.createRadialGradient(b.x - 1, b.y - 1, 0, b.x, b.y, 7);
          f.addColorStop(0, "rgba(212, 99, 0, 0)");
          f.addColorStop(0.7, "rgba(212, 99, 0, 0.8)");
          a.fillStyle = f;
          a.beginPath();
          a.arc(b.x, b.y, 5, 0, 2 * g.PI, !1);
          a.fill();
        }
    };
    let f = function (a, b, f, d, e) {
      b = [];
      var c =
        0 < e.length
          ? -1 === e.indexOf(f.a1)
            ? f.a2
            : f.a1
          : f.a1.distance(d.getCenter()) < f.a2.distance(d.getCenter())
          ? f.a1
          : f.a2;
      d = c.angle(f.getNeighbor(c));
      var l = d + g.PI / 2;
      f = f.getLength() / (1 < e.length ? 4 : 2);
      e = c.x + f * g.cos(d);
      c = c.y - f * g.sin(d);
      var h = 10 * g.cos(l),
        r = 10 * g.sin(l);
      l = e + h;
      f = c - r;
      e -= h;
      c += r;
      r = -4 * g.cos(d);
      var k = -4 * g.sin(d);
      d = l + r;
      h = f - k;
      r = e + r;
      k = c - k;
      a.beginPath();
      a.moveTo(d, h);
      a.lineTo(l, f);
      a.lineTo(e, c);
      a.lineTo(r, k);
      a.stroke();
      b.push(new p.Point(l, f));
      b.push(new p.Point(e, c));
      return b;
    };
    m.draw = function (a, b) {
      if (this.b1 && this.b2) {
        var c = this.error ? b.colorError : b.shapes_color;
        if (this.isHover || this.isSelected)
          c = this.isHover ? b.colorHover : b.colorSelect;
        a.strokeStyle = c;
        a.fillStyle = a.strokeStyle;
        a.lineWidth = b.shapes_lineWidth;
        a.lineJoin = "miter";
        a.lineCap = "butt";
        c = f(a, b, this.b1, this.b2, this.contents);
        let d = f(a, b, this.b2, this.b1, this.contents);
        this.ps = c.concat(d);
        this.b1.getCenter().x > this.b2.getCenter().x
          ? (this.textPos =
              this.ps[0].x > this.ps[1].x + 5 ? this.ps[0] : this.ps[1])
          : (this.textPos =
              this.ps[2].x > this.ps[3].x + 5 ? this.ps[2] : this.ps[3]);
        !this.error &&
          0 < this.contents.length &&
          ((a.font = e.getFontString(
            b.text_font_size,
            b.text_font_families,
            b.text_font_bold,
            b.text_font_italic
          )),
          (a.fillStyle = this.isHover ? b.colorHover : b.text_color),
          (a.textAlign = "left"),
          (a.textBaseline = "bottom"),
          a.fillText(
            this.n1 + "-" + this.n2,
            this.textPos.x + 2,
            this.textPos.y + 2
          ));
      }
    };
    m.getPoints = function () {
      return this.ps;
    };
    m.isOver = function (a, b) {
      return !1;
    };
    m.setContents = function (c) {
      this.contents = [];
      let b = c.getMoleculeByAtom(this.b1.a1);
      c = c.getMoleculeByAtom(this.b2.a1);
      if (b && b === c) {
        var f = (c = 0);
        for (let a = 0, l = b.rings.length; a < l; a++) {
          var d = b.rings[a];
          for (let b = 0, a = d.bonds.length; b < a; b++) {
            var g = d.bonds[b];
            g === this.b1 ? c++ : g === this.b2 && f++;
          }
        }
        c = 1 === c && 1 === f && this.b1.ring === this.b2.ring;
        this.contents.flippable = c;
        if ((this.b1.ring === a && this.b2.ring === a) || c)
          for (let a = 0, l = b.atoms.length; a < l; a++) {
            g = d = f = !1;
            for (let a = 0, c = b.bonds.length; a < c; a++)
              b.bonds[a].visited = !1;
            let l = new p.Queue(),
              h = b.atoms[a];
            for (l.enqueue(h); !(l.isEmpty() || (f && d)); ) {
              let a = l.dequeue();
              c &&
                ((!this.flip && a === this.b1.a1) ||
                  (this.flip && a === this.b1.a2)) &&
                (g = !0);
              for (let c = 0, h = b.bonds.length; c < h; c++) {
                let h = b.bonds[c];
                if (h.a1 === a || h.a2 === a)
                  h === this.b1
                    ? (f = !0)
                    : h === this.b2
                    ? (d = !0)
                    : h.visited ||
                      ((h.visited = !0), l.enqueue(h.getNeighbor(a)));
              }
            }
            f && d && (!c || g) && this.contents.push(h);
          }
      }
    };
  })(
    ChemDoodle.extensions,
    ChemDoodle.math,
    ChemDoodle.lib.jsBezier,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    Math
  );
  (function (e, m, k, p, d, g) {
    p.Line = function (a, c) {
      this.p1 = a ? a : new k.Point();
      this.p2 = c ? c : new k.Point();
      this.reactants = [];
      this.products = [];
    };
    p.Line.ARROW_SYNTHETIC = "synthetic";
    p.Line.ARROW_RETROSYNTHETIC = "retrosynthetic";
    p.Line.ARROW_RESONANCE = "resonance";
    p.Line.ARROW_EQUILIBRIUM = "equilibrium";
    let a = (p.Line.prototype = new p._Shape());
    a.arrowType = g;
    a.topText = g;
    a.bottomText = g;
    a.draw = function (a, c) {
      if (this.isLassoed) {
        var b = a.createLinearGradient(
          this.p1.x,
          this.p1.y,
          this.p2.x,
          this.p2.y
        );
        b.addColorStop(0, "rgba(212, 99, 0, 0)");
        b.addColorStop(0.5, "rgba(212, 99, 0, 0.8)");
        b.addColorStop(1, "rgba(212, 99, 0, 0)");
        var f = this.p1.angle(this.p2) + d.PI / 2,
          h = d.cos(f),
          g = d.sin(f);
        f = this.p1.x - 2.5 * h;
        var v = this.p1.y + 2.5 * g,
          n = this.p1.x + 2.5 * h,
          u = this.p1.y - 2.5 * g,
          k = this.p2.x + 2.5 * h,
          m = this.p2.y - 2.5 * g;
        h = this.p2.x - 2.5 * h;
        g = this.p2.y + 2.5 * g;
        a.fillStyle = b;
        a.beginPath();
        a.moveTo(f, v);
        a.lineTo(n, u);
        a.lineTo(k, m);
        a.lineTo(h, g);
        a.closePath();
        a.fill();
      }
      a.strokeStyle = c.shapes_color;
      a.fillStyle = c.shapes_color;
      a.lineWidth = c.shapes_lineWidth;
      a.lineJoin = "miter";
      a.lineCap = "butt";
      if (this.p1.x !== this.p2.x || this.p1.y !== this.p2.y) {
        if (this.arrowType === p.Line.ARROW_RETROSYNTHETIC) {
          f = 2 * d.sqrt(2);
          b = c.shapes_arrowLength_2D / f;
          n = this.p1.angle(this.p2);
          u = n + d.PI / 2;
          f = c.shapes_arrowLength_2D / f;
          v = d.cos(n);
          n = d.sin(n);
          let l = d.cos(u),
            e = d.sin(u);
          u = this.p1.x - l * b;
          k = this.p1.y + e * b;
          m = this.p1.x + l * b;
          h = this.p1.y - e * b;
          g = this.p2.x + l * b - v * f;
          var x = this.p2.y - e * b + n * f,
            t = this.p2.x - l * b - v * f,
            z = this.p2.y + e * b + n * f,
            A = this.p2.x + l * b * 2 - v * f * 2;
          let r = this.p2.y - e * b * 2 + n * f * 2;
          v = this.p2.x - l * b * 2 - v * f * 2;
          b = this.p2.y + e * b * 2 + n * f * 2;
          a.beginPath();
          a.moveTo(m, h);
          a.lineTo(g, x);
          a.moveTo(A, r);
          a.lineTo(this.p2.x, this.p2.y);
          a.lineTo(v, b);
          a.moveTo(t, z);
          a.lineTo(u, k);
        } else
          this.arrowType === p.Line.ARROW_EQUILIBRIUM
            ? ((b = 2 * d.sqrt(2)),
              (x = c.shapes_arrowLength_2D / b / 2),
              (v = this.p1.angle(this.p2)),
              (u = v + d.PI / 2),
              (b = (2 * c.shapes_arrowLength_2D) / d.sqrt(3)),
              (f = d.cos(v)),
              (v = d.sin(v)),
              (n = d.cos(u)),
              (u = d.sin(u)),
              (k = this.p1.x - n * x),
              (m = this.p1.y + u * x),
              (t = this.p1.x + n * x),
              (z = this.p1.y - u * x),
              (h = this.p2.x + n * x),
              (g = this.p2.y - u * x),
              (A = this.p2.x - n * x),
              (x = this.p2.y + u * x),
              a.beginPath(),
              a.moveTo(t, z),
              a.lineTo(h, g),
              a.moveTo(A, x),
              a.lineTo(k, m),
              a.stroke(),
              (x = h - f * b * 0.8),
              (t = g + v * b * 0.8),
              (z = h + (n * c.shapes_arrowLength_2D) / 3 - f * b),
              (A = g - (u * c.shapes_arrowLength_2D) / 3 + v * b),
              a.beginPath(),
              a.moveTo(h, g),
              a.lineTo(z, A),
              a.lineTo(x, t),
              a.closePath(),
              a.fill(),
              a.stroke(),
              (x = k + f * b * 0.8),
              (t = m - v * b * 0.8),
              (z = k - (n * c.shapes_arrowLength_2D) / 3 + f * b),
              (A = m + (u * c.shapes_arrowLength_2D) / 3 - v * b),
              a.beginPath(),
              a.moveTo(k, m),
              a.lineTo(z, A),
              a.lineTo(x, t),
              a.closePath(),
              a.fill())
            : this.arrowType === p.Line.ARROW_SYNTHETIC
            ? ((v = this.p1.angle(this.p2)),
              (n = v + d.PI / 2),
              (b = (2 * c.shapes_arrowLength_2D) / d.sqrt(3)),
              (f = d.cos(v)),
              (v = d.sin(v)),
              (h = d.cos(n)),
              (g = d.sin(n)),
              a.beginPath(),
              a.moveTo(this.p1.x, this.p1.y),
              a.lineTo(this.p2.x - (f * b) / 2, this.p2.y + (v * b) / 2),
              a.stroke(),
              (n = this.p2.x - f * b * 0.8),
              (u = this.p2.y + v * b * 0.8),
              (k = this.p2.x + (h * c.shapes_arrowLength_2D) / 3 - f * b),
              (m = this.p2.y - (g * c.shapes_arrowLength_2D) / 3 + v * b),
              (f = this.p2.x - (h * c.shapes_arrowLength_2D) / 3 - f * b),
              (b = this.p2.y + (g * c.shapes_arrowLength_2D) / 3 + v * b),
              a.beginPath(),
              a.moveTo(this.p2.x, this.p2.y),
              a.lineTo(f, b),
              a.lineTo(n, u),
              a.lineTo(k, m),
              a.closePath(),
              a.fill())
            : this.arrowType === p.Line.ARROW_RESONANCE
            ? ((v = this.p1.angle(this.p2)),
              (u = v + d.PI / 2),
              (b = (2 * c.shapes_arrowLength_2D) / d.sqrt(3)),
              (f = d.cos(v)),
              (v = d.sin(v)),
              (n = d.cos(u)),
              (u = d.sin(u)),
              a.beginPath(),
              a.moveTo(this.p1.x + (f * b) / 2, this.p1.y - (v * b) / 2),
              a.lineTo(this.p2.x - (f * b) / 2, this.p2.y + (v * b) / 2),
              a.stroke(),
              (k = this.p2.x - f * b * 0.8),
              (m = this.p2.y + v * b * 0.8),
              (h = this.p2.x + (n * c.shapes_arrowLength_2D) / 3 - f * b),
              (g = this.p2.y - (u * c.shapes_arrowLength_2D) / 3 + v * b),
              (x = this.p2.x - (n * c.shapes_arrowLength_2D) / 3 - f * b),
              (t = this.p2.y + (u * c.shapes_arrowLength_2D) / 3 + v * b),
              a.beginPath(),
              a.moveTo(this.p2.x, this.p2.y),
              a.lineTo(x, t),
              a.lineTo(k, m),
              a.lineTo(h, g),
              a.closePath(),
              a.fill(),
              a.stroke(),
              (k = this.p1.x + f * b * 0.8),
              (m = this.p1.y - v * b * 0.8),
              (h = this.p1.x - (n * c.shapes_arrowLength_2D) / 3 + f * b),
              (g = this.p1.y + (u * c.shapes_arrowLength_2D) / 3 - v * b),
              (x = this.p1.x + (n * c.shapes_arrowLength_2D) / 3 + f * b),
              (t = this.p1.y - (u * c.shapes_arrowLength_2D) / 3 - v * b),
              a.beginPath(),
              a.moveTo(this.p1.x, this.p1.y),
              a.lineTo(x, t),
              a.lineTo(k, m),
              a.lineTo(h, g),
              a.closePath(),
              a.fill())
            : (a.beginPath(),
              a.moveTo(this.p1.x, this.p1.y),
              a.lineTo(this.p2.x, this.p2.y));
        a.stroke();
        if (this.topText || this.bottomText)
          (a.font = e.getFontString(
            c.text_font_size,
            c.text_font_families,
            c.text_font_bold,
            c.text_font_italic
          )),
            (a.fillStyle = c.text_color);
        this.topText &&
          ((a.textAlign = "center"),
          (a.textBaseline = "bottom"),
          a.fillText(this.topText, (this.p1.x + this.p2.x) / 2, this.p1.y - 5));
        this.bottomText &&
          ((a.textAlign = "center"),
          (a.textBaseline = "top"),
          a.fillText(
            this.bottomText,
            (this.p1.x + this.p2.x) / 2,
            this.p1.y + 5
          ));
      }
    };
    a.getPoints = function () {
      return [this.p1, this.p2];
    };
    a.isOver = function (a, c) {
      a = m.distanceFromPointToLineInclusive(a, this.p1, this.p2);
      return -1 !== a && a < c;
    };
  })(
    ChemDoodle.extensions,
    ChemDoodle.math,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    Math
  );
  (function (e, m, k, p, d, g) {
    let a = function (b) {
        let a = [];
        if (b instanceof k.Atom)
          if (0 === b.bondNumber) a.push(d.PI);
          else {
            if (b.angles) {
              if (1 === b.angles.length) a.push(b.angles[0] + d.PI);
              else {
                for (let c = 1, f = b.angles.length; c < f; c++)
                  a.push(b.angles[c - 1] + (b.angles[c] - b.angles[c - 1]) / 2);
                var c = b.angles[b.angles.length - 1];
                a.push(c + (b.angles[0] + 2 * d.PI - c) / 2);
              }
              b.largestAngle > d.PI && (a = [b.angleOfLeastInterference]);
              if (b.bonds)
                for (let f = 0, d = b.bonds.length; f < d; f++)
                  if (
                    ((c = b.bonds[f]),
                    2 === c.bondOrder &&
                      ((c = c.getNeighbor(b)), "O" === c.label))
                  ) {
                    a = [c.angle(b)];
                    break;
                  }
            }
          }
        else
          (b = b.a1.angle(b.a2)),
            a.push(b + d.PI / 2),
            a.push(b + (3 * d.PI) / 2);
        for (let b = 0, c = a.length; b < c; b++) {
          for (; a[b] > 2 * d.PI; ) a[b] -= 2 * d.PI;
          for (; 0 > a[b]; ) a[b] += 2 * d.PI;
        }
        return a;
      },
      f = function (b, a) {
        let c = 3;
        if (b instanceof k.Atom) {
          if (
            (b.isLabelVisible(a) && (c = 8),
            0 !== b.charge || 0 !== b.numRadical || 0 !== b.numLonePair)
          )
            c = 13;
        } else b instanceof k.Point ? (c = 0) : 1 < b.bondOrder && (c = 5);
        return c;
      },
      c = function (b, a, c, g, e, n, p, w, m, x) {
        var h = n.angle(e),
          l = p.angle(w),
          r = d.cos(h);
        h = d.sin(h);
        var u = f(c, a);
        e.x -= r * u;
        e.y += h * u;
        u = l + d.PI / 2;
        c = (2 * a.shapes_arrowLength_2D) / d.sqrt(3);
        r = d.cos(l);
        h = d.sin(l);
        let v = d.cos(u),
          y = d.sin(u);
        w.x -= 5 * r;
        w.y += 5 * h;
        l = new k.Point(w.x, w.y);
        u = f(g, a) / 3;
        l.x -= r * u;
        l.y += h * u;
        w.x -= r * (0.8 * c + u);
        w.y += h * (0.8 * c + u);
        g = l.x - r * c * 0.8;
        u = l.y + h * c * 0.8;
        let J = new k.Point(
          l.x + (v * a.shapes_arrowLength_2D) / 3 - r * c,
          l.y - (y * a.shapes_arrowLength_2D) / 3 + h * c
        );
        a = new k.Point(
          l.x - (v * a.shapes_arrowLength_2D) / 3 - r * c,
          l.y + (y * a.shapes_arrowLength_2D) / 3 + h * c
        );
        h = r = !0;
        1 === m && (J.distance(n) > a.distance(n) ? (h = !1) : (r = !1));
        b.beginPath();
        b.moveTo(l.x, l.y);
        h && b.lineTo(a.x, a.y);
        b.lineTo(g, u);
        r && b.lineTo(J.x, J.y);
        b.closePath();
        b.fill();
        b.stroke();
        b.beginPath();
        b.moveTo(e.x, e.y);
        b.bezierCurveTo(n.x, n.y, p.x, p.y, w.x, w.y);
        b.stroke();
        x.push([e, n, p, w]);
      };
    p.Pusher = function (b, a, c) {
      this.o1 = b;
      this.o2 = a;
      this.numElectron = c ? c : 1;
    };
    p = p.Pusher.prototype = new p._Shape();
    p.drawDecorations = function (b, a) {
      if (this.isHover) {
        var c =
            this.o1 instanceof k.Atom
              ? new k.Point(this.o1.x, this.o1.y)
              : this.o1.getCenter(),
          f =
            this.o2 instanceof k.Atom
              ? new k.Point(this.o2.x, this.o2.y)
              : this.o2.getCenter();
        c = [c, f];
        for (let d = 0, h = c.length; d < h; d++)
          (f = c[d]), this.drawAnchor(b, a, f, f === this.hoverPoint);
      }
    };
    p.draw = function (b, f) {
      if (this.o1 && this.o2) {
        b.strokeStyle = f.shapes_color;
        b.fillStyle = f.shapes_color;
        b.lineWidth = f.shapes_lineWidth;
        b.lineJoin = "miter";
        b.lineCap = "butt";
        let r =
            this.o1 instanceof k.Atom
              ? new k.Point(this.o1.x, this.o1.y)
              : this.o1.getCenter(),
          u =
            this.o2 instanceof k.Atom
              ? new k.Point(this.o2.x, this.o2.y)
              : this.o2.getCenter();
        var h = a(this.o1),
          g = a(this.o2);
        let v, m;
        var l = Infinity;
        for (let b = 0, a = h.length; b < a; b++)
          for (let a = 0, c = g.length; a < c; a++) {
            var n = new k.Point(r.x + 35 * d.cos(h[b]), r.y - 35 * d.sin(h[b])),
              p = new k.Point(u.x + 35 * d.cos(g[a]), u.y - 35 * d.sin(g[a])),
              w = n.distance(p);
            w < l && ((l = w), (v = n), (m = p));
          }
        this.caches = [];
        -1 === this.numElectron
          ? ((n = r.distance(u) / 2),
            (g = r.angle(u)),
            (h = g + d.PI / 2),
            (p = d.cos(g)),
            (w = d.sin(g)),
            (g = new k.Point(r.x + (n - 1) * p, r.y - (n - 1) * w)),
            (l = new k.Point(
              g.x + 35 * d.cos(h + d.PI / 6),
              g.y - 35 * d.sin(h + d.PI / 6)
            )),
            (n = new k.Point(r.x + (n + 1) * p, r.y - (n + 1) * w)),
            (h = new k.Point(
              n.x + 35 * d.cos(h - d.PI / 6),
              n.y - 35 * d.sin(h - d.PI / 6)
            )),
            c(b, f, this.o1, g, r, v, l, g, 1, this.caches),
            c(b, f, this.o2, n, u, m, h, n, 1, this.caches))
          : (e.intersectLines(r.x, r.y, v.x, v.y, u.x, u.y, m.x, m.y) &&
              ((h = v), (v = m), (m = h)),
            (h = v.angle(r)),
            (g = m.angle(u)),
            (l = d.max(h, g) - d.min(h, g)),
            0.001 > d.abs(l - d.PI) &&
              this.o1.molCenter === this.o2.molCenter &&
              ((h += d.PI / 2),
              (g -= d.PI / 2),
              (v.x = r.x + 35 * d.cos(h + d.PI)),
              (v.y = r.y - 35 * d.sin(h + d.PI)),
              (m.x = u.x + 35 * d.cos(g + d.PI)),
              (m.y = u.y - 35 * d.sin(g + d.PI))),
            c(
              b,
              f,
              this.o1,
              this.o2,
              r,
              v,
              m,
              u,
              this.numElectron,
              this.caches
            ));
      }
    };
    p.getPoints = function () {
      return [];
    };
    p.isOver = function (b, a) {
      for (let c = 0, f = this.caches.length; c < f; c++)
        if (m.distanceFromCurve(b, this.caches[c]).distance < a) return !0;
      return !1;
    };
  })(
    ChemDoodle.math,
    ChemDoodle.lib.jsBezier,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    Math
  );
  (function (e, m, k, p, d) {
    let g = new m.Bond();
    k.VAP = function (a, f) {
      this.asterisk = new m.Atom("O", a, f);
      this.substituent;
      this.bondType = 1;
      this.attachments = [];
    };
    e = k.VAP.prototype = new k._Shape();
    e.drawDecorations = function (a, f) {
      if (this.isHover || this.isSelected) {
        a.strokeStyle = this.isHover ? f.colorHover : f.colorSelect;
        a.lineWidth = 1.2;
        if (this.hoverBond) {
          let c = 2 * p.PI,
            b =
              (this.asterisk.angleForStupidCanvasArcs(this.hoverBond) +
                p.PI / 2) %
              c;
          a.strokeStyle = this.isHover ? f.colorHover : f.colorSelect;
          a.beginPath();
          f = (b + p.PI) % c;
          f %= 2 * p.PI;
          a.arc(this.asterisk.x, this.asterisk.y, 7, b, f, !1);
          a.stroke();
          a.beginPath();
          b += p.PI;
          f = (b + p.PI) % c;
          a.arc(this.hoverBond.x, this.hoverBond.y, 7, b, f, !1);
        } else
          a.beginPath(),
            a.arc(this.asterisk.x, this.asterisk.y, 7, 0, 2 * p.PI, !1);
        a.stroke();
      }
    };
    e.draw = function (a, f) {
      a.strokeStyle = this.error ? f.colorError : f.shapes_color;
      a.lineWidth = 1;
      var c = p.sqrt(3) / 2;
      a.beginPath();
      a.moveTo(this.asterisk.x, this.asterisk.y - 4);
      a.lineTo(this.asterisk.x, this.asterisk.y + 4);
      a.moveTo(this.asterisk.x - 4 * c, this.asterisk.y - 2);
      a.lineTo(this.asterisk.x + 4 * c, this.asterisk.y + 2);
      a.moveTo(this.asterisk.x - 4 * c, this.asterisk.y + 2);
      a.lineTo(this.asterisk.x + 4 * c, this.asterisk.y - 2);
      a.stroke();
      this.asterisk.textBounds = [];
      this.asterisk.textBounds.push({
        x: this.asterisk.x - 4,
        y: this.asterisk.y - 4,
        w: 8,
        h: 8,
      });
      c = f.bonds_color;
      this.error && (f.bonds_color = f.colorError);
      g.a1 = this.asterisk;
      this.substituent &&
        ((g.a2 = this.substituent),
        (g.bondOrder = this.bondType),
        g.draw(a, f));
      g.bondOrder = 0;
      this.error || (f.bonds_color = f.shapes_color);
      for (let b = 0, c = this.attachments.length; b < c; b++)
        (g.a2 = this.attachments[b]), g.draw(a, f);
      f.bonds_color = c;
    };
    e.getPoints = function () {
      return [this.asterisk];
    };
    e.isOver = function (a, f) {
      return !1;
    };
  })(ChemDoodle.math, ChemDoodle.structures, ChemDoodle.structures.d2, Math);
  (function (e, m, k) {
    e._Mesh = function () {};
    e = e._Mesh.prototype;
    e.storeData = function (e, d, g) {
      this.positionData = e;
      this.normalData = d;
      this.indexData = g;
    };
    e.setupBuffers = function (e) {
      this.vertexPositionBuffer = e.createBuffer();
      e.bindBuffer(e.ARRAY_BUFFER, this.vertexPositionBuffer);
      e.bufferData(
        e.ARRAY_BUFFER,
        new Float32Array(this.positionData),
        e.STATIC_DRAW
      );
      this.vertexPositionBuffer.itemSize = 3;
      this.vertexPositionBuffer.numItems = this.positionData.length / 3;
      this.vertexNormalBuffer = e.createBuffer();
      e.bindBuffer(e.ARRAY_BUFFER, this.vertexNormalBuffer);
      e.bufferData(
        e.ARRAY_BUFFER,
        new Float32Array(this.normalData),
        e.STATIC_DRAW
      );
      this.vertexNormalBuffer.itemSize = 3;
      this.vertexNormalBuffer.numItems = this.normalData.length / 3;
      this.indexData &&
        ((this.vertexIndexBuffer = e.createBuffer()),
        e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this.vertexIndexBuffer),
        e.bufferData(
          e.ELEMENT_ARRAY_BUFFER,
          new Uint16Array(this.indexData),
          e.STATIC_DRAW
        ),
        (this.vertexIndexBuffer.itemSize = 1),
        (this.vertexIndexBuffer.numItems = this.indexData.length));
      if (this.partitions)
        for (let d = 0, g = this.partitions.length; d < g; d++) {
          let a = this.partitions[d],
            f = this.generateBuffers(
              e,
              a.positionData,
              a.normalData,
              a.indexData
            );
          a.vertexPositionBuffer = f[0];
          a.vertexNormalBuffer = f[1];
          a.vertexIndexBuffer = f[2];
        }
    };
    e.generateBuffers = function (e, d, g, a) {
      let f = e.createBuffer();
      e.bindBuffer(e.ARRAY_BUFFER, f);
      e.bufferData(e.ARRAY_BUFFER, new Float32Array(d), e.STATIC_DRAW);
      f.itemSize = 3;
      f.numItems = d.length / 3;
      d = e.createBuffer();
      e.bindBuffer(e.ARRAY_BUFFER, d);
      e.bufferData(e.ARRAY_BUFFER, new Float32Array(g), e.STATIC_DRAW);
      d.itemSize = 3;
      d.numItems = g.length / 3;
      let c;
      a &&
        ((c = e.createBuffer()),
        e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, c),
        e.bufferData(e.ELEMENT_ARRAY_BUFFER, new Uint16Array(a), e.STATIC_DRAW),
        (c.itemSize = 1),
        (c.numItems = a.length));
      return [f, d, c];
    };
    e.bindBuffers = function (e) {
      this.vertexPositionBuffer || this.setupBuffers(e);
      e.bindBuffer(e.ARRAY_BUFFER, this.vertexPositionBuffer);
      e.vertexAttribPointer(
        e.shader.vertexPositionAttribute,
        this.vertexPositionBuffer.itemSize,
        e.FLOAT,
        !1,
        0,
        0
      );
      e.bindBuffer(e.ARRAY_BUFFER, this.vertexNormalBuffer);
      e.vertexAttribPointer(
        e.shader.vertexNormalAttribute,
        this.vertexNormalBuffer.itemSize,
        e.FLOAT,
        !1,
        0,
        0
      );
      this.vertexIndexBuffer &&
        e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this.vertexIndexBuffer);
    };
  })(ChemDoodle.structures.d3, Math);
  (function (e, m) {
    e._Measurement = function () {};
    e = e._Measurement.prototype = new e._Mesh();
    e.render = function (e, p) {
      e.shader.setMatrixUniforms(e);
      p.measurement_update_3D && (this.text = this.vertexPositionBuffer = m);
      this.vertexPositionBuffer || this.calculateData(p);
      this.bindBuffers(e);
      e.material.setDiffuseColor(e, p.shapes_color);
      e.lineWidth(p.shapes_lineWidth);
      e.drawElements(
        e.LINES,
        this.vertexIndexBuffer.numItems,
        e.UNSIGNED_SHORT,
        0
      );
    };
    e.renderText = function (e, p) {
      e.shader.setMatrixUniforms(e);
      this.text || (this.text = this.getText(p));
      p = { position: [], texCoord: [], translation: [] };
      e.textImage.pushVertexData(this.text.value, this.text.pos, 1, p);
      e.textMesh.storeData(e, p.position, p.texCoord, p.translation);
      e.textImage.useTexture(e);
      e.textMesh.render(e);
    };
  })(ChemDoodle.structures.d3);
  (function (e, m, k, p, d, g, a, f) {
    k.Angle = function (a, b, f) {
      this.a1 = a;
      this.a2 = b;
      this.a3 = f;
    };
    e = k.Angle.prototype = new k._Measurement();
    e.calculateData = function (c) {
      let b = [],
        f = [],
        e = [];
      var g = this.a2.distance3D(this.a1),
        p = this.a2.distance3D(this.a3);
      this.distUse = d.min(g, p) / 2;
      this.vec1 = a.normalize([
        this.a1.x - this.a2.x,
        this.a1.y - this.a2.y,
        this.a1.z - this.a2.z,
      ]);
      this.vec2 = a.normalize([
        this.a3.x - this.a2.x,
        this.a3.y - this.a2.y,
        this.a3.z - this.a2.z,
      ]);
      this.angle = m.vec3AngleFrom(this.vec1, this.vec2);
      g = a.normalize(a.cross(this.vec1, this.vec2, []));
      g = a.normalize(a.cross(g, this.vec1, []));
      c = c.measurement_angleBands_3D;
      for (p = 0; p <= c; ++p) {
        var n = (this.angle * p) / c,
          u = a.scale(this.vec1, d.cos(n), []);
        n = a.scale(g, d.sin(n), []);
        u = a.scale(a.normalize(a.add(u, n, [])), this.distUse);
        b.push(this.a2.x + u[0], this.a2.y + u[1], this.a2.z + u[2]);
        f.push(0, 0, 0);
        p < c && e.push(p, p + 1);
      }
      this.storeData(b, f, e);
    };
    e.getText = function (c) {
      c = a.scale(
        a.normalize(a.add(this.vec1, this.vec2, [])),
        this.distUse + 0.3
      );
      return {
        pos: [this.a2.x + c[0], this.a2.y + c[1], this.a2.z + c[2]],
        value: [p.angleBounds(this.angle, !0).toFixed(2), " \u00b0"].join(""),
      };
    };
  })(
    ChemDoodle.ELEMENT,
    ChemDoodle.extensions,
    ChemDoodle.structures.d3,
    ChemDoodle.math,
    Math,
    ChemDoodle.lib.mat4,
    ChemDoodle.lib.vec3
  );
  (function (e, m, k) {
    e.Arrow = function (e, d) {
      let g = [],
        a = [];
      for (var f = 0; f <= d; f++) {
        var c = (2 * f * m.PI) / d,
          b = m.sin(c);
        c = m.cos(c);
        a.push(
          0,
          0,
          -1,
          0,
          0,
          -1,
          c,
          b,
          0,
          c,
          b,
          0,
          0,
          0,
          -1,
          0,
          0,
          -1,
          c,
          b,
          1,
          c,
          b,
          1
        );
        g.push(
          0,
          0,
          0,
          e * c,
          e * b,
          0,
          e * c,
          e * b,
          0,
          e * c,
          e * b,
          2,
          e * c,
          e * b,
          2,
          e * c * 2,
          e * b * 2,
          2,
          e * c * 2,
          e * b * 2,
          2,
          0,
          0,
          3
        );
      }
      e = [];
      for (f = 0; f < d; f++) {
        b = 8 * f;
        for (let a = 0, f = 7; a < f; a++) {
          c = a + b;
          let d = c + f + 2;
          e.push(c, d, c + 1, d, c, d - 1);
        }
      }
      this.storeData(g, a, e);
    };
    e.Arrow.prototype = new e._Mesh();
  })(ChemDoodle.structures.d3, Math);
  (function (e, m, k) {
    e.Box = function (e, d, g) {
      e /= 2;
      g /= 2;
      let a = [],
        f = [];
      a.push(e, d, -g);
      a.push(e, d, -g);
      a.push(-e, d, -g);
      a.push(e, d, g);
      a.push(-e, d, g);
      a.push(-e, d, g);
      for (var c = 6; c--; f.push(0, 1, 0));
      a.push(-e, d, g);
      a.push(-e, d, g);
      a.push(-e, 0, g);
      a.push(e, d, g);
      a.push(e, 0, g);
      a.push(e, 0, g);
      for (c = 6; c--; f.push(0, 0, 1));
      a.push(e, d, g);
      a.push(e, d, g);
      a.push(e, 0, g);
      a.push(e, d, -g);
      a.push(e, 0, -g);
      a.push(e, 0, -g);
      for (c = 6; c--; f.push(1, 0, 0));
      a.push(e, d, -g);
      a.push(e, d, -g);
      a.push(e, 0, -g);
      a.push(-e, d, -g);
      a.push(-e, 0, -g);
      a.push(-e, 0, -g);
      for (c = 6; c--; f.push(0, 0, -1));
      a.push(-e, d, -g);
      a.push(-e, d, -g);
      a.push(-e, 0, -g);
      a.push(-e, d, g);
      a.push(-e, 0, g);
      a.push(-e, 0, g);
      for (d = 6; d--; f.push(-1, 0, 0));
      a.push(-e, 0, g);
      a.push(-e, 0, g);
      a.push(-e, 0, -g);
      a.push(e, 0, g);
      a.push(e, 0, -g);
      a.push(e, 0, -g);
      for (e = 6; e--; f.push(0, -1, 0));
      this.storeData(a, f);
    };
    e.Box.prototype = new e._Mesh();
  })(ChemDoodle.structures.d3, Math);
  (function (e, m, k, p, d, g) {
    m.Camera = function () {
      this.fieldOfView = 45;
      this.aspect = 1;
      this.near = 0.1;
      this.far = 1e4;
      this.zoom = 1;
      this.viewMatrix = p.identity([]);
      this.projectionMatrix = p.identity([]);
    };
    e = m.Camera.prototype;
    e.perspectiveProjectionMatrix = function () {
      let a = d.tan((this.fieldOfView / 360) * d.PI) * this.near * this.zoom,
        f = this.aspect * a;
      return p.frustum(
        -f,
        f,
        -a,
        a,
        this.near,
        this.far,
        this.projectionMatrix
      );
    };
    e.orthogonalProjectionMatrix = function () {
      let a =
          d.tan((this.fieldOfView / 360) * d.PI) *
          ((this.far - this.near) / 2 + this.near) *
          this.zoom,
        f = this.aspect * a;
      return p.ortho(-f, f, -a, a, this.near, this.far, this.projectionMatrix);
    };
    e.updateProjectionMatrix = function (a) {
      return a
        ? this.perspectiveProjectionMatrix()
        : this.orthogonalProjectionMatrix();
    };
    e.focalLength = function () {
      return (this.far - this.near) / 2 + this.near;
    };
    e.zoomOut = function () {
      this.zoom = d.min(1.25 * this.zoom, 200);
    };
    e.zoomIn = function () {
      this.zoom = d.max(this.zoom / 1.25, 0.0025);
    };
  })(
    ChemDoodle.math,
    ChemDoodle.structures.d3,
    ChemDoodle.lib.vec3,
    ChemDoodle.lib.mat4,
    Math
  );
  (function (e, m, k, p) {
    e.LineArrow = function () {
      this.storeData(
        [
          0, 0, -3, 0.1, 0, -2.8, 0, 0, -3, -0.1, 0, -2.8, 0, 0, -3, 0, 0, 3, 0,
          0, 3, 0.1, 0, 2.8, 0, 0, 3, -0.1, 0, 2.8,
        ],
        [
          0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
          0, 0, 0, 0, 0, 0, 0,
        ]
      );
    };
    e.LineArrow.prototype = new e._Mesh();
    e.Compass = function (d, a) {
      this.textImage = new e.TextImage();
      this.textImage.init(d);
      this.textImage.updateFont(
        d,
        a.text_font_size,
        a.text_font_families,
        a.text_font_bold,
        a.text_font_italic,
        a.text_font_stroke_3D
      );
      this.textMesh = new e.TextMesh();
      this.textMesh.init(d);
      var f = 3 / (a.compass_size_3D / d.canvas.clientHeight),
        c = m.tan((a.projectionPerspectiveVerticalFieldOfView_3D / 360) * m.PI);
      let b = f / c,
        g = m.max(b - f, 0.1);
      var h = d.canvas.clientWidth / d.canvas.clientHeight;
      let r;
      if (a.projectionPerspective_3D) {
        var p = g;
        r = k.frustum;
      } else (p = b), (r = k.ortho);
      let n = (p / d.canvas.clientHeight) * 2 * c;
      c *= p;
      p = -c;
      let u = h * p;
      h *= c;
      if (0 === a.compass_type_3D) {
        let b =
          (-(d.canvas.clientWidth - a.compass_size_3D) / 2 +
            this.textImage.charHeight) *
          n;
        a =
          (-(d.canvas.clientHeight - a.compass_size_3D) / 2 +
            this.textImage.charHeight) *
          n;
        u -= b;
        h -= b;
        p -= a;
        c -= a;
      }
      this.projectionMatrix = r(u, h, p, c, g, b + f);
      this.translationMatrix = k.translate(k.identity([]), [0, 0, -b]);
      f = { position: [], texCoord: [], translation: [] };
      this.textImage.pushVertexData("X", [3.5, 0, 0], 0, f);
      this.textImage.pushVertexData("Y", [0, 3.5, 0], 0, f);
      this.textImage.pushVertexData("Z", [0, 0, 3.5], 0, f);
      this.textMesh.storeData(d, f.position, f.texCoord, f.translation);
    };
    let d = e.Compass.prototype;
    d.renderArrow = function (d, a, f, c) {
      d.material.setDiffuseColor(d, f);
      d.shader.setModelViewMatrix(d, c);
      1 === a
        ? d.drawArrays(
            d.LINES,
            0,
            d.lineArrowBuffer.vertexPositionBuffer.numItems
          )
        : d.drawElements(
            d.TRIANGLES,
            d.arrowBuffer.vertexIndexBuffer.numItems,
            d.UNSIGNED_SHORT,
            0
          );
    };
    d.render = function (d, a) {
      d.shader.setProjectionMatrix(d, this.projectionMatrix);
      1 === a.compass_type_3D
        ? d.lineArrowBuffer.bindBuffers(d)
        : d.arrowBuffer.bindBuffers(d);
      d.material.setTempColors(
        d,
        a.bonds_materialAmbientColor_3D,
        p,
        a.bonds_materialSpecularColor_3D,
        a.bonds_materialShininess_3D
      );
      let f = k.multiply(this.translationMatrix, d.rotationMatrix, []),
        c = m.PI / 2;
      this.renderArrow(
        d,
        a.compass_type_3D,
        a.compass_axisXColor_3D,
        k.rotateY(f, c, [])
      );
      this.renderArrow(
        d,
        a.compass_type_3D,
        a.compass_axisYColor_3D,
        k.rotateX(f, -c, [])
      );
      this.renderArrow(d, a.compass_type_3D, a.compass_axisZColor_3D, f);
    };
    d.renderAxis = function (d) {
      d.shader.setProjectionMatrix(d, this.projectionMatrix);
      let a = k.multiply(this.translationMatrix, d.rotationMatrix, []);
      d.shader.setModelViewMatrix(d, a);
      this.textImage.useTexture(d);
      this.textMesh.render(d);
    };
  })(ChemDoodle.structures.d3, Math, ChemDoodle.lib.mat4);
  (function (e, m, k) {
    e.Cylinder = function (e, d, g, a) {
      let f = [],
        c = [];
      if (a) {
        for (a = 0; a <= g; a++) {
          var b = ((a % g) * 2 * m.PI) / g,
            l = m.cos(b);
          b = m.sin(b);
          c.push(0, -1, 0);
          f.push(0, 0, 0);
          c.push(0, -1, 0);
          f.push(e * l, 0, e * b);
        }
        for (a = 0; a <= g; a++)
          (b = ((a % g) * 2 * m.PI) / g),
            (l = m.cos(b)),
            (b = m.sin(b)),
            c.push(l, 0, b),
            f.push(e * l, 0, e * b),
            c.push(l, 0, b),
            f.push(e * l, d, e * b);
        for (a = 0; a <= g; a++)
          (b = ((a % g) * 2 * m.PI) / g),
            (l = m.cos(b)),
            (b = m.sin(b)),
            c.push(0, 1, 0),
            f.push(e * l, d, e * b),
            c.push(0, 1, 0),
            f.push(0, d, 0);
      } else {
        for (a = 0; a < g; a++)
          (b = (2 * a * m.PI) / g),
            (l = m.cos(b)),
            (b = m.sin(b)),
            c.push(l, 0, b),
            f.push(e * l, 0, e * b),
            c.push(l, 0, b),
            f.push(e * l, d, e * b);
        c.push(1, 0, 0);
        f.push(e, 0, 0);
        c.push(1, 0, 0);
        f.push(e, d, 0);
      }
      this.storeData(f, c);
    };
    e.Cylinder.prototype = new e._Mesh();
  })(ChemDoodle.structures.d3, Math);
  (function (e, m, k, p, d) {
    m.Distance = function (d, a, f, c) {
      this.a1 = d;
      this.a2 = a;
      this.node = f;
      this.offset = c ? c : 0;
    };
    m = m.Distance.prototype = new m._Measurement();
    m.calculateData = function (d) {
      let a = [
        this.a1.x,
        this.a1.y,
        this.a1.z,
        this.a2.x,
        this.a2.y,
        this.a2.z,
      ];
      this.node &&
        ((this.move =
          this.offset +
          k.max(
            d.atoms_useVDWDiameters_3D
              ? e[this.a1.label].vdWRadius * d.atoms_vdwMultiplier_3D
              : d.atoms_sphereDiameter_3D / 2,
            d.atoms_useVDWDiameters_3D
              ? e[this.a2.label].vdWRadius * d.atoms_vdwMultiplier_3D
              : d.atoms_sphereDiameter_3D / 2
          )),
        (this.displacement = [
          (this.a1.x + this.a2.x) / 2 - this.node.x,
          (this.a1.y + this.a2.y) / 2 - this.node.y,
          (this.a1.z + this.a2.z) / 2 - this.node.z,
        ]),
        p.normalize(this.displacement),
        (d = p.scale(this.displacement, this.move, [])),
        (a[0] += d[0]),
        (a[1] += d[1]),
        (a[2] += d[2]),
        (a[3] += d[0]),
        (a[4] += d[1]),
        (a[5] += d[2]));
      this.storeData(a, [0, 0, 0, 0, 0, 0], [0, 1]);
    };
    m.getText = function (d) {
      d = this.a1.distance3D(this.a2);
      let a = [
        (this.a1.x + this.a2.x) / 2,
        (this.a1.y + this.a2.y) / 2,
        (this.a1.z + this.a2.z) / 2,
      ];
      if (this.node) {
        let f = p.scale(this.displacement, this.move + 0.1, []);
        a[0] += f[0];
        a[1] += f[1];
        a[2] += f[2];
      }
      return { pos: a, value: [d.toFixed(2), " \u212b"].join("") };
    };
  })(ChemDoodle.ELEMENT, ChemDoodle.structures.d3, Math, ChemDoodle.lib.vec3);
  (function (e, m, k, p) {
    m.Fog = function (d, e, a, f) {
      this.fogScene(d, e, a, f);
    };
    m.Fog.prototype.fogScene = function (d, g, a, f) {
      this.colorRGB = e.getRGB(d, 1);
      this.fogStart = g;
      this.fogEnd = a;
      this.density = f;
    };
  })(ChemDoodle.math, ChemDoodle.structures.d3, ChemDoodle.lib.vec3);
  (function (e, m, k) {
    m.Label = function (e) {};
    m = m.Label.prototype;
    m.updateVerticesBuffer = function (p, d, g) {
      for (let h = 0, r = d.length; h < r; h++) {
        var a = d[h];
        let r = a.labelMesh;
        var f = a.atoms;
        let n = { position: [], texCoord: [], translation: [] };
        var c = 0 < f.length && f[0].hetatm != k;
        for (let a = 0, d = f.length; a < d; a++) {
          var b = f[a],
            l = b.label;
          let d = 0.05;
          g.atoms_useVDWDiameters_3D
            ? ((l = e[l].vdWRadius * g.atoms_vdwMultiplier_3D),
              0 === l && (l = 1),
              (d += l))
            : g.atoms_sphereDiameter_3D &&
              (d += (g.atoms_sphereDiameter_3D / 2) * 1.5);
          if (c)
            if (!b.hetatm) {
              if (!g.macro_displayAtoms) continue;
            } else if (b.isWater && !g.macro_showWaters) continue;
          p.textImage.pushVertexData(
            b.altLabel ? b.altLabel : b.label,
            [b.x, b.y, b.z],
            d,
            n
          );
        }
        if (
          (a = a.chains) &&
          (g.proteins_displayRibbon || g.proteins_displayBackbone)
        )
          for (let d = 0, e = a.length; d < e; d++) {
            f = a[d];
            for (let a = 0, d = f.length; a < d; a++)
              (c = f[a]),
                c.name &&
                  ((b = c.cp1),
                  p.textImage.pushVertexData(c.name, [b.x, b.y, b.z], 2, n));
          }
        r.storeData(p, n.position, n.texCoord, n.translation, n.zDepth);
      }
    };
    m.render = function (e, d, g) {
      e.shader.setMatrixUniforms(e);
      e.textImage.useTexture(e);
      for (let a = 0, f = g.length; a < f; a++)
        g[a].labelMesh && g[a].labelMesh.render(e);
    };
  })(ChemDoodle.ELEMENT, ChemDoodle.structures.d3);
  (function (e, m, k) {
    e.Sphere = function (e, d, g) {
      let a = [],
        f = [];
      for (var c = 0; c <= d; c++) {
        var b = (c * m.PI) / d,
          l = m.sin(b);
        b = m.cos(b);
        for (var h = 0; h <= g; h++) {
          var r = (2 * h * m.PI) / g,
            k = m.sin(r);
          r = m.cos(r) * l;
          let c = b;
          k *= l;
          f.push(r, c, k);
          a.push(e * r, e * c, e * k);
        }
      }
      e = [];
      g += 1;
      for (c = 0; c < d; c++)
        for (l = 0; l < g; l++)
          (b = c * g + (l % g)),
            (h = b + g),
            e.push(b, b + 1, h),
            l < g - 1 && e.push(h, b + 1, h + 1);
      this.storeData(a, f, e);
    };
    e.Sphere.prototype = new e._Mesh();
  })(ChemDoodle.structures.d3, Math);
  (function (e, m, k, p, d) {
    function g(a, c, b, d) {
      this.entire = a;
      this.name = c;
      this.indexes = b;
      this.pi = d;
    }
    let a = g.prototype;
    a.getColor = function (a) {
      return a.macro_colorByChain
        ? this.entire.chainColor
        : this.name
        ? this.getResidueColor(e[this.name] ? this.name : "*", a)
        : this.helix
        ? this.entire.front
          ? a.proteins_ribbonCartoonHelixPrimaryColor
          : a.proteins_ribbonCartoonHelixSecondaryColor
        : this.sheet
        ? a.proteins_ribbonCartoonSheetColor
        : this.entire.front
        ? a.proteins_primaryColor
        : a.proteins_secondaryColor;
    };
    a.getResidueColor = function (a, c) {
      a = e[a];
      if ("shapely" === c.proteins_residueColor) return a.shapelyColor;
      if ("amino" === c.proteins_residueColor) return a.aminoColor;
      if ("polarity" === c.proteins_residueColor) {
        if (a.polar) return "#C10000";
      } else if ("acidity" === c.proteins_residueColor) {
        if (1 === a.acidity) return "#0000FF";
        if (-1 === a.acidity) return "#FF0000";
        if (!a.polar) return "#773300";
      }
      return "#FFFFFF";
    };
    a.render = function (a, c, b) {
      if (
        this.entire.partitions &&
        this.pi !== this.entire.partitions.lastRender
      ) {
        var d = this.entire.partitions[this.pi];
        a.bindBuffer(a.ARRAY_BUFFER, d.vertexPositionBuffer);
        a.vertexAttribPointer(
          a.shader.vertexPositionAttribute,
          d.vertexPositionBuffer.itemSize,
          a.FLOAT,
          !1,
          0,
          0
        );
        a.bindBuffer(a.ARRAY_BUFFER, d.vertexNormalBuffer);
        a.vertexAttribPointer(
          a.shader.vertexNormalAttribute,
          d.vertexNormalBuffer.itemSize,
          a.FLOAT,
          !1,
          0,
          0
        );
        a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, d.vertexIndexBuffer);
        this.entire.partitions.lastRender = this.pi;
      }
      this.vertexIndexBuffer ||
        ((this.vertexIndexBuffer = a.createBuffer()),
        a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.vertexIndexBuffer),
        a.bufferData(
          a.ELEMENT_ARRAY_BUFFER,
          new Uint16Array(this.indexes),
          a.STATIC_DRAW
        ),
        (this.vertexIndexBuffer.itemSize = 1),
        (this.vertexIndexBuffer.numItems = this.indexes.length));
      a.bindBuffer(a.ELEMENT_ARRAY_BUFFER, this.vertexIndexBuffer);
      b ||
        "rainbow" === c.proteins_residueColor ||
        a.material.setDiffuseColor(a, this.getColor(c));
      a.drawElements(
        a.TRIANGLES,
        this.vertexIndexBuffer.numItems,
        a.UNSIGNED_SHORT,
        0
      );
    };
    m.Ribbon = function (a, c, b) {
      let f = a[0].lineSegments.length,
        e = a[0].lineSegments[0].length;
      this.partitions = [];
      this.partitions.lastRender = 0;
      this.front = 0 < c;
      for (let d = 0, h = a.length; d < h; d++) {
        if (!r || 65e3 < r.positionData.length) {
          0 < this.partitions.length && d--;
          var r = { count: 0, positionData: [], normalData: [] };
          this.partitions.push(r);
        }
        var v = a[d];
        r.count++;
        for (var n = 0; n < f; n++) {
          var u = b ? v.lineSegmentsCartoon[n] : v.lineSegments[n],
            w = 0 === n,
            m = !1;
          for (var x = 0; x < e; x++) {
            var t = u[x],
              z = d,
              A = x + 1;
            d === a.length - 1 && x === e - 1
              ? A--
              : x === e - 1 && (z++, (A = 0));
            A = b ? a[z].lineSegmentsCartoon[n][A] : a[z].lineSegments[n][A];
            z = !1;
            var B = n + 1;
            n === f - 1 && ((B -= 2), (z = !0));
            B = b ? v.lineSegmentsCartoon[B][x] : v.lineSegments[B][x];
            A = [A.x - t.x, A.y - t.y, A.z - t.z];
            B = [B.x - t.x, B.y - t.y, B.z - t.z];
            let h = p.cross(A, B, []);
            0 === x &&
              (p.normalize(A),
              p.scale(A, -1),
              r.normalData.push(A[0], A[1], A[2]),
              r.positionData.push(t.x, t.y, t.z));
            w || m
              ? (p.normalize(B),
                p.scale(B, -1),
                r.normalData.push(B[0], B[1], B[2]),
                r.positionData.push(t.x, t.y, t.z),
                w && x === e - 1 && ((w = !1), (x = -1)))
              : (p.normalize(h),
                ((z && !this.front) || (!z && this.front)) && p.scale(h, -1),
                r.normalData.push(h[0], h[1], h[2]),
                p.scale(h, k.abs(c)),
                r.positionData.push(t.x + h[0], t.y + h[1], t.z + h[2]),
                n === f - 1 && x === e - 1 && ((m = !0), (x = -1)));
            if (-1 === x || x === e - 1)
              p.normalize(A),
                r.normalData.push(A[0], A[1], A[2]),
                r.positionData.push(t.x, t.y, t.z);
          }
        }
      }
      f += 2;
      e += 2;
      this.segments = [];
      this.partitionSegments = [];
      for (let h = 0, l = this.partitions.length; h < l; h++) {
        c = this.partitions[h];
        r = [];
        v = d;
        for (let l = 0, k = c.count - 1; l < k; l++) {
          v = l;
          for (n = 0; n < h; n++) v += this.partitions[n].count - 1;
          v = a[v];
          u = l * f * e;
          n = [];
          for (let a = 0, b = f - 1; a < b; a++)
            for (w = u + a * e, m = 0; m < e - 1; m++)
              (x = 1),
                l === k && (x = 0),
                (x = [
                  w + m,
                  w + e + m,
                  w + e + m + x,
                  w + m,
                  w + m + x,
                  w + e + m + x,
                ]),
                m !== e - 1 &&
                  (this.front
                    ? n.push(x[0], x[1], x[2], x[3], x[5], x[4])
                    : n.push(x[0], x[2], x[1], x[3], x[4], x[5])),
                m !== e - 2 ||
                  (l === c.count - 2 && h === this.partitions.length - 1) ||
                  ((t = f * e - m), (x[2] += t), (x[4] += t), (x[5] += t)),
                this.front
                  ? r.push(x[0], x[1], x[2], x[3], x[5], x[4])
                  : r.push(x[0], x[2], x[1], x[3], x[4], x[5]);
          b &&
            v.split &&
            ((r = new g(this, d, r, h)),
            (r.helix = v.helix),
            (r.sheet = v.sheet),
            this.partitionSegments.push(r),
            (r = []));
          this.segments.push(new g(this, v.name, n, h));
        }
        c = new g(this, d, r, h);
        c.helix = v.helix;
        c.sheet = v.sheet;
        this.partitionSegments.push(c);
      }
      this.storeData(
        this.partitions[0].positionData,
        this.partitions[0].normalData
      );
      1 === this.partitions.length && (this.partitions = d);
    };
    (m.Ribbon.prototype = new m._Mesh()).render = function (a, c) {
      this.bindBuffers(a);
      let b = c.macro_colorByChain ? this.chainColor : d;
      b ||
        (b = this.front ? c.proteins_primaryColor : c.proteins_secondaryColor);
      a.material.setDiffuseColor(a, b);
      for (let b = 0, d = this.partitionSegments.length; b < d; b++)
        this.partitionSegments[b].render(a, c, !c.proteins_ribbonCartoonize);
    };
  })(ChemDoodle.RESIDUE, ChemDoodle.structures.d3, Math, ChemDoodle.lib.vec3);
  (function (e, m, k, p, d) {
    m.Light = function (d, a, f) {
      this.camera = new m.Camera();
      this.lightScene(d, a, f);
    };
    d = m.Light.prototype;
    d.lightScene = function (d, a, f) {
      this.diffuseRGB = e.getRGB(d, 1);
      this.specularRGB = e.getRGB(a, 1);
      this.direction = f;
      this.updateView();
    };
    d.updateView = function () {
      var d = k.normalize(this.direction, []);
      let a = k.scale(
        d,
        (this.camera.near - this.camera.far) / 2 - this.camera.near,
        []
      );
      d = k.equal(d, [0, 1, 0]) ? [0, 0, 1] : [0, 1, 0];
      p.lookAt(a, [0, 0, 0], d, this.camera.viewMatrix);
      this.camera.orthogonalProjectionMatrix();
    };
  })(
    ChemDoodle.math,
    ChemDoodle.structures.d3,
    ChemDoodle.lib.vec3,
    ChemDoodle.lib.mat4
  );
  (function (e, m) {
    e.Line = function () {
      this.storeData([0, 0, 0, 0, 1, 0], [0, 0, 0, 0, 0, 0]);
    };
    e.Line.prototype = new e._Mesh();
  })(ChemDoodle.structures.d3);
  (function (e, m, k) {
    m.Material = function () {};
    m = m.Material.prototype;
    m.setTempColors = function (k, d, g, a, f) {
      d && k.shader.setMaterialAmbientColor(k, e.getRGB(d, 1));
      g && k.shader.setMaterialDiffuseColor(k, e.getRGB(g, 1));
      a && k.shader.setMaterialSpecularColor(k, e.getRGB(a, 1));
      k.shader.setMaterialShininess(k, f);
      k.shader.setMaterialAlpha(k, 1);
    };
    m.setDiffuseColor = function (k, d) {
      k.shader.setMaterialDiffuseColor(k, e.getRGB(d, 1));
    };
    m.setAlpha = function (e, d) {
      e.shader.setMaterialAlpha(e, d);
    };
  })(ChemDoodle.math, ChemDoodle.structures.d3);
  (function (e, m, k, p) {
    e.Picker = function () {};
    e = e.Picker.prototype;
    e.init = function (d) {
      this.framebuffer = d.createFramebuffer();
      let e = d.createTexture(),
        a = d.createRenderbuffer();
      d.bindTexture(d.TEXTURE_2D, e);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MAG_FILTER, d.NEAREST);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MIN_FILTER, d.NEAREST);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_S, d.CLAMP_TO_EDGE);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_T, d.CLAMP_TO_EDGE);
      d.bindRenderbuffer(d.RENDERBUFFER, a);
      d.bindFramebuffer(d.FRAMEBUFFER, this.framebuffer);
      d.framebufferTexture2D(
        d.FRAMEBUFFER,
        d.COLOR_ATTACHMENT0,
        d.TEXTURE_2D,
        e,
        0
      );
      d.framebufferRenderbuffer(
        d.FRAMEBUFFER,
        d.DEPTH_ATTACHMENT,
        d.RENDERBUFFER,
        a
      );
      d.bindTexture(d.TEXTURE_2D, null);
      d.bindRenderbuffer(d.RENDERBUFFER, null);
      d.bindFramebuffer(d.FRAMEBUFFER, null);
    };
    e.setDimension = function (d, e, a) {
      d.bindFramebuffer(d.FRAMEBUFFER, this.framebuffer);
      var f = d.getFramebufferAttachmentParameter(
        d.FRAMEBUFFER,
        d.DEPTH_ATTACHMENT,
        d.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME
      );
      d.isRenderbuffer(f) &&
        (d.bindRenderbuffer(d.RENDERBUFFER, f),
        d.renderbufferStorage(d.RENDERBUFFER, d.DEPTH_COMPONENT16, e, a),
        d.bindRenderbuffer(d.RENDERBUFFER, null));
      f = d.getFramebufferAttachmentParameter(
        d.FRAMEBUFFER,
        d.COLOR_ATTACHMENT0,
        d.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME
      );
      d.isTexture(f) &&
        (d.bindTexture(d.TEXTURE_2D, f),
        d.texImage2D(
          d.TEXTURE_2D,
          0,
          d.RGBA,
          e,
          a,
          0,
          d.RGBA,
          d.UNSIGNED_BYTE,
          null
        ),
        d.bindTexture(d.TEXTURE_2D, null));
      d.bindFramebuffer(d.FRAMEBUFFER, null);
    };
  })(ChemDoodle.structures.d3, ChemDoodle.math, document);
  (function (e, m, k) {
    e.Pill = function (e, d, g, a) {
      var f = 1,
        c = 2 * e;
      d -= c;
      0 > d ? ((f = 0), (d += c)) : d < c && ((f = d / c), (d = c));
      c = [];
      let b = [];
      for (var l = 0; l <= g; l++) {
        var h = (l * m.PI) / g,
          r = m.sin(h);
        h = m.cos(h) * f;
        for (let f = 0; f <= a; f++) {
          var k = (2 * f * m.PI) / a,
            n = m.sin(k);
          k = m.cos(k) * r;
          let u = h;
          n *= r;
          b.push(k, u, n);
          c.push(e * k, e * u + (l < g / 2 ? d : 0), e * n);
        }
      }
      e = [];
      a += 1;
      for (d = 0; d < g; d++)
        for (f = 0; f < a; f++)
          (l = d * a + (f % a)),
            (r = l + a),
            e.push(l, l + 1, r),
            f < a - 1 && e.push(r, l + 1, r + 1);
      this.storeData(c, b, e);
    };
    e.Pill.prototype = new e._Mesh();
  })(ChemDoodle.structures.d3, Math);
  (function (e, m, k, p, d, g, a, f, c) {
    function b(a, b, c) {
      let d = new k.Residue(-1);
      d.cp1 = d.cp2 = new k.Atom("", a, b, c);
      return d;
    }
    function l(a, b) {
      this.a1 = a;
      this.a2 = b;
    }
    function h(a, b, c) {
      this.a1 = a;
      this.a2 = b;
      this.vx = c;
    }
    l.prototype.render = function (b, c) {
      var f = this.a1;
      let h = this.a2;
      var l = 1.001 * f.distance3D(h);
      c = c.proteins_cylinderHelixDiameter / 2;
      l = [c, l, c];
      c = g.translate(g.identity(), [f.x, f.y, f.z]);
      var r = [0, 1, 0];
      let k = 0;
      f.x === h.x && f.z === h.z
        ? ((r = [0, 0, 1]), h.y < f.y && (k = d.PI))
        : ((f = [h.x - f.x, h.y - f.y, h.z - f.z]),
          (k = e.vec3AngleFrom(r, f)),
          (r = a.cross(r, f, [])));
      0 !== k && g.rotate(c, k, r);
      g.scale(c, l);
      b.shader.setMatrixUniforms(b, c);
      b.drawArrays(
        b.TRIANGLE_STRIP,
        0,
        b.cylinderClosedBuffer.vertexPositionBuffer.numItems
      );
    };
    h.prototype.render = function (b, c) {
      this.styles && (c = this.styles);
      let d = 1.001 * this.a1.distance3D(this.a2);
      var f = [
        this.a2.x - this.a1.x,
        this.a2.y - this.a1.y,
        this.a2.z - this.a1.z,
      ];
      let e = a.cross(f, this.vx, []),
        h = a.cross(e, f, []);
      a.normalize(h);
      a.normalize(f);
      a.normalize(e);
      f = [
        h[0],
        h[1],
        h[2],
        0,
        f[0],
        f[1],
        f[2],
        0,
        e[0],
        e[1],
        e[2],
        0,
        this.a1.x,
        this.a1.y,
        this.a1.z,
        1,
      ];
      g.scale(f, [c.proteins_plankSheetWidth, d, c.proteins_tubeThickness]);
      b.shader.setMatrixUniforms(b, f);
      b.drawArrays(
        b.TRIANGLE_STRIP,
        0,
        b.boxBuffer.vertexPositionBuffer.numItems
      );
    };
    p.PipePlank = function (c, f) {
      this.tubes = [];
      this.helixCylinders = [];
      this.sheetPlanks = [];
      this.chainColor = c.chainColor;
      var e = [],
        g = [],
        r = [],
        v = [];
      if (1 < c.length) {
        var m = c[0],
          t = c[1];
        t.helix ? r.push(m) : t.sheet ? v.push(m) : g.push(m);
      }
      for (let f = 1, n = c.length - 1; f <= n; f++)
        if (((m = c[f]), m.helix)) {
          if ((r.push(m), m.arrow)) {
            var z = a.create();
            t = a.create();
            if (1 === r.length)
              (z = [
                m.guidePointsSmall[0].x,
                m.guidePointsSmall[0].y,
                m.guidePointsSmall[0].z,
              ]),
                (t = m.guidePointsSmall[m.guidePointsSmall.length - 1]),
                (t = [t.x, t.y, t.z]);
            else if (2 === r.length)
              (z = [r[0].cp1.x, r[0].cp1.y, r[0].cp1.z]),
                (t = [r[1].cp1.x, r[1].cp1.y, r[1].cp1.z]);
            else {
              3 === r.length && r.unshift(c[d.max(f - 3, 0)]);
              var A = [],
                B = [];
              for (let b = 1, c = r.length - 1; b < c; b++) {
                var C = [r[b].cp1.x, r[b].cp1.y, r[b].cp1.z],
                  D = [r[b - 1].cp1.x, r[b - 1].cp1.y, r[b - 1].cp1.z],
                  J = [r[b + 1].cp1.x, r[b + 1].cp1.y, r[b + 1].cp1.z];
                a.subtract(D, C);
                a.subtract(J, C);
                var G = a.scale(D, a.length(J), []);
                D = a.scale(J, a.length(D), []);
                G = a.normalize(a.add(G, D, []));
                A.push(C);
                B.push(G);
              }
              r = [];
              for (let b = 0, c = A.length - 1; b < c; b++) {
                D = A[b];
                J = B[b];
                C = A[b + 1];
                G = B[b + 1];
                var F = a.normalize(a.cross(J, G, [])),
                  H = a.subtract(C, D, []);
                let c = a.dot(H, F);
                F = a.scale(F, c, []);
                F = a.length(F);
                H = a.length(H);
                H = -(F * F - H * H) / (2 * a.dot(a.subtract(D, C, []), G));
                D = a.add(D, a.scale(J, H, []), []);
                C = a.add(C, a.scale(G, H, []), []);
                r.push([D, C]);
              }
              A = r[0][0];
              B = r[0][1];
              B = a.subtract(A, B, []);
              a.add(A, B, z);
              A = r[r.length - 1][1];
              B = r[r.length - 1][0];
              B = a.subtract(A, B, []);
              a.add(A, B, t);
            }
            r = new k.Atom("", z[0], z[1], z[2]);
            A = new k.Atom("", t[0], t[1], t[2]);
            this.helixCylinders.push(new l(r, A));
            r = [];
            A = a.subtract(z, t, []);
            a.normalize(A);
            a.scale(A, 0.5);
            0 < g.length &&
              ((B = a.add(z, A, [])),
              (C = g[g.length - 1].cp1),
              (C = a.subtract([C.x, C.y, C.z], B, [])),
              a.normalize(C),
              a.scale(C, 0.5),
              a.add(B, C),
              (C = new k.Residue(-1)),
              (C.cp1 = C.cp2 = new k.Atom("", B[0], B[1], B[2])),
              g.push(C),
              (C = b(z[0], z[1], z[2])),
              g.push(C),
              e.push(g));
            g = [];
            f < n &&
              ((z = b(t[0], t[1], t[2])),
              g.push(z),
              (z = c[f + 1]),
              z.sheet
                ? (g.push(m), g.push(m), e.push(g), (g = []), v.push(m))
                : (a.scale(A, -1),
                  (m = a.add(t, A, [])),
                  (t = z.cp1),
                  (t = a.subtract([t.x, t.y, t.z], m, [])),
                  a.normalize(t),
                  a.scale(t, 0.5),
                  a.add(m, t),
                  (m = b(m[0], m[1], m[2])),
                  g.push(m)));
          }
        } else if (m.sheet) {
          if ((v.push(m), m.arrow)) {
            z = [0, 0, 0];
            A = [0, 0, 0];
            t = v.length;
            for (B = 0; B < t; B++)
              (G = v[B].guidePointsLarge),
                (C = G[0]),
                (G = G[G.length - 1]),
                a.add(z, [C.x, C.y, C.z]),
                a.add(A, [G.x, G.y, G.z]);
            a.scale(z, 1 / t);
            a.scale(A, 1 / t);
            z = a.subtract(z, A);
            t = v[t - 1].guidePointsSmall[0];
            this.sheetPlanks.push(new h(v[0].guidePointsSmall[0], t, z));
            v = [];
            f < n &&
              (c[f + 1].sheet
                ? v.push(m)
                : ((m = b(t.x, t.y, t.z)), g.push(m)));
          }
        } else
          g.push(m),
            f < n &&
              c[f + 1].sheet &&
              ((t = m.guidePointsSmall[0]),
              (t = b(t.x, t.y, t.z)),
              g.push(t),
              e.push(g),
              (g = []),
              v.push(m));
      1 < g.length && (2 == g.length && g.push(g[g.length - 1]), e.push(g));
      g = [];
      for (let b = 0, a = e.length; b < a; b++) {
        v = e[b];
        m = [];
        for (let b = 0, a = v.length - 1; b <= a; b++) m.push(v[b].cp1);
        g.push(m);
      }
      for (let b = 0, a = g.length; b < a; b++)
        (e = new p.CatmullTube(
          g[b],
          f.proteins_tubeThickness,
          f.proteins_tubeResolution_3D,
          f.proteins_horizontalResolution
        )),
          (e.chainColor = c.chainColor),
          this.tubes.push(e);
    };
    (p.PipePlank.prototype = new p._Mesh()).render = function (b, a) {
      b.material.setTempColors(
        b,
        a.proteins_materialAmbientColor_3D,
        c,
        a.proteins_materialSpecularColor_3D,
        a.proteins_materialShininess_3D
      );
      b.material.setDiffuseColor(
        b,
        a.macro_colorByChain ? this.chainColor : a.proteins_tubeColor
      );
      for (let c = 0, f = this.tubes.length; c < f; c++)
        b.shader.setMatrixUniforms(b), this.tubes[c].render(b, a);
      a.macro_colorByChain ||
        b.material.setDiffuseColor(
          b,
          a.proteins_ribbonCartoonHelixSecondaryColor
        );
      b.cylinderClosedBuffer.bindBuffers(b);
      for (let c = 0, f = this.helixCylinders.length; c < f; c++)
        this.helixCylinders[c].render(b, a);
      a.macro_colorByChain ||
        b.material.setDiffuseColor(b, a.proteins_ribbonCartoonSheetColor);
      b.boxBuffer.bindBuffers(b);
      for (let c = 0, f = this.sheetPlanks.length; c < f; c++)
        this.sheetPlanks[c].render(b, a);
    };
  })(
    ChemDoodle.extensions,
    ChemDoodle.RESIDUE,
    ChemDoodle.structures,
    ChemDoodle.structures.d3,
    Math,
    ChemDoodle.lib.mat4,
    ChemDoodle.lib.vec3,
    ChemDoodle.math
  );
  (function (e, m) {
    e.Quad = function () {
      this.storeData(
        [-1, 1, 0, -1, -1, 0, 1, 1, 0, 1, -1, 0],
        [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
      );
    };
    e.Quad.prototype = new e._Mesh();
  })(ChemDoodle.structures.d3);
  (function (e, m, k, p) {
    m.Shape = function (d, g) {
      var a = d.length;
      let f = [],
        c = [],
        b = new e.Point();
      for (let e = 0, p = a; e < p; e++) {
        var l = e + 1;
        e === p - 1 && (l = 0);
        let a = d[e];
        var h = d[l];
        l = k.cross([0, 0, 1], [h.x - a.x, h.y - a.y, 0]);
        for (let b = 0; 2 > b; b++)
          f.push(a.x, a.y, g / 2),
            f.push(a.x, a.y, -g / 2),
            f.push(h.x, h.y, g / 2),
            f.push(h.x, h.y, -g / 2);
        for (h = 0; 4 > h; h++) c.push(l[0], l[1], l[2]);
        c.push(0, 0, 1);
        c.push(0, 0, -1);
        c.push(0, 0, 1);
        c.push(0, 0, -1);
        b.add(a);
      }
      b.x /= a;
      b.y /= a;
      c.push(0, 0, 1);
      f.push(b.x, b.y, g / 2);
      c.push(0, 0, -1);
      f.push(b.x, b.y, -g / 2);
      d = [];
      g = 8 * a;
      for (let b = 0, c = a; b < c; b++)
        (a = 8 * b),
          d.push(a),
          d.push(a + 3),
          d.push(a + 1),
          d.push(a),
          d.push(a + 2),
          d.push(a + 3),
          d.push(a + 4),
          d.push(g),
          d.push(a + 6),
          d.push(a + 5),
          d.push(a + 7),
          d.push(g + 1);
      this.storeData(f, c, d);
    };
    m.Shape.prototype = new m._Mesh();
  })(ChemDoodle.structures, ChemDoodle.structures.d3, ChemDoodle.lib.vec3);
  (function (e, m, k, p) {
    e.Star = function () {
      let d = [
          0.8944, 0.4472, 0, 0.2764, 0.4472, 0.8506, 0.2764, 0.4472, -0.8506,
          -0.7236, 0.4472, 0.5257, -0.7236, 0.4472, -0.5257, -0.3416, 0.4472, 0,
          -0.1056, 0.4472, 0.3249, -0.1056, 0.4472, -0.3249, 0.2764, 0.4472,
          0.2008, 0.2764, 0.4472, -0.2008, -0.8944, -0.4472, 0, -0.2764,
          -0.4472, 0.8506, -0.2764, -0.4472, -0.8506, 0.7236, -0.4472, 0.5257,
          0.7236, -0.4472, -0.5257, 0.3416, -0.4472, 0, 0.1056, -0.4472, 0.3249,
          0.1056, -0.4472, -0.3249, -0.2764, -0.4472, 0.2008, -0.2764, -0.4472,
          -0.2008, -0.5527, 0.1058, 0, -0.1708, 0.1058, 0.5527, -0.1708, 0.1058,
          -0.5527, 0.4471, 0.1058, 0.3249, 0.4471, 0.1058, -0.3249, 0.5527,
          -0.1058, 0, 0.1708, -0.1058, 0.5527, 0.1708, -0.1058, -0.5527,
          -0.4471, -0.1058, 0.3249, -0.4471, -0.1058, -0.3249, 0, 1, 0, 0, -1,
          0,
        ],
        e = [
          0, 9, 8, 2, 7, 9, 4, 5, 7, 3, 6, 5, 1, 8, 6, 0, 8, 23, 30, 6, 8, 3,
          21, 6, 11, 26, 21, 13, 23, 26, 2, 9, 24, 30, 8, 9, 1, 23, 8, 13, 25,
          23, 14, 24, 25, 4, 7, 22, 30, 9, 7, 0, 24, 9, 14, 27, 24, 12, 22, 27,
          3, 5, 20, 30, 7, 5, 2, 22, 7, 12, 29, 22, 10, 20, 29, 1, 6, 21, 30, 5,
          6, 4, 20, 5, 10, 28, 20, 11, 21, 28, 10, 19, 18, 12, 17, 19, 14, 15,
          17, 13, 16, 15, 11, 18, 16, 31, 19, 17, 14, 17, 27, 2, 27, 22, 4, 22,
          29, 10, 29, 19, 31, 18, 19, 12, 19, 29, 4, 29, 20, 3, 20, 28, 11, 28,
          18, 31, 16, 18, 10, 18, 28, 3, 28, 21, 1, 21, 26, 13, 26, 16, 31, 15,
          16, 11, 16, 26, 1, 26, 23, 0, 23, 25, 14, 25, 15, 31, 17, 15, 13, 15,
          25, 0, 25, 24, 2, 24, 27, 12, 27, 17,
        ],
        a = [],
        f = [],
        c = [];
      for (let g = 0, p = e.length; g < p; g += 3) {
        var b = 3 * e[g],
          l = 3 * e[g + 1],
          h = 3 * e[g + 2];
        b = [d[b], d[b + 1], d[b + 2]];
        l = [d[l], d[l + 1], d[l + 2]];
        h = [d[h], d[h + 1], d[h + 2]];
        let r = k.cross(
          [h[0] - l[0], h[1] - l[1], h[2] - l[2]],
          [b[0] - l[0], b[1] - l[1], b[2] - l[2]],
          []
        );
        k.normalize(r);
        a.push(b[0], b[1], b[2], l[0], l[1], l[2], h[0], h[1], h[2]);
        f.push(r[0], r[1], r[2], r[0], r[1], r[2], r[0], r[1], r[2]);
        c.push(g, g + 1, g + 2);
      }
      this.storeData(a, f, c);
    };
    e.Star.prototype = new e._Mesh();
  })(ChemDoodle.structures.d3, Math, ChemDoodle.lib.vec3);
  (function (e, m, k, p, d) {
    let g = 1;
    p.devicePixelRatio && (g = p.devicePixelRatio);
    e.TextImage = function () {
      this.ctx = k.createElement("canvas").getContext("2d");
      this.data = [];
      this.text = "";
      this.charHeight = 0;
    };
    e = e.TextImage.prototype;
    e.init = function (a) {
      this.textureImage = a.createTexture();
      a.bindTexture(a.TEXTURE_2D, this.textureImage);
      a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL, !1);
      a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_S, a.CLAMP_TO_EDGE);
      a.texParameteri(a.TEXTURE_2D, a.TEXTURE_WRAP_T, a.CLAMP_TO_EDGE);
      a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MIN_FILTER, a.NEAREST);
      a.texParameteri(a.TEXTURE_2D, a.TEXTURE_MAG_FILTER, a.NEAREST);
      a.bindTexture(a.TEXTURE_2D, null);
      this.updateFont(a, 12, ["Sans-serif"], !1, !1, !1);
    };
    e.charData = function (a) {
      a = this.text.indexOf(a);
      return 0 <= a ? this.data[a] : null;
    };
    e.updateFont = function (a, f, c, b, d, e) {
      let h = this.ctx,
        l = this.ctx.canvas,
        n = [],
        k = "";
      f *= g;
      c = m.getFontString(f, c, b, d);
      h.font = c;
      h.save();
      b = 0;
      f *= 1.5;
      for (let a = 32, c = 127; a < c; a++) {
        d = String.fromCharCode(a);
        var p = h.measureText(d).width;
        n.push({ text: d, width: p, height: f });
        b += 2 * p;
      }
      d = ["\u00b0", "\u212b", "\u00ae"];
      for (let a = 0, c = d.length; a < c; a++) {
        p = d[a];
        var y = h.measureText(p).width;
        n.push({ text: p, width: y, height: f });
        b += 2 * y;
      }
      d = Math.ceil(Math.sqrt(b * f) / f);
      b = Math.ceil(b / (d - 1));
      l.width = b;
      l.height = d * f;
      h.font = c;
      h.textAlign = "left";
      h.textBaseline = "middle";
      h.strokeStyle = "#000";
      h.lineWidth = 1.4;
      h.fillStyle = "#fff";
      d = c = 0;
      for (let a = 0, f = n.length; a < f; a++) {
        p = n[a];
        y = 2 * p.width;
        let f = p.height,
          g = p.text;
        d + y > b && (c++, (d = 0));
        let l = c * f;
        e && h.strokeText(g, d, l + f / 2);
        h.fillText(g, d, l + f / 2);
        p.x = d;
        p.y = l;
        k += g;
        d += y;
      }
      this.text = k;
      this.data = n;
      this.charHeight = f;
      a.bindTexture(a.TEXTURE_2D, this.textureImage);
      a.texImage2D(a.TEXTURE_2D, 0, a.RGBA, a.RGBA, a.UNSIGNED_BYTE, l);
      a.bindTexture(a.TEXTURE_2D, null);
    };
    e.pushVertexData = function (a, d, c, b) {
      let f = a.toString().split(""),
        e = this.getHeight(),
        r = this.getWidth();
      a = -this.textWidth(a) / 2 / g;
      let k = -this.charHeight / 2 / g;
      for (let h = 0, l = f.length; h < l; h++) {
        var n = this.charData(f[h]);
        let l = n.width,
          u = n.x / r,
          p = u + (1.8 * n.width) / r,
          v = n.y / e;
        n = v + n.height / e;
        let m = a + (1.8 * l) / g,
          w = this.charHeight / 2 / g;
        b.position.push(
          d[0],
          d[1],
          d[2],
          d[0],
          d[1],
          d[2],
          d[0],
          d[1],
          d[2],
          d[0],
          d[1],
          d[2],
          d[0],
          d[1],
          d[2],
          d[0],
          d[1],
          d[2]
        );
        b.texCoord.push(u, v, p, n, p, v, u, v, u, n, p, n);
        b.translation.push(
          a,
          w,
          c,
          m,
          k,
          c,
          m,
          w,
          c,
          a,
          w,
          c,
          a,
          k,
          c,
          m,
          k,
          c
        );
        a = m + (l - 1.8 * l) / g;
      }
    };
    e.getCanvas = function () {
      return this.ctx.canvas;
    };
    e.getHeight = function () {
      return this.getCanvas().height;
    };
    e.getWidth = function () {
      return this.getCanvas().width;
    };
    e.textWidth = function (a) {
      return this.ctx.measureText(a).width;
    };
    e.test = function () {
      k.body.appendChild(this.getCanvas());
    };
    e.useTexture = function (a) {
      a.bindTexture(a.TEXTURE_2D, this.textureImage);
    };
  })(ChemDoodle.structures.d3, ChemDoodle.extensions, document, window);
  (function (e, m, k) {
    e.TextMesh = function () {};
    e = e.TextMesh.prototype;
    e.init = function (e) {
      this.vertexPositionBuffer = e.createBuffer();
      this.vertexTexCoordBuffer = e.createBuffer();
      this.vertexTranslationBuffer = e.createBuffer();
    };
    e.setVertexData = function (e, d, g, a) {
      e.bindBuffer(e.ARRAY_BUFFER, d);
      e.bufferData(e.ARRAY_BUFFER, new Float32Array(g), e.STATIC_DRAW);
      d.itemSize = a;
      d.numItems = g.length / a;
    };
    e.storeData = function (e, d, g, a) {
      this.setVertexData(e, this.vertexPositionBuffer, d, 3);
      this.setVertexData(e, this.vertexTexCoordBuffer, g, 2);
      this.setVertexData(e, this.vertexTranslationBuffer, a, 3);
    };
    e.bindBuffers = function (e) {
      e.bindBuffer(e.ARRAY_BUFFER, this.vertexPositionBuffer);
      e.vertexAttribPointer(
        e.shader.vertexPositionAttribute,
        this.vertexPositionBuffer.itemSize,
        e.FLOAT,
        !1,
        0,
        0
      );
      e.bindBuffer(e.ARRAY_BUFFER, this.vertexTexCoordBuffer);
      e.vertexAttribPointer(
        e.shader.vertexTexCoordAttribute,
        this.vertexTexCoordBuffer.itemSize,
        e.FLOAT,
        !1,
        0,
        0
      );
      e.bindBuffer(e.ARRAY_BUFFER, this.vertexTranslationBuffer);
      e.vertexAttribPointer(
        e.shader.vertexNormalAttribute,
        this.vertexTranslationBuffer.itemSize,
        e.FLOAT,
        !1,
        0,
        0
      );
    };
    e.render = function (e) {
      let d = this.vertexPositionBuffer.numItems;
      d && (this.bindBuffers(e), e.drawArrays(e.TRIANGLES, 0, d));
    };
  })(ChemDoodle.structures.d3, Math);
  (function (e, m, k, p, d, g, a) {
    k.Torsion = function (a, c, b, d) {
      this.a1 = a;
      this.a2 = c;
      this.a3 = b;
      this.a4 = d;
    };
    e = k.Torsion.prototype = new k._Measurement();
    e.calculateData = function (d) {
      let c = [],
        b = [],
        f = [];
      var e = this.a2.distance3D(this.a1),
        r = this.a2.distance3D(this.a3);
      this.distUse = p.min(e, r) / 2;
      r = [this.a2.x - this.a1.x, this.a2.y - this.a1.y, this.a2.z - this.a1.z];
      e = [this.a3.x - this.a2.x, this.a3.y - this.a2.y, this.a3.z - this.a2.z];
      var k = [
          this.a4.x - this.a3.x,
          this.a4.y - this.a3.y,
          this.a4.z - this.a3.z,
        ],
        n = g.cross(r, e, []);
      k = g.cross(e, k, []);
      g.scale(r, g.length(e));
      this.torsion = p.atan2(g.dot(r, k), g.dot(n, k));
      n = g.normalize(g.cross(n, e, []));
      r = g.normalize(g.cross(e, n, []));
      this.pos = g.add(
        [this.a2.x, this.a2.y, this.a2.z],
        g.scale(g.normalize(e, []), this.distUse)
      );
      k = [];
      let u = d.measurement_angleBands_3D;
      var m = a;
      for (d = 0; d <= u; ++d) {
        var y = (this.torsion * d) / u;
        m = g.scale(n, p.cos(y), []);
        y = g.scale(r, p.sin(y), []);
        m = g.scale(g.normalize(g.add(m, y, [])), this.distUse);
        0 == d && (k = m);
        c.push(this.pos[0] + m[0], this.pos[1] + m[1], this.pos[2] + m[2]);
        b.push(0, 0, 0);
        d < u && f.push(d, d + 1);
      }
      this.vecText = g.normalize(g.add(k, m, []));
      e = g.normalize(e, []);
      g.scale(e, 0.0625);
      k =
        this.torsion - (2 * p.asin(0.125) * this.torsion) / p.abs(this.torsion);
      n = g.scale(n, p.cos(k), []);
      r = g.scale(r, p.sin(k), []);
      m = g.scale(g.normalize(g.add(n, r, [])), this.distUse);
      c.push(
        this.pos[0] + e[0] + m[0],
        this.pos[1] + e[1] + m[1],
        this.pos[2] + e[2] + m[2]
      );
      b.push(0, 0, 0);
      c.push(
        this.pos[0] - e[0] + m[0],
        this.pos[1] - e[1] + m[1],
        this.pos[2] - e[2] + m[2]
      );
      b.push(0, 0, 0);
      f.push(--d, d + 1, d, d + 2);
      this.storeData(c, b, f);
    };
    e.getText = function (a) {
      g.add(this.pos, g.scale(this.vecText, this.distUse + 0.3, []));
      return {
        pos: this.pos,
        value: [m.angleBounds(this.torsion, !0, !0).toFixed(2), " \u00b0"].join(
          ""
        ),
      };
    };
  })(
    ChemDoodle.ELEMENT,
    ChemDoodle.math,
    ChemDoodle.structures.d3,
    Math,
    ChemDoodle.lib.mat4,
    ChemDoodle.lib.vec3
  );
  (function (e, m, k, p, d, g, a, f, c) {
    let b = function (b, a) {
        b.bindBuffer(b.ARRAY_BUFFER, a.vertexPositionBuffer);
        b.vertexAttribPointer(
          b.shader.vertexPositionAttribute,
          a.vertexPositionBuffer.itemSize,
          b.FLOAT,
          !1,
          0,
          0
        );
        b.bindBuffer(b.ARRAY_BUFFER, a.vertexNormalBuffer);
        b.vertexAttribPointer(
          b.shader.vertexNormalAttribute,
          a.vertexNormalBuffer.itemSize,
          b.FLOAT,
          !1,
          0,
          0
        );
        b.bindBuffer(b.ELEMENT_ARRAY_BUFFER, a.vertexIndexBuffer);
      },
      l = function (b, a, c) {
        let f = d.sqrt(a[1] * a[1] + a[2] * a[2]),
          e = [
            1,
            0,
            0,
            0,
            0,
            a[2] / f,
            -a[1] / f,
            0,
            0,
            a[1] / f,
            a[2] / f,
            0,
            0,
            0,
            0,
            1,
          ],
          h = [
            1,
            0,
            0,
            0,
            0,
            a[2] / f,
            a[1] / f,
            0,
            0,
            -a[1] / f,
            a[2] / f,
            0,
            0,
            0,
            0,
            1,
          ],
          l = [f, 0, -a[0], 0, 0, 1, 0, 0, a[0], 0, f, 0, 0, 0, 0, 1];
        a = [f, 0, a[0], 0, 0, 1, 0, 0, -a[0], 0, f, 0, 0, 0, 0, 1];
        c = [
          d.cos(c),
          -d.sin(c),
          0,
          0,
          d.sin(c),
          d.cos(c),
          0,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          1,
        ];
        let r = g.multiply(
          e,
          g.multiply(l, g.multiply(c, g.multiply(a, h, [])))
        );
        this.rotate = function () {
          return g.multiplyVec3(r, b);
        };
      };
    p.Tube = function (c, r, p) {
      var h = c[0].lineSegments[0].length;
      this.partitions = [];
      this.ends = [];
      this.ends.push(c[0].lineSegments[0][0]);
      this.ends.push(c[c.length - 1].lineSegments[0][0]);
      var u = [1, 0, 0];
      for (let b = 0, f = c.length; b < f; b++) {
        if (!v || 65e3 < v.positionData.length) {
          0 < this.partitions.length && b--;
          var v = { count: 0, positionData: [], normalData: [], indexData: [] };
          this.partitions.push(v);
        }
        var y = c[b];
        v.count++;
        var x = Infinity,
          t = new k.Atom("", c[b].cp1.x, c[b].cp1.y, c[b].cp1.z);
        for (let f = 0; f < h; f++) {
          let e = y.lineSegments[0][f];
          var z =
            f === h - 1
              ? b === c.length - 1
                ? y.lineSegments[0][f - 1]
                : c[b + 1].lineSegments[0][0]
              : y.lineSegments[0][f + 1];
          z = [z.x - e.x, z.y - e.y, z.z - e.z];
          a.normalize(z);
          b === c.length - 1 && f === h - 1 && a.scale(z, -1);
          var A = a.cross(z, u, []);
          a.normalize(A);
          a.scale(A, r / 2);
          z = new l(A, z, (2 * Math.PI) / p);
          for (let b = 0, a = p; b < a; b++)
            (A = z.rotate()),
              b === d.floor(p / 4) && (u = [A[0], A[1], A[2]]),
              v.normalData.push(A[0], A[1], A[2]),
              v.positionData.push(e.x + A[0], e.y + A[1], e.z + A[2]);
          t && ((z = e.distance3D(t)), z < x && ((x = z), (c[b].pPoint = e)));
        }
      }
      for (let b = 0, a = this.partitions.length; b < a; b++) {
        v = this.partitions[b];
        for (let b = 0, a = v.count - 1; b < a; b++) {
          u = b * h * p;
          for (let b = 0, a = h; b < a; b++)
            for (y = u + b * p, x = 0; x < p; x++)
              (t = y + x),
                v.indexData.push(t),
                v.indexData.push(t + p),
                v.indexData.push(t + p + 1),
                v.indexData.push(t),
                v.indexData.push(t + p + 1),
                v.indexData.push(t + 1);
        }
      }
      this.storeData(
        this.partitions[0].positionData,
        this.partitions[0].normalData,
        this.partitions[0].indexData
      );
      p = [new k.Point(2, 0)];
      for (h = 0; 60 > h; h++)
        (v = (h / 60) * d.PI), p.push(new k.Point(2 * d.cos(v), -2 * d.sin(v)));
      p.push(new k.Point(-2, 0), new k.Point(-2, 4), new k.Point(2, 4));
      let B = new k.d3.Shape(p, 1);
      this.render = function (h, l) {
        this.bindBuffers(h);
        h.material.setDiffuseColor(
          h,
          l.macro_colorByChain ? this.chainColor : l.nucleics_tubeColor
        );
        h.drawElements(
          h.TRIANGLES,
          this.vertexIndexBuffer.numItems,
          h.UNSIGNED_SHORT,
          0
        );
        if (this.partitions)
          for (let a = 1, c = this.partitions.length; a < c; a++) {
            var n = this.partitions[a];
            b(h, n);
            h.drawElements(
              h.TRIANGLES,
              n.vertexIndexBuffer.numItems,
              h.UNSIGNED_SHORT,
              0
            );
          }
        h.sphereBuffer.bindBuffers(h);
        for (n = 0; 2 > n; n++) {
          var u = this.ends[n];
          u = g.translate(g.identity(), [u.x, u.y, u.z]);
          var p = r / 2;
          g.scale(u, [p, p, p]);
          h.shader.setMatrixUniforms(h, u);
          h.drawElements(
            h.TRIANGLES,
            h.sphereBuffer.vertexIndexBuffer.numItems,
            h.UNSIGNED_SHORT,
            0
          );
        }
        h.cylinderBuffer.bindBuffers(h);
        for (let b = 0, f = c.length - 1; b < f; b++) {
          u = c[b];
          n = u.pPoint;
          u = new k.Atom("", u.cp2.x, u.cp2.y, u.cp2.z);
          p = 1.001 * n.distance3D(u);
          p = [r / 4, p, r / 4];
          var v = g.translate(g.identity(), [n.x, n.y, n.z]),
            w = [0, 1, 0],
            t = 0,
            y = [u.x - n.x, u.y - n.y, u.z - n.z];
          n.x === u.x && n.z === u.z
            ? ((u = [0, 0, 1]), n.y < n.y && (t = d.PI))
            : ((t = e.vec3AngleFrom(w, y)), (u = a.cross(w, y, [])));
          0 !== t && g.rotate(v, t, u);
          g.scale(v, p);
          h.shader.setMatrixUniforms(h, v);
          h.drawArrays(
            h.TRIANGLE_STRIP,
            0,
            h.cylinderBuffer.vertexPositionBuffer.numItems
          );
        }
        B.bindBuffers(h);
        "none" !== l.nucleics_residueColor ||
          l.macro_colorByChain ||
          h.material.setDiffuseColor(h, l.nucleics_baseColor);
        for (let b = 0, r = c.length - 1; b < r; b++)
          if (
            ((n = c[b]),
            (v = n.cp2),
            (u = g.translate(g.identity(), [v.x, v.y, v.z])),
            (w = [0, 1, 0]),
            (t = 0),
            (y = n.cp3))
          ) {
            p = [y.x - v.x, y.y - v.y, y.z - v.z];
            v.x === y.x && v.z === y.z
              ? ((w = [0, 0, 1]), v.y < v.y && (t = d.PI))
              : ((t = e.vec3AngleFrom(w, p)), (w = a.cross(w, p, [])));
            0 !== t && g.rotate(u, t, w);
            v = [1, 0, 0];
            t = g.rotate(g.identity([]), t, w);
            g.multiplyVec3(t, v);
            t = n.cp4;
            w = n.cp5;
            if (t.y !== w.y || t.z !== w.z)
              (t = [w.x - t.x, w.y - t.y, w.z - t.z]),
                (w = e.vec3AngleFrom(v, t)),
                0 > a.dot(p, a.cross(v, t)) && (w *= -1),
                g.rotateY(u, w);
            l.macro_colorByChain ||
              ("shapely" === l.nucleics_residueColor
                ? m[n.name]
                  ? h.material.setDiffuseColor(h, m[n.name].shapelyColor)
                  : h.material.setDiffuseColor(h, m["*"].shapelyColor)
                : "rainbow" === l.nucleics_residueColor &&
                  h.material.setDiffuseColor(
                    h,
                    f.rainbowAt(b, r, l.macro_rainbowColors)
                  ));
            h.shader.setMatrixUniforms(h, u);
            h.drawElements(
              h.TRIANGLES,
              B.vertexIndexBuffer.numItems,
              h.UNSIGNED_SHORT,
              0
            );
          }
      };
    };
    p.Tube.prototype = new p._Mesh();
    p.CatmullTube = function (b, c, f, e) {
      var h = [];
      b.push(b[b.length - 1]);
      for (let a = 0, c = b.length - 2; a <= c; a++) {
        var g = b[0 == a ? 0 : a - 1],
          r = b[a + 0],
          n = b[a + 1],
          p = b[a == c ? a + 1 : a + 2],
          v = [];
        for (let b = 0; b < e; b++) {
          var m = b / e;
          a == c && (m = b / (e - 1));
          m = new k.Atom(
            "C",
            0.5 *
              (2 * r.x +
                (n.x - g.x) * m +
                (2 * g.x - 5 * r.x + 4 * n.x - p.x) * m * m +
                (3 * r.x - g.x - 3 * n.x + p.x) * m * m * m),
            0.5 *
              (2 * r.y +
                (n.y - g.y) * m +
                (2 * g.y - 5 * r.y + 4 * n.y - p.y) * m * m +
                (3 * r.y - g.y - 3 * n.y + p.y) * m * m * m),
            0.5 *
              (2 * r.z +
                (n.z - g.z) * m +
                (2 * g.z - 5 * r.z + 4 * n.z - p.z) * m * m +
                (3 * r.z - g.z - 3 * n.z + p.z) * m * m * m)
          );
          v.push(m);
        }
        h.push(v);
      }
      b = h[0].length;
      this.partitions = [];
      this.ends = [];
      this.ends.push(h[0][0]);
      this.ends.push(h[h.length - 1][0]);
      e = [1, 0, 0];
      for (let k = 0, u = h.length; k < u; k++) {
        if (!B || 65e3 < B.positionData.length) {
          0 < this.partitions.length && k--;
          var B = { count: 0, positionData: [], normalData: [], indexData: [] };
          this.partitions.push(B);
        }
        g = h[k];
        B.count++;
        for (r = 0; r < b; r++) {
          n = g[r];
          p =
            r === b - 1
              ? k === h.length - 1
                ? g[r - 1]
                : h[k + 1][0]
              : g[r + 1];
          p = [p.x - n.x, p.y - n.y, p.z - n.z];
          a.normalize(p);
          k === h.length - 1 && r === b - 1 && a.scale(p, -1);
          v = a.cross(p, e, []);
          a.normalize(v);
          a.scale(v, c / 2);
          p = new l(v, p, (2 * Math.PI) / f);
          for (let b = 0, a = f; b < a; b++)
            (v = p.rotate()),
              b === d.floor(f / 4) && (e = [v[0], v[1], v[2]]),
              B.normalData.push(v[0], v[1], v[2]),
              B.positionData.push(n.x + v[0], n.y + v[1], n.z + v[2]);
        }
      }
      for (let a = 0, d = this.partitions.length; a < d; a++) {
        c = this.partitions[a];
        for (let a = 0, d = c.count - 1; a < d; a++) {
          h = a * b * f;
          for (let a = 0, d = b; a < d; a++)
            for (B = h + a * f, e = 0; e <= f; e++)
              (g = B + (e % f)), c.indexData.push(g, g + f);
        }
      }
      this.storeData(
        this.partitions[0].positionData,
        this.partitions[0].normalData,
        this.partitions[0].indexData
      );
    };
    (p.CatmullTube.prototype = new p._Mesh()).render = function (a, c) {
      this.bindBuffers(a);
      for (let c = 0, f = this.partitions.length; c < f; c++) {
        var d = this.partitions[c];
        b(a, d);
        a.drawElements(
          a.TRIANGLE_STRIP,
          d.vertexIndexBuffer.numItems,
          a.UNSIGNED_SHORT,
          0
        );
      }
      a.sphereBuffer.bindBuffers(a);
      for (d = 0; 2 > d; d++) {
        var f = this.ends[d];
        f = g.translate(g.identity(), [f.x, f.y, f.z]);
        let b = c.proteins_tubeThickness / 2;
        g.scale(f, [b, b, b]);
        a.shader.setMatrixUniforms(a, f);
        a.drawElements(
          a.TRIANGLES,
          a.sphereBuffer.vertexIndexBuffer.numItems,
          a.UNSIGNED_SHORT,
          0
        );
      }
    };
  })(
    ChemDoodle.extensions,
    ChemDoodle.RESIDUE,
    ChemDoodle.structures,
    ChemDoodle.structures.d3,
    Math,
    ChemDoodle.lib.mat4,
    ChemDoodle.lib.vec3,
    ChemDoodle.math
  );
  (function (e, m, k, p, d) {
    e.UnitCell = function (d, a, f) {
      this.lengths = d;
      this.angles = a;
      this.offset = f;
      d = m.CIFInterpreter.generateABC2XYZ(d[0], d[1], d[2], a[0], a[1], a[2]);
      f || (this.offset = [0, 0, 0]);
      this.unitCellVectors = {
        o: k.multiplyVec3(d, this.offset, []),
        x: k.multiplyVec3(d, [
          this.offset[0] + 1,
          this.offset[1],
          this.offset[2],
        ]),
        y: k.multiplyVec3(d, [
          this.offset[0],
          this.offset[1] + 1,
          this.offset[2],
        ]),
        z: k.multiplyVec3(d, [
          this.offset[0],
          this.offset[1],
          this.offset[2] + 1,
        ]),
        xy: k.multiplyVec3(d, [
          this.offset[0] + 1,
          this.offset[1] + 1,
          this.offset[2],
        ]),
        xz: k.multiplyVec3(d, [
          this.offset[0] + 1,
          this.offset[1],
          this.offset[2] + 1,
        ]),
        yz: k.multiplyVec3(d, [
          this.offset[0],
          this.offset[1] + 1,
          this.offset[2] + 1,
        ]),
        xyz: k.multiplyVec3(d, [
          this.offset[0] + 1,
          this.offset[1] + 1,
          this.offset[2] + 1,
        ]),
      };
      let c = [],
        b = [];
      f = function (a, d, f, e) {
        c.push(a[0], a[1], a[2]);
        c.push(d[0], d[1], d[2]);
        c.push(f[0], f[1], f[2]);
        c.push(e[0], e[1], e[2]);
        for (a = 0; 4 > a; a++) b.push(0, 0, 0);
      };
      f(
        this.unitCellVectors.o,
        this.unitCellVectors.x,
        this.unitCellVectors.xy,
        this.unitCellVectors.y
      );
      f(
        this.unitCellVectors.o,
        this.unitCellVectors.y,
        this.unitCellVectors.yz,
        this.unitCellVectors.z
      );
      f(
        this.unitCellVectors.o,
        this.unitCellVectors.z,
        this.unitCellVectors.xz,
        this.unitCellVectors.x
      );
      f(
        this.unitCellVectors.yz,
        this.unitCellVectors.y,
        this.unitCellVectors.xy,
        this.unitCellVectors.xyz
      );
      f(
        this.unitCellVectors.xyz,
        this.unitCellVectors.xz,
        this.unitCellVectors.z,
        this.unitCellVectors.yz
      );
      f(
        this.unitCellVectors.xy,
        this.unitCellVectors.x,
        this.unitCellVectors.xz,
        this.unitCellVectors.xyz
      );
      f = [];
      for (d = 0; 6 > d; d++)
        (a = 4 * d), f.push(a, a + 1, a + 1, a + 2, a + 2, a + 3, a + 3, a);
      this.storeData(c, b, f);
    };
    (e.UnitCell.prototype = new e._Mesh()).render = function (d, a) {
      d.shader.setMatrixUniforms(d);
      this.bindBuffers(d);
      d.material.setDiffuseColor(d, a.shapes_color);
      d.lineWidth(a.shapes_lineWidth);
      d.drawElements(
        d.LINES,
        this.vertexIndexBuffer.numItems,
        d.UNSIGNED_SHORT,
        0
      );
    };
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.io,
    ChemDoodle.lib.mat4,
    ChemDoodle.lib.vec3
  );
  (function (e, m, k, p) {
    e.Framebuffer = function () {};
    e = e.Framebuffer.prototype;
    e.init = function (d) {
      this.framebuffer = d.createFramebuffer();
    };
    e.setColorTexture = function (d, e, a) {
      a = a === p ? 0 : a;
      d.bindFramebuffer(d.FRAMEBUFFER, this.framebuffer);
      d.bindTexture(d.TEXTURE_2D, e);
      d.framebufferTexture2D(
        d.FRAMEBUFFER,
        d.COLOR_ATTACHMENT0 + a,
        d.TEXTURE_2D,
        e,
        0
      );
      d.bindTexture(d.TEXTURE_2D, null);
      d.bindFramebuffer(d.FRAMEBUFFER, null);
    };
    e.setColorRenderbuffer = function (d, e, a) {
      a = a === p ? 0 : a;
      d.bindFramebuffer(d.FRAMEBUFFER, this.framebuffer);
      d.bindRenderbuffer(d.RENDERBUFFER, e);
      d.framebufferRenderbuffer(
        d.FRAMEBUFFER,
        d.COLOR_ATTACHMENT0 + a,
        d.RENDERBUFFER,
        e
      );
      d.bindRenderbuffer(d.RENDERBUFFER, null);
      d.bindFramebuffer(d.FRAMEBUFFER, null);
    };
    e.setDepthTexture = function (d, e) {
      d.bindFramebuffer(d.FRAMEBUFFER, this.framebuffer);
      d.bindTexture(d.TEXTURE_2D, e);
      d.framebufferTexture2D(
        d.FRAMEBUFFER,
        d.DEPTH_ATTACHMENT,
        d.TEXTURE_2D,
        e,
        0
      );
      d.bindTexture(d.TEXTURE_2D, null);
      d.bindFramebuffer(d.FRAMEBUFFER, null);
    };
    e.setDepthRenderbuffer = function (d, e) {
      d.bindFramebuffer(d.FRAMEBUFFER, this.framebuffer);
      d.bindRenderbuffer(d.RENDERBUFFER, e);
      d.framebufferRenderbuffer(
        d.FRAMEBUFFER,
        d.DEPTH_ATTACHMENT,
        d.RENDERBUFFER,
        e
      );
      d.bindRenderbuffer(d.RENDERBUFFER, null);
      d.bindFramebuffer(d.FRAMEBUFFER, null);
    };
    e.bind = function (d, e, a) {
      d.bindFramebuffer(d.FRAMEBUFFER, this.framebuffer);
      d.viewport(0, 0, e, a);
    };
  })(ChemDoodle.structures.d3, ChemDoodle.math, document);
  (function (e, m, k, p) {
    e.Renderbuffer = function () {};
    e = e.Renderbuffer.prototype;
    e.init = function (d, e) {
      this.renderbuffer = d.createRenderbuffer();
      this.format = e;
    };
    e.setParameter = function (d, e, a) {
      this.width = e;
      this.height = a;
      d.bindRenderbuffer(d.RENDERBUFFER, this.renderbuffer);
      d.renderbufferStorage(
        d.RENDERBUFFER,
        this.format,
        this.width,
        this.height
      );
      d.bindRenderbuffer(d.RENDERBUFFER, null);
    };
  })(ChemDoodle.structures.d3, ChemDoodle.math, document);
  (function (e, m, k, p) {
    m.SSAO = function () {};
    e = m.SSAO.prototype;
    e.initSampleKernel = function (d) {
      let e = [];
      for (let f = 0; f < d; f++) {
        let c = 2 * k.random() - 1,
          b = 2 * k.random() - 1,
          l = 2 * k.random() - 1;
        var a = f / d;
        a = 0.1 + a * a * 0.9;
        c *= a;
        b *= a;
        l *= a;
        e.push(c, b, l);
      }
      this.sampleKernel = new Float32Array(e);
    };
    e.initNoiseTexture = function (d) {
      let e = [];
      for (let a = 0; 16 > a; a++)
        e.push(2 * k.random() - 1), e.push(2 * k.random() - 1), e.push(0);
      this.noiseTexture = d.createTexture();
      d.bindTexture(d.TEXTURE_2D, this.noiseTexture);
      d.texImage2D(
        d.TEXTURE_2D,
        0,
        d.RGB,
        4,
        4,
        0,
        d.RGB,
        d.FLOAT,
        new Float32Array(e)
      );
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MIN_FILTER, d.NEAREST);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MAG_FILTER, d.NEAREST);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_S, d.REPEAT);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_T, d.REPEAT);
      d.bindTexture(d.TEXTURE_2D, null);
    };
  })(ChemDoodle.math, ChemDoodle.structures.d3, Math);
  (function (e, m, k, p) {
    e.Texture = function () {};
    e = e.Texture.prototype;
    e.init = function (d, e, a, f) {
      this.texture = d.createTexture();
      this.type = e;
      this.internalFormat = a;
      this.format = f !== p ? f : a;
      d.bindTexture(d.TEXTURE_2D, this.texture);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MAG_FILTER, d.NEAREST);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_MIN_FILTER, d.NEAREST);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_S, d.CLAMP_TO_EDGE);
      d.texParameteri(d.TEXTURE_2D, d.TEXTURE_WRAP_T, d.CLAMP_TO_EDGE);
      d.bindTexture(d.TEXTURE_2D, null);
    };
    e.setParameter = function (d, e, a) {
      this.width = e;
      this.height = a;
      d.bindTexture(d.TEXTURE_2D, this.texture);
      d.texImage2D(
        d.TEXTURE_2D,
        0,
        this.internalFormat,
        this.width,
        this.height,
        0,
        this.format,
        this.type,
        null
      );
      d.bindTexture(d.TEXTURE_2D, null);
    };
  })(ChemDoodle.structures.d3, ChemDoodle.math, document);
  (function (e, m, k, p, d) {
    e._Shader = function () {};
    e = e._Shader.prototype;
    e.useShaderProgram = function (d) {
      d.useProgram(this.gProgram);
      d.shader = this;
    };
    e.init = function (d) {
      let a = this.getShader(d, "vertex-shader");
      a || (a = this.loadDefaultVertexShader(d));
      let f = this.getShader(d, "fragment-shader");
      f || (f = this.loadDefaultFragmentShader(d));
      this.gProgram = d.createProgram();
      d.attachShader(this.gProgram, a);
      d.attachShader(this.gProgram, f);
      this.onShaderAttached(d);
      d.linkProgram(this.gProgram);
      d.getProgramParameter(this.gProgram, d.LINK_STATUS) ||
        alert(
          "Could not initialize shaders: " + d.getProgramInfoLog(this.gProgram)
        );
      d.useProgram(this.gProgram);
      this.initUniformLocations(d);
      d.useProgram(null);
    };
    e.onShaderAttached = function (d) {
      this.vertexPositionAttribute = 0;
      this.vertexNormalAttribute = 1;
      d.bindAttribLocation(
        this.gProgram,
        this.vertexPositionAttribute,
        "a_vertex_position"
      );
      d.bindAttribLocation(
        this.gProgram,
        this.vertexNormalAttribute,
        "a_vertex_normal"
      );
    };
    e.getShaderFromStr = function (e, a, f) {
      a = e.createShader(a);
      e.shaderSource(a, f);
      e.compileShader(a);
      return e.getShaderParameter(a, e.COMPILE_STATUS)
        ? a
        : (alert(shaderScript.type + " " + e.getShaderInfoLog(a)),
          e.deleteShader(a),
          d);
    };
    e.enableAttribsArray = function (d) {
      d.enableVertexAttribArray(this.vertexPositionAttribute);
    };
    e.disableAttribsArray = function (d) {
      d.disableVertexAttribArray(this.vertexPositionAttribute);
    };
    e.getShader = function (e, a) {
      a = p.getElementById(a);
      if (!a) return d;
      var f = [];
      let c = a.firstChild;
      for (; c; )
        3 === c.nodeType && f.push(c.textContent), (c = c.nextSibling);
      f = f.join("");
      if ("x-shader/x-fragment" === a.type)
        e = this.getShaderFromStr(e, e.FRAGMENT_SHADER, f);
      else if ("x-shader/x-vertex" === a.type)
        e = this.getShaderFromStr(e, e.VERTEX_SHADER, f);
      else return d;
      return e;
    };
    e.initUniformLocations = function (d) {
      this.modelViewMatrixUniform = d.getUniformLocation(
        this.gProgram,
        "u_model_view_matrix"
      );
      this.projectionMatrixUniform = d.getUniformLocation(
        this.gProgram,
        "u_projection_matrix"
      );
    };
    e.loadDefaultVertexShader = function (d) {};
    e.loadDefaultFragmentShader = function (d) {};
    e.setMatrixUniforms = function (e, a) {
      a === d
        ? this.setModelViewMatrix(e, e.modelViewMatrix)
        : this.setModelViewMatrix(e, k.multiply(e.modelViewMatrix, a, []));
    };
    e.setProjectionMatrix = function (d, a) {
      d.uniformMatrix4fv(this.projectionMatrixUniform, !1, a);
    };
    e.setModelViewMatrix = function (d, a) {
      d.uniformMatrix4fv(this.modelViewMatrixUniform, !1, a);
    };
    e.setMaterialAmbientColor = function (d, a) {};
    e.setMaterialDiffuseColor = function (d, a) {};
    e.setMaterialSpecularColor = function (d, a) {};
    e.setMaterialShininess = function (d, a) {};
    e.setMaterialAlpha = function (d, a) {};
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.mat4,
    document
  );
  (function (e, m, k, p, d) {
    e.FXAAShader = function () {};
    let g = e._Shader.prototype;
    e = e.FXAAShader.prototype = new e._Shader();
    e.initUniformLocations = function (a) {
      g.initUniformLocations.call(this, a);
      this.buffersizeUniform = a.getUniformLocation(
        this.gProgram,
        "u_buffersize"
      );
      this.antialiasUniform = a.getUniformLocation(
        this.gProgram,
        "u_antialias"
      );
      this.edgeThresholdUniform = a.getUniformLocation(
        this.gProgram,
        "u_edge_threshold"
      );
      this.edgeThresholdMinUniform = a.getUniformLocation(
        this.gProgram,
        "u_edge_threshold_min"
      );
      this.searchStepsUniform = a.getUniformLocation(
        this.gProgram,
        "u_search_steps"
      );
      this.searchThresholdUniform = a.getUniformLocation(
        this.gProgram,
        "u_search_threshold"
      );
      this.subpixCapUniform = a.getUniformLocation(
        this.gProgram,
        "u_subpix_cap"
      );
      this.subpixTrimUniform = a.getUniformLocation(
        this.gProgram,
        "u_subpix_trim"
      );
    };
    e.setBuffersize = function (a, d, c) {
      a.uniform2f(this.buffersizeUniform, d, c);
    };
    e.setAntialias = function (a, d) {
      a.uniform1f(this.antialiasUniform, d);
    };
    e.setEdgeThreshold = function (a, d) {
      a.uniform1f(this.edgeThresholdUniform, d);
    };
    e.setEdgeThresholdMin = function (a, d) {
      a.uniform1f(this.edgeThresholdMinUniform, d);
    };
    e.setSearchSteps = function (a, d) {
      a.uniform1i(this.searchStepsUniform, d);
    };
    e.setSearchThreshold = function (a, d) {
      a.uniform1f(this.searchThresholdUniform, d);
    };
    e.setSubpixCap = function (a, d) {
      a.uniform1f(this.subpixCapUniform, d);
    };
    e.setSubpixTrim = function (a, d) {
      a.uniform1f(this.subpixTrimUniform, d);
    };
    e.loadDefaultVertexShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.VERTEX_SHADER,
        "precision mediump float;attribute vec3 a_vertex_position;varying vec2 v_texcoord;void main() {gl_Position \x3d vec4(a_vertex_position, 1.);v_texcoord \x3d a_vertex_position.xy * .5 + .5;}"
      );
    };
    e.loadDefaultFragmentShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.FRAGMENT_SHADER,
        "precision mediump float;\nconst int fxaaMaxSearchSteps \x3d 128;\nuniform float u_edge_threshold;\nuniform float u_edge_threshold_min;\nuniform int u_search_steps;\nuniform float u_search_threshold;\nuniform float u_subpix_cap;\nuniform float u_subpix_trim;\nuniform sampler2D u_sampler0;\nuniform vec2 u_buffersize;\nuniform bool u_antialias;\nvarying vec2 v_texcoord;\nfloat FxaaLuma(vec3 rgb) {\nreturn rgb.y * (0.587/0.299) + rgb.x;\n}\nvec3 FxaaLerp3(vec3 a, vec3 b, float amountOfA) {\nreturn (vec3(-amountOfA) * b) + ((a * vec3(amountOfA)) + b);\n}\nvec4 FxaaTexOff(sampler2D tex, vec2 pos, vec2 off, vec2 rcpFrame) {\nreturn texture2D(tex, pos + off * rcpFrame);\n}\nvec3 FxaaPixelShader(vec2 pos, sampler2D tex, vec2 rcpFrame) {\nfloat subpix_trim_scale \x3d (1.0/(1.0 - u_subpix_trim));\nvec3 rgbN \x3d FxaaTexOff(tex, pos.xy, vec2( 0.,-1.), rcpFrame).xyz;\nvec3 rgbW \x3d FxaaTexOff(tex, pos.xy, vec2(-1., 0.), rcpFrame).xyz;\nvec3 rgbM \x3d FxaaTexOff(tex, pos.xy, vec2( 0., 0.), rcpFrame).xyz;\nvec3 rgbE \x3d FxaaTexOff(tex, pos.xy, vec2( 1., 0.), rcpFrame).xyz;\nvec3 rgbS \x3d FxaaTexOff(tex, pos.xy, vec2( 0., 1.), rcpFrame).xyz;\nfloat lumaN \x3d FxaaLuma(rgbN);\nfloat lumaW \x3d FxaaLuma(rgbW);\nfloat lumaM \x3d FxaaLuma(rgbM);\nfloat lumaE \x3d FxaaLuma(rgbE);\nfloat lumaS \x3d FxaaLuma(rgbS);\nfloat rangeMin \x3d min(lumaM, min(min(lumaN, lumaW), min(lumaS, lumaE)));\nfloat rangeMax \x3d max(lumaM, max(max(lumaN, lumaW), max(lumaS, lumaE)));\nfloat range \x3d rangeMax - rangeMin;\nif(range \x3c max(u_edge_threshold_min, rangeMax * u_edge_threshold)) {\nreturn rgbM;\n}\nvec3 rgbL \x3d rgbN + rgbW + rgbM + rgbE + rgbS;\nfloat lumaL \x3d (lumaN + lumaW + lumaE + lumaS) * 0.25;\nfloat rangeL \x3d abs(lumaL - lumaM);\nfloat blendL \x3d max(0.0, (rangeL / range) - u_subpix_trim) * subpix_trim_scale;\nblendL \x3d min(u_subpix_cap, blendL);\nvec3 rgbNW \x3d FxaaTexOff(tex, pos.xy, vec2(-1.,-1.), rcpFrame).xyz;\nvec3 rgbNE \x3d FxaaTexOff(tex, pos.xy, vec2( 1.,-1.), rcpFrame).xyz;\nvec3 rgbSW \x3d FxaaTexOff(tex, pos.xy, vec2(-1., 1.), rcpFrame).xyz;\nvec3 rgbSE \x3d FxaaTexOff(tex, pos.xy, vec2( 1., 1.), rcpFrame).xyz;\nrgbL +\x3d (rgbNW + rgbNE + rgbSW + rgbSE);\nrgbL *\x3d vec3(1.0/9.0);\nfloat lumaNW \x3d FxaaLuma(rgbNW);\nfloat lumaNE \x3d FxaaLuma(rgbNE);\nfloat lumaSW \x3d FxaaLuma(rgbSW);\nfloat lumaSE \x3d FxaaLuma(rgbSE);\nfloat edgeVert \x3d\nabs((0.25 * lumaNW) + (-0.5 * lumaN) + (0.25 * lumaNE)) +\nabs((0.50 * lumaW ) + (-1.0 * lumaM) + (0.50 * lumaE )) +\nabs((0.25 * lumaSW) + (-0.5 * lumaS) + (0.25 * lumaSE));\nfloat edgeHorz \x3d\nabs((0.25 * lumaNW) + (-0.5 * lumaW) + (0.25 * lumaSW)) +\nabs((0.50 * lumaN ) + (-1.0 * lumaM) + (0.50 * lumaS )) +\nabs((0.25 * lumaNE) + (-0.5 * lumaE) + (0.25 * lumaSE));\nbool horzSpan \x3d edgeHorz \x3e\x3d edgeVert;\nfloat lengthSign \x3d horzSpan ? -rcpFrame.y : -rcpFrame.x;\nif(!horzSpan) {\nlumaN \x3d lumaW;\nlumaS \x3d lumaE;\n}\nfloat gradientN \x3d abs(lumaN - lumaM);\nfloat gradientS \x3d abs(lumaS - lumaM);\nlumaN \x3d (lumaN + lumaM) * 0.5;\nlumaS \x3d (lumaS + lumaM) * 0.5;\nif (gradientN \x3c gradientS) {\nlumaN \x3d lumaS;\nlumaN \x3d lumaS;\ngradientN \x3d gradientS;\nlengthSign *\x3d -1.0;\n}\nvec2 posN;\nposN.x \x3d pos.x + (horzSpan ? 0.0 : lengthSign * 0.5);\nposN.y \x3d pos.y + (horzSpan ? lengthSign * 0.5 : 0.0);\ngradientN *\x3d u_search_threshold;\nvec2 posP \x3d posN;\nvec2 offNP \x3d horzSpan ? vec2(rcpFrame.x, 0.0) : vec2(0.0, rcpFrame.y);\nfloat lumaEndN \x3d lumaN;\nfloat lumaEndP \x3d lumaN;\nbool doneN \x3d false;\nbool doneP \x3d false;\nposN +\x3d offNP * vec2(-1.0, -1.0);\nposP +\x3d offNP * vec2( 1.0,  1.0);\nfor(int i \x3d 0; i \x3c fxaaMaxSearchSteps; i++) {\nif(i \x3e\x3d u_search_steps) break;\nif(!doneN) {\nlumaEndN \x3d FxaaLuma(texture2D(tex, posN.xy).xyz);\n}\nif(!doneP) {\nlumaEndP \x3d FxaaLuma(texture2D(tex, posP.xy).xyz);\n}\ndoneN \x3d doneN || (abs(lumaEndN - lumaN) \x3e\x3d gradientN);\ndoneP \x3d doneP || (abs(lumaEndP - lumaN) \x3e\x3d gradientN);\nif(doneN \x26\x26 doneP) {\nbreak;\n}\nif(!doneN) {\nposN -\x3d offNP;\n}\nif(!doneP) {\nposP +\x3d offNP;\n}\n}\nfloat dstN \x3d horzSpan ? pos.x - posN.x : pos.y - posN.y;\nfloat dstP \x3d horzSpan ? posP.x - pos.x : posP.y - pos.y;\nbool directionN \x3d dstN \x3c dstP;\nlumaEndN \x3d directionN ? lumaEndN : lumaEndP;\nif(((lumaM - lumaN) \x3c 0.0) \x3d\x3d ((lumaEndN - lumaN) \x3c 0.0)) {\nlengthSign \x3d 0.0;\n}\nfloat spanLength \x3d (dstP + dstN);\ndstN \x3d directionN ? dstN : dstP;\nfloat subPixelOffset \x3d (0.5 + (dstN * (-1.0/spanLength))) * lengthSign;\nvec3 rgbF \x3d texture2D(tex, vec2(\npos.x + (horzSpan ? 0.0 : subPixelOffset),\npos.y + (horzSpan ? subPixelOffset : 0.0))).xyz;\nreturn FxaaLerp3(rgbL, rgbF, blendL);\n}\nvoid main() {\ngl_FragColor \x3d texture2D(u_sampler0, v_texcoord);\nif(u_antialias) {\ngl_FragColor.xyz \x3d FxaaPixelShader(v_texcoord, u_sampler0, 1. / u_buffersize).xyz;\n}\n}"
      );
    };
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.mat4,
    document
  );
  (function (e, m, k, p, d) {
    e.LabelShader = function () {};
    let g = e._Shader.prototype;
    e = e.LabelShader.prototype = new e._Shader();
    e.initUniformLocations = function (a) {
      g.initUniformLocations.call(this, a);
      this.dimensionUniform = a.getUniformLocation(
        this.gProgram,
        "u_dimension"
      );
    };
    e.onShaderAttached = function (a) {
      g.onShaderAttached.call(this, a);
      this.vertexTexCoordAttribute = 2;
      a.bindAttribLocation(
        this.gProgram,
        this.vertexTexCoordAttribute,
        "a_vertex_texcoord"
      );
    };
    e.loadDefaultVertexShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.VERTEX_SHADER,
        "precision mediump float;attribute vec3 a_vertex_position;attribute vec3 a_vertex_normal;attribute vec2 a_vertex_texcoord;uniform mat4 u_model_view_matrix;uniform mat4 u_projection_matrix;uniform vec2 u_dimension;varying vec2 v_texcoord;void main() {gl_Position \x3d u_model_view_matrix * vec4(a_vertex_position, 1.);vec4 depth_pos \x3d vec4(gl_Position);depth_pos.z +\x3d a_vertex_normal.z;gl_Position \x3d u_projection_matrix * gl_Position;depth_pos \x3d u_projection_matrix * depth_pos;gl_Position /\x3d gl_Position.w;gl_Position.xy +\x3d a_vertex_normal.xy / u_dimension * 2.;gl_Position.z \x3d depth_pos.z / depth_pos.w;v_texcoord \x3d a_vertex_texcoord;}"
      );
    };
    e.loadDefaultFragmentShader = function (a) {
      let d = [
        a.depthTextureExt ? "#define CWC_DEPTH_TEX\n" : "",
        "precision mediump float;uniform sampler2D u_image;varying vec2 v_texcoord;void main(void) {gl_FragColor \x3d texture2D(u_image, v_texcoord);}",
      ].join("");
      return this.getShaderFromStr(a, a.FRAGMENT_SHADER, d);
    };
    e.enableAttribsArray = function (a) {
      g.enableAttribsArray.call(this, a);
      a.enableVertexAttribArray(this.vertexNormalAttribute);
      a.enableVertexAttribArray(this.vertexTexCoordAttribute);
    };
    e.disableAttribsArray = function (a) {
      g.disableAttribsArray.call(this, a);
      a.disableVertexAttribArray(this.vertexNormalAttribute);
      a.disableVertexAttribArray(this.vertexTexCoordAttribute);
    };
    e.setDimension = function (a, d, c) {
      a.uniform2f(this.dimensionUniform, d, c);
    };
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.mat4,
    document
  );
  (function (e, m, k, p, d) {
    e.LightingShader = function () {};
    let g = e._Shader.prototype;
    e = e.LightingShader.prototype = new e._Shader();
    e.initUniformLocations = function (a) {
      g.initUniformLocations.call(this, a);
      this.positionSampleUniform = a.getUniformLocation(
        this.gProgram,
        "u_position_sample"
      );
      this.colorSampleUniform = a.getUniformLocation(
        this.gProgram,
        "u_color_sample"
      );
      this.ssaoSampleUniform = a.getUniformLocation(
        this.gProgram,
        "u_ssao_sample"
      );
      this.outlineSampleUniform = a.getUniformLocation(
        this.gProgram,
        "u_outline_sample"
      );
    };
    e.loadDefaultVertexShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.VERTEX_SHADER,
        "precision mediump float;attribute vec3 a_vertex_position;varying vec2 v_texcoord;void main() {gl_Position \x3d vec4(a_vertex_position, 1.);v_texcoord \x3d a_vertex_position.xy * .5 + .5;}"
      );
    };
    e.loadDefaultFragmentShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.FRAGMENT_SHADER,
        "precision mediump float;uniform sampler2D u_position_sample;uniform sampler2D u_color_sample;uniform sampler2D u_ssao_sample;uniform sampler2D u_outline_sample;varying vec2 v_texcoord;void main() {vec4 position \x3d texture2D(u_position_sample, v_texcoord);vec4 color \x3d texture2D(u_color_sample, v_texcoord);vec4 ao \x3d texture2D(u_ssao_sample, v_texcoord);float outline \x3d texture2D(u_outline_sample, v_texcoord).r;if(position.w \x3d\x3d 0. \x26\x26 outline \x3d\x3d 1.) {return;}gl_FragColor \x3d vec4(color.rgb * ao.r * outline, 1.);}"
      );
    };
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.mat4,
    document
  );
  (function (e, m, k, p, d) {
    e.NormalShader = function () {};
    let g = e._Shader.prototype;
    e = e.NormalShader.prototype = new e._Shader();
    e.initUniformLocations = function (a) {
      g.initUniformLocations.call(this, a);
      this.normalMatrixUniform = a.getUniformLocation(
        this.gProgram,
        "u_normal_matrix"
      );
    };
    e.loadDefaultVertexShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.VERTEX_SHADER,
        "precision mediump float;attribute vec3 a_vertex_position;attribute vec3 a_vertex_normal;uniform mat4 u_model_view_matrix;uniform mat4 u_projection_matrix;uniform mat3 u_normal_matrix;varying vec3 v_normal;void main() {v_normal \x3d length(a_vertex_normal)\x3d\x3d0. ? a_vertex_normal : u_normal_matrix * a_vertex_normal;gl_Position \x3d u_projection_matrix * u_model_view_matrix * vec4(a_vertex_position, 1.);}"
      );
    };
    e.loadDefaultFragmentShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.FRAGMENT_SHADER,
        "precision mediump float;varying vec3 v_normal;void main(void) {vec3 normal \x3d length(v_normal)\x3d\x3d0. ? vec3(0., 0., 1.) : normalize(v_normal);gl_FragColor \x3d vec4(normal, 0.);}"
      );
    };
    e.enableAttribsArray = function (a) {
      g.enableAttribsArray.call(this, a);
      a.enableVertexAttribArray(this.vertexNormalAttribute);
    };
    e.disableAttribsArray = function (a) {
      g.disableAttribsArray.call(this, a);
      a.disableVertexAttribArray(this.vertexNormalAttribute);
    };
    e.setModelViewMatrix = function (a, d) {
      g.setModelViewMatrix.call(this, a, d);
      d = m.transpose(k.toInverseMat3(d, []));
      a.uniformMatrix3fv(this.normalMatrixUniform, !1, d);
    };
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.mat4,
    document
  );
  (function (e, m, k, p, d) {
    e.OutlineShader = function () {};
    let g = e._Shader.prototype;
    e = e.OutlineShader.prototype = new e._Shader();
    e.initUniformLocations = function (a) {
      g.initUniformLocations.call(this, a);
      this.normalSampleUniform = a.getUniformLocation(
        this.gProgram,
        "u_normal_sample"
      );
      this.depthSampleUniform = a.getUniformLocation(
        this.gProgram,
        "u_depth_sample"
      );
      this.gbufferTextureSizeUniform = a.getUniformLocation(
        this.gProgram,
        "u_gbuffer_texture_size"
      );
      this.normalThresholdUniform = a.getUniformLocation(
        this.gProgram,
        "u_normal_threshold"
      );
      this.depthThresholdUniform = a.getUniformLocation(
        this.gProgram,
        "u_depth_threshold"
      );
      this.thicknessUniform = a.getUniformLocation(
        this.gProgram,
        "u_thickness"
      );
    };
    e.loadDefaultVertexShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.VERTEX_SHADER,
        "precision mediump float;attribute vec3 a_vertex_position;varying vec2 v_texcoord;void main() {gl_Position \x3d vec4(a_vertex_position, 1.);v_texcoord \x3d a_vertex_position.xy * .5 + .5;}"
      );
    };
    e.loadDefaultFragmentShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.FRAGMENT_SHADER,
        "precision mediump float;uniform sampler2D u_normal_sample;uniform sampler2D u_depth_sample;uniform float u_normal_threshold;uniform float u_depth_threshold;uniform float u_thickness;uniform vec2 u_gbuffer_texture_size;varying vec2 v_texcoord;void main() {vec3 normal \x3d texture2D(u_normal_sample, v_texcoord).xyz;float depth \x3d texture2D(u_depth_sample, v_texcoord).r;vec2 texelSize \x3d u_thickness/u_gbuffer_texture_size * .5;vec2 offsets[8];offsets[0] \x3d vec2(-texelSize.x, -texelSize.y);offsets[1] \x3d vec2(-texelSize.x, 0);offsets[2] \x3d vec2(-texelSize.x, texelSize.y);offsets[3] \x3d vec2(0, -texelSize.y);offsets[4] \x3d vec2(0,  texelSize.y);offsets[5] \x3d vec2(texelSize.x, -texelSize.y);offsets[6] \x3d vec2(texelSize.x, 0);offsets[7] \x3d vec2(texelSize.x, texelSize.y);float edge \x3d 0.;for (int i \x3d 0; i \x3c 8; i++) {vec3 sampleNorm \x3d texture2D(u_normal_sample, v_texcoord + offsets[i]).xyz;if(normal \x3d\x3d vec3(.0, .0, .0)) {if(sampleNorm !\x3d vec3(.0, .0, .0)) {edge \x3d 1.0;break;}continue;}if (dot(sampleNorm, normal) \x3c u_normal_threshold) {edge \x3d 1.0;break;}float sampleDepth \x3d texture2D(u_depth_sample, v_texcoord + offsets[i]).r;if (abs(sampleDepth - depth) \x3e u_depth_threshold) {edge \x3d 1.0;break;}}edge \x3d 1. - edge;gl_FragColor \x3d vec4(edge, edge, edge, 1.);}"
      );
    };
    e.setGbufferTextureSize = function (a, d, c) {
      a.uniform2f(this.gbufferTextureSizeUniform, d, c);
    };
    e.setNormalThreshold = function (a, d) {
      a.uniform1f(this.normalThresholdUniform, d);
    };
    e.setDepthThreshold = function (a, d) {
      a.uniform1f(this.depthThresholdUniform, d);
    };
    e.setThickness = function (a, d) {
      a.uniform1f(this.thicknessUniform, d);
    };
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.mat4,
    document
  );
  (function (e, m, k, p, d) {
    e.PhongShader = function () {};
    let g = e._Shader.prototype;
    e = e.PhongShader.prototype = new e._Shader();
    e.initUniformLocations = function (a) {
      g.initUniformLocations.call(this, a);
      this.shadowUniform = a.getUniformLocation(this.gProgram, "u_shadow");
      this.flatColorUniform = a.getUniformLocation(
        this.gProgram,
        "u_flat_color"
      );
      this.normalMatrixUniform = a.getUniformLocation(
        this.gProgram,
        "u_normal_matrix"
      );
      this.lightModelViewMatrixUniform = a.getUniformLocation(
        this.gProgram,
        "u_light_model_view_matrix"
      );
      this.lightProjectionMatrixUniform = a.getUniformLocation(
        this.gProgram,
        "u_light_projection_matrix"
      );
      this.lightDiffuseColorUniform = a.getUniformLocation(
        this.gProgram,
        "u_light_diffuse_color"
      );
      this.lightSpecularColorUniform = a.getUniformLocation(
        this.gProgram,
        "u_light_specular_color"
      );
      this.lightDirectionUniform = a.getUniformLocation(
        this.gProgram,
        "u_light_direction"
      );
      this.materialAmbientColorUniform = a.getUniformLocation(
        this.gProgram,
        "u_material_ambient_color"
      );
      this.materialDiffuseColorUniform = a.getUniformLocation(
        this.gProgram,
        "u_material_diffuse_color"
      );
      this.materialSpecularColorUniform = a.getUniformLocation(
        this.gProgram,
        "u_material_specular_color"
      );
      this.materialShininessUniform = a.getUniformLocation(
        this.gProgram,
        "u_material_shininess"
      );
      this.materialAlphaUniform = a.getUniformLocation(
        this.gProgram,
        "u_material_alpha"
      );
      this.fogModeUniform = a.getUniformLocation(this.gProgram, "u_fog_mode");
      this.fogColorUniform = a.getUniformLocation(this.gProgram, "u_fog_color");
      this.fogStartUniform = a.getUniformLocation(this.gProgram, "u_fog_start");
      this.fogEndUniform = a.getUniformLocation(this.gProgram, "u_fog_end");
      this.fogDensityUniform = a.getUniformLocation(
        this.gProgram,
        "u_fog_density"
      );
      this.shadowDepthSampleUniform = a.getUniformLocation(
        this.gProgram,
        "u_shadow_depth_sample"
      );
      this.shadowTextureSizeUniform = a.getUniformLocation(
        this.gProgram,
        "u_shadow_texture_size"
      );
      this.shadowIntensityUniform = a.getUniformLocation(
        this.gProgram,
        "u_shadow_intensity"
      );
      this.gammaCorrectionUniform = a.getUniformLocation(
        this.gProgram,
        "u_gamma_inverted"
      );
      this.pointSizeUniform = a.getUniformLocation(
        this.gProgram,
        "u_point_size"
      );
    };
    e.loadDefaultVertexShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.VERTEX_SHADER,
        "precision mediump float;attribute vec3 a_vertex_position;attribute vec3 a_vertex_normal;uniform vec3 u_light_diffuse_color;uniform vec3 u_material_ambient_color;uniform vec3 u_material_diffuse_color;uniform mat4 u_model_view_matrix;uniform mat4 u_projection_matrix;uniform mat3 u_normal_matrix;uniform mat4 u_light_model_view_matrix;uniform mat4 u_light_projection_matrix;uniform bool u_shadow;varying vec3 v_viewpos;varying vec4 v_shadcoord;varying vec3 v_diffuse;varying vec3 v_ambient;varying vec3 v_normal;uniform float u_point_size;void main() {v_normal \x3d length(a_vertex_normal)\x3d\x3d0. ? a_vertex_normal : u_normal_matrix * a_vertex_normal;v_ambient \x3d u_material_ambient_color;v_diffuse \x3d u_material_diffuse_color * u_light_diffuse_color;if(u_shadow) {v_shadcoord \x3d u_light_projection_matrix * u_light_model_view_matrix * vec4(a_vertex_position, 1.);v_shadcoord /\x3d v_shadcoord.w;}vec4 viewPos \x3d u_model_view_matrix * vec4(a_vertex_position, 1.);v_viewpos \x3d viewPos.xyz / viewPos.w;gl_Position \x3d u_projection_matrix * viewPos;gl_Position /\x3d gl_Position.w;gl_PointSize \x3d u_point_size;}"
      );
    };
    e.loadDefaultFragmentShader = function (a) {
      let d = [
        a.depthTextureExt ? "#define CWC_DEPTH_TEX\n" : "",
        "precision mediump float;uniform vec3 u_light_specular_color;uniform vec3 u_light_direction;uniform vec3 u_material_specular_color;uniform float u_material_shininess;uniform float u_material_alpha;uniform int u_fog_mode;uniform vec3 u_fog_color;uniform float u_fog_density;uniform float u_fog_start;uniform float u_fog_end;uniform bool u_shadow;uniform float u_shadow_intensity;uniform bool u_flat_color;uniform float u_gamma_inverted;uniform sampler2D u_shadow_depth_sample;uniform vec2 u_shadow_texture_size;varying vec3 v_viewpos;varying vec4 v_shadcoord;varying vec3 v_diffuse;varying vec3 v_ambient;varying vec3 v_normal;\n#ifndef CWC_DEPTH_TEX\nfloat unpack (vec4 colour) {const vec4 bitShifts \x3d vec4(1.,1. / 255.,1. / (255. * 255.),1. / (255. * 255. * 255.));return dot(colour, bitShifts);}\n#endif\nfloat shadowMapDepth(vec4 shadowMapColor) {float zShadowMap;\n#ifdef CWC_DEPTH_TEX\nzShadowMap \x3d shadowMapColor.r;\n#else\nzShadowMap \x3d unpack(shadowMapColor);\n#endif\nreturn zShadowMap;}void main(void) {vec3 color \x3d v_diffuse;if(length(v_normal)!\x3d0.){vec3 normal \x3d normalize(v_normal);vec3 lightDir \x3d normalize(-u_light_direction);float nDotL \x3d dot(normal, lightDir);float shadow \x3d 0.0;if(u_shadow) {vec3 depthCoord \x3d .5 + v_shadcoord.xyz / v_shadcoord.w * .5;if(depthCoord.z \x3c\x3d 1. \x26\x26 depthCoord.z \x3e\x3d 0.) {float bias \x3d max(.05 * (1. - nDotL), .005);vec2 texelSize \x3d 1. / u_shadow_texture_size;for(int x \x3d -1; x \x3c\x3d 1; ++x) {for(int y \x3d -1; y \x3c\x3d 1; ++y)  {vec4 shadowMapColor \x3d texture2D(u_shadow_depth_sample, depthCoord.xy + vec2(x, y) * texelSize);float zShadowMap \x3d shadowMapDepth(shadowMapColor);shadow +\x3d zShadowMap + bias \x3c depthCoord.z ? 1. : 0.;}}shadow /\x3d 9.;shadow *\x3d u_shadow_intensity;}}if(!u_flat_color) {vec3 viewDir \x3d normalize(-v_viewpos);vec3 halfDir \x3d normalize(lightDir + viewDir);float nDotHV \x3d max(dot(halfDir, normal), 0.);vec3 specular \x3d u_material_specular_color * u_light_specular_color;color*\x3dmax(nDotL, 0.);color+\x3dspecular * pow(nDotHV, u_material_shininess);}color \x3d (1.-shadow)*color+v_ambient;}gl_FragColor \x3d vec4(pow(color, vec3(u_gamma_inverted)), u_material_alpha);if(u_fog_mode !\x3d 0){float fogCoord \x3d 1.-clamp((u_fog_end - gl_FragCoord.z/gl_FragCoord.w) / (u_fog_end - u_fog_start), 0., 1.);float fogFactor \x3d 1.;if(u_fog_mode \x3d\x3d 1){fogFactor \x3d 1.-fogCoord;}else if(u_fog_mode \x3d\x3d 2) {fogFactor \x3d clamp(exp(-u_fog_density*fogCoord), 0., 1.);}else if(u_fog_mode \x3d\x3d 3) {fogFactor \x3d clamp(exp(-pow(u_fog_density*fogCoord, 2.)), 0., 1.);}gl_FragColor \x3d mix(vec4(u_fog_color, 1.), gl_FragColor, fogFactor);}}",
      ].join("");
      return this.getShaderFromStr(a, a.FRAGMENT_SHADER, d);
    };
    e.enableAttribsArray = function (a) {
      g.enableAttribsArray.call(this, a);
      a.enableVertexAttribArray(this.vertexNormalAttribute);
    };
    e.disableAttribsArray = function (a) {
      g.disableAttribsArray.call(this, a);
      a.disableVertexAttribArray(this.vertexNormalAttribute);
    };
    e.setMatrixUniforms = function (a, f) {
      if (f === d)
        this.setModelViewMatrix(a, a.modelViewMatrix),
          this.setLightModelViewMatrix(a, a.lightViewMatrix);
      else {
        let c = k.multiply(a.modelViewMatrix, f, []);
        f = k.multiply(a.lightViewMatrix, f, []);
        this.setModelViewMatrix(a, c);
        this.setLightModelViewMatrix(a, f);
      }
    };
    e.setModelViewMatrix = function (a, d) {
      g.setModelViewMatrix.call(this, a, d);
      d = m.transpose(k.toInverseMat3(d, []));
      a.uniformMatrix3fv(this.normalMatrixUniform, !1, d);
    };
    e.setFlatColor = function (a, d) {
      a.uniform1i(this.flatColorUniform, d);
    };
    e.setShadow = function (a, d) {
      a.uniform1i(this.shadowUniform, d);
    };
    e.setFogMode = function (a, d) {
      a.uniform1i(this.fogModeUniform, d);
    };
    e.setFogColor = function (a, d) {
      a.uniform3fv(this.fogColorUniform, d);
    };
    e.setFogStart = function (a, d) {
      a.uniform1f(this.fogStartUniform, d);
    };
    e.setFogEnd = function (a, d) {
      a.uniform1f(this.fogEndUniform, d);
    };
    e.setFogDensity = function (a, d) {
      a.uniform1f(this.fogDensityUniform, d);
    };
    e.setMaterialAmbientColor = function (a, d) {
      a.uniform3fv(this.materialAmbientColorUniform, d);
    };
    e.setMaterialDiffuseColor = function (a, d) {
      a.uniform3fv(this.materialDiffuseColorUniform, d);
    };
    e.setMaterialSpecularColor = function (a, d) {
      a.uniform3fv(this.materialSpecularColorUniform, d);
    };
    e.setMaterialShininess = function (a, d) {
      a.uniform1f(this.materialShininessUniform, d);
    };
    e.setMaterialAlpha = function (a, d) {
      a.uniform1f(this.materialAlphaUniform, d);
    };
    e.setLightDiffuseColor = function (a, d) {
      a.uniform3fv(this.lightDiffuseColorUniform, d);
    };
    e.setLightSpecularColor = function (a, d) {
      a.uniform3fv(this.lightSpecularColorUniform, d);
    };
    e.setLightDirection = function (a, d) {
      a.uniform3fv(this.lightDirectionUniform, d);
    };
    e.setLightModelViewMatrix = function (a, d) {
      a.uniformMatrix4fv(this.lightModelViewMatrixUniform, !1, d);
    };
    e.setLightProjectionMatrix = function (a, d) {
      a.uniformMatrix4fv(this.lightProjectionMatrixUniform, !1, d);
    };
    e.setShadowTextureSize = function (a, d, c) {
      a.uniform2f(this.shadowTextureSizeUniform, d, c);
    };
    e.setShadowIntensity = function (a, d) {
      a.uniform1f(this.shadowIntensityUniform, d);
    };
    e.setGammaCorrection = function (a, d) {
      a.uniform1f(this.gammaCorrectionUniform, 1 / d);
    };
    e.setPointSize = function (a, d) {
      a.uniform1f(this.pointSizeUniform, d);
    };
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.mat4,
    document
  );
  (function (e, m, k, p, d) {
    e.PickShader = function () {};
    let g = e._Shader.prototype;
    e = e.PickShader.prototype = new e._Shader();
    e.initUniformLocations = function (a) {
      g.initUniformLocations.call(this, a);
      this.materialDiffuseColorUniform = a.getUniformLocation(
        this.gProgram,
        "u_material_diffuse_color"
      );
    };
    e.loadDefaultVertexShader = function (a) {
      return this.getShaderFromStr(
        a,
        a.VERTEX_SHADER,
        "precision mediump float;attribute vec3 a_vertex_position;uniform mat4 u_model_view_matrix;uniform mat4 u_projection_matrix;void main() {gl_Position \x3d u_projection_matrix * u_model_view_matrix * vec4(a_vertex_position, 1.);gl_Position /\x3d gl_Position.w;}"
      );
    };
    e.loadDefaultFragmentShader = function (a) {
      let d = [
        a.depthTextureExt ? "#define CWC_DEPTH_TEX\n" : "",
        "precision mediump float;uniform vec3 u_material_diffuse_color;void main(void) {gl_FragColor \x3d vec4(u_material_diffuse_color, 1.);}",
      ].join("");
      return this.getShaderFromStr(a, a.FRAGMENT_SHADER, d);
    };
    e.setMaterialDiffuseColor = function (a, d) {
      a.uniform3fv(this.materialDiffuseColorUniform, d);
    };
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.mat4,
    document
  );
  (function (e, m, k, p, d) {
    e.PositionShader = function () {};
    e = e.PositionShader.prototype = new e._Shader();
    e.loadDefaultVertexShader = function (d) {
      return this.getShaderFromStr(
        d,
        d.VERTEX_SHADER,
        "precision mediump float;attribute vec3 a_vertex_position;uniform mat4 u_model_view_matrix;uniform mat4 u_projection_matrix;varying vec4 v_position;void main() {vec4 viewPos \x3d u_model_view_matrix * vec4(a_vertex_position, 1.);gl_Position \x3d u_projection_matrix * viewPos;v_position \x3d viewPos / viewPos.w;}"
      );
    };
    e.loadDefaultFragmentShader = function (d) {
      return this.getShaderFromStr(
        d,
        d.FRAGMENT_SHADER,
        "precision mediump float;varying vec4 v_position;void main(void) {gl_FragColor \x3d v_position;}"
      );
    };
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.mat4,
    document
  );
  (function (e, m, k, p, d) {
    e.QuadShader = function () {};
    e = e.QuadShader.prototype = new e._Shader();
    e.loadDefaultVertexShader = function (d) {
      return this.getShaderFromStr(
        d,
        d.VERTEX_SHADER,
        "precision mediump float;attribute vec3 a_vertex_position;varying vec2 v_texcoord;void main() {gl_Position \x3d vec4(a_vertex_position, 1.);v_texcoord \x3d a_vertex_position.xy * .5 + .5;}"
      );
    };
    e.loadDefaultFragmentShader = function (d) {
      return this.getShaderFromStr(
        d,
        d.FRAGMENT_SHADER,
        "precision mediump float;uniform sampler2D u_image;varying vec2 v_texcoord;void main() {gl_FragColor \x3d texture2D(u_image, v_texcoord);}"
      );
    };
  })(
    ChemDoodle.structures.d3,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.mat4,
    document
  );
  (function (e, m, k, p, d, g, a) {
    function f(b, a, c, d, f, n) {
      c = b[0] * n + c - n;
      d = b[1] * n + d - n;
      b = b[2] * n + f - n;
      f = -1;
      for (let e = 0, h = a.length; e < h; e++)
        if (
          ((n = a[e]),
          0.001 > g.abs(n.x - c) &&
            0.001 > g.abs(n.y - d) &&
            0.001 > g.abs(n.z - b))
        ) {
          f = e;
          break;
        }
      -1 == f && ((f = a.length), a.push(new e.Atom("C", c, d, b)));
      return f;
    }
    let c = function (a, c, d) {
      this.i1 = a;
      this.i2 = c;
      this.i3 = d;
    };
    m._Surface = function () {};
    m = m._Surface.prototype = new m._Mesh();
    m.generate = function (a, c, d, f, e, g, k, p) {
      a = [];
      c = e[4] - f;
      for (d = 0; d < p; d++) {
        let b = e[2] - f;
        for (let d = 0; d < k; d++) {
          let d = e[0] - f;
          for (let e = 0; e < g; e++) a.push(this.calculate(d, b, c)), (d += f);
          b += f;
        }
        c += f;
      }
      return a;
    };
    m.build = function (a, l, h) {
      let b = [],
        k = [],
        n = [];
      var u = [Infinity, -Infinity, Infinity, -Infinity, Infinity, -Infinity];
      l += 2;
      for (let b = 0, c = a.length; b < c; b++) {
        var m = a[b];
        u[0] = g.min(u[0], m.x - l);
        u[1] = g.max(u[1], m.x + l);
        u[2] = g.min(u[2], m.y - l);
        u[3] = g.max(u[3], m.y + l);
        u[4] = g.min(u[4], m.z - l);
        u[5] = g.max(u[5], m.z + l);
      }
      a = u;
      l = a[1] - a[0];
      m = a[3] - a[2];
      var y = a[5] - a[4];
      u = g.min(l, g.min(m, y)) / h;
      h = 2 + g.ceil(l / u);
      var x = 2 + g.ceil(m / u),
        t = 2 + g.ceil(y / u);
      l = this.generate(l, m, y, u, a, h, x, t);
      l = p(l, [h, x, t]);
      h = [];
      m = [];
      for (let b = 0, c = l.vertices.length; b < c; b++)
        m.push(f(l.vertices[b], h, a[0], a[2], a[4], u));
      a = [];
      for (let b = 0, d = l.faces.length; b < d; b++)
        (x = l.faces[b]),
          (u = m[x[0]]),
          (y = m[x[1]]),
          (x = m[x[2]]),
          a.push(new c(u, y, x)),
          n.push(u, y, x);
      u = [];
      for (let b = 0, c = h.length; b < c; b++) {
        l = [];
        for (let c = 0, d = a.length; c < d; c++)
          if (((m = a[c]), m.i1 === b || m.i2 === b || m.i3 === b))
            m.i1 != b && -1 === l.indexOf(m.i1) && l.push(m.i1),
              m.i2 != b && -1 === l.indexOf(m.i2) && l.push(m.i2),
              m.i3 != b && -1 === l.indexOf(m.i3) && l.push(m.i3);
        u.push(l);
      }
      l = [];
      for (let a = 0, b = h.length; a < b; a++) {
        y = h[a];
        x = u[a];
        m = new e.Atom();
        if (3 > x.length) (m.x = y.x), (m.y = y.y), (m.z = y.z);
        else {
          t = 1;
          5 > x.length && (t = 0.5);
          for (let a = 0, b = x.length; a < b; a++) {
            let b = h[x[a]];
            m.x += b.x;
            m.y += b.y;
            m.z += b.z;
          }
          m.x += y.x * t;
          m.y += y.y * t;
          m.z += y.z * t;
          y = 1 / (t + x.length);
          m.x *= y;
          m.y *= y;
          m.z *= y;
        }
        l.push(m);
      }
      h = l;
      for (let a = 0, c = h.length; a < c; a++)
        (u = h[a]), b.push(u.x, u.y, u.z);
      for (let b = 0, c = a.length; b < c; b++)
        (u = a[b]),
          (l = h[u.i1]),
          (y = h[u.i2]),
          (m = h[u.i3]),
          (y = [y.x - l.x, y.y - l.y, y.z - l.z]),
          d.cross(y, [m.x - l.x, m.y - l.y, m.z - l.z]),
          isNaN(y[0]) && (y = [0, 0, 0]),
          (u.normal = y);
      for (let b = 0, c = h.length; b < c; b++) {
        h = [0, 0, 0];
        for (let c = 0, d = a.length; c < d; c++)
          if (((u = a[c]), u.i1 === b || u.i2 === b || u.i3 === b))
            (h[0] += u.normal[0]), (h[1] += u.normal[1]), (h[2] += u.normal[2]);
        d.normalize(h);
        k.push(h[0], h[1], h[2]);
      }
      this.storeData(b, k, n);
    };
    m.render = function (a, c) {
      this.styles && (c = this.styles);
      c.surfaces_display &&
        (a.shader.setMatrixUniforms(a),
        this.bindBuffers(a),
        a.material.setTempColors(
          a,
          c.surfaces_materialAmbientColor_3D,
          c.surfaces_color,
          c.surfaces_materialSpecularColor_3D,
          c.surfaces_materialShininess_3D
        ),
        a.material.setAlpha(a, c.surfaces_alpha),
        "Dots" === c.surfaces_style
          ? (a.shader.setPointSize(a, c.shapes_pointSize),
            a.drawElements(
              a.POINTS,
              this.vertexIndexBuffer.numItems,
              a.UNSIGNED_SHORT,
              0
            ))
          : "Mesh" === c.surfaces_style
          ? (a.lineWidth(c.shapes_lineWidth),
            a.drawElements(
              a.LINES,
              this.vertexIndexBuffer.numItems,
              a.UNSIGNED_SHORT,
              0
            ))
          : a.drawElements(
              a.TRIANGLES,
              this.vertexIndexBuffer.numItems,
              a.UNSIGNED_SHORT,
              0
            ));
    };
  })(
    ChemDoodle.structures,
    ChemDoodle.structures.d3,
    ChemDoodle.ELEMENT,
    ChemDoodle.lib.MarchingCubes,
    ChemDoodle.lib.vec3,
    Math
  );
  (function (e, m, k, p, d) {
    m.SASSurface = function (d, a, f) {
      this.atoms = d;
      this.probeRadius = a;
      this.resolution = f;
      this.build(d, a, f);
    };
    (m.SASSurface.prototype = new m._Surface()).calculate = function (d, a, f) {
      let c = Infinity;
      d = new e.Atom("C", d, a, f);
      for (let b = 0, e = this.atoms.length; b < e; b++)
        (a = this.atoms[b]),
          (f =
            k[a.label] && 0 !== k[a.label].vdWRadius
              ? k[a.label].vdWRadius
              : 2),
          (a = a.distance3D(d) - this.probeRadius - f),
          (c = p.min(c, a));
      return c;
    };
  })(ChemDoodle.structures, ChemDoodle.structures.d3, ChemDoodle.ELEMENT, Math);
  (function (e, m, k, p, d) {
    m.VDWSurface = function (d, a) {
      this.atoms = d;
      this.probeRadius = 0;
      this.resolution = a;
      this.build(d, 0, a);
    };
    (m.VDWSurface.prototype = new m._Surface()).calculate = function (d, a, f) {
      let c = Infinity;
      d = new e.Atom("C", d, a, f);
      for (let b = 0, e = this.atoms.length; b < e; b++)
        (a = this.atoms[b]),
          (f =
            k[a.label] && 0 !== k[a.label].vdWRadius
              ? k[a.label].vdWRadius
              : 2),
          (a = a.distance3D(d) - f),
          (c = p.min(c, a));
      return c;
    };
  })(ChemDoodle.structures, ChemDoodle.structures.d3, ChemDoodle.ELEMENT, Math);
  (function (e, m, k, p) {
    e.Plate = function (d) {
      this.lanes = Array(d);
      i = 0;
      for (ii = d; i < ii; i++) this.lanes[i] = [];
    };
    p = e.Plate.prototype;
    p.sort = function () {
      i = 0;
      for (ii = this.lanes.length; i < ii; i++)
        this.lanes[i].sort(function (d, e) {
          return d - e;
        });
    };
    p.draw = function (d, e) {
      e = d.canvas.width;
      var a = d.canvas.height;
      this.origin = (9 * a) / 10;
      this.front = a / 10;
      this.laneLength = this.origin - this.front;
      d.strokeStyle = "#000000";
      d.beginPath();
      d.moveTo(0, this.front);
      d.lineTo(e, this.front);
      d.setLineDash([3]);
      d.stroke();
      d.setLineDash([]);
      d.beginPath();
      d.moveTo(0, this.origin);
      d.lineTo(e, this.origin);
      d.closePath();
      d.stroke();
      i = 0;
      for (ii = this.lanes.length; i < ii; i++)
        for (
          a = ((i + 1) * e) / (ii + 1),
            d.beginPath(),
            d.moveTo(a, this.origin),
            d.lineTo(a, this.origin + 3),
            d.closePath(),
            d.stroke(),
            s = 0,
            ss = this.lanes[i].length;
          s < ss;
          s++
        ) {
          let f = this.origin - this.laneLength * this.lanes[i][s].rf;
          switch (this.lanes[i][s].type) {
            case "compact":
              d.beginPath();
              d.arc(a, f, 3, 0, 2 * k.PI, !1);
              d.closePath();
              break;
            case "expanded":
              d.beginPath();
              d.arc(a, f, 7, 0, 2 * k.PI, !1);
              d.closePath();
              break;
            case "widened":
              m.contextEllipse(d, a - 18, f - 10, 36, 10);
              break;
            case "cresent":
              d.beginPath(), d.arc(a, f, 9, 0, k.PI, !0), d.closePath();
          }
          switch (this.lanes[i][s].style) {
            case "solid":
              d.fillStyle = "#000000";
              d.fill();
              break;
            case "transparent":
              d.stroke();
          }
        }
    };
    e.Plate.Spot = function (d, e, a) {
      this.type = d;
      this.rf = e;
      this.style = a ? a : "solid";
    };
  })(ChemDoodle.structures, ChemDoodle.extensions, Math);
  (function (e, m, k, p, d, g) {
    e.DEFAULT_STYLES = {
      backgroundColor: "#FFFFFF",
      scale: 1,
      rotateAngle: 0,
      bondLength_2D: 20,
      angstromsPerBondLength: 1.25,
      lightDirection_3D: [-0.1, -0.1, -1],
      lightDiffuseColor_3D: "#FFFFFF",
      lightSpecularColor_3D: "#FFFFFF",
      projectionPerspective_3D: !0,
      projectionPerspectiveVerticalFieldOfView_3D: 45,
      projectionOrthoWidth_3D: 40,
      projectionWidthHeightRatio_3D: g,
      projectionFrontCulling_3D: 0.1,
      projectionBackCulling_3D: 1e4,
      cullBackFace_3D: !0,
      fog_mode_3D: 0,
      fog_color_3D: "#000000",
      fog_start_3D: 0,
      fog_end_3D: 1,
      fog_density_3D: 1,
      shadow_3D: !1,
      shadow_intensity_3D: 0.85,
      flat_color_3D: !1,
      antialias_3D: !0,
      gammaCorrection_3D: 2.2,
      colorHover: "#885110",
      colorSelect: "#0060B2",
      colorError: "#c10000",
      colorPreview: "#00FF00",
      ssao_3D: !1,
      ssao_kernel_radius: 17,
      ssao_kernel_samples: 32,
      ssao_power: 1,
      outline_3D: !1,
      outline_thickness: 1,
      outline_normal_threshold: 0.85,
      outline_depth_threshold: 0.1,
      fxaa_edgeThreshold: 0.0625,
      fxaa_edgeThresholdMin: 1 / 12,
      fxaa_searchSteps: 64,
      fxaa_searchThreshold: 0.25,
      fxaa_subpixCap: 1,
      fxaa_subpixTrim: 0,
      atoms_display: !0,
      atoms_color: "#000000",
      atoms_font_size_2D: 12,
      atoms_font_families_2D: ["Helvetica", "Arial", "Dialog"],
      atoms_font_bold_2D: !1,
      atoms_font_italic_2D: !1,
      atoms_circles_2D: !1,
      atoms_circleDiameter_2D: 10,
      atoms_circleBorderWidth_2D: 1,
      atoms_lonePairDistance_2D: 8,
      atoms_lonePairSpread_2D: 4,
      atoms_lonePairDiameter_2D: 1,
      atoms_useJMOLColors: !1,
      atoms_usePYMOLColors: !1,
      atoms_HBlack_2D: !0,
      atoms_implicitHydrogens_2D: !0,
      atoms_displayTerminalCarbonLabels_2D: !1,
      atoms_showHiddenCarbons_2D: !0,
      atoms_showAttributedCarbons_2D: !0,
      atoms_displayAllCarbonLabels_2D: !1,
      atoms_resolution_3D: 30,
      atoms_sphereDiameter_3D: 0.8,
      atoms_useVDWDiameters_3D: !1,
      atoms_vdwMultiplier_3D: 1,
      atoms_materialAmbientColor_3D: "#000000",
      atoms_materialSpecularColor_3D: "#555555",
      atoms_materialShininess_3D: 32,
      atoms_nonBondedAsStars_3D: !1,
      atoms_displayLabels_3D: !1,
      bonds_display: !0,
      bonds_color: "#000000",
      bonds_width_2D: 1,
      bonds_useAbsoluteSaturationWidths_2D: !0,
      bonds_saturationWidth_2D: 0.2,
      bonds_saturationWidthAbs_2D: 5,
      bonds_ends_2D: "round",
      bonds_splitColor: !1,
      bonds_colorGradient: !1,
      bonds_saturationAngle_2D: k.PI / 3,
      bonds_symmetrical_2D: !1,
      bonds_clearOverlaps_2D: !1,
      bonds_overlapClearWidth_2D: 0.5,
      bonds_atomLabelBuffer_2D: 1,
      bonds_wedgeThickness_2D: 6,
      bonds_wavyLength_2D: 4,
      bonds_hashWidth_2D: 1,
      bonds_hashSpacing_2D: 2.5,
      bonds_dotSize_2D: 2,
      bonds_lewisStyle_2D: !1,
      bonds_showBondOrders_3D: !1,
      bonds_resolution_3D: 30,
      bonds_renderAsLines_3D: !1,
      bonds_cylinderDiameter_3D: 0.3,
      bonds_pillLatitudeResolution_3D: 10,
      bonds_pillLongitudeResolution_3D: 20,
      bonds_pillHeight_3D: 0.3,
      bonds_pillSpacing_3D: 0.1,
      bonds_pillDiameter_3D: 0.3,
      bonds_materialAmbientColor_3D: "#000000",
      bonds_materialSpecularColor_3D: "#555555",
      bonds_materialShininess_3D: 32,
      proteins_displayRibbon: !0,
      proteins_displayBackbone: !1,
      proteins_backboneThickness: 1.5,
      proteins_backboneColor: "#CCCCCC",
      proteins_ribbonCartoonize: !1,
      proteins_displayPipePlank: !1,
      proteins_residueColor: "none",
      proteins_primaryColor: "#FF0D0D",
      proteins_secondaryColor: "#FFFF30",
      proteins_ribbonCartoonHelixPrimaryColor: "#00E740",
      proteins_ribbonCartoonHelixSecondaryColor: "#9905FF",
      proteins_ribbonCartoonSheetColor: "#E8BB99",
      proteins_tubeColor: "#FF0D0D",
      proteins_tubeResolution_3D: 15,
      proteins_ribbonThickness: 0.2,
      proteins_tubeThickness: 0.5,
      proteins_plankSheetWidth: 3.5,
      proteins_cylinderHelixDiameter: 4,
      proteins_verticalResolution: 8,
      proteins_horizontalResolution: 8,
      proteins_materialAmbientColor_3D: "#000000",
      proteins_materialSpecularColor_3D: "#555555",
      proteins_materialShininess_3D: 32,
      nucleics_display: !0,
      nucleics_tubeColor: "#CCCCCC",
      nucleics_baseColor: "#C10000",
      nucleics_residueColor: "none",
      nucleics_tubeThickness: 1.5,
      nucleics_tubeResolution_3D: 15,
      nucleics_verticalResolution: 8,
      nucleics_materialAmbientColor_3D: "#000000",
      nucleics_materialSpecularColor_3D: "#555555",
      nucleics_materialShininess_3D: 32,
      macro_displayAtoms: !1,
      macro_displayBonds: !1,
      macro_atomToLigandDistance: -1,
      macro_showWater: !1,
      macro_colorByChain: !1,
      macro_rainbowColors: [
        "#0000FF",
        "#00FFFF",
        "#00FF00",
        "#FFFF00",
        "#FF0000",
      ],
      surfaces_display: !0,
      surfaces_alpha: 0.5,
      surfaces_style: "Solid",
      surfaces_color: "white",
      surfaces_materialAmbientColor_3D: "#000000",
      surfaces_materialSpecularColor_3D: "#000000",
      surfaces_materialShininess_3D: 32,
      plots_color: "#000000",
      plots_width: 1,
      plots_showIntegration: !1,
      plots_integrationColor: "#c10000",
      plots_integrationLineWidth: 1,
      plots_showGrid: !1,
      plots_gridColor: "gray",
      plots_gridLineWidth: 0.5,
      plots_showYAxis: !0,
      plots_flipXAxis: !1,
      text_font_size: 12,
      text_font_families: ["Helvetica", "Arial", "Dialog"],
      text_font_bold: !0,
      text_font_italic: !1,
      text_font_stroke_3D: !0,
      text_color: "#000000",
      shapes_color: "#000000",
      shapes_lineWidth: 1,
      shapes_pointSize: 2,
      shapes_arrowLength_2D: 8,
      compass_display: !1,
      compass_axisXColor_3D: "#FF0000",
      compass_axisYColor_3D: "#00FF00",
      compass_axisZColor_3D: "#0000FF",
      compass_size_3D: 50,
      compass_resolution_3D: 10,
      compass_displayText_3D: !0,
      compass_type_3D: 0,
      measurement_update_3D: !1,
      measurement_angleBands_3D: 10,
      measurement_displayText_3D: !0,
    };
    m.Styles = function (a) {
      d.assign(this, p.parse(p.stringify(a === g ? e.DEFAULT_STYLES : a)));
    };
    k = m.Styles.prototype;
    k.set3DRepresentation = function (a) {
      this.bonds_display = this.atoms_display = !0;
      this.bonds_color = "#777777";
      this.bonds_showBondOrders_3D =
        this.bonds_splitColor =
        this.atoms_useJMOLColors =
        this.atoms_useVDWDiameters_3D =
          !0;
      this.bonds_renderAsLines_3D = !1;
      "Ball and Stick" === a
        ? ((this.atoms_vdwMultiplier_3D = 0.3),
          (this.bonds_splitColor = !1),
          (this.bonds_cylinderDiameter_3D = 0.3),
          (this.bonds_materialAmbientColor_3D =
            ChemDoodle.DEFAULT_STYLES.atoms_materialAmbientColor_3D),
          (this.bonds_pillDiameter_3D = 0.15))
        : "van der Waals Spheres" === a
        ? ((this.bonds_display = !1), (this.atoms_vdwMultiplier_3D = 1))
        : "Stick" === a
        ? ((this.bonds_showBondOrders_3D = this.atoms_useVDWDiameters_3D = !1),
          (this.bonds_cylinderDiameter_3D = this.atoms_sphereDiameter_3D = 0.8),
          (this.bonds_materialAmbientColor_3D =
            this.atoms_materialAmbientColor_3D))
        : "Wireframe" === a
        ? ((this.atoms_useVDWDiameters_3D = !1),
          (this.bonds_cylinderDiameter_3D = this.bonds_pillDiameter_3D = 0.05),
          (this.atoms_sphereDiameter_3D = 0.15),
          (this.bonds_materialAmbientColor_3D =
            ChemDoodle.DEFAULT_STYLES.atoms_materialAmbientColor_3D))
        : "Line" === a
        ? ((this.atoms_display = !1),
          (this.bonds_renderAsLines_3D = !0),
          (this.bonds_width_2D = 1),
          (this.bonds_cylinderDiameter_3D = 0.05))
        : alert(
            '"' +
              a +
              '" is not recognized. Use one of the following strings:\n\n1. Ball and Stick\n2. van der Waals Spheres\n3. Stick\n4. Wireframe\n5. Line\n'
          );
    };
    k.copy = function () {
      return new m.Styles(this);
    };
  })(ChemDoodle, ChemDoodle.structures, Math, JSON, Object);
  (function (e, m, k, p, d) {
    k.getPointsPerAngstrom = function () {
      return (
        e.DEFAULT_STYLES.bondLength_2D / e.DEFAULT_STYLES.angstromsPerBondLength
      );
    };
    k.BondDeducer = function () {};
    d = k.BondDeducer.prototype;
    d.margin = 1.1;
    d.deduceCovalentBonds = function (d, a) {
      let f = k.getPointsPerAngstrom();
      a && (f = a);
      for (let c = 0, b = d.atoms.length; c < b; c++)
        for (a = c + 1; a < b; a++) {
          let b = d.atoms[c],
            e = d.atoms[a];
          b.distance3D(e) <
            (m[b.label].covalentRadius + m[e.label].covalentRadius) *
              f *
              this.margin && d.bonds.push(new p.Bond(b, e, 1));
        }
    };
  })(
    ChemDoodle,
    ChemDoodle.ELEMENT,
    ChemDoodle.informatics,
    ChemDoodle.structures
  );
  (function (e, m, k) {
    e.HydrogenDeducer = function () {};
    e.HydrogenDeducer.prototype.removeHydrogens = function (e, d) {
      let g = [],
        a = [];
      for (let f = 0, c = e.bonds.length; f < c; f++) {
        let b = e.bonds[f],
          c = "H" !== b.a1.label && "H" !== b.a2.label;
        c || d || b.stereo === m.Bond.STEREO_NONE || (c = !0);
        c
          ? ((b.a1.tag = !0), a.push(b))
          : ("H" === b.a1.label && (b.a1.remove = !0),
            "H" === b.a2.label && (b.a2.remove = !0));
      }
      for (let a = 0, c = e.atoms.length; a < c; a++)
        (d = e.atoms[a]), d.remove ? (d.remove = k) : g.push(d);
      e.atoms = g;
      e.bonds = a;
    };
  })(ChemDoodle.informatics, ChemDoodle.structures);
  (function (e, m, k) {
    e.Splitter = function () {};
    e.Splitter.prototype.split = function (e) {
      let d = [];
      for (let a = 0, c = e.atoms.length; a < c; a++) e.atoms[a].visited = !1;
      for (let a = 0, c = e.bonds.length; a < c; a++) e.bonds[a].visited = !1;
      for (let f = 0, c = e.atoms.length; f < c; f++) {
        var g = e.atoms[f];
        if (!g.visited) {
          let b = new m.Molecule();
          b.atoms.push(g);
          g.visited = !0;
          let c = new m.Queue();
          for (c.enqueue(g); !c.isEmpty(); ) {
            g = c.dequeue();
            for (let d = 0, f = e.bonds.length; d < f; d++) {
              var a = e.bonds[d];
              a.contains(g) &&
                !a.visited &&
                ((a.visited = !0),
                b.bonds.push(a),
                (a = a.getNeighbor(g)),
                a.visited || ((a.visited = !0), b.atoms.push(a), c.enqueue(a)));
            }
          }
          d.push(b);
        }
      }
      return d;
    };
  })(ChemDoodle.informatics, ChemDoodle.structures);
  (function (e, m, k, p) {
    e.StructureBuilder = function () {};
    e.StructureBuilder.prototype.copy = function (d) {
      let e = new m.JSONInterpreter();
      return e.molFrom(e.molTo(d));
    };
  })(ChemDoodle.informatics, ChemDoodle.io, ChemDoodle.structures);
  (function (e, m) {
    e._Counter = function () {};
    e = e._Counter.prototype;
    e.value = 0;
    e.molecule = m;
    e.setMolecule = function (e) {
      this.value = 0;
      this.molecule = e;
      this.innerCalculate && this.innerCalculate();
    };
  })(ChemDoodle.informatics);
  (function (e, m) {
    e.FrerejacqueNumberCounter = function (e) {
      this.setMolecule(e);
    };
    (e.FrerejacqueNumberCounter.prototype = new e._Counter()).innerCalculate =
      function () {
        this.value =
          this.molecule.bonds.length -
          this.molecule.atoms.length +
          new e.NumberOfMoleculesCounter(this.molecule).value;
      };
  })(ChemDoodle.informatics);
  (function (e, m, k) {
    m.NumberOfMoleculesCounter = function (e) {
      this.setMolecule(e);
    };
    (m.NumberOfMoleculesCounter.prototype = new m._Counter()).innerCalculate =
      function () {
        for (let d = 0, e = this.molecule.atoms.length; d < e; d++)
          this.molecule.atoms[d].visited = !1;
        for (let d = 0, g = this.molecule.atoms.length; d < g; d++)
          if (!this.molecule.atoms[d].visited) {
            this.value++;
            let a = new e.Queue();
            this.molecule.atoms[d].visited = !0;
            for (a.enqueue(this.molecule.atoms[d]); !a.isEmpty(); ) {
              let d = a.dequeue();
              for (let c = 0, b = this.molecule.bonds.length; c < b; c++) {
                var k = this.molecule.bonds[c];
                k.contains(d) &&
                  ((k = k.getNeighbor(d)),
                  k.visited || ((k.visited = !0), a.enqueue(k)));
              }
            }
          }
      };
  })(ChemDoodle.structures, ChemDoodle.informatics);
  (function (e, m) {
    e._RingFinder = function () {};
    e = e._RingFinder.prototype;
    e.atoms = m;
    e.bonds = m;
    e.rings = m;
    e.reduce = function (e) {
      for (let d = 0, g = e.atoms.length; d < g; d++) e.atoms[d].visited = !1;
      for (let d = 0, g = e.bonds.length; d < g; d++) e.bonds[d].visited = !1;
      let k = !0;
      for (; k; ) {
        k = !1;
        for (let d = 0, g = e.atoms.length; d < g; d++) {
          let a = 0,
            f;
          for (let c = 0, b = e.bonds.length; c < b; c++)
            if (e.bonds[c].contains(e.atoms[d]) && !e.bonds[c].visited) {
              a++;
              if (2 === a) break;
              f = e.bonds[c];
            }
          1 === a && ((k = !0), (f.visited = !0), (e.atoms[d].visited = !0));
        }
      }
      for (let d = 0, g = e.atoms.length; d < g; d++)
        e.atoms[d].visited || this.atoms.push(e.atoms[d]);
      for (let d = 0, g = e.bonds.length; d < g; d++)
        e.bonds[d].visited || this.bonds.push(e.bonds[d]);
      0 === this.bonds.length && 0 !== this.atoms.length && (this.atoms = []);
    };
    e.setMolecule = function (e) {
      this.atoms = [];
      this.bonds = [];
      this.rings = [];
      this.reduce(e);
      2 < this.atoms.length && this.innerGetRings && this.innerGetRings();
    };
    e.fuse = function () {
      for (let e = 0, m = this.rings.length; e < m; e++)
        for (let d = 0, g = this.bonds.length; d < g; d++)
          -1 !== this.rings[e].atoms.indexOf(this.bonds[d].a1) &&
            -1 !== this.rings[e].atoms.indexOf(this.bonds[d].a2) &&
            this.rings[e].bonds.push(this.bonds[d]);
    };
  })(ChemDoodle.informatics);
  (function (e, m, k) {
    function p(d, a) {
      this.atoms = [];
      if (a)
        for (let d = 0, c = a.atoms.length; d < c; d++)
          this.atoms[d] = a.atoms[d];
      this.atoms.push(d);
    }
    let d = p.prototype;
    d.grow = function (d, a) {
      let e = this.atoms[this.atoms.length - 1],
        c = [];
      for (let b = 0, f = d.length; b < f; b++)
        if (d[b].contains(e)) {
          let f = d[b].getNeighbor(e);
          -1 === a.indexOf(f) && c.push(f);
        }
      d = [];
      for (let a = 0, e = c.length; a < e; a++) d.push(new p(c[a], this));
      return d;
    };
    d.check = function (d, a, e) {
      for (let b = 0, c = a.atoms.length - 1; b < c; b++)
        if (-1 !== this.atoms.indexOf(a.atoms[b])) return k;
      let c;
      if (a.atoms[a.atoms.length - 1] === this.atoms[this.atoms.length - 1]) {
        c = new m.Ring();
        c.atoms[0] = e;
        for (let a = 0, d = this.atoms.length; a < d; a++)
          c.atoms.push(this.atoms[a]);
        for (d = a.atoms.length - 2; 0 <= d; d--) c.atoms.push(a.atoms[d]);
      } else {
        let b = [];
        for (let c = 0, e = d.length; c < e; c++)
          d[c].contains(a.atoms[a.atoms.length - 1]) && b.push(d[c]);
        for (let f = 0, h = b.length; f < h; f++)
          if (
            (1 === a.atoms.length ||
              !b[f].contains(a.atoms[a.atoms.length - 2])) &&
            b[f].contains(this.atoms[this.atoms.length - 1])
          ) {
            c = new m.Ring();
            c.atoms[0] = e;
            for (let a = 0, b = this.atoms.length; a < b; a++)
              c.atoms.push(this.atoms[a]);
            for (d = a.atoms.length - 1; 0 <= d; d--) c.atoms.push(a.atoms[d]);
            break;
          }
      }
      return c;
    };
    e.EulerFacetRingFinder = function (d) {
      this.setMolecule(d);
    };
    e = e.EulerFacetRingFinder.prototype = new e._RingFinder();
    e.fingerBreak = 5;
    e.innerGetRings = function () {
      for (let f = 0, h = this.atoms.length; f < h; f++) {
        let h = [];
        for (let a = 0, b = this.bonds.length; a < b; a++)
          this.bonds[a].contains(this.atoms[f]) &&
            h.push(this.bonds[a].getNeighbor(this.atoms[f]));
        for (let l = 0, g = h.length; l < g; l++)
          for (let g = l + 1; g < h.length; g++) {
            var d = [];
            d[0] = new p(h[l]);
            d[1] = new p(h[g]);
            var a = [];
            a[0] = this.atoms[f];
            for (let b = 0, c = h.length; b < c; b++)
              b !== l && b !== g && a.push(h[b]);
            var e = [],
              c = d[0].check(this.bonds, d[1], this.atoms[f]);
            for (
              c && (e[0] = c);
              0 === e.length &&
              0 < d.length &&
              d[0].atoms.length < this.fingerBreak;

            ) {
              c = [];
              for (let e = 0, f = d.length; e < f; e++) {
                var b = d[e].grow(this.bonds, a);
                for (let a = 0, d = b.length; a < d; a++) c.push(b[a]);
              }
              d = c;
              for (let a = 0, h = d.length; a < h; a++)
                for (c = a + 1; c < h; c++)
                  (b = d[a].check(this.bonds, d[c], this.atoms[f])) &&
                    e.push(b);
              if (0 === e.length) {
                c = [];
                for (let d = 0, e = a.length; d < e; d++)
                  for (let e = 0, f = this.bonds.length; e < f; e++)
                    this.bonds[e].contains(a[d]) &&
                      ((b = this.bonds[e].getNeighbor(a[d])),
                      -1 === a.indexOf(b) && -1 === c.indexOf(b) && c.push(b));
                for (let b = 0, d = c.length; b < d; b++) a.push(c[b]);
              }
            }
            if (0 < e.length) {
              d = k;
              for (let a = 0, b = e.length; a < b; a++)
                if (!d || d.atoms.length > e[a].atoms.length) d = e[a];
              e = !1;
              for (let b = 0, c = this.rings.length; b < c; b++) {
                a = !0;
                for (let c = 0, e = d.atoms.length; c < e; c++)
                  if (-1 === this.rings[b].atoms.indexOf(d.atoms[c])) {
                    a = !1;
                    break;
                  }
                if (a) {
                  e = !0;
                  break;
                }
              }
              e || this.rings.push(d);
            }
          }
      }
      this.fuse();
    };
  })(ChemDoodle.informatics, ChemDoodle.structures);
  (function (e, m) {
    e.SSSRFinder = function (k) {
      this.rings = [];
      if (0 < k.atoms.length) {
        let m = new e.FrerejacqueNumberCounter(k).value,
          d = new e.EulerFacetRingFinder(k).rings;
        d.sort(function (d, a) {
          return d.atoms.length - a.atoms.length;
        });
        for (let d = 0, a = k.bonds.length; d < a; d++) k.bonds[d].visited = !1;
        for (let e = 0, a = d.length; e < a; e++) {
          k = !1;
          for (let a = 0, c = d[e].bonds.length; a < c; a++)
            if (!d[e].bonds[a].visited) {
              k = !0;
              break;
            }
          if (k) {
            for (let a = 0, c = d[e].bonds.length; a < c; a++)
              d[e].bonds[a].visited = !0;
            this.rings.push(d[e]);
          }
          if (this.rings.length === m) break;
        }
      }
    };
  })(ChemDoodle.informatics);
  (function (e, m) {
    e._Interpreter = function () {};
    e._Interpreter.prototype.fit = function (e, m, d) {
      let g = e.length,
        a = [];
      for (let d = 0; d < m - g; d++) a.push(" ");
      return d ? e + a.join("") : a.join("") + e;
    };
  })(ChemDoodle.io);
  (function (e, m, k, p, d, g, a, f) {
    let c = /\s+/g,
      b = /\(|\)|\s+/g,
      l = /'|\s+/g,
      h = /,|'|\s+/g,
      r = /^\s+/,
      v = /[0-9]/g,
      n = /[0-9]|\+|\-/g,
      u = function (a) {
        return 0 !== a.length;
      },
      w = {
        P: [],
        A: [[0, 0.5, 0.5]],
        B: [[0.5, 0, 0.5]],
        C: [[0.5, 0.5, 0]],
        I: [[0.5, 0.5, 0.5]],
        R: [
          [2 / 3, 1 / 3, 1 / 3],
          [1 / 3, 2 / 3, 2 / 3],
        ],
        S: [
          [1 / 3, 1 / 3, 2 / 3],
          [2 / 3, 2 / 3, 1 / 3],
        ],
        T: [
          [1 / 3, 2 / 3, 1 / 3],
          [2 / 3, 1 / 3, 2 / 3],
        ],
        F: [
          [0, 0.5, 0.5],
          [0.5, 0, 0.5],
          [0.5, 0.5, 0],
        ],
      },
      y = function (a) {
        let b = 0,
          c = 0,
          d = 0,
          e = 0;
        var f = a.indexOf("x"),
          h = a.indexOf("y");
        let l = a.indexOf("z");
        -1 !== f && (c++, 0 < f && "+" !== a.charAt(f - 1) && (c *= -1));
        -1 !== h && (d++, 0 < h && "+" !== a.charAt(h - 1) && (d *= -1));
        -1 !== l && (e++, 0 < l && "+" !== a.charAt(l - 1) && (e *= -1));
        if (2 < a.length) {
          f = "+";
          for (let c = 0, d = a.length; c < d; c++)
            (h = a.charAt(c)),
              ("-" !== h && "/" !== h) ||
                (c !== a.length - 1 && !a.charAt(c + 1).match(v)) ||
                (f = h),
              h.match(v) &&
                ("+" === f
                  ? (b += parseInt(h))
                  : "-" === f
                  ? (b -= parseInt(h))
                  : "/" === f && (b /= parseInt(h)));
        }
        return [b, c, d, e];
      };
    m.CIFInterpreter = function () {};
    m.CIFInterpreter.generateABC2XYZ = function (a, b, c, e, f, h) {
      e = (d.cos(e) - d.cos(h) * d.cos(f)) / d.sin(h);
      return [
        a,
        0,
        0,
        0,
        b * d.cos(h),
        b * d.sin(h),
        0,
        0,
        c * d.cos(f),
        c * e,
        c * d.sqrt(1 - d.pow(d.cos(f), 2) - e * e),
        0,
        0,
        0,
        0,
        1,
      ];
    };
    (m.CIFInterpreter.prototype = new m._Interpreter()).read = function (
      a,
      v,
      x,
      B
    ) {
      v = v ? v : 1;
      x = x ? x : 1;
      B = B ? B : 1;
      let t = new k.Molecule();
      if (!a) return t;
      var z = a.split("\n");
      let A = (a = 0),
        G = 0,
        F = 0,
        H = 0,
        L = 0;
      var N = "P",
        S,
        I;
      let Y;
      for (var E, M = !0; 0 < z.length; )
        if ((M ? (E = z.shift()) : (M = !0), 0 < E.length))
          if (E.startsWith("_cell_length_a")) a = parseFloat(E.split(b)[1]);
          else if (E.startsWith("_cell_length_b"))
            A = parseFloat(E.split(b)[1]);
          else if (E.startsWith("_cell_length_c"))
            G = parseFloat(E.split(b)[1]);
          else if (E.startsWith("_cell_angle_alpha"))
            F = (d.PI * parseFloat(E.split(b)[1])) / 180;
          else if (E.startsWith("_cell_angle_beta"))
            H = (d.PI * parseFloat(E.split(b)[1])) / 180;
          else if (E.startsWith("_cell_angle_gamma"))
            L = (d.PI * parseFloat(E.split(b)[1])) / 180;
          else if (E.startsWith("_symmetry_space_group_name_H-M"))
            N = E.split(l)[1];
          else if (E.startsWith("loop_")) {
            for (
              var K = { fields: [], lines: [] }, P = !1;
              (E = z.shift()) !== f &&
              !(E = E.replace(r, "")).startsWith("loop_") &&
              0 < E.length;

            )
              if (E.startsWith("_")) {
                if (P) break;
                K.fields = K.fields.concat(E.split(c).filter(u));
              } else (P = !0), K.lines.push(E);
            0 !== z.length &&
              (E.startsWith("loop_") || E.startsWith("_")) &&
              (M = !1);
            -1 !== K.fields.indexOf("_symmetry_equiv_pos_as_xyz") ||
            -1 !== K.fields.indexOf("_space_group_symop_operation_xyz")
              ? (S = K)
              : -1 !== K.fields.indexOf("_atom_site_label")
              ? (I = K)
              : -1 !== K.fields.indexOf("_geom_bond_atom_site_label_1") &&
                (Y = K);
          }
      z = m.CIFInterpreter.generateABC2XYZ(a, A, G, F, H, L);
      if (I) {
        var Q = (P = K = M = -1),
          Z = -1;
        for (let a = 0, b = I.fields.length; a < b; a++)
          (E = I.fields[a]),
            "_atom_site_type_symbol" === E
              ? (M = a)
              : "_atom_site_label" === E
              ? (K = a)
              : "_atom_site_fract_x" === E
              ? (P = a)
              : "_atom_site_fract_y" === E
              ? (Q = a)
              : "_atom_site_fract_z" === E && (Z = a);
        for (let a = 0, b = I.lines.length; a < b; a++) {
          E = I.lines[a];
          E = E.split(c).filter(u);
          var T = new k.Atom(
            E[-1 === M ? K : M].split(n)[0],
            parseFloat(E[P]),
            parseFloat(E[Q]),
            parseFloat(E[Z])
          );
          t.atoms.push(T);
          -1 !== K && ((T.cifId = E[K]), (T.cifPart = 0));
        }
      }
      if (S && !Y) {
        I = 0;
        for (let a = 0, b = S.fields.length; a < b; a++)
          if (
            ((E = S.fields[a]),
            "_symmetry_equiv_pos_as_xyz" === E ||
              "_space_group_symop_operation_xyz" === E)
          )
            I = a;
        E = w[N];
        N = [];
        for (let a = 0, b = S.lines.length; a < b; a++) {
          P = S.lines[a].split(h).filter(u);
          M = y(P[I]);
          K = y(P[I + 1]);
          P = y(P[I + 2]);
          for (let b = 0, c = t.atoms.length; b < c; b++) {
            Q = t.atoms[b];
            Z = Q.x * M[1] + Q.y * M[2] + Q.z * M[3] + M[0];
            T = Q.x * K[1] + Q.y * K[2] + Q.z * K[3] + K[0];
            let c = Q.x * P[1] + Q.y * P[2] + Q.z * P[3] + P[0];
            var R = new k.Atom(Q.label, Z, T, c);
            N.push(R);
            Q.cifId !== f && ((R.cifId = Q.cifId), (R.cifPart = a + 1));
            if (E)
              for (let b = 0, d = E.length; b < d; b++)
                (R = E[b]),
                  (R = new k.Atom(Q.label, Z + R[0], T + R[1], c + R[2])),
                  N.push(R),
                  Q.cifId !== f && ((R.cifId = Q.cifId), (R.cifPart = a + 1));
          }
        }
        for (let a = 0, b = N.length; a < b; a++) {
          for (I = N[a]; 1 <= I.x; ) I.x--;
          for (; 0 > I.x; ) I.x++;
          for (; 1 <= I.y; ) I.y--;
          for (; 0 > I.y; ) I.y++;
          for (; 1 <= I.z; ) I.z--;
          for (; 0 > I.z; ) I.z++;
        }
        I = [];
        for (let a = 0, b = N.length; a < b; a++) {
          E = !1;
          M = N[a];
          for (let a = 0, b = t.atoms.length; a < b; a++)
            if (1e-4 > t.atoms[a].distance3D(M)) {
              E = !0;
              break;
            }
          if (!E) {
            for (let a = 0, b = I.length; a < b; a++)
              if (1e-4 > I[a].distance3D(M)) {
                E = !0;
                break;
              }
            E || I.push(M);
          }
        }
        t.atoms = t.atoms.concat(I);
      }
      N = [];
      for (I = 0; I < v; I++)
        for (E = 0; E < x; E++)
          for (M = 0; M < B; M++)
            if (0 !== I || 0 !== E || 0 !== M)
              for (let a = 0, b = t.atoms.length; a < b; a++)
                (K = t.atoms[a]),
                  (P = new k.Atom(K.label, K.x + I, K.y + E, K.z + M)),
                  N.push(P),
                  K.cifId !== f &&
                    ((P.cifId = K.cifId),
                    (P.cifPart =
                      K.cifPart +
                      (S ? S.lines.length : 0) +
                      I +
                      10 * E +
                      100 * M));
      t.atoms = t.atoms.concat(N);
      for (let a = 0, b = t.atoms.length; a < b; a++)
        (v = t.atoms[a]),
          (x = g.multiplyVec3(z, [v.x, v.y, v.z])),
          (v.x = x[0]),
          (v.y = x[1]),
          (v.z = x[2]);
      if (Y) {
        x = v = -1;
        for (let a = 0, b = Y.fields.length; a < b; a++)
          (B = Y.fields[a]),
            "_geom_bond_atom_site_label_1" === B
              ? (v = a)
              : "_geom_bond_atom_site_label_2" === B && (x = a);
        for (let a = 0, b = Y.lines.length; a < b; a++) {
          S = Y.lines[a].split(c).filter(u);
          B = S[v];
          S = S[x];
          for (let a = 0, b = t.atoms.length; a < b; a++)
            for (z = a + 1; z < b; z++) {
              N = t.atoms[a];
              I = t.atoms[z];
              if (N.cifPart !== I.cifPart) break;
              ((N.cifId === B && I.cifId === S) ||
                (N.cifId === S && I.cifId === B)) &&
                t.bonds.push(new k.Bond(N, I));
            }
        }
      } else new e.informatics.BondDeducer().deduceCovalentBonds(t, 1);
      return {
        molecule: t,
        unitCell: new p.UnitCell([a, A, G], [F, H, L], [0, 0, 0]),
      };
    };
    let x = new m.CIFInterpreter();
    e.readCIF = function (a, b, c, d) {
      return x.read(a, b, c, d);
    };
  })(
    ChemDoodle,
    ChemDoodle.io,
    ChemDoodle.structures,
    ChemDoodle.structures.d3,
    Math,
    ChemDoodle.lib.mat4,
    ChemDoodle.lib.vec3
  );
  (function (e, m, k, p) {
    m.CMLInterpreter = function () {};
    p = m.CMLInterpreter.prototype = new m._Interpreter();
    p.read = function (d) {
      let a = [];
      d = new DOMParser()
        .parseFromString(d, "text/xml")
        .getElementsByTagName("cml");
      for (let f = 0, g = d.length; f < g; f++) {
        let g = d[f].getElementsByTagName("molecule");
        for (let d = 0, f = g.length; d < f; d++) {
          let f = (a[d] = new k.Molecule()),
            n = [];
          var e = g[d].getElementsByTagName("atom");
          for (let f = 0, g = e.length; f < g; f++) {
            var c = e[f],
              b = c.getAttribute("elementType"),
              l = c.getAttribute("x2"),
              h = c.getAttribute("y2");
            let g = 0;
            if (null === l || "" === l)
              (l = c.getAttribute("x3")),
                (h = c.getAttribute("y3")),
                (g = c.getAttribute("z3"));
            b = a[d].atoms[f] = new k.Atom(b, l, h, g);
            n[f] = c.getAttribute("id");
            null !== c.getAttribute("formalCharge") &&
              (b.charge = c.getAttribute("formalCharge"));
          }
          e = g[d].getElementsByTagName("bond");
          for (let g = 0, r = e.length; g < r; g++) {
            c = e[g];
            l = c.getAttribute("atomRefs2").split(" ");
            b = f.atoms[n.indexOf(l[0])];
            l = f.atoms[n.indexOf(l[1])];
            switch (c.getAttribute("order")) {
              case "2":
              case "D":
                h = 2;
                break;
              case "3":
              case "T":
                h = 3;
                break;
              case "A":
                h = 1.5;
                break;
              default:
                h = 1;
            }
            b = a[d].bonds[g] = new k.Bond(b, l, h);
            if ((c = c.querySelector("bondStereo")))
              switch (c.textContent) {
                case "W":
                  b.stereo = k.Bond.STEREO_PROTRUDING;
                  break;
                case "H":
                  b.stereo = k.Bond.STEREO_RECESSED;
              }
          }
        }
      }
      return a;
    };
    p.write = function (d) {
      let a = [];
      a.push('\x3c?xml version\x3d"1.0" encoding\x3d"UTF-8"?\x3e\n');
      a.push(
        '\x3ccml convention\x3d"conventions:molecular" xmlns\x3d"http://www.xml-cml.org/schema" xmlns:conventions\x3d"http://www.xml-cml.org/convention/" xmlns:dc\x3d"http://purl.org/dc/elements/1.1/"\x3e\n'
      );
      for (let c = 0, b = d.length; c < b; c++) {
        a.push('\x3cmolecule id\x3d"m');
        a.push(c);
        a.push('"\x3e');
        a.push("\x3catomArray\x3e");
        for (let b = 0, f = d[c].atoms.length; b < f; b++) {
          var e = d[c].atoms[b];
          a.push('\x3catom elementType\x3d"');
          a.push(e.label);
          a.push('" id\x3d"a');
          a.push(b);
          a.push('" ');
          a.push('x3\x3d"');
          a.push(e.x);
          a.push('" y3\x3d"');
          a.push(e.y);
          a.push('" z3\x3d"');
          a.push(e.z);
          a.push('" ');
          0 != e.charge &&
            (a.push('formalCharge\x3d"'), a.push(e.charge), a.push('" '));
          a.push("/\x3e");
        }
        a.push("\x3c/atomArray\x3e");
        a.push("\x3cbondArray\x3e");
        for (let b = 0, f = d[c].bonds.length; b < f; b++) {
          e = d[c].bonds[b];
          a.push('\x3cbond atomRefs2\x3d"a');
          a.push(d[c].atoms.indexOf(e.a1));
          a.push(" a");
          a.push(d[c].atoms.indexOf(e.a2));
          a.push('" order\x3d"');
          switch (e.bondOrder) {
            case 1.5:
              a.push("A");
              break;
            case 1:
            case 2:
            case 3:
              a.push(e.bondOrder);
              break;
            default:
              a.push("S");
          }
          a.push('"/\x3e');
        }
        a.push("\x3c/bondArray\x3e");
        a.push("\x3c/molecule\x3e");
      }
      a.push("\x3c/cml\x3e");
      return a.join("");
    };
    let d = new m.CMLInterpreter();
    e.readCML = function (e) {
      return d.read(e);
    };
    e.writeCML = function (e) {
      return d.write(e);
    };
  })(ChemDoodle, ChemDoodle.io, ChemDoodle.structures);
  (function (e, m, k, p, d) {
    k.MOLInterpreter = function () {};
    let g = (k.MOLInterpreter.prototype = new k._Interpreter());
    g.version = 2;
    g.read = function (a, b) {
      b || (b = e.DEFAULT_STYLES.bondLength_2D);
      let c = new p.Molecule();
      if (!a) return c;
      a = a.split("\n");
      var f = a[3],
        g = parseInt(f.substring(0, 3)),
        k = parseInt(f.substring(3, 6));
      f = "V3000" === f.substring(34, 39).trim().toUpperCase() ? 3 : 2;
      if (2 === f) {
        for (var n = 0; n < g; n++) {
          f = a[4 + n];
          var u = new p.Atom(
              f.substring(31, 34),
              parseFloat(f.substring(0, 10)) * b,
              (1 === b ? 1 : -1) * parseFloat(f.substring(10, 20)) * b,
              parseFloat(f.substring(20, 30)) * b
            ),
            w = parseInt(f.substring(34, 36));
          0 !== w && m[u.label] && (u.mass = m[u.label].mass + w);
          switch (parseInt(f.substring(36, 39))) {
            case 1:
              u.charge = 3;
              break;
            case 2:
              u.charge = 2;
              break;
            case 3:
              u.charge = 1;
              break;
            case 5:
              u.charge = -1;
              break;
            case 6:
              u.charge = -2;
              break;
            case 7:
              u.charge = -3;
          }
          c.atoms[n] = u;
        }
        for (b = 0; b < k; b++) {
          f = a[4 + g + b];
          u = parseInt(f.substring(6, 9));
          n = parseInt(f.substring(9, 12));
          if (3 < u)
            switch (u) {
              case 4:
                u = 1.5;
                break;
              default:
                u = 1;
            }
          f = new p.Bond(
            c.atoms[parseInt(f.substring(0, 3)) - 1],
            c.atoms[parseInt(f.substring(3, 6)) - 1],
            u
          );
          switch (n) {
            case 3:
              f.stereo = p.Bond.STEREO_AMBIGUOUS;
              break;
            case 1:
              f.stereo = p.Bond.STEREO_PROTRUDING;
              break;
            case 6:
              f.stereo = p.Bond.STEREO_RECESSED;
          }
          c.bonds[b] = f;
        }
      } else if (3 === f)
        for (let e = 4, h = a.length; e < h; e++)
          if (((k = a[e].trim()), k.startsWith("M  V30 ")))
            if (((k = k.substring(7)), k.startsWith("BEGIN ")))
              n = k.substring(6);
            else if (k.startsWith("END ")) n = d;
            else if (
              ((g = k.split(/(\s+)/).filter((a) => 0 < a.trim().length)),
              "ATOM" === n)
            ) {
              k = new p.Atom(
                g[1],
                parseFloat(g[2]) * b,
                (1 === b ? 1 : -1) * parseFloat(g[3]) * b,
                parseFloat(g[4]) * b
              );
              for (let a = 6, b = g.length; a < b; a++)
                (u = g[a]),
                  (w = u.indexOf("\x3d")),
                  -1 !== w &&
                    ((f = u.substring(0, w)),
                    (u = u.substring(w + 1)),
                    "CHG" === f
                      ? (k.charge = parseInt(u))
                      : "RAD" === f
                      ? (k.numRadical = parseInt(u))
                      : "MASS" === f && (k.mass = parseInt(u)));
              c.atoms.push(k);
            } else if ("BOND" === n) {
              k = parseInt(g[1]);
              if (3 < k)
                switch (k) {
                  case 4:
                    k = 1.5;
                    break;
                  default:
                    k = 1;
                }
              k = new p.Bond(
                c.atoms[parseInt(g[2]) - 1],
                c.atoms[parseInt(g[3]) - 1],
                k
              );
              for (let a = 4, b = g.length; a < b; a++)
                if (
                  ((u = g[a]),
                  (w = u.indexOf("\x3d")),
                  -1 !== w &&
                    ((f = u.substring(0, w)),
                    (u = u.substring(w + 1)),
                    "CFG" === f))
                )
                  switch (parseInt(u)) {
                    case 2:
                      k.stereo = p.Bond.STEREO_AMBIGUOUS;
                      break;
                    case 1:
                      k.stereo = p.Bond.STEREO_PROTRUDING;
                      break;
                    case 3:
                      k.stereo = p.Bond.STEREO_RECESSED;
                  }
              c.bonds.push(k);
            } else if ("COLLECTION" === n)
              if (k.startsWith("MDLV30/STEREL")) {
                k = k.substring(13);
                f = k.indexOf(" ");
                g = parseInt(k.substring(0, f));
                k = k.substring(f + 1);
                k = k.substring(7, k.length - 1);
                k = k.split(/(\s+)/).filter((a) => 0 < a.trim().length);
                for (let a = 1, b = k.length; a < b; a++)
                  c.atoms[parseInt(k[a]) - 1].enhancedStereo = {
                    type: p.Atom.ESTEREO_OR,
                    group: g,
                  };
              } else if (k.startsWith("MDLV30/STERAC")) {
                k = k.substring(13);
                f = k.indexOf(" ");
                g = parseInt(k.substring(0, f));
                k = k.substring(f + 1);
                k = k.substring(7, k.length - 1);
                k = k.split(/(\s+)/).filter((a) => 0 < a.trim().length);
                for (let a = 1, b = k.length; a < b; a++)
                  c.atoms[parseInt(k[a]) - 1].enhancedStereo = {
                    type: p.Atom.ESTEREO_AND,
                    group: g,
                  };
              }
      return c;
    };
    g.write = function (a) {
      let b = [];
      b.push(
        "Molecule from ChemDoodle Web Components\n\nhttp://www.ichemlabs.com\n"
      );
      b.push(this.fit(a.atoms.length.toString(), 3));
      b.push(this.fit(a.bonds.length.toString(), 3));
      b.push("  0  0  0  0            999 V" + this.version + "000\n");
      var c = a.getCenter();
      if (2 === this.version) {
        for (let h = 0, l = a.atoms.length; h < l; h++) {
          var d = a.atoms[h],
            f = " 0";
          if (-1 !== d.mass && m[d.label]) {
            var g = d.mass - m[d.label].mass;
            5 > g && -4 < g && (f = (-1 < g ? " " : "") + g);
          }
          g = "  0";
          if (0 !== d.charge)
            switch (d.charge) {
              case 3:
                g = "  1";
                break;
              case 2:
                g = "  2";
                break;
              case 1:
                g = "  3";
                break;
              case -1:
                g = "  5";
                break;
              case -2:
                g = "  6";
                break;
              case -3:
                g = "  7";
            }
          b.push(
            this.fit(
              ((d.x - c.x) / e.DEFAULT_STYLES.bondLength_2D).toFixed(4),
              10
            )
          );
          b.push(
            this.fit(
              (-(d.y - c.y) / e.DEFAULT_STYLES.bondLength_2D).toFixed(4),
              10
            )
          );
          b.push(
            this.fit((d.z / e.DEFAULT_STYLES.bondLength_2D).toFixed(4), 10)
          );
          b.push(" ");
          b.push(this.fit(d.label, 3, !0));
          b.push(f);
          b.push(g);
          b.push("  0  0  0  0\n");
        }
        for (let c = 0, e = a.bonds.length; c < e; c++) {
          f = a.bonds[c];
          d = 0;
          f.stereo === p.Bond.STEREO_AMBIGUOUS
            ? (d = 3)
            : f.stereo === p.Bond.STEREO_PROTRUDING
            ? (d = 1)
            : f.stereo === p.Bond.STEREO_RECESSED && (d = 6);
          b.push(this.fit((a.atoms.indexOf(f.a1) + 1).toString(), 3));
          b.push(this.fit((a.atoms.indexOf(f.a2) + 1).toString(), 3));
          f = f.bondOrder;
          if (1.5 == f) f = 4;
          else if (3 < f || 0 != f % 1) f = 1;
          b.push(this.fit(f.toString(), 3));
          b.push("  ");
          b.push(d);
          b.push("  0  0  0\n");
        }
      } else if (3 === this.version) {
        b.push("M  V30 BEGIN CTAB\n");
        b.push("M  V30 COUNTS ");
        b.push(a.atoms.length);
        b.push(" ");
        b.push(a.bonds.length);
        b.push(" 0 0 0\n");
        b.push("M  V30 BEGIN ATOM\n");
        for (let d = 0, f = a.atoms.length; d < f; d++) {
          var n = a.atoms[d];
          b.push("M  V30 ");
          b.push(d + 1);
          b.push(" ");
          b.push(n.label);
          b.push(" ");
          b.push(((n.x - c.x) / e.DEFAULT_STYLES.bondLength_2D).toFixed(6));
          b.push(" ");
          b.push((-(n.y - c.y) / e.DEFAULT_STYLES.bondLength_2D).toFixed(6));
          b.push(" ");
          b.push((n.z / e.DEFAULT_STYLES.bondLength_2D).toFixed(6));
          b.push(" 0");
          0 !== n.charge && (b.push(" CHG\x3d"), b.push(n.charge));
          0 !== n.numRadical && (b.push(" RAD\x3d"), b.push(n.numRadical));
          -1 !== n.mass && (b.push(" MASS\x3d"), b.push(n.mass));
          b.push("\n");
        }
        b.push("M  V30 END ATOM\n");
        b.push("M  V30 BEGIN BOND\n");
        for (let d = 0, e = a.bonds.length; d < e; d++) {
          c = a.bonds[d];
          n = c.bondOrder;
          if (1.5 == n) n = 4;
          else if (3 < n || 0 != n % 1) n = 1;
          b.push("M  V30 ");
          b.push(d + 1);
          b.push(" ");
          b.push(n);
          b.push(" ");
          b.push(a.atoms.indexOf(c.a1) + 1);
          b.push(" ");
          b.push(a.atoms.indexOf(c.a2) + 1);
          c.stereo !== p.Bond.STEREO_NONE &&
            ((n = 0),
            c.stereo === p.Bond.STEREO_AMBIGUOUS
              ? (n = 2)
              : c.stereo === p.Bond.STEREO_PROTRUDING
              ? (n = 1)
              : c.stereo === p.Bond.STEREO_RECESSED && (n = 3),
            b.push(" CFG\x3d"),
            b.push(n));
          b.push("\n");
        }
        b.push("M  V30 END BOND\n");
        for (let b = 0, e = a.atoms.length; b < e; b++)
          if (
            ((c = a.atoms[b]),
            c.enhancedStereo.type !== p.Atom.ESTEREO_ABSOLUTE)
          ) {
            f || ((f = []), (d = []));
            c.enhancedStereo.type === p.Atom.ESTEREO_AND
              ? (g = f)
              : c.enhancedStereo.type === p.Atom.ESTEREO_OR && (g = d);
            let a;
            for (let b = 0, d = g.length; b < d; b++)
              if (((n = g[b]), n.group == c.enhancedStereo.group)) {
                a = n;
                break;
              }
            a || ((a = { group: c.enhancedStereo.group, list: [] }), g.push(a));
            a.list.push(c);
          }
        if (f && (0 < f.length || 0 < d.length)) {
          b.push("M  V30 BEGIN COLLECTION\n");
          if (0 < f.length)
            for (let c = 0, d = f.length; c < d; c++) {
              g = f[c];
              b.push("M  V30 MDLV30/STERAC");
              b.push(g.group);
              b.push(" ATOMS\x3d(");
              b.push(g.list.length);
              for (let c = 0, d = g.list.length; c < d; c++)
                b.push(" "), b.push(a.atoms.indexOf(g.list[c]) + 1);
              b.push(")\n");
            }
          if (0 < d.length)
            for (let c = 0, e = d.length; c < e; c++) {
              f = d[c];
              b.push("M  V30 MDLV30/STEREL");
              b.push(f.group);
              b.push(" ATOMS\x3d(");
              b.push(f.list.length);
              for (let c = 0, d = f.list.length; c < d; c++)
                b.push(" "), b.push(a.atoms.indexOf(f.list[c]) + 1);
              b.push(")\n");
            }
          b.push("M  V30 END COLLECTION\n");
        }
        b.push("M  V30 END CTAB\n");
      }
      b.push("M  END");
      return b.join("");
    };
    let a = new k.MOLInterpreter();
    e.readMOL = function (c, b) {
      return a.read(c, b);
    };
    e.writeMOL = function (c) {
      return a.write(c);
    };
    let f = new k.MOLInterpreter();
    f.version = 3;
    e.writeMOLV3 = function (a) {
      return f.write(a);
    };
  })(ChemDoodle, ChemDoodle.ELEMENT, ChemDoodle.io, ChemDoodle.structures);
  (function (e, m, k, p, d, g) {
    function a(a, b, d, e, f) {
      for (let c = 0, h = b.length; c < h; c++) {
        let h = b[c];
        if (h.id === d && e >= h.start && e <= h.end) {
          f ? (a.helix = !0) : (a.sheet = !0);
          e === h.end && (a.arrow = !0);
          break;
        }
      }
    }
    m.PDBInterpreter = function () {};
    g = m.PDBInterpreter.prototype = new m._Interpreter();
    g.calculateRibbonDistances = !1;
    g.deduceResidueBonds = !1;
    g.read = function (c, b) {
      let f = new k.Molecule();
      f.chains = [];
      if (!c) return f;
      var h = c.split("\n");
      b || (b = 1);
      var g = [];
      let m = [];
      let n = [];
      c = [];
      let u = [];
      for (let d = 0, e = h.length; d < e; d++) {
        var w = h[d];
        if (w.startsWith("HELIX"))
          g.push({
            id: w.substring(19, 20),
            start: parseInt(w.substring(21, 25)),
            end: parseInt(w.substring(33, 37)),
          });
        else if (w.startsWith("SHEET"))
          m.push({
            id: w.substring(21, 22),
            start: parseInt(w.substring(22, 26)),
            end: parseInt(w.substring(33, 37)),
          });
        else if (w.startsWith("ATOM")) {
          var y = w.substring(16, 17);
          if (" " === y || "A" === y) {
            y = w.substring(76, 78).trim();
            if (0 === y.length) {
              var x = w.substring(12, 14).trim();
              "HD" === x
                ? (y = "H")
                : 0 < x.length &&
                  (y =
                    1 < x.length
                      ? x.charAt(0) + x.substring(1).toLowerCase()
                      : x);
            }
            y = new k.Atom(
              y,
              parseFloat(w.substring(30, 38)) * b,
              parseFloat(w.substring(38, 46)) * b,
              parseFloat(w.substring(46, 54)) * b
            );
            y.hetatm = !1;
            c.push(y);
            x = parseInt(w.substring(22, 26));
            if (0 === n.length)
              for (var t = 0; 3 > t; t++) {
                var z = new k.Residue(-1);
                z.cp1 = y;
                z.cp2 = y;
                n.push(z);
              }
            n[n.length - 1].resSeq !== x &&
              ((t = new k.Residue(x)),
              (t.name = w.substring(17, 20).trim()),
              3 === t.name.length
                ? (t.name =
                    t.name.substring(0, 1) + t.name.substring(1).toLowerCase())
                : 2 === t.name.length &&
                  "D" === t.name.charAt(0) &&
                  (t.name = t.name.substring(1)),
              n.push(t),
              (z = w.substring(21, 22)),
              a(t, g, z, x, !0),
              a(t, m, z, x, !1));
            w = w.substring(12, 16).trim();
            x = n[n.length - 1];
            if ("CA" === w || "P" === w || "O5'" === w) x.cp1 || (x.cp1 = y);
            else if (
              ("N3" === w &&
                ("C" === x.name || "U" === x.name || "T" === x.name)) ||
              ("N1" === w && ("A" === x.name || "G" === x.name))
            )
              x.cp3 = y;
            else if ("C2" === w) x.cp4 = y;
            else if (
              ("C4" === w &&
                ("C" === x.name || "U" === x.name || "T" === x.name)) ||
              ("C6" === w && ("A" === x.name || "G" === x.name))
            )
              x.cp5 = y;
            else if (
              "O" === w ||
              ("C6" === w &&
                ("C" === x.name || "U" === x.name || "T" === x.name)) ||
              "N9" === w
            ) {
              if (!n[n.length - 1].cp2) {
                if ("C6" === w || "N9" === w) var A = y;
                x.cp2 = y;
              }
            } else "C" === w && (A = y);
          }
        } else if (w.startsWith("HETATM"))
          (y = w.substring(76, 78).trim()),
            0 === y.length && (y = w.substring(12, 16).trim()),
            1 < y.length &&
              (y = y.substring(0, 1) + y.substring(1).toLowerCase()),
            (y = new k.Atom(
              y,
              parseFloat(w.substring(30, 38)) * b,
              parseFloat(w.substring(38, 46)) * b,
              parseFloat(w.substring(46, 54)) * b
            )),
            (y.hetatm = !0),
            "HOH" === w.substring(17, 20).trim() && (y.isWater = !0),
            f.atoms.push(y),
            (u[parseInt(w.substring(6, 11).trim())] = y);
        else if (w.startsWith("CONECT")) {
          if (((y = parseInt(w.substring(6, 11).trim())), u[y]))
            for (y = u[y], x = 0; 4 > x; x++)
              if (
                ((t = w.substring(11 + 5 * x, 16 + 5 * x).trim()),
                0 !== t.length && ((t = parseInt(t)), u[t]))
              ) {
                t = u[t];
                z = !1;
                for (let a = 0, b = f.bonds.length; a < b; a++) {
                  let b = f.bonds[a];
                  if (
                    (b.a1 === y && b.a2 === t) ||
                    (b.a1 === t && b.a2 === y)
                  ) {
                    z = !0;
                    break;
                  }
                }
                z || f.bonds.push(new k.Bond(y, t));
              }
        } else if (w.startsWith("TER")) this.endChain(f, n, A, c), (n = []);
        else if (w.startsWith("ENDMDL")) break;
      }
      this.endChain(f, n, A, c);
      0 === f.bonds.length &&
        new e.informatics.BondDeducer().deduceCovalentBonds(f, b);
      if (this.deduceResidueBonds)
        for (let a = 0, e = c.length; a < e; a++)
          for (b = d.min(e, a + 20), A = a + 1; A < b; A++)
            (h = c[a]),
              (g = c[A]),
              h.distance3D(g) <
                1.1 * (p[h.label].covalentRadius + p[g.label].covalentRadius) &&
                f.bonds.push(new k.Bond(h, g, 1));
      f.atoms = f.atoms.concat(c);
      this.calculateRibbonDistances && this.calculateDistances(f, c);
      return f;
    };
    g.endChain = function (a, b, d, e) {
      if (0 < b.length) {
        var c = b[b.length - 1];
        c.cp1 || (c.cp1 = e[e.length - 2]);
        c.cp2 || (c.cp2 = e[e.length - 1]);
        for (e = 0; 4 > e; e++)
          (c = new k.Residue(-1)),
            (c.cp1 = d),
            (c.cp2 = b[b.length - 1].cp2),
            b.push(c);
        a.chains.push(b);
      }
    };
    g.calculateDistances = function (a, b) {
      let c = [];
      for (let b = 0, d = a.atoms.length; b < d; b++) {
        let d = a.atoms[b];
        d.hetatm && (d.isWater || c.push(d));
      }
      for (let d = 0, e = b.length; d < e; d++)
        if (
          ((a = b[d]),
          (a.closestDistance = Number.POSITIVE_INFINITY),
          0 === c.length)
        )
          a.closestDistance = 0;
        else
          for (let b = 0, d = c.length; b < d; b++)
            a.closestDistance = Math.min(a.closestDistance, a.distance3D(c[b]));
    };
    let f = new m.PDBInterpreter();
    e.readPDB = function (a, b) {
      return f.read(a, b);
    };
  })(
    ChemDoodle,
    ChemDoodle.io,
    ChemDoodle.structures,
    ChemDoodle.ELEMENT,
    Math
  );
  (function (e, m, k, p) {
    let d = {
        "@": 0,
        A: 1,
        B: 2,
        C: 3,
        D: 4,
        E: 5,
        F: 6,
        G: 7,
        H: 8,
        I: 9,
        a: -1,
        b: -2,
        c: -3,
        d: -4,
        e: -5,
        f: -6,
        g: -7,
        h: -8,
        i: -9,
      },
      g = {
        "%": 0,
        J: 1,
        K: 2,
        L: 3,
        M: 4,
        N: 5,
        O: 6,
        P: 7,
        Q: 8,
        R: 9,
        j: -1,
        k: -2,
        l: -3,
        m: -4,
        n: -5,
        o: -6,
        p: -7,
        q: -8,
        r: -9,
      },
      a = { S: 1, T: 2, U: 3, V: 4, W: 5, X: 6, Y: 7, Z: 8, s: 9 };
    m.JCAMPInterpreter = function () {};
    let f = (m.JCAMPInterpreter.prototype = new m._Interpreter());
    f.convertHZ2PPM = !1;
    f.read = function (b) {
      this.isBreak = function (b) {
        return (
          d[b] !== p ||
          g[b] !== p ||
          a[b] !== p ||
          " " === b ||
          "-" === b ||
          "+" === b
        );
      };
      this.getValue = function (a, b) {
        let c = a.charAt(0);
        a = a.substring(1);
        return d[c] !== p
          ? parseFloat(d[c] + a)
          : g[c] !== p
          ? parseFloat(g[c] + a) + b
          : parseFloat(a);
      };
      let c = new k.Spectrum();
      if (b === p || 0 === b.length) return c;
      b = b.split("\n");
      let e = [],
        f,
        m,
        n,
        u,
        w = 1,
        y = 1,
        x = 1,
        t = -1;
      var z = -1;
      let A = !0,
        B = !1;
      for (let h = 0, l = b.length; h < l; h++) {
        var C = b[h].trim(),
          D = C.indexOf("$$");
        -1 !== D && (C = C.substring(0, D));
        if (0 !== e.length && b[h].startsWith("##"))
          if (
            ((D = e.join("")),
            A && 100 > D.length && c.metadata.push(D),
            (e = [C]),
            D.startsWith("##TITLE\x3d"))
          )
            c.title = D.substring(8).trim();
          else if (D.startsWith("##XUNITS\x3d"))
            (c.xUnit = D.substring(9).trim()),
              this.convertHZ2PPM &&
                "HZ" === c.xUnit.toUpperCase() &&
                ((c.xUnit = "PPM"), (B = !0));
          else if (D.startsWith("##YUNITS\x3d"))
            c.yUnit = D.substring(9).trim();
          else {
            if (!D.startsWith("##XYPAIRS\x3d"))
              if (D.startsWith("##FIRSTX\x3d"))
                m = parseFloat(D.substring(9).trim());
              else if (D.startsWith("##LASTX\x3d"))
                f = parseFloat(D.substring(8).trim());
              else if (D.startsWith("##FIRSTY\x3d"))
                n = parseFloat(D.substring(9).trim());
              else if (D.startsWith("##NPOINTS\x3d"))
                u = parseFloat(D.substring(10).trim());
              else if (D.startsWith("##XFACTOR\x3d"))
                w = parseFloat(D.substring(10).trim());
              else if (D.startsWith("##YFACTOR\x3d"))
                y = parseFloat(D.substring(10).trim());
              else if (D.startsWith("##DELTAX\x3d"))
                parseFloat(D.substring(9).trim());
              else if (D.startsWith("##.OBSERVE FREQUENCY\x3d"))
                this.convertHZ2PPM && (x = parseFloat(D.substring(21).trim()));
              else if (D.startsWith("##.SHIFT REFERENCE\x3d"))
                this.convertHZ2PPM &&
                  ((z = D.substring(19).split(",")),
                  (t = parseInt(z[2].trim())),
                  (z = parseFloat(z[3].trim())));
              else if (D.startsWith("##XYDATA\x3d")) {
                B || (x = 1);
                C = A = !1;
                D = D.split("\n");
                var J = (f - m) / (u - 1),
                  G = m - J,
                  F = n,
                  H = 0;
                let b;
                for (let e = 1, f = D.length; e < f; e++) {
                  var L = [];
                  G = D[e].trim();
                  F = [];
                  for (let a = 0, b = G.length; a < b; a++)
                    this.isBreak(G.charAt(a))
                      ? (0 < F.length &&
                          (1 !== F.length || " " !== F[0]) &&
                          L.push(F.join("")),
                        (F = [G.charAt(a)]))
                      : F.push(G.charAt(a));
                  L.push(F.join(""));
                  G = parseFloat(L[0]) * w - J;
                  for (let e = 1, f = L.length; e < f; e++)
                    if (((F = L[e]), a[F.charAt(0)] !== p)) {
                      let d = parseInt(a[F.charAt(0)] + F.substring(1)) - 1;
                      for (let a = 0; a < d; a++)
                        (G += J),
                          (H = this.getValue(b, H)),
                          (F = H * y),
                          (c.data[c.data.length - 1] = new k.Point(G / x, F));
                    } else
                      d[F.charAt(0)] !== p && C
                        ? (F = this.getValue(F, H) * y)
                        : ((C = g[F.charAt(0)] !== p),
                          (b = F),
                          (G += J),
                          (H = this.getValue(F, H)),
                          (F = H * y),
                          c.data.push(new k.Point(G / x, F)));
                }
                if (-1 !== t) {
                  C = z - c.data[t - 1].x;
                  for (let a = 0, b = c.data.length; a < b; a++)
                    c.data[a].x += C;
                }
              } else if (D.startsWith("##PEAK TABLE\x3d")) {
                A = !1;
                c.continuous = !1;
                C = D.split("\n");
                D = /[\s,]+/;
                for (let a = 1, b = C.length; a < b; a++) {
                  J = C[a].split(D);
                  for (let a = 0, b = J.length; a + 1 < b; a += 2)
                    c.data.push(
                      new k.Point(
                        parseFloat(J[a].trim()),
                        parseFloat(J[a + 1].trim())
                      )
                    );
                }
              } else if (D.startsWith("##ATOMLIST\x3d")) {
                c.molecule = new k.Molecule();
                C = D.split("\n");
                D = /[\s]+/;
                for (let a = 1, b = C.length; a < b; a++)
                  (J = C[a].split(D)), c.molecule.atoms.push(new k.Atom(J[1]));
              } else if (D.startsWith("##BONDLIST\x3d")) {
                C = D.split("\n");
                D = /[\s]+/;
                for (let a = 1, b = C.length; a < b; a++)
                  (J = C[a].split(D)),
                    (H = 1),
                    "D" === J[2] ? (H = 2) : "T" === J[2] && (H = 3),
                    c.molecule.bonds.push(
                      new k.Bond(
                        c.molecule.atoms[parseInt(J[0]) - 1],
                        c.molecule.atoms[parseInt(J[1]) - 1],
                        H
                      )
                    );
              } else if (c.molecule && D.startsWith("##XY_RASTER\x3d")) {
                C = D.split("\n");
                D = /[\s]+/;
                for (let a = 1, b = C.length; a < b; a++)
                  (J = C[a].split(D)),
                    (H = c.molecule.atoms[parseInt(J[0]) - 1]),
                    (H.x = parseInt(J[1])),
                    (H.y = parseInt(J[2])),
                    4 == J.length && (H.z = parseInt(J[3]));
                c.molecule.scaleToAverageBondLength(20);
              } else if (D.startsWith("##PEAK ASSIGNMENTS\x3d")) {
                C = D.split("\n");
                D = /[\s,()<>]+/;
                c.assignments = [];
                for (let a = 1, b = C.length; a < b; a++) {
                  L = C[a].split(D);
                  J = parseFloat(L[1]);
                  H = parseFloat(L[2]);
                  L = c.molecule.atoms[parseInt(L[3]) - 1];
                  G = !1;
                  for (let a = 0, b = c.assignments.length; a < b; a++)
                    if (((F = c.assignments[a]), F.x === J)) {
                      F.as.push(L);
                      L.assigned = F;
                      G = !0;
                      break;
                    }
                  G ||
                    ((J = { x: J, y: H, as: [L] }),
                    (L.assigned = J),
                    c.assignments.push(J));
                }
              }
          }
        else
          (C = C.trim()),
            0 !== e.length && 0 !== C.length && e.push("\n"),
            e.push(C);
      }
      c.setup();
      return c;
    };
    f.makeStructureSpectrumSet = function (a, c) {
      this.convertHZ2PPM = !0;
      let b = this.read(c),
        d = new e.ViewerCanvas(a + "_molecule", 200, 200);
      d.styles.atoms_displayTerminalCarbonLabels_2D = !0;
      d.styles.atoms_displayImplicitHydrogens_2D = !0;
      d.mouseout = function (a) {
        if (0 !== this.molecules.length) {
          for (let a = 0, b = this.molecules[0].atoms.length; a < b; a++)
            this.molecules[0].atoms[a].isHover = !1;
          b.hovered = p;
          this.repaint();
          f.repaint();
        }
      };
      d.touchend = d.mouseout;
      d.mousemove = function (a) {
        if (0 !== this.molecules.length) {
          let c = p;
          for (let b = 0, d = this.molecules[0].atoms.length; b < d; b++) {
            let d = this.molecules[0].atoms[b];
            d.isHover = !1;
            d.assigned &&
              (c === p || a.p.distance(d) < a.p.distance(c)) &&
              (c = d);
          }
          b.hovered = p;
          if (20 > a.p.distance(c)) {
            for (let a = 0, b = c.assigned.as.length; a < b; a++)
              c.assigned.as[a].isHover = !0;
            f.spectrum.hovered = c.assigned;
          }
          this.repaint();
          f.repaint();
        }
      };
      d.touchmove = d.mousemove;
      d.drawChildExtras = function (a, b) {
        if (0 !== this.molecules.length)
          for (let c = 0, d = this.molecules[0].atoms.length; c < d; c++)
            this.molecules[0].atoms[c].drawDecorations(a, b);
      };
      let f = new e.ObserverCanvas(a + "_spectrum", 400, 200);
      f.styles.plots_showYAxis = !1;
      f.styles.plots_flipXAxis = !0;
      f.mouseout = function (a) {
        if (this.spectrum && this.spectrum.assignments) {
          for (let a = 0, b = d.molecules[0].atoms.length; a < b; a++)
            d.molecules[0].atoms[a].isHover = !1;
          this.spectrum.hovered = p;
          d.repaint();
          this.repaint();
        }
      };
      f.touchend = f.mouseout;
      f.mousemove = function (a) {
        if (this.spectrum && this.spectrum.assignments) {
          let b = p;
          for (let a = 0, b = d.molecules[0].atoms.length; a < b; a++)
            d.molecules[0].atoms[a].isHover = !1;
          this.spectrum.hovered = p;
          for (let c = 0, d = this.spectrum.assignments.length; c < d; c++) {
            let d = this.spectrum.assignments[c];
            if (
              b === p ||
              Math.abs(
                this.spectrum.getTransformedX(
                  d.x,
                  this.styles,
                  this.spectrum.memory.width,
                  this.spectrum.memory.offsetLeft
                ) - a.p.x
              ) <
                Math.abs(
                  this.spectrum.getTransformedX(
                    b.x,
                    this.styles,
                    this.spectrum.memory.width,
                    this.spectrum.memory.offsetLeft
                  ) - a.p.x
                )
            )
              b = d;
          }
          if (
            20 >
            Math.abs(
              this.spectrum.getTransformedX(
                b.x,
                this.styles,
                this.spectrum.memory.width,
                this.spectrum.memory.offsetLeft
              ) - a.p.x
            )
          ) {
            for (let a = 0, c = b.as.length; a < c; a++) b.as[a].isHover = !0;
            this.spectrum.hovered = b;
          }
          d.repaint();
          this.repaint();
        }
      };
      f.touchmove = f.mousemove;
      f.drawChildExtras = function (a) {
        if (this.spectrum && this.spectrum.hovered) {
          let b = this.spectrum.getTransformedX(
            this.spectrum.hovered.x,
            f.styles,
            this.spectrum.memory.width,
            this.spectrum.memory.offsetLeft
          );
          b >= this.spectrum.memory.offsetLeft &&
            b < this.spectrum.memory.width &&
            (a.save(),
            (a.strokeStyle = "#885110"),
            (a.lineWidth = 3),
            a.beginPath(),
            a.moveTo(
              b,
              this.spectrum.memory.height - this.spectrum.memory.offsetBottom
            ),
            a.lineTo(
              b,
              this.spectrum.getTransformedY(
                this.spectrum.hovered.y,
                f.styles,
                this.spectrum.memory.height,
                this.spectrum.memory.offsetBottom,
                this.spectrum.memory.offsetTop
              )
            ),
            a.stroke(),
            a.restore());
        }
      };
      b && (f.loadSpectrum(b), b.molecule && d.loadMolecule(b.molecule));
      return [d, f];
    };
    let c = new m.JCAMPInterpreter();
    c.convertHZ2PPM = !0;
    e.readJCAMP = function (a) {
      return c.read(a);
    };
  })(ChemDoodle, ChemDoodle.io, ChemDoodle.structures);
  (function (e, m, k, p, d, g, a) {
    m.JSONInterpreter = function () {};
    let f = m.JSONInterpreter.prototype;
    f.contentTo = function (b, c) {
      b || (b = []);
      c || (c = []);
      var d = !0;
      for (let c = 0, f = b.length; c < f; c++) {
        var e = b[c];
        for (let b = 0, c = e.atoms.length; b < c; b++)
          if (e.atoms[b].pid === a) {
            d = !1;
            break;
          }
        if (d)
          for (let b = 0, c = e.bonds.length; b < c; b++)
            if (e.bonds[b].pid === a) {
              d = !1;
              break;
            }
      }
      let f = (e = 0),
        g = 0;
      for (let c = 0, h = b.length; c < h; c++) {
        let h = b[c],
          n = a;
        for (let b = 0, c = h.atoms.length; b < c; b++) {
          var l = h.atoms[b];
          if (d) {
            if (((l.tmpid = "a" + l.pid), n === a || n > l.pid)) n = l.pid;
          } else l.tmpid = "a" + e++;
        }
        for (let a = 0, b = h.bonds.length; a < b; a++)
          (l = h.bonds[a]), (l.tmpid = d ? "b" + l.pid : "b" + f++);
        h.tmpid = "m" + (n === a ? g++ : n);
      }
      e = 0;
      for (let a = 0, b = c.length; a < b; a++) c[a].tmpid = "s" + e++;
      d = {};
      if (b && 0 < b.length) {
        d.m = [];
        for (let a = 0, c = b.length; a < c; a++) d.m.push(this.molTo(b[a]));
      }
      if (c && 0 < c.length) {
        d.s = [];
        for (let a = 0, b = c.length; a < b; a++) d.s.push(this.shapeTo(c[a]));
      }
      for (let c = 0, d = b.length; c < d; c++) {
        e = b[c];
        for (let b = 0, c = e.atoms.length; b < c; b++) e.atoms[b].tmpid = a;
        for (let b = 0, c = e.bonds.length; b < c; b++) e.bonds[b].tmpid = a;
        e.tmpid = a;
      }
      for (let b = 0, d = c.length; b < d; b++) c[b].tmpid = a;
      return d;
    };
    f.contentFrom = function (b) {
      let c = { molecules: [], shapes: [] };
      if (b.m)
        for (let a = 0, d = b.m.length; a < d; a++)
          c.molecules.push(this.molFrom(b.m[a]));
      if (b.s)
        for (let a = 0, d = b.s.length; a < d; a++)
          c.shapes.push(this.shapeFrom(b.s[a], c.molecules));
      for (let d = 0, e = c.molecules.length; d < e; d++) {
        b = c.molecules[d];
        for (let c = 0, d = b.atoms.length; c < d; c++) b.atoms[c].tmpid = a;
        for (let c = 0, d = b.bonds.length; c < d; c++) b.bonds[c].tmpid = a;
      }
      for (let b = 0, d = c.shapes.length; b < d; b++) c.shapes[b].tmpid = a;
      return c;
    };
    f.queryTo = function (a) {
      let b = {},
        c = function (b, c, d, e) {
          c && (b[d] = { v: e ? a.outputRange(c.v) : c.v, n: c.not });
        };
      a.type === k.Query.TYPE_ATOM
        ? (c(b, a.elements, "as"),
          c(b, a.chirality, "@"),
          c(b, a.aromatic, "A"),
          c(b, a.charge, "C", !0),
          c(b, a.hydrogens, "H", !0),
          c(b, a.ringCount, "R", !0),
          c(b, a.saturation, "S"),
          c(b, a.connectivity, "X", !0),
          c(b, a.connectivityNoH, "x", !0))
        : (c(b, a.orders, "bs"),
          c(b, a.stereo, "@"),
          c(b, a.aromatic, "A"),
          c(b, a.ringCount, "R", !0));
      return b;
    };
    f.molTo = function (a) {
      let b = { a: [] };
      a.tmpid && (b.i = a.tmpid);
      for (let e = 0, f = a.atoms.length; e < f; e++) {
        var c = a.atoms[e],
          d = { x: c.x, y: c.y };
        c.tmpid && (d.i = c.tmpid);
        "C" !== c.label && (d.l = c.label);
        0 !== c.z && (d.z = c.z);
        0 !== c.charge && (d.c = c.charge);
        -1 !== c.mass && (d.m = c.mass);
        -1 !== c.implicitH && (d.h = c.implicitH);
        0 !== c.numRadical && (d.r = c.numRadical);
        0 !== c.numLonePair && (d.p = c.numLonePair);
        c.enhancedStereo &&
          c.enhancedStereo.type !== k.Atom.ESTEREO_ABSOLUTE &&
          ((d.s2 = { t: c.enhancedStereo.type }),
          1 < c.enhancedStereo.group && (d.s2.g = c.enhancedStereo.group));
        c.query && (d.q = this.queryTo(c.query));
        b.a.push(d);
      }
      if (0 < a.bonds.length) {
        b.b = [];
        for (let e = 0, f = a.bonds.length; e < f; e++)
          (c = a.bonds[e]),
            (d = { b: a.atoms.indexOf(c.a1), e: a.atoms.indexOf(c.a2) }),
            c.tmpid && (d.i = c.tmpid),
            1 !== c.bondOrder && (d.o = c.bondOrder),
            c.stereo !== k.Bond.STEREO_NONE && (d.s = c.stereo),
            c.query && (d.q = this.queryTo(c.query)),
            b.b.push(d);
      }
      return b;
    };
    f.queryFrom = function (a) {
      let b = new k.Query(a.as ? k.Query.TYPE_ATOM : k.Query.TYPE_BOND),
        c = function (a, b, c, d) {
          b &&
            ((a[c] = {}),
            (a[c].v = d ? a.parseRange(b.v) : b.v),
            b.n && (a[c].not = !0));
        };
      b.type === k.Query.TYPE_ATOM
        ? (c(b, a.as, "elements"),
          c(b, a["@"], "chirality"),
          c(b, a.A, "aromatic"),
          c(b, a.C, "charge", !0),
          c(b, a.H, "hydrogens", !0),
          c(b, a.R, "ringCount", !0),
          c(b, a.S, "saturation"),
          c(b, a.X, "connectivity", !0),
          c(b, a.x, "connectivityNoH", !0))
        : (c(b, a.bs, "orders"),
          c(b, a["@"], "stereo"),
          c(b, a.A, "aromatic"),
          c(b, a.R, "ringCount", !0));
      return b;
    };
    f.molFrom = function (b) {
      let c = new k.Molecule();
      for (let f = 0, g = b.a.length; f < g; f++) {
        var d = b.a[f],
          e = new k.Atom(d.l ? d.l : "C", d.x, d.y);
        d.i && (e.tmpid = d.i);
        d.z && (e.z = d.z);
        d.c && (e.charge = d.c);
        d.m && (e.mass = d.m);
        d.h && (e.implicitH = d.h);
        d.r && (e.numRadical = d.r);
        d.p && (e.numLonePair = d.p);
        d.s2 &&
          (e.enhancedStereo = {
            type: d.s2.t,
            group: d.s2.g === a ? 1 : d.s2.g,
          });
        d.q && (e.query = this.queryFrom(d.q));
        d.p_h !== a && (e.hetatm = d.p_h);
        d.p_w !== a && (e.isWater = d.p_w);
        d.p_d !== a && (e.closestDistance = d.p_d);
        c.atoms.push(e);
      }
      if (b.b)
        for (let f = 0, g = b.b.length; f < g; f++)
          (d = b.b[f]),
            (e = new k.Bond(c.atoms[d.b], c.atoms[d.e], d.o === a ? 1 : d.o)),
            d.i && (e.tmpid = d.i),
            d.s && (e.stereo = d.s),
            d.q && (e.query = this.queryFrom(d.q)),
            c.bonds.push(e);
      return c;
    };
    f.shapeTo = function (b) {
      let c = {};
      b.tmpid && (c.i = b.tmpid);
      if (b instanceof p.Line) {
        c.t = "Line";
        c.x1 = b.p1.x;
        c.y1 = b.p1.y;
        c.x2 = b.p2.x;
        c.y2 = b.p2.y;
        c.a = b.arrowType;
        if (b.reactants !== a && 0 < b.reactants.length) {
          c.rs = [];
          for (let a = 0, d = b.reactants.length; a < d; a++)
            c.rs[a] = b.reactants[a].tmpid;
        }
        if (b.products !== a && 0 < b.products.length) {
          c.ps = [];
          for (let a = 0, d = b.products.length; a < d; a++)
            c.ps[a] = b.products[a].tmpid;
        }
      } else if (b instanceof p.Pusher)
        (c.t = "Pusher"),
          (c.o1 = b.o1.tmpid),
          (c.o2 = b.o2.tmpid),
          1 !== b.numElectron && (c.e = b.numElectron);
      else if (b instanceof p.AtomMapping)
        (c.t = "AtomMapping"),
          (c.a1 = b.o1.tmpid),
          (c.a2 = b.o2.tmpid),
          (c.n = b.label);
      else if (b instanceof p.Bracket)
        (c.t = "Bracket"),
          (c.x1 = b.p1.x),
          (c.y1 = b.p1.y),
          (c.x2 = b.p2.x),
          (c.y2 = b.p2.y),
          0 !== b.charge && (c.c = b.charge),
          0 !== b.mult && (c.m = b.mult),
          0 !== b.repeat && (c.r = b.repeat);
      else if (b instanceof p.RepeatUnit)
        (c.t = "RepeatUnit"),
          (c.b1 = b.b1.tmpid),
          (c.b2 = b.b2.tmpid),
          (c.n1 = b.n1),
          (c.n2 = b.n2),
          !0 === b.flip && (c.f = !0);
      else if (b instanceof p.VAP) {
        c.t = "VAP";
        c.x = b.asterisk.x;
        c.y = b.asterisk.y;
        1 !== b.bondType && (c.o = b.bondType);
        b.substituent && (c.s = b.substituent.tmpid);
        c.a = [];
        for (let a = 0, d = b.attachments.length; a < d; a++)
          c.a.push(b.attachments[a].tmpid);
      } else if (b instanceof d.Distance)
        (c.t = "Distance"),
          (c.a1 = b.a1.tmpid),
          (c.a2 = b.a2.tmpid),
          b.node && ((c.n = b.node), (c.o = b.offset));
      else if (b instanceof d.Angle)
        (c.t = "Angle"),
          (c.a1 = b.a1.tmpid),
          (c.a2 = b.a2.tmpid),
          (c.a3 = b.a3.tmpid);
      else if (b instanceof d.Torsion)
        (c.t = "Torsion"),
          (c.a1 = b.a1.tmpid),
          (c.a2 = b.a2.tmpid),
          (c.a3 = b.a3.tmpid),
          (c.a4 = b.a4.tmpid);
      else if (b instanceof d._Surface) {
        c.t = "Surface";
        c.a = [];
        for (let a = 0, d = b.atoms.length; a < d; a++)
          c.a.push(b.atoms[a].tmpid);
        b instanceof d.VDWSurface || (c.p = b.probeRadius);
        c.r = b.resolution;
        let a = "vdw";
        b instanceof d.SASSurface
          ? (a = "sas")
          : d.SESSurface && b instanceof d.SESSurface && (a = "ses");
        c.f = a;
      } else
        b instanceof d.UnitCell &&
          ((c.t = "UnitCell"),
          (c.ls = b.lengths),
          (c.as = b.angles),
          (c.os = b.offset));
      return c;
    };
    f.shapeFrom = function (b, c) {
      if ("Line" === b.t) {
        var e = new p.Line(new k.Point(b.x1, b.y1), new k.Point(b.x2, b.y2));
        e.arrowType = b.a;
        if (b.rs !== a) {
          e.reactants = [];
          for (let a = 0, d = b.rs.length; a < d; a++) {
            var f = b.rs[a];
            a: for (let a = 0, b = c.length; a < b; a++) {
              var g = c[a];
              for (let a = 0, b = g.atoms.length; a < b; a++) {
                var l = g.atoms[a];
                if (l.tmpid === f) {
                  e.reactants.push(l);
                  break a;
                }
              }
            }
          }
        }
        if (b.ps !== a) {
          e.products = [];
          for (let a = 0, d = b.ps.length; a < d; a++) {
            f = b.ps[a];
            a: for (let a = 0, b = c.length; a < b; a++) {
              g = c[a];
              for (let a = 0, b = g.atoms.length; a < b; a++)
                if (((l = g.atoms[a]), l.tmpid === f)) {
                  e.products.push(l);
                  break a;
                }
            }
          }
        }
      } else if ("Pusher" === b.t) {
        for (let a = 0, d = c.length; a < d; a++) {
          e = c[a];
          for (let a = 0, c = e.atoms.length; a < c; a++)
            (l = e.atoms[a]),
              l.tmpid === b.o1 ? (f = l) : l.tmpid === b.o2 && (g = l);
          for (let a = 0, c = e.bonds.length; a < c; a++)
            (l = e.bonds[a]),
              l.tmpid === b.o1 ? (f = l) : l.tmpid === b.o2 && (g = l);
        }
        e = new p.Pusher(f, g);
        b.e && (e.numElectron = b.e);
      } else if ("AtomMapping" === b.t) {
        let d;
        for (let a = 0, g = c.length; a < g; a++) {
          e = c[a];
          for (let a = 0, c = e.atoms.length; a < c; a++)
            (f = e.atoms[a]),
              f.tmpid === b.a1 ? (l = f) : f.tmpid === b.a2 && (d = f);
        }
        e = new p.AtomMapping(l, d);
        b.n !== a && (e.label = b.n);
      } else if ("Bracket" === b.t)
        (e = new p.Bracket(new k.Point(b.x1, b.y1), new k.Point(b.x2, b.y2))),
          b.c !== a && (e.charge = b.c),
          b.m !== a && (e.mult = b.m),
          b.r !== a && (e.repeat = b.r);
      else if ("RepeatUnit" === b.t || "DynamicBracket" === b.t) {
        let a, d;
        for (let g = 0, h = c.length; g < h; g++) {
          e = c[g];
          for (let c = 0, g = e.bonds.length; c < g; c++)
            (f = e.bonds[c]),
              f.tmpid === b.b1 ? (a = f) : f.tmpid === b.b2 && (d = f);
        }
        e = new p.RepeatUnit(a, d);
        e.n1 = b.n1;
        e.n2 = b.n2;
        b.f && (e.flip = !0);
      } else if ("VAP" === b.t) {
        e = new p.VAP(b.x, b.y);
        b.o && (e.bondType = b.o);
        for (let a = 0, d = c.length; a < d; a++) {
          f = c[a];
          for (let a = 0, c = f.atoms.length; a < c; a++)
            if (((g = f.atoms[a]), g.tmpid === b.s)) e.substituent = g;
            else
              for (let a = 0, c = b.a.length; a < c; a++)
                g.tmpid === b.a[a] && e.attachments.push(g);
        }
      } else if ("Distance" === b.t) {
        let a, g;
        for (let d = 0, h = c.length; d < h; d++) {
          e = c[d];
          for (let c = 0, d = e.atoms.length; c < d; c++)
            (f = e.atoms[c]),
              f.tmpid === b.a1 ? (a = f) : f.tmpid === b.a2 && (g = f);
        }
        e = new d.Distance(a, g, b.n, b.o);
      } else if ("Angle" === b.t) {
        let a, g, h;
        for (let d = 0, l = c.length; d < l; d++) {
          e = c[d];
          for (let c = 0, d = e.atoms.length; c < d; c++)
            (f = e.atoms[c]),
              f.tmpid === b.a1
                ? (a = f)
                : f.tmpid === b.a2
                ? (g = f)
                : f.tmpid === b.a3 && (h = f);
        }
        e = new d.Angle(a, g, h);
      } else if ("Torsion" === b.t) {
        let a, g, h, l;
        for (let d = 0, n = c.length; d < n; d++) {
          e = c[d];
          for (let c = 0, d = e.atoms.length; c < d; c++)
            (f = e.atoms[c]),
              f.tmpid === b.a1
                ? (a = f)
                : f.tmpid === b.a2
                ? (g = f)
                : f.tmpid === b.a3
                ? (h = f)
                : f.tmpid === b.a4 && (l = f);
        }
        e = new d.Torsion(a, g, h, l);
      } else if ("Surface" === b.t) {
        f = [];
        for (let a = 0, d = c.length; a < d; a++) {
          g = c[a];
          for (let a = 0, c = g.atoms.length; a < c; a++) {
            l = g.atoms[a];
            for (let a = 0, c = b.a.length; a < c; a++)
              l.tmpid === b.a[a] && f.push(l);
          }
        }
        c = b.p ? b.p : 1.4;
        g = b.r ? b.r : 30;
        "vdw" === b.f
          ? (e = new d.VDWSurface(f, g))
          : "sas" === b.f
          ? (e = new d.SASSurface(f, c, g))
          : "ses" === b.f && (e = new d.SESSurface(f, c, g));
      } else "UnitCell" === b.t && (e = new d.UnitCell(b.ls, b.as, b.os));
      return e;
    };
    f.pdbFrom = function (a) {
      let b = this.molFrom(a.mol);
      b.findRings = !1;
      b.fromJSON = !0;
      b.chains = this.chainsFrom(a.ribbons);
      return b;
    };
    f.chainsFrom = function (a) {
      let b = [];
      for (let c = 0, d = a.cs.length; c < d; c++) {
        let d = a.cs[c],
          e = [];
        for (let a = 0, b = d.length; a < b; a++) {
          let b = d[a],
            c = new k.Residue();
          c.name = b.n;
          c.cp1 = new k.Atom("", b.x1, b.y1, b.z1);
          c.cp2 = new k.Atom("", b.x2, b.y2, b.z2);
          b.x3 &&
            ((c.cp3 = new k.Atom("", b.x3, b.y3, b.z3)),
            (c.cp4 = new k.Atom("", b.x4, b.y4, b.z4)),
            (c.cp5 = new k.Atom("", b.x5, b.y5, b.z5)));
          c.helix = b.h;
          c.sheet = b.s;
          c.arrow = 0 < a && d[a - 1].a;
          e.push(c);
        }
        b.push(e);
      }
      return b;
    };
    let c = new m.JSONInterpreter();
    e.readJSON = function (b) {
      let d;
      try {
        d = g.parse(b);
      } catch (h) {
        return a;
      }
      return d
        ? d.m || d.s
          ? c.contentFrom(d)
          : d.a
          ? { molecules: [c.molFrom(d)], shapes: [] }
          : { molecules: [], shapes: [] }
        : a;
    };
    e.writeJSON = function (a, d) {
      return g.stringify(c.contentTo(a, d));
    };
  })(
    ChemDoodle,
    ChemDoodle.io,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    ChemDoodle.structures.d3,
    JSON
  );
  (function (e, m, k, p) {
    m.RXNInterpreter = function () {};
    let d = (m.RXNInterpreter.prototype = new m._Interpreter());
    d.read = function (a, d) {
      d || (d = e.DEFAULT_STYLES.bondLength_2D);
      let c = [];
      if (a) {
        var b = a.split("$MOL\n");
        a = b[0].split("\n")[4];
        var f = parseInt(a.substring(0, 3)),
          g = parseInt(a.substring(3, 6)),
          m = 1;
        a = 0;
        for (let h = 0, l = f + g; h < l; h++) {
          c[h] = e.readMOL(b[m], d);
          let f = c[h].getBounds();
          a -= f.maxX - f.minX + 40;
          m++;
        }
        for (let e = 0, g = f; e < g; e++) {
          d = c[e].getBounds();
          d = d.maxX - d.minX;
          b = c[e].getCenter();
          for (let f = 0, g = c[e].atoms.length; f < g; f++)
            (m = c[e].atoms[f]), (m.x += a + d / 2 - b.x), (m.y -= b.y);
          a += d + 40;
        }
        d = new k.d2.Line(new k.Point(a, 0), new k.Point(a + 40, 0));
        a += 80;
        for (let d = f, e = f + g; d < e; d++) {
          f = c[d].getBounds();
          f = f.maxX - f.minX;
          g = c[d].getCenter();
          for (b = 0; b < c[d].atoms.length; b++)
            (m = c[d].atoms[b]), (m.x += a + f / 2 - g.x), (m.y -= g.y);
          a += f + 40;
        }
      } else
        c.push(new k.Molecule()),
          (d = new k.d2.Line(new k.Point(-20, 0), new k.Point(20, 0)));
      d.arrowType = k.d2.Line.ARROW_SYNTHETIC;
      return { molecules: c, shapes: [d] };
    };
    d.write = function (a, d) {
      let c = p;
      if (a && d) {
        for (let a = 0, e = d.length; a < e; a++)
          if (d[a] instanceof k.d2.Line) {
            c = d[a];
            break;
          }
        if (!c) return "";
        a = new k.Reaction().resolve(c, a);
        d = [];
        d.push(
          "$RXN\nReaction from ChemDoodle Web Components\n\nhttp://www.ichemlabs.com\n"
        );
        d.push(this.fit(a.reactants.length.toString(), 3));
        d.push(this.fit(a.products.length.toString(), 3));
        d.push("\n");
        for (let b = 0, c = a.reactants.length; b < c; b++)
          d.push("$MOL\n"), d.push(e.writeMOL(a.reactants[b])), d.push("\n");
        for (let b = 0, c = a.products.length; b < c; b++)
          d.push("$MOL\n"), d.push(e.writeMOL(a.products[b])), d.push("\n");
        return d.join("");
      }
    };
    let g = new m.RXNInterpreter();
    e.readRXN = function (a, d) {
      return g.read(a, d);
    };
    e.writeRXN = function (a, d) {
      return g.write(a, d);
    };
  })(ChemDoodle, ChemDoodle.io, ChemDoodle.structures);
  (function (e, m, k, p, d, g) {
    p.XYZInterpreter = function () {};
    m = p.XYZInterpreter.prototype = new p._Interpreter();
    m.deduceCovalentBonds = !0;
    m.read = function (a) {
      let c = new d.Molecule();
      if (!a) return c;
      a = a.split("\n");
      let b = parseInt(a[0].trim());
      for (let e = 0; e < b; e++) {
        let b = a[e + 2].split(/\s+/g);
        c.atoms[e] = new d.Atom(
          isNaN(b[0]) ? b[0] : k[parseInt(b[0]) - 1],
          parseFloat(b[1]),
          parseFloat(b[2]),
          parseFloat(b[3])
        );
      }
      this.deduceCovalentBonds &&
        new e.informatics.BondDeducer().deduceCovalentBonds(c, 1);
      return c;
    };
    let a = new p.XYZInterpreter();
    e.readXYZ = function (d) {
      return a.read(d);
    };
  })(
    ChemDoodle,
    ChemDoodle.ELEMENT,
    ChemDoodle.SYMBOLS,
    ChemDoodle.io,
    ChemDoodle.structures
  );
  ChemDoodle.monitor = (function (e, m, k) {
    let p = {};
    p.CANVAS_DRAGGING = k;
    p.CANVAS_OVER = k;
    p.ALT = !1;
    p.SHIFT = !1;
    p.META = !1;
    e.supports_touch() ||
      m.addEventListener("DOMContentLoaded", function () {
        m.addEventListener("mousemove", function (d) {
          p.CANVAS_DRAGGING &&
            p.CANVAS_DRAGGING.drag &&
            (p.CANVAS_DRAGGING.prehandleEvent(d), p.CANVAS_DRAGGING.drag(d));
        });
        m.addEventListener("mouseup", function (d) {
          p.CANVAS_DRAGGING &&
            p.CANVAS_DRAGGING !== p.CANVAS_OVER &&
            p.CANVAS_DRAGGING.mouseup &&
            (p.CANVAS_DRAGGING.prehandleEvent(d), p.CANVAS_DRAGGING.mouseup(d));
          p.CANVAS_DRAGGING = k;
        });
        m.addEventListener("keydown", function (d) {
          p.SHIFT = d.shiftKey;
          p.ALT = d.altKey;
          p.META = d.metaKey || d.ctrlKey;
          let e = p.CANVAS_OVER;
          p.CANVAS_DRAGGING && (e = p.CANVAS_DRAGGING);
          e && e.keydown && (e.prehandleEvent(d), e.keydown(d));
        });
        m.addEventListener("keypress", function (d) {
          let e = p.CANVAS_OVER;
          p.CANVAS_DRAGGING && (e = p.CANVAS_DRAGGING);
          e && e.keypress && (e.prehandleEvent(d), e.keypress(d));
        });
        m.addEventListener("keyup", function (d) {
          p.SHIFT = d.shiftKey;
          p.ALT = d.altKey;
          p.META = d.metaKey || d.ctrlKey;
          let e = p.CANVAS_OVER;
          p.CANVAS_DRAGGING && (e = p.CANVAS_DRAGGING);
          e && e.keyup && (e.prehandleEvent(d), e.keyup(d));
        });
      });
    return p;
  })(ChemDoodle.featureDetection, document);
  (function (e, m, k, p, d, g, a, f, c, b) {
    e._Canvas = function () {};
    let l = e._Canvas.prototype;
    l.molecules = b;
    l.shapes = b;
    l.emptyMessage = b;
    l.image = b;
    l.repaint = function () {
      if (!this.test) {
        var b = a.getElementById(this.id);
        if (b.getContext) {
          let a = b.getContext("2d");
          1 !== this.pixelRatio &&
            b.width === this.width &&
            ((b.width = this.width * this.pixelRatio),
            (b.height = this.height * this.pixelRatio),
            a.scale(this.pixelRatio, this.pixelRatio));
          if (this.image) a.drawImage(this.image, 0, 0);
          else {
            let c = this.styles.backgroundColor
              ? this.styles.backgroundColor
              : "transparent";
            a.clearRect(0, 0, this.width, this.height);
            this.bgCache !== c &&
              ((b.style.backgroundColor = c),
              (this.bgCache = b.style.backgroundColor));
            "transparent" !== c &&
              ((a.fillStyle = c), a.fillRect(0, 0, this.width, this.height));
          }
          if (this.innerRepaint) this.innerRepaint(a);
          else if (0 !== this.molecules.length || 0 !== this.shapes.length) {
            a.save();
            a.translate(this.width / 2, this.height / 2);
            a.rotate(this.styles.rotateAngle);
            a.scale(this.styles.scale, this.styles.scale);
            a.translate(-this.width / 2, -this.height / 2);
            for (let b = 0, c = this.molecules.length; b < c; b++)
              this.molecules[b].check(!0),
                this.molecules[b].draw(a, this.styles);
            this.checksOnAction && this.checksOnAction(!0);
            for (let b = 0, c = this.shapes.length; b < c; b++)
              this.shapes[b].draw(a, this.styles);
            a.restore();
          } else
            this.emptyMessage &&
              ((a.fillStyle = "#737683"),
              (a.textAlign = "center"),
              (a.textBaseline = "middle"),
              (a.font = "18px Helvetica, Verdana, Arial, Sans-serif"),
              a.fillText(this.emptyMessage, this.width / 2, this.height / 2));
          this.drawChildExtras && this.drawChildExtras(a, this.styles);
        }
      }
    };
    l.resize = function (a, b) {
      let c = q("#" + this.id);
      c.attr({ width: a, height: b });
      c.css("width", a);
      c.css("height", b);
      this.width = a;
      this.height = b;
      if (e._Canvas3D && this instanceof e._Canvas3D)
        1 !== this.pixelRatio &&
          ((a *= this.pixelRatio),
          (b *= this.pixelRatio),
          (this.gl.canvas.width = a),
          (this.gl.canvas.height = b)),
          this.gl.viewport(0, 0, a, b),
          this.afterLoadContent();
      else if (0 < this.molecules.length) {
        this.center();
        for (let a = 0, b = this.molecules.length; a < b; a++)
          this.molecules[a].check();
      }
      this.repaint();
    };
    l.setBackgroundImage = function (a) {
      this.image = new Image();
      let b = this;
      this.image.onload = function () {
        b.repaint();
      };
      this.image.src = a;
    };
    l.loadMolecule = function (a) {
      this.clear();
      this.molecules.push(a);
      for (let b = 0; 2 > b; b++)
        this.center(),
          (e._Canvas3D && this instanceof e._Canvas3D) || a.check(),
          this.afterLoadContent && this.afterLoadContent(),
          this.repaint();
    };
    l.loadContent = function (a, b) {
      this.molecules = a ? a : [];
      this.shapes = b ? b : [];
      for (a = 0; 2 > a; a++) {
        this.center();
        if (!(e._Canvas3D && this instanceof e._Canvas3D))
          for (let a = 0, b = this.molecules.length; a < b; a++)
            this.molecules[a].check();
        this.afterLoadContent && this.afterLoadContent();
        this.repaint();
      }
    };
    l.addMolecule = function (a) {
      this.molecules.push(a);
      (e._Canvas3D && this instanceof e._Canvas3D) || a.check();
      this.repaint();
    };
    l.removeMolecule = function (a) {
      this.molecules = this.molecules.filter(function (b) {
        return b !== a;
      });
      this.repaint();
    };
    l.getMolecule = function () {
      return 0 < this.molecules.length ? this.molecules[0] : b;
    };
    l.getMolecules = function () {
      return this.molecules;
    };
    l.addShape = function (a) {
      this.shapes.push(a);
      this.repaint();
    };
    l.removeShape = function (a) {
      this.shapes = this.shapes.filter(function (b) {
        return b !== a;
      });
      this.repaint();
    };
    l.getShapes = function () {
      return this.shapes;
    };
    l.clear = function () {
      this.molecules = [];
      this.shapes = [];
      this.styles.scale = 1;
      this.repaint();
    };
    l.center = function () {
      var a = this.getContentBounds(),
        b = new d.Point(
          (this.width - a.minX - a.maxX) / 2,
          (this.height - a.minY - a.maxY) / 2
        );
      for (let a = 0, d = this.molecules.length; a < d; a++) {
        var c = this.molecules[a];
        for (let a = 0, d = c.atoms.length; a < d; a++) c.atoms[a].add(b);
      }
      for (let a = 0, d = this.shapes.length; a < d; a++) {
        c = this.shapes[a].getPoints();
        for (let a = 0, d = c.length; a < d; a++) c[a].add(b);
      }
      this.styles.scale = 1;
      b = a.maxX - a.minX;
      a = a.maxY - a.minY;
      if (b > this.width - 20 || a > this.height - 20)
        this.styles.scale = 0.85 * g.min(this.width / b, this.height / a);
    };
    l.bondExists = function (a, b) {
      for (let c = 0, d = this.molecules.length; c < d; c++) {
        let d = this.molecules[c];
        for (let c = 0, e = d.bonds.length; c < e; c++) {
          let e = d.bonds[c];
          if (e.contains(a) && e.contains(b)) return !0;
        }
      }
      return !1;
    };
    l.getBond = function (a, c) {
      for (let b = 0, d = this.molecules.length; b < d; b++) {
        let d = this.molecules[b];
        for (let b = 0, e = d.bonds.length; b < e; b++) {
          let e = d.bonds[b];
          if (e.contains(a) && e.contains(c)) return e;
        }
      }
      return b;
    };
    l.getMoleculeByAtom = function (a) {
      for (let b = 0, c = this.molecules.length; b < c; b++) {
        let c = this.molecules[b];
        if (-1 !== c.atoms.indexOf(a)) return c;
      }
      return f.undefined;
    };
    l.getAllAtoms = function () {
      let a = [];
      for (let b = 0, c = this.molecules.length; b < c; b++)
        a = a.concat(this.molecules[b].atoms);
      return a;
    };
    l.getAllBonds = function () {
      let a = [];
      for (let b = 0, c = this.molecules.length; b < c; b++)
        a = a.concat(this.molecules[b].bonds);
      return a;
    };
    l.getAllPoints = function () {
      let a = [];
      for (let b = 0, c = this.molecules.length; b < c; b++)
        a = a.concat(this.molecules[b].atoms);
      for (let b = 0, c = this.shapes.length; b < c; b++)
        a = a.concat(this.shapes[b].getPoints());
      return a;
    };
    l.getContentBounds = function () {
      let a = new k.Bounds();
      for (let b = 0, c = this.molecules.length; b < c; b++)
        a.expand(this.molecules[b].getBounds());
      for (let b = 0, c = this.shapes.length; b < c; b++)
        a.expand(this.shapes[b].getBounds());
      return a;
    };
    l.create = function (h, l, k) {
      this.id = h;
      this.width = l;
      this.height = k;
      this.molecules = [];
      this.shapes = [];
      if (a.getElementById(h)) {
        let b = a.getElementById(h);
        l
          ? b.setAttribute("width", l)
          : (this.width = parseInt(b.getAttribute("width")));
        k
          ? b.setAttribute("height", k)
          : (this.height = parseInt(b.getAttribute("height")));
        b.setAttribute("class", "ChemDoodleWebComponent");
      } else if (
        e.featureDetection.supports_canvas_text() ||
        -1 == c.indexOf("MSIE")
      )
        a.writeln(
          '\x3ccanvas class\x3d"ChemDoodleWebComponent" id\x3d"' +
            h +
            '" width\x3d"' +
            l +
            '" height\x3d"' +
            k +
            '" alt\x3d"ChemDoodle Web Component"\x3eThis browser does not support HTML5/Canvas.\x3c/canvas\x3e'
        );
      else {
        a.writeln(
          '\x3cdiv style\x3d"border: 1px solid black;" width\x3d"' +
            l +
            '" height\x3d"' +
            k +
            '"\x3ePlease install \x3ca href\x3d"http://code.google.com/chrome/chromeframe/"\x3eGoogle Chrome Frame\x3c/a\x3e, then restart Internet Explorer.\x3c/div\x3e'
        );
        return;
      }
      h = a.getElementById(h);
      h.style.width = this.width + "px";
      h.style.height = this.height + "px";
      this.pixelRatio = f.devicePixelRatio ? f.devicePixelRatio : 1;
      this.styles = new d.Styles();
      let n = this;
      m.supports_touch()
        ? (h.addEventListener("touchstart", function (a) {
            let b = new Date().getTime();
            if (!m.supports_gesture() && 2 === a.touches.length) {
              var c = a.touches;
              let b = new d.Point(c[0].pageX, c[0].pageY);
              c = new d.Point(c[1].pageX, c[1].pageY);
              n.implementedGestureDist = b.distance(c);
              n.implementedGestureAngle = b.angle(c);
              n.gesturestart && (n.prehandleEvent(a), n.gesturestart(a));
            }
            n.lastTouch && 1 === a.touches.length && 500 > b - n.lastTouch
              ? n.dbltap
                ? (n.prehandleEvent(a), n.dbltap(a))
                : n.dblclick
                ? (n.prehandleEvent(a), n.dblclick(a))
                : n.touchstart
                ? (n.prehandleEvent(a), n.touchstart(a))
                : n.mousedown && (n.prehandleEvent(a), n.mousedown(a))
              : n.touchstart
              ? (n.prehandleEvent(a),
                n.touchstart(a),
                n.hold && clearTimeout(n.hold),
                n.touchhold &&
                  (n.hold = setTimeout(function () {
                    n.touchhold(a);
                  }, 1e3)))
              : n.mousedown && (n.prehandleEvent(a), n.mousedown(a));
            n.lastTouch = b;
          }),
          h.addEventListener("touchmove", function (a) {
            n.hold && (clearTimeout(n.hold), (n.hold = b));
            if (
              !m.supports_gesture() &&
              2 === a.touches.length &&
              n.gesturechange
            ) {
              var c = a.touches,
                e = new d.Point(c[0].pageX, c[0].pageY),
                f = new d.Point(c[1].pageX, c[1].pageY);
              c = e.distance(f);
              e = e.angle(f);
              a.scale = c / n.implementedGestureDist;
              a.rotation = (180 * (n.implementedGestureAngle - e)) / g.PI;
              n.prehandleEvent(a);
              n.gesturechange(a);
            }
            if (1 < a.touches.length && n.multitouchmove) {
              e = a.touches.length;
              n.prehandleEvent(a);
              c = new d.Point(-a.offset.left * e, -a.offset.top * e);
              for (f = 0; f < e; f++)
                (c.x += a.touches[f].pageX), (c.y += a.touches[f].pageY);
              c.x /= e;
              c.y /= e;
              a.p = c;
              n.multitouchmove(a, e);
            } else n.touchmove ? (n.prehandleEvent(a), n.touchmove(a)) : n.drag && (n.prehandleEvent(a), n.drag(a));
          }),
          h.addEventListener("touchend", function (a) {
            n.hold && (clearTimeout(n.hold), (n.hold = b));
            !m.supports_gesture() &&
              n.implementedGestureDist &&
              ((n.implementedGestureDist = b),
              (n.implementedGestureAngle = b),
              n.gestureend && (n.prehandleEvent(a), n.gestureend(a)));
            n.touchend
              ? (n.prehandleEvent(a), n.touchend(a))
              : n.mouseup && (n.prehandleEvent(a), n.mouseup(a));
            250 > new Date().getTime() - n.lastTouch &&
              (n.tap
                ? (n.prehandleEvent(a), n.tap(a))
                : n.click && (n.prehandleEvent(a), n.click(a)));
          }),
          h.addEventListener("gesturestart", function (a) {
            n.gesturestart && (n.prehandleEvent(a), n.gesturestart(a));
          }),
          h.addEventListener("gesturechange", function (a) {
            n.gesturechange && (n.prehandleEvent(a), n.gesturechange(a));
          }),
          h.addEventListener("gestureend", function (a) {
            n.gestureend && (n.prehandleEvent(a), n.gestureend(a));
          }))
        : (h.addEventListener("click", function (a) {
            switch (a.button) {
              case 0:
                n.click && (n.prehandleEvent(a), n.click(a));
                break;
              case 1:
                n.middleclick && (n.prehandleEvent(a), n.middleclick(a));
                break;
              case 2:
                n.rightclick && (n.prehandleEvent(a), n.rightclick(a));
            }
          }),
          h.addEventListener("dblclick", function (a) {
            n.dblclick && (n.prehandleEvent(a), n.dblclick(a));
          }),
          h.addEventListener("mousedown", function (a) {
            switch (a.button) {
              case 0:
                p.CANVAS_DRAGGING = n;
                n.mousedown && (n.prehandleEvent(a), n.mousedown(a));
                break;
              case 1:
                n.middlemousedown &&
                  (n.prehandleEvent(a), n.middlemousedown(a));
                break;
              case 2:
                n.rightmousedown && (n.prehandleEvent(a), n.rightmousedown(a));
            }
          }),
          h.addEventListener("mousemove", function (a) {
            !p.CANVAS_DRAGGING &&
              n.mousemove &&
              (n.prehandleEvent(a), n.mousemove(a));
          }),
          h.addEventListener("mouseout", function (a) {
            p.CANVAS_OVER = b;
            n.mouseout && (n.prehandleEvent(a), n.mouseout(a));
          }),
          h.addEventListener("mouseover", function (a) {
            p.CANVAS_OVER = n;
            n.mouseover && (n.prehandleEvent(a), n.mouseover(a));
          }),
          h.addEventListener("mouseup", function (a) {
            switch (a.button) {
              case 0:
                n.mouseup && (n.prehandleEvent(a), n.mouseup(a));
                break;
              case 1:
                n.middlemouseup && (n.prehandleEvent(a), n.middlemouseup(a));
                break;
              case 2:
                n.rightmouseup && (n.prehandleEvent(a), n.rightmouseup(a));
            }
          }),
          h.addEventListener("contextmenu", function (a) {
            n.contextmenu && (n.prehandleEvent(a), n.contextmenu(a));
          }),
          h.addEventListener("wheel", function (a) {
            n.mousewheel && (n.prehandleEvent(a), n.mousewheel(a, -a.deltaY));
          }));
      this.subCreate && this.subCreate();
    };
    l.prehandleEvent = function (c) {
      c.pageX === b &&
        c.changedTouches &&
        ((c.pageX = c.changedTouches[0].pageX),
        (c.pageY = c.changedTouches[0].pageY));
      let e = a.getElementById(this.id).getBoundingClientRect();
      c.offset = { left: e.x + f.scrollX, top: e.y + f.scrollY };
      c.p = new d.Point(c.pageX - c.offset.left, c.pageY - c.offset.top);
      this.doEventDefault || (c.preventDefault(), (c.returnValue = !1));
    };
  })(
    ChemDoodle,
    ChemDoodle.featureDetection,
    ChemDoodle.math,
    ChemDoodle.monitor,
    ChemDoodle.structures,
    Math,
    document,
    window,
    navigator.userAgent
  );
  (function (e, m, k) {
    e._AnimatorCanvas = function (e, d, g) {
      e && this.create(e, d, g);
    };
    e = e._AnimatorCanvas.prototype = new e._Canvas();
    e.timeout = 33;
    e.startAnimation = function () {
      this.stopAnimation();
      this.lastTime = new Date().getTime();
      let e = this;
      this.nextFrame &&
        (this.handle = m.requestInterval(function () {
          let d = new Date().getTime();
          e.nextFrame(d - e.lastTime);
          e.repaint();
          e.lastTime = d;
        }, this.timeout));
    };
    e.stopAnimation = function () {
      this.handle && (m.clearRequestInterval(this.handle), (this.handle = k));
    };
    e.isRunning = function () {
      return this.handle !== k;
    };
  })(ChemDoodle, ChemDoodle.animations);
  (function (e, m, k) {
    e.FileCanvas = function (e, d, g, a) {
      e && this.create(e, d, g);
      m.writeln(
        '\x3cbr\x3e\x3cform name\x3d"FileForm" enctype\x3d"multipart/form-data" method\x3d"POST" action\x3d"' +
          a +
          '" target\x3d"HiddenFileFrame"\x3e\x3cinput type\x3d"file" name\x3d"f" /\x3e\x3cinput type\x3d"submit" name\x3d"submitbutton" value\x3d"Show File" /\x3e\x3c/form\x3e\x3ciframe id\x3d"HFF-' +
          e +
          '" name\x3d"HiddenFileFrame" height\x3d"0" width\x3d"0" style\x3d"display:none;" onLoad\x3d"GetMolFromFrame(\'HFF-' +
          e +
          "', " +
          e +
          ')"\x3e\x3c/iframe\x3e'
      );
      this.emptyMessage = "Click below to load file";
      this.repaint();
    };
    e.FileCanvas.prototype = new e._Canvas();
  })(ChemDoodle, document);
  (function (e, m) {
    e.HyperlinkCanvas = function (e, m, d, g, a, f) {
      e && this.create(e, m, d);
      this.urlOrFunction = g;
      this.color = a ? a : "blue";
      this.size = f ? f : 2;
    };
    e = e.HyperlinkCanvas.prototype = new e._Canvas();
    e.openInNewWindow = !0;
    e.hoverImage = m;
    e.drawChildExtras = function (e) {
      this.e &&
        (this.hoverImage
          ? e.drawImage(this.hoverImage, 0, 0)
          : ((e.strokeStyle = this.color),
            (e.lineWidth = 2 * this.size),
            e.strokeRect(0, 0, this.width, this.height)));
    };
    e.setHoverImage = function (e) {
      this.hoverImage = new Image();
      this.hoverImage.src = e;
    };
    e.click = function (e) {
      this.e = m;
      this.repaint();
      this.urlOrFunction instanceof Function
        ? this.urlOrFunction()
        : this.openInNewWindow
        ? window.open(this.urlOrFunction)
        : (location.href = this.urlOrFunction);
    };
    e.mouseout = function (e) {
      this.e = m;
      this.repaint();
    };
    e.mouseover = function (e) {
      this.e = e;
      this.repaint();
    };
  })(ChemDoodle);
  (function (e, m, k, p) {
    e.MolGrabberCanvas = function (d, e, a) {
      d && this.create(d, e, a);
      e = [];
      e.push('\x3cbr\x3e\x3cinput type\x3d"text" id\x3d"');
      e.push(d);
      e.push('_query" size\x3d"32" value\x3d"" /\x3e');
      e.push(this.getInputFields());
      k.getElementById(d).insertAdjacentHTML("afterend", e.join(""));
      let f = this;
      k.getElementById(d + "_submit").addEventListener("click", function () {
        f.search();
      });
      k.getElementById(d + "_query").addEventListener("keypress", function (a) {
        ("Enter" !== a.key && 13 !== a.keyCode) || f.search();
      });
      this.emptyMessage = "Enter search term below";
      this.repaint();
    };
    e = e.MolGrabberCanvas.prototype = new e._Canvas();
    e.setSearchTerm = function (d) {
      k.getElementById(this.id + "_query").value = d;
      this.search();
    };
    e.getInputFields = function () {
      let d = [];
      d.push("\x3cbr\x3e\x3cnobr\x3e");
      d.push('\x3cselect id\x3d"');
      d.push(this.id);
      d.push('_select"\x3e');
      d.push('\x3coption value\x3d"chemexper"\x3eChemExper');
      d.push('\x3coption value\x3d"chemspider"\x3eChemSpider');
      d.push('\x3coption value\x3d"pubchem" selected\x3ePubChem');
      d.push("\x3c/select\x3e");
      d.push('\x3cbutton type\x3d"button" id\x3d"');
      d.push(this.id);
      d.push('_submit"\x3eShow Molecule\x3c/button\x3e');
      d.push("\x3c/nobr\x3e");
      return d.join("");
    };
    e.search = function () {
      this.emptyMessage = "Searching...";
      this.clear();
      let d = this;
      m.getMoleculeFromDatabase(
        k.getElementById(this.id + "_query").value,
        { database: k.getElementById(this.id + "_select").value },
        function (e) {
          d.loadMolecule(e);
        }
      );
    };
  })(ChemDoodle, ChemDoodle.iChemLabs, document);
  (function (e, m, k, p) {
    let d = [],
      g = [1, 0, 0],
      a = [0, 1, 0],
      f = [0, 0, 1];
    e.RotatorCanvas = function (a, b, d, e) {
      a && this.create(a, b, d);
      this.rotate3D = e;
    };
    e = e.RotatorCanvas.prototype = new e._AnimatorCanvas();
    m = m.PI / 15;
    e.xIncrement = m;
    e.yIncrement = m;
    e.zIncrement = m;
    e.nextFrame = function (c) {
      if (0 === this.molecules.length && 0 === this.shapes.length)
        this.stopAnimation();
      else if (((c /= 1e3), this.rotate3D)) {
        k.identity(d);
        k.rotate(d, this.xIncrement * c, g);
        k.rotate(d, this.yIncrement * c, a);
        k.rotate(d, this.zIncrement * c, f);
        for (let a = 0, f = this.molecules.length; a < f; a++) {
          c = this.molecules[a];
          for (let a = 0, f = c.atoms.length; a < f; a++) {
            var b = c.atoms[a],
              e = [b.x - this.width / 2, b.y - this.height / 2, b.z];
            k.multiplyVec3(d, e);
            b.x = e[0] + this.width / 2;
            b.y = e[1] + this.height / 2;
            b.z = e[2];
          }
          for (let a = 0, b = c.rings.length; a < b; a++)
            c.rings[a].center = c.rings[a].getCenter();
          this.styles.atoms_display &&
            this.styles.atoms_circles_2D &&
            c.sortAtomsByZ();
          this.styles.bonds_display &&
            this.styles.bonds_clearOverlaps_2D &&
            c.sortBondsByZ();
        }
        for (let a = 0, f = this.shapes.length; a < f; a++) {
          c = this.shapes[a].getPoints();
          for (let a = 0, f = c.length; a < f; a++)
            (b = c[a]),
              (e = [b.x - this.width / 2, b.y - this.height / 2, 0]),
              k.multiplyVec3(d, e),
              (b.x = e[0] + this.width / 2),
              (b.y = e[1] + this.height / 2);
        }
      } else this.styles.rotateAngle += this.zIncrement * c;
    };
    e.dblclick = function (a) {
      this.isRunning() ? this.stopAnimation() : this.startAnimation();
    };
  })(ChemDoodle, Math, ChemDoodle.lib.mat4);
  (function (e, m, k, p) {
    e.SlideshowCanvas = function (d, e, a) {
      d && this.create(d, e, a);
    };
    e = e.SlideshowCanvas.prototype = new e._AnimatorCanvas();
    e.frames = [];
    e.curIndex = 0;
    e.timeout = 5e3;
    e.alpha = 0;
    e.innerHandle = p;
    e.phase = 0;
    e.drawChildExtras = function (d) {
      let e = k.getRGB(this.styles.backgroundColor, 255);
      d.fillStyle =
        "rgba(" + e[0] + ", " + e[1] + ", " + e[2] + ", " + this.alpha + ")";
      d.fillRect(0, 0, this.width, this.height);
    };
    e.nextFrame = function (d) {
      if (0 === this.frames.length) this.stopAnimation();
      else {
        this.phase = 0;
        var e = this,
          a = 1;
        this.innerHandle = setInterval(function () {
          e.alpha = a / 15;
          e.repaint();
          15 === a && e.breakInnerHandle();
          a++;
        }, 33);
      }
    };
    e.breakInnerHandle = function () {
      this.innerHandle &&
        (clearInterval(this.innerHandle), (this.innerHandle = p));
      if (0 === this.phase) {
        this.curIndex++;
        this.curIndex > this.frames.length - 1 && (this.curIndex = 0);
        this.alpha = 1;
        let d = this.frames[this.curIndex];
        this.loadContent(d.mols, d.shapes);
        this.phase = 1;
        let e = this,
          a = 1;
        this.innerHandle = setInterval(function () {
          e.alpha = (15 - a) / 15;
          e.repaint();
          15 === a && e.breakInnerHandle();
          a++;
        }, 33);
      } else 1 === this.phase && ((this.alpha = 0), this.repaint());
    };
    e.addFrame = function (d, e) {
      0 === this.frames.length && this.loadContent(d, e);
      this.frames.push({ mols: d, shapes: e });
    };
  })(ChemDoodle, ChemDoodle.animations, ChemDoodle.math);
  (function (e, m, k, p, d, g) {
    e.TransformCanvas = function (a, d, c, b) {
      a && this.create(a, d, c);
      this.rotate3D = b;
    };
    e = e.TransformCanvas.prototype = new e._Canvas();
    e.lastPoint = g;
    e.rotationMultMod = 1.3;
    e.lastPinchScale = 1;
    e.lastGestureRotate = 0;
    e.mousedown = function (a) {
      this.lastPoint = a.p;
    };
    e.dblclick = function (a) {
      this.center();
      this.repaint();
    };
    e.drag = function (a) {
      if (!this.lastPoint.multi) {
        if (m.ALT) {
          var e = new k.Point(a.p.x, a.p.y);
          e.sub(this.lastPoint);
          for (let a = 0, b = this.molecules.length; a < b; a++) {
            var c = this.molecules[a];
            for (let a = 0, b = c.atoms.length; a < b; a++) c.atoms[a].add(e);
            c.check();
          }
          for (let a = 0, b = this.shapes.length; a < b; a++) {
            c = this.shapes[a].getPoints();
            for (let a = 0, b = c.length; a < b; a++) c[a].add(e);
          }
          this.lastPoint = a.p;
        } else if (!0 === this.rotate3D) {
          e = p.max(this.width / 4, this.height / 4);
          c = ((a.p.x - this.lastPoint.x) / e) * this.rotationMultMod;
          var b = (-(a.p.y - this.lastPoint.y) / e) * this.rotationMultMod;
          e = [];
          d.identity(e);
          d.rotate(e, b, [1, 0, 0]);
          d.rotate(e, c, [0, 1, 0]);
          for (let f = 0, g = this.molecules.length; f < g; f++) {
            c = this.molecules[f];
            for (let a = 0, f = c.atoms.length; a < f; a++) {
              b = c.atoms[a];
              let f = [b.x - this.width / 2, b.y - this.height / 2, b.z];
              d.multiplyVec3(e, f);
              b.x = f[0] + this.width / 2;
              b.y = f[1] + this.height / 2;
              b.z = f[2];
            }
            for (let a = 0, b = c.rings.length; a < b; a++)
              c.rings[a].center = c.rings[a].getCenter();
            this.lastPoint = a.p;
            this.styles.atoms_display &&
              this.styles.atoms_circles_2D &&
              c.sortAtomsByZ();
            this.styles.bonds_display &&
              this.styles.bonds_clearOverlaps_2D &&
              c.sortBondsByZ();
          }
        } else
          (c = new k.Point(this.width / 2, this.height / 2)),
            (e = c.angle(this.lastPoint)),
            (c = c.angle(a.p)),
            (this.styles.rotateAngle -= c - e),
            (this.lastPoint = a.p);
        this.repaint();
      }
    };
    e.mousewheel = function (a, d) {
      this.styles.scale += d / 50;
      0.01 > this.styles.scale && (this.styles.scale = 0.01);
      this.repaint();
    };
    e.multitouchmove = function (a, d) {
      if (2 === d)
        if (this.lastPoint.multi) {
          d = new k.Point(a.p.x, a.p.y);
          d.sub(this.lastPoint);
          for (let a = 0, e = this.molecules.length; a < e; a++) {
            var c = this.molecules[a];
            for (let a = 0, b = c.atoms.length; a < b; a++) c.atoms[a].add(d);
            c.check();
          }
          for (let a = 0, e = this.shapes.length; a < e; a++) {
            c = this.shapes[a].getPoints();
            for (let a = 0, b = c.length; a < b; a++) c[a].add(d);
          }
          this.lastPoint = a.p;
          this.lastPoint.multi = !0;
          this.repaint();
        } else (this.lastPoint = a.p), (this.lastPoint.multi = !0);
    };
    e.gesturechange = function (a) {
      0 !== a.scale - this.lastPinchScale &&
        ((this.styles.scale *= a.scale / this.lastPinchScale),
        0.01 > this.styles.scale && (this.styles.scale = 0.01),
        (this.lastPinchScale = a.scale));
      if (0 !== this.lastGestureRotate - a.rotation) {
        let d = ((this.lastGestureRotate - a.rotation) / 180) * p.PI,
          c = new k.Point(this.width / 2, this.height / 2);
        for (let a = 0, e = this.molecules.length; a < e; a++) {
          let b = this.molecules[a];
          for (let a = 0, e = b.atoms.length; a < e; a++) {
            let e = b.atoms[a],
              f = c.distance(e),
              g = c.angle(e) + d;
            e.x = c.x + f * p.cos(g);
            e.y = c.y - f * p.sin(g);
          }
          b.check();
        }
        this.lastGestureRotate = a.rotation;
      }
      this.repaint();
    };
    e.gestureend = function (a) {
      this.lastPinchScale = 1;
      this.lastGestureRotate = 0;
    };
  })(
    ChemDoodle,
    ChemDoodle.monitor,
    ChemDoodle.structures,
    Math,
    ChemDoodle.lib.mat4
  );
  (function (e, m) {
    e.ViewerCanvas = function (e, m, d) {
      e && this.create(e, m, d);
    };
    e.ViewerCanvas.prototype = new e._Canvas();
  })(ChemDoodle);
  (function (e, m, k) {
    e._SpectrumCanvas = function (e, d, g) {
      e && this.create(e, d, g);
    };
    e = e._SpectrumCanvas.prototype = new e._Canvas();
    e.spectrum = k;
    e.emptyMessage = "No Spectrum Loaded or Recognized";
    e.loadMolecule = k;
    e.getMolecule = k;
    e.innerRepaint = function (e) {
      this.spectrum && 0 < this.spectrum.data.length
        ? this.spectrum.draw(e, this.styles, this.width, this.height)
        : this.emptyMessage &&
          ((e.fillStyle = "#737683"),
          (e.textAlign = "center"),
          (e.textBaseline = "middle"),
          (e.font = "18px Helvetica, Verdana, Arial, Sans-serif"),
          e.fillText(this.emptyMessage, this.width / 2, this.height / 2));
    };
    e.loadSpectrum = function (e) {
      this.spectrum = e;
      this.repaint();
    };
    e.getSpectrum = function () {
      return this.spectrum;
    };
    e.getSpectrumCoordinates = function (e, d) {
      return spectrum.getInternalCoordinates(e, d, this.width, this.height);
    };
  })(ChemDoodle, document);
  (function (e, m) {
    e.ObserverCanvas = function (e, m, d) {
      e && this.create(e, m, d);
    };
    e.ObserverCanvas.prototype = new e._SpectrumCanvas();
  })(ChemDoodle);
  (function (e, m) {
    e.OverlayCanvas = function (e, m, d) {
      e && this.create(e, m, d);
    };
    e = e.OverlayCanvas.prototype = new e._SpectrumCanvas();
    e.overlaySpectra = [];
    e.superRepaint = e.innerRepaint;
    e.innerRepaint = function (e) {
      this.superRepaint(e);
      if (this.spectrum && 0 < this.spectrum.data.length)
        for (let k = 0, d = this.overlaySpectra.length; k < d; k++) {
          let d = this.overlaySpectra[k];
          d &&
            0 < d.data.length &&
            ((d.minX = this.spectrum.minX),
            (d.maxX = this.spectrum.maxX),
            d.drawPlot(
              e,
              this.styles,
              this.width,
              this.height,
              this.spectrum.memory.offsetTop,
              this.spectrum.memory.offsetLeft,
              this.spectrum.memory.offsetBottom
            ));
        }
    };
    e.addSpectrum = function (e) {
      this.spectrum ? this.overlaySpectra.push(e) : (this.spectrum = e);
    };
  })(ChemDoodle);
  (function (e, m, k, p) {
    e.PerspectiveCanvas = function (d, a, e) {
      d && this.create(d, a, e);
    };
    let d = (e.PerspectiveCanvas.prototype = new e._SpectrumCanvas());
    d.dragRange = p;
    d.rescaleYAxisOnZoom = !0;
    d.lastPinchScale = 1;
    d.mousedown = function (d) {
      this.dragRange = new e.structures.Point(d.p.x, d.p.x);
    };
    d.mouseup = function (d) {
      this.dragRange &&
        this.dragRange.x !== this.dragRange.y &&
        (this.dragRange.multi ||
          ((d = this.spectrum.zoom(
            this.dragRange.x,
            d.p.x,
            this.width,
            this.rescaleYAxisOnZoom
          )),
          this.rescaleYAxisOnZoom && (this.styles.scale = d)),
        (this.dragRange = p),
        this.repaint());
    };
    d.drag = function (d) {
      this.dragRange &&
        (this.dragRange.multi
          ? (this.dragRange = p)
          : (m.SHIFT &&
              (this.spectrum.translate(d.p.x - this.dragRange.x, this.width),
              (this.dragRange.x = d.p.x)),
            (this.dragRange.y = d.p.x)),
        this.repaint());
    };
    d.drawChildExtras = function (d) {
      if (this.dragRange) {
        var a = k.min(this.dragRange.x, this.dragRange.y);
        let e = k.max(this.dragRange.x, this.dragRange.y);
        d.strokeStyle = "gray";
        d.lineStyle = 1;
        d.beginPath();
        for (d.moveTo(a, this.height / 2); a <= e; a++)
          5 > a % 10
            ? d.lineTo(a, k.round(this.height / 2))
            : d.moveTo(a, k.round(this.height / 2));
        d.stroke();
      }
    };
    d.mousewheel = function (d, a) {
      this.styles.scale -= a / 10;
      0.01 > this.styles.scale && (this.styles.scale = 0.01);
      this.repaint();
    };
    d.dblclick = function (d) {
      this.spectrum.setup();
      this.styles.scale = 1;
      this.repaint();
    };
    d.multitouchmove = function (d, a) {
      2 === a &&
        (this.dragRange && this.dragRange.multi
          ? (this.spectrum.translate(d.p.x - this.dragRange.x, this.width),
            (this.dragRange.x = d.p.x),
            (this.dragRange.y = d.p.x),
            this.repaint())
          : ((this.dragRange = new e.structures.Point(d.p.x, d.p.x)),
            (this.dragRange.multi = !0)));
    };
    d.gesturechange = function (d) {
      this.styles.scale *= d.scale / this.lastPinchScale;
      0.01 > this.styles.scale && (this.styles.scale = 0.01);
      this.lastPinchScale = d.scale;
      this.repaint();
    };
    d.gestureend = function (d) {
      this.lastPinchScale = 1;
    };
  })(ChemDoodle, ChemDoodle.monitor, Math);
  (function (e, m, k, p) {
    e.SeekerCanvas = function (d, a, e, c) {
      d && this.create(d, a, e);
      this.seekType = c;
    };
    let d = (e.SeekerCanvas.prototype = new e._SpectrumCanvas());
    d.superRepaint = d.innerRepaint;
    d.innerRepaint = function (d) {
      this.superRepaint(d);
      if (this.spectrum && 0 < this.spectrum.data.length && this.p) {
        if (this.seekType === e.SeekerCanvas.SEEK_POINTER) {
          var a = this.p;
          var f = this.spectrum.getInternalCoordinates(a.x, a.y);
        } else if (
          this.seekType === e.SeekerCanvas.SEEK_PLOT ||
          this.seekType === e.SeekerCanvas.SEEK_PEAK
        ) {
          f =
            this.seekType === e.SeekerCanvas.SEEK_PLOT
              ? this.spectrum.getClosestPlotInternalCoordinates(this.p.x)
              : this.spectrum.getClosestPeakInternalCoordinates(this.p.x);
          if (!f) return;
          a = {
            x: this.spectrum.getTransformedX(
              f.x,
              this.styles,
              this.width,
              this.spectrum.memory.offsetLeft
            ),
            y: this.spectrum.getTransformedY(
              f.y / 100,
              this.styles,
              this.height,
              this.spectrum.memory.offsetBottom,
              this.spectrum.memory.offsetTop
            ),
          };
        }
        d.fillStyle = "white";
        d.strokeStyle = this.styles.plots_color;
        d.lineWidth = this.styles.plots_width;
        d.beginPath();
        d.arc(a.x, a.y, 3, 0, 2 * k.PI, !1);
        d.fill();
        d.stroke();
        d.font = m.getFontString(
          this.styles.text_font_size,
          this.styles.text_font_families
        );
        d.textAlign = "left";
        d.textBaseline = "bottom";
        f = "x:" + f.x.toFixed(3) + ", y:" + f.y.toFixed(3);
        let c = a.x + 3,
          b = d.measureText(f).width;
        c + b > this.width - 2 && (c -= 6 + b);
        a = a.y;
        0 > a - this.styles.text_font_size - 2 &&
          (a += this.styles.text_font_size);
        d.fillRect(
          c,
          a - this.styles.text_font_size,
          b,
          this.styles.text_font_size
        );
        d.fillStyle = "black";
        d.fillText(f, c, a);
      }
    };
    d.mouseout = function (d) {
      this.p = p;
      this.repaint();
    };
    d.mousemove = function (d) {
      this.p = { x: d.p.x - 2, y: d.p.y - 3 };
      this.repaint();
    };
    d.touchstart = function (d) {
      this.mousemove(d);
    };
    d.touchmove = function (d) {
      this.mousemove(d);
    };
    d.touchend = function (d) {
      this.mouseout(d);
    };
    e.SeekerCanvas.SEEK_POINTER = "pointer";
    e.SeekerCanvas.SEEK_PLOT = "plot";
    e.SeekerCanvas.SEEK_PEAK = "peak";
  })(ChemDoodle, ChemDoodle.extensions, Math);
  (function (e, m, k, p, d, g, a, f, c, b, l, h, r) {
    e._Canvas3D = function (a, b, c) {
      a && this.create(a, b, c);
    };
    e._Canvas3D.PRESERVE_DRAWING_BUFFER = !1;
    b = e._Canvas3D.prototype = new e._Canvas();
    let v = e._Canvas.prototype;
    b.rotationMatrix = r;
    b.contentCenter = r;
    b.lastPoint = r;
    b.emptyMessage = "WebGL is Unavailable!";
    b.lastPinchScale = 1;
    b.lastGestureRotate = 0;
    b.afterLoadContent = function () {
      var b = new k.Bounds();
      for (let a = 0, c = this.molecules.length; a < c; a++)
        b.expand(this.molecules[a].getBounds3D());
      var d =
        l.dist([b.maxX, b.maxY, b.maxZ], [b.minX, b.minY, b.minZ]) / 2 + 1.5;
      Infinity === d && (d = 10);
      this.maxDimension = a.max(b.maxX - b.minX, b.maxY - b.minY);
      b = a.min(
        179.9,
        a.max(this.styles.projectionPerspectiveVerticalFieldOfView_3D, 0.1)
      );
      var e = (b / 360) * a.PI,
        f = a.tan(e) / 0.8;
      f = d / f;
      let g = this.width / this.height;
      this.camera.fieldOfView = b;
      this.camera.near = f - d;
      this.camera.far = f + d;
      this.camera.aspect = g;
      c.translate(c.identity(this.camera.viewMatrix), [0, 0, -f]);
      e = d / a.tan(e);
      this.lighting.camera.fieldOfView = b;
      this.lighting.camera.near = e - d;
      this.lighting.camera.far = e + d;
      this.lighting.updateView();
      this.setupScene();
    };
    b.renderDepthMap = function () {
      if (this.styles.shadow_3D && d.DepthShader) {
        let a = this.gl.isEnabled(this.gl.CULL_FACE);
        a || this.gl.enable(this.gl.CULL_FACE);
        this.depthShader.useShaderProgram(this.gl);
        let b = this.gl.getParameter(this.gl.COLOR_CLEAR_VALUE);
        this.gl.clearColor(1, 1, 1, 0);
        this.lightDepthMapFramebuffer.bind(
          this.gl,
          this.shadowTextureSize,
          this.shadowTextureSize
        );
        this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);
        this.depthShader.setProjectionMatrix(
          this.gl,
          this.lighting.camera.projectionMatrix
        );
        this.depthShader.enableAttribsArray(this.gl);
        for (let a = 0, b = this.molecules.length; a < b; a++)
          this.molecules[a].render(this.gl, this.styles);
        this.gl.flush();
        this.depthShader.disableAttribsArray(this.gl);
        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);
        this.gl.clearColor(b[0], b[1], b[2], b[3]);
        a || this.gl.disable(this.gl.CULL_FACE);
      }
    };
    b.renderExtras = function () {
      this.phongShader.useShaderProgram(this.gl);
      this.phongShader.enableAttribsArray(this.gl);
      var a = [];
      for (let b = 0, c = this.shapes.length; b < c; b++) {
        let c = this.shapes[b];
        c instanceof d._Surface &&
        ((!c.styles && 1 !== this.styles.surfaces_alpha) ||
          (c.styles && 1 !== c.styles.surfaces_alpha))
          ? a.push(c)
          : c.render(this.gl, this.styles);
      }
      if (0 !== a.length) {
        this.gl.blendFunc(this.gl.SRC_ALPHA, this.gl.ONE_MINUS_SRC_ALPHA);
        this.gl.enable(this.gl.BLEND);
        this.gl.depthMask(!1);
        for (let b = 0, c = a.length; b < c; b++)
          a[b].render(this.gl, this.styles);
        this.gl.depthMask(!0);
        this.gl.disable(this.gl.BLEND);
        this.gl.blendFuncSeparate(
          this.gl.SRC_ALPHA,
          this.gl.ONE_MINUS_SRC_ALPHA,
          this.gl.ONE,
          this.gl.ONE_MINUS_SRC_ALPHA
        );
      }
      this.phongShader.setShadow(this.gl, !1);
      this.phongShader.setFogMode(this.gl, 0);
      this.phongShader.setFlatColor(this.gl, !1);
      this.styles.compass_display &&
        (this.phongShader.setLightDirection(this.gl, [0, 0, -1]),
        this.compass.render(this.gl, this.styles));
      this.phongShader.disableAttribsArray(this.gl);
      this.gl.flush();
      this.gl.enable(this.gl.BLEND);
      this.gl.depthMask(!1);
      this.labelShader.useShaderProgram(this.gl);
      this.labelShader.setMatrixUniforms(this.gl, this.gl.modelViewMatrix);
      this.labelShader.setProjectionMatrix(
        this.gl,
        this.camera.projectionMatrix
      );
      this.labelShader.setDimension(
        this.gl,
        this.gl.canvas.clientWidth,
        this.gl.canvas.clientHeight
      );
      this.labelShader.enableAttribsArray(this.gl);
      this.styles.atoms_displayLabels_3D &&
        this.label3D.render(this.gl, this.styles, this.getMolecules());
      if (this.styles.measurement_displayText_3D)
        for (let b = 0, c = this.shapes.length; b < c; b++)
          (a = this.shapes[b]),
            a.renderText && a.renderText(this.gl, this.styles);
      this.styles.compass_display &&
        this.styles.compass_displayText_3D &&
        this.compass.renderAxis(this.gl);
      this.labelShader.disableAttribsArray(this.gl);
      this.gl.disable(this.gl.BLEND);
      this.gl.depthMask(!0);
      this.gl.flush();
      this.drawChildExtras && this.drawChildExtras(this.gl);
      this.gl.flush();
    };
    b.renderColor = function () {
      this.phongShader.useShaderProgram(this.gl);
      this.gl.uniform1i(this.phongShader.shadowDepthSampleUniform, 0);
      this.gl.activeTexture(this.gl.TEXTURE0);
      this.gl.bindTexture(
        this.gl.TEXTURE_2D,
        this.lightDepthMapTexture.texture
      );
      this.phongShader.setProjectionMatrix(
        this.gl,
        this.camera.projectionMatrix
      );
      this.phongShader.setShadow(this.gl, this.styles.shadow_3D);
      this.phongShader.setFlatColor(this.gl, this.styles.flat_color_3D);
      this.phongShader.setGammaCorrection(
        this.gl,
        this.styles.gammaCorrection_3D
      );
      this.phongShader.setShadowTextureSize(
        this.gl,
        this.shadowTextureSize,
        this.shadowTextureSize
      );
      this.phongShader.setShadowIntensity(
        this.gl,
        this.styles.shadow_intensity_3D
      );
      this.phongShader.setFogMode(this.gl, this.styles.fog_mode_3D);
      this.phongShader.setFogColor(this.gl, this.fogging.colorRGB);
      this.phongShader.setFogStart(this.gl, this.fogging.fogStart);
      this.phongShader.setFogEnd(this.gl, this.fogging.fogEnd);
      this.phongShader.setFogDensity(this.gl, this.fogging.density);
      this.phongShader.setLightProjectionMatrix(
        this.gl,
        this.lighting.camera.projectionMatrix
      );
      this.phongShader.setLightDiffuseColor(this.gl, this.lighting.diffuseRGB);
      this.phongShader.setLightSpecularColor(
        this.gl,
        this.lighting.specularRGB
      );
      this.phongShader.setLightDirection(this.gl, this.lighting.direction);
      this.phongShader.enableAttribsArray(this.gl);
      for (let a = 0, b = this.molecules.length; a < b; a++)
        this.molecules[a].render(this.gl, this.styles);
      this.phongShader.disableAttribsArray(this.gl);
      this.gl.flush();
    };
    b.renderPosition = function () {
      this.positionShader.useShaderProgram(this.gl);
      this.positionShader.setProjectionMatrix(
        this.gl,
        this.camera.projectionMatrix
      );
      this.positionShader.enableAttribsArray(this.gl);
      for (let a = 0, b = this.molecules.length; a < b; a++)
        this.molecules[a].render(this.gl, this.styles);
      this.positionShader.disableAttribsArray(this.gl);
      this.gl.flush();
    };
    b.renderNormal = function () {
      this.normalShader.useShaderProgram(this.gl);
      this.normalShader.setProjectionMatrix(
        this.gl,
        this.camera.projectionMatrix
      );
      this.normalShader.enableAttribsArray(this.gl);
      for (let a = 0, b = this.molecules.length; a < b; a++)
        this.molecules[a].render(this.gl, this.styles);
      this.normalShader.disableAttribsArray(this.gl);
      this.gl.flush();
    };
    b.renderSSAO = function () {
      this.ssaoShader.useShaderProgram(this.gl);
      this.ssaoShader.setProjectionMatrix(
        this.gl,
        this.camera.projectionMatrix
      );
      this.ssaoShader.setSampleKernel(this.gl, this.ssao.sampleKernel);
      this.ssaoShader.setKernelRadius(this.gl, this.styles.ssao_kernel_radius);
      this.ssaoShader.setPower(this.gl, this.styles.ssao_power);
      this.ssaoShader.setGbufferTextureSize(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.uniform1i(this.ssaoShader.positionSampleUniform, 0);
      this.gl.uniform1i(this.ssaoShader.normalSampleUniform, 1);
      this.gl.uniform1i(this.ssaoShader.noiseSampleUniform, 2);
      this.gl.activeTexture(this.gl.TEXTURE0);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.positionTexture.texture);
      this.gl.activeTexture(this.gl.TEXTURE1);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.normalTexture.texture);
      this.gl.activeTexture(this.gl.TEXTURE2);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.ssao.noiseTexture);
      this.gl.activeTexture(this.gl.TEXTURE0);
      this.ssaoShader.enableAttribsArray(this.gl);
      this.gl.quadBuffer.bindBuffers(this.gl);
      this.gl.drawArrays(
        this.gl.TRIANGLE_STRIP,
        0,
        this.gl.quadBuffer.vertexPositionBuffer.numItems
      );
      this.ssaoShader.disableAttribsArray(this.gl);
      this.gl.flush();
      this.ssaoFramebuffer.bind(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.clear(this.gl.COLOR_BUFFER_BIT);
      this.ssaoBlurShader.useShaderProgram(this.gl);
      this.ssaoBlurShader.setGbufferTextureSize(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.uniform1i(this.ssaoBlurShader.aoSampleUniform, 0);
      this.gl.uniform1i(this.ssaoBlurShader.depthSampleUniform, 1);
      this.gl.activeTexture(this.gl.TEXTURE0);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.imageTexture.texture);
      this.gl.activeTexture(this.gl.TEXTURE1);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.depthTexture.texture);
      this.gl.activeTexture(this.gl.TEXTURE0);
      this.ssaoBlurShader.enableAttribsArray(this.gl);
      this.gl.quadBuffer.bindBuffers(this.gl);
      this.gl.drawArrays(
        this.gl.TRIANGLE_STRIP,
        0,
        this.gl.quadBuffer.vertexPositionBuffer.numItems
      );
      this.ssaoBlurShader.disableAttribsArray(this.gl);
      this.gl.activeTexture(this.gl.TEXTURE0);
      this.gl.flush();
    };
    b.renderOutline = function () {
      this.outlineShader.useShaderProgram(this.gl);
      this.outlineShader.setGbufferTextureSize(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.outlineShader.setNormalThreshold(
        this.gl,
        this.styles.outline_normal_threshold
      );
      this.outlineShader.setDepthThreshold(
        this.gl,
        this.styles.outline_depth_threshold
      );
      this.outlineShader.setThickness(this.gl, this.styles.outline_thickness);
      this.gl.uniform1i(this.outlineShader.normalSampleUniform, 0);
      this.gl.uniform1i(this.outlineShader.depthSampleUniform, 1);
      this.gl.activeTexture(this.gl.TEXTURE0);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.normalTexture.texture);
      this.gl.activeTexture(this.gl.TEXTURE1);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.depthTexture.texture);
      this.gl.activeTexture(this.gl.TEXTURE0);
      this.outlineShader.enableAttribsArray(this.gl);
      this.gl.quadBuffer.bindBuffers(this.gl);
      this.gl.drawArrays(
        this.gl.TRIANGLE_STRIP,
        0,
        this.gl.quadBuffer.vertexPositionBuffer.numItems
      );
      this.outlineShader.disableAttribsArray(this.gl);
      this.gl.flush();
    };
    b.deferredRender = function () {
      let a = this.gl.getParameter(this.gl.COLOR_CLEAR_VALUE);
      this.gl.clearColor(0, 0, 0, 0);
      this.colorFramebuffer.bind(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);
      this.renderColor();
      this.positionFramebuffer.bind(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);
      this.renderPosition();
      this.normalFramebuffer.bind(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);
      this.renderNormal();
      this.styles.ssao_3D && d.SSAOShader
        ? (this.quadFramebuffer.bind(
            this.gl,
            this.gl.drawingBufferWidth,
            this.gl.drawingBufferHeight
          ),
          this.gl.clear(this.gl.COLOR_BUFFER_BIT),
          this.renderSSAO())
        : (this.ssaoFramebuffer.bind(
            this.gl,
            this.gl.drawingBufferWidth,
            this.gl.drawingBufferHeight
          ),
          this.gl.clearColor(1, 1, 1, 1),
          this.gl.clear(this.gl.COLOR_BUFFER_BIT));
      this.outlineFramebuffer.bind(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.clearColor(1, 1, 1, 1);
      this.gl.clear(this.gl.COLOR_BUFFER_BIT);
      this.styles.outline_3D && this.renderOutline();
      this.gl.clearColor(a[0], a[1], a[2], a[3]);
      this.quadFramebuffer.bind(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.clear(this.gl.COLOR_BUFFER_BIT);
      this.lightingShader.useShaderProgram(this.gl);
      this.gl.uniform1i(this.lightingShader.positionSampleUniform, 0);
      this.gl.uniform1i(this.lightingShader.colorSampleUniform, 1);
      this.gl.uniform1i(this.lightingShader.ssaoSampleUniform, 2);
      this.gl.uniform1i(this.lightingShader.outlineSampleUniform, 3);
      this.gl.activeTexture(this.gl.TEXTURE0);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.positionTexture.texture);
      this.gl.activeTexture(this.gl.TEXTURE1);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.colorTexture.texture);
      this.gl.activeTexture(this.gl.TEXTURE2);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.ssaoTexture.texture);
      this.gl.activeTexture(this.gl.TEXTURE3);
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.outlineTexture.texture);
      this.gl.activeTexture(this.gl.TEXTURE0);
      this.lightingShader.enableAttribsArray(this.gl);
      this.gl.quadBuffer.bindBuffers(this.gl);
      this.gl.drawArrays(
        this.gl.TRIANGLE_STRIP,
        0,
        this.gl.quadBuffer.vertexPositionBuffer.numItems
      );
      this.lightingShader.disableAttribsArray(this.gl);
      this.gl.flush();
      this.fxaaFramebuffer.bind(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);
      this.gl.viewport(
        0,
        0,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.imageTexture.texture);
      this.fxaaShader.useShaderProgram(this.gl);
      this.fxaaShader.setBuffersize(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.fxaaShader.setAntialias(this.gl, this.styles.antialias_3D);
      this.fxaaShader.setEdgeThreshold(this.gl, this.styles.fxaa_edgeThreshold);
      this.fxaaShader.setEdgeThresholdMin(
        this.gl,
        this.styles.fxaa_edgeThresholdMin
      );
      this.fxaaShader.setSearchSteps(this.gl, this.styles.fxaa_searchSteps);
      this.fxaaShader.setSearchThreshold(
        this.gl,
        this.styles.fxaa_searchThreshold
      );
      this.fxaaShader.setSubpixCap(this.gl, this.styles.fxaa_subpixCap);
      this.fxaaShader.setSubpixTrim(this.gl, this.styles.fxaa_subpixTrim);
      this.fxaaShader.enableAttribsArray(this.gl);
      this.gl.quadBuffer.bindBuffers(this.gl);
      this.gl.drawArrays(
        this.gl.TRIANGLE_STRIP,
        0,
        this.gl.quadBuffer.vertexPositionBuffer.numItems
      );
      this.fxaaShader.disableAttribsArray(this.gl);
      this.gl.flush();
      this.finalFramebuffer.bind(
        this.gl,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.renderExtras();
      this.gl.clearColor(a[0], a[1], a[2], a[3]);
      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);
      this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);
      this.gl.viewport(
        0,
        0,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.gl.bindTexture(this.gl.TEXTURE_2D, this.fxaaTexture.texture);
      this.quadShader.useShaderProgram(this.gl);
      this.quadShader.enableAttribsArray(this.gl);
      this.gl.quadBuffer.bindBuffers(this.gl);
      this.gl.drawArrays(
        this.gl.TRIANGLE_STRIP,
        0,
        this.gl.quadBuffer.vertexPositionBuffer.numItems
      );
      this.quadShader.disableAttribsArray(this.gl);
      this.gl.flush();
    };
    b.forwardRender = function () {
      this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);
      this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);
      this.gl.viewport(
        0,
        0,
        this.gl.drawingBufferWidth,
        this.gl.drawingBufferHeight
      );
      this.renderColor();
      this.renderExtras();
    };
    b.repaint = function () {
      this.gl &&
        ((this.gl.lightViewMatrix = c.multiply(
          this.lighting.camera.viewMatrix,
          this.rotationMatrix,
          []
        )),
        (this.gl.rotationMatrix = this.rotationMatrix),
        (this.gl.modelViewMatrix = this.gl.lightViewMatrix),
        this.renderDepthMap(),
        (this.gl.modelViewMatrix = c.multiply(
          this.camera.viewMatrix,
          this.rotationMatrix,
          []
        )),
        c.translate(this.gl.modelViewMatrix, this.contentCenter),
        this.isSupportDeferred() &&
        (this.styles.ssao_3D || this.styles.outline_3D)
          ? this.deferredRender()
          : this.forwardRender());
    };
    b.pick = function (a, b, d, e) {
      if (this.gl) {
        let f = this.height - b;
        1 !== this.pixelRatio &&
          ((a *= this.pixelRatio), (f *= this.pixelRatio));
        c.multiply(
          this.camera.viewMatrix,
          this.rotationMatrix,
          this.gl.modelViewMatrix
        );
        c.translate(this.gl.modelViewMatrix, this.contentCenter);
        this.gl.rotationMatrix = this.rotationMatrix;
        this.pickShader.useShaderProgram(this.gl);
        b = this.gl.getParameter(this.gl.COLOR_CLEAR_VALUE);
        this.gl.clearColor(1, 1, 1, 0);
        this.pickerFramebuffer.bind(
          this.gl,
          this.gl.drawingBufferWidth,
          this.gl.drawingBufferHeight
        );
        this.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);
        this.pickShader.setProjectionMatrix(
          this.gl,
          this.camera.projectionMatrix
        );
        this.pickShader.enableAttribsArray(this.gl);
        let g = [];
        for (let a = 0, b = this.molecules.length; a < b; a++)
          this.molecules[a].renderPickFrame(this.gl, this.styles, g, d, e);
        this.pickShader.disableAttribsArray(this.gl);
        this.gl.flush();
        d = new Uint8Array(4);
        this.gl.readPixels(
          a - 2,
          f + 2,
          1,
          1,
          this.gl.RGBA,
          this.gl.UNSIGNED_BYTE,
          d
        );
        e = r;
        0 < d[3] && (e = g[d[2] | (d[1] << 8) | (d[0] << 16)]);
        this.gl.bindFramebuffer(this.gl.FRAMEBUFFER, null);
        this.gl.clearColor(b[0], b[1], b[2], b[3]);
        return e;
      }
      return r;
    };
    b.center = function () {
      let a = new p.Atom(),
        b = this.molecules.length;
      for (let c = 0, d = b; c < d; c++)
        a.add3D(this.molecules[c].getCenter3D());
      a.x /= b;
      a.y /= b;
      a.z /= b;
      this.contentCenter = [-a.x, -a.y, -a.z];
    };
    b.isSupportDeferred = function () {
      return this.gl.textureFloatExt && this.gl.depthTextureExt;
    };
    b.create = function (a, b, g) {
      v.create.call(this, a, b, g);
      try {
        let a = f.getElementById(this.id);
        this.gl = a.getContext("webgl", {
          preserveDrawingBuffer: e._Canvas3D.PRESERVE_DRAWING_BUFFER,
        });
        this.gl || (this.gl = a.getContext("experimental-webgl"));
      } catch (y) {}
      this.gl
        ? (1 !== this.pixelRatio &&
            this.gl.canvas.width === this.width &&
            ((this.gl.canvas.style.width = this.width + "px"),
            (this.gl.canvas.style.height = this.height + "px"),
            (this.gl.canvas.width = this.width * this.pixelRatio),
            (this.gl.canvas.height = this.height * this.pixelRatio)),
          this.gl.enable(this.gl.DEPTH_TEST),
          this.gl.depthFunc(this.gl.LEQUAL),
          this.gl.blendFuncSeparate(
            this.gl.SRC_ALPHA,
            this.gl.ONE_MINUS_SRC_ALPHA,
            this.gl.ONE,
            this.gl.ONE_MINUS_SRC_ALPHA
          ),
          this.gl.clearDepth(1),
          (this.shadowTextureSize = 1024),
          (this.rotationMatrix = c.identity([])),
          (this.contentCenter = [0, 0, 0]),
          (this.camera = new d.Camera()),
          (this.label3D = new d.Label()),
          (this.lighting = new d.Light(
            this.styles.lightDiffuseColor_3D,
            this.styles.lightSpecularColor_3D,
            this.styles.lightDirection_3D
          )),
          (this.fogging = new d.Fog(
            this.styles.fog_color_3D || this.styles.backgroundColor,
            this.styles.fog_start_3D,
            this.styles.fog_end_3D,
            this.styles.fog_density_3D
          )),
          (this.gl.depthTextureExt =
            this.gl.getExtension("WEBGL_depth_texture") ||
            this.gl.getExtension("WEBKIT_WEBGL_depth_texture") ||
            this.gl.getExtension("MOZ_WEBGL_depth_texture")),
          (this.gl.textureFloatExt =
            this.gl.getExtension("OES_texture_float") ||
            this.gl.getExtension("WEBKIT_OES_texture_float") ||
            this.gl.getExtension("MOZ_OES_texture_float")),
          (this.ssao = new d.SSAO()),
          (this.pickerColorTexture = new d.Texture()),
          this.pickerColorTexture.init(
            this.gl,
            this.gl.UNSIGNED_BYTE,
            this.gl.RGBA,
            this.gl.RGBA
          ),
          (this.pickerDepthRenderbuffer = new d.Renderbuffer()),
          this.pickerDepthRenderbuffer.init(this.gl, this.gl.DEPTH_COMPONENT16),
          (this.pickerFramebuffer = new d.Framebuffer()),
          this.pickerFramebuffer.init(this.gl),
          this.pickerFramebuffer.setColorTexture(
            this.gl,
            this.pickerColorTexture.texture
          ),
          this.pickerFramebuffer.setDepthRenderbuffer(
            this.gl,
            this.pickerDepthRenderbuffer.renderbuffer
          ),
          (this.lightDepthMapTexture = new d.Texture()),
          (this.lightDepthMapRenderbuffer = new d.Renderbuffer()),
          (this.lightDepthMapFramebuffer = new d.Framebuffer()),
          this.lightDepthMapFramebuffer.init(this.gl),
          this.gl.depthTextureExt
            ? (this.lightDepthMapTexture.init(
                this.gl,
                this.gl.UNSIGNED_SHORT,
                this.gl.DEPTH_COMPONENT
              ),
              this.lightDepthMapRenderbuffer.init(this.gl, this.gl.RGBA4),
              this.lightDepthMapFramebuffer.setColorRenderbuffer(
                this.gl,
                this.lightDepthMapRenderbuffer.renderbuffer
              ),
              this.lightDepthMapFramebuffer.setDepthTexture(
                this.gl,
                this.lightDepthMapTexture.texture
              ))
            : (this.lightDepthMapTexture.init(
                this.gl,
                this.gl.UNSIGNED_BYTE,
                this.gl.RGBA,
                this.gl.RGBA
              ),
              this.lightDepthMapRenderbuffer.init(
                this.gl,
                this.gl.DEPTH_COMPONENT16
              ),
              this.lightDepthMapFramebuffer.setColorTexture(
                this.gl,
                this.lightDepthMapTexture.texture
              ),
              this.lightDepthMapFramebuffer.setDepthRenderbuffer(
                this.gl,
                this.lightDepthMapRenderbuffer.renderbuffer
              )),
          this.isSupportDeferred() &&
            ((this.depthTexture = new d.Texture()),
            this.depthTexture.init(
              this.gl,
              this.gl.UNSIGNED_SHORT,
              this.gl.DEPTH_COMPONENT
            ),
            (this.colorTexture = new d.Texture()),
            this.colorTexture.init(
              this.gl,
              this.gl.UNSIGNED_BYTE,
              this.gl.RGBA
            ),
            (this.positionTexture = new d.Texture()),
            this.positionTexture.init(this.gl, this.gl.FLOAT, this.gl.RGBA),
            (this.normalTexture = new d.Texture()),
            this.normalTexture.init(this.gl, this.gl.FLOAT, this.gl.RGBA),
            (this.ssaoTexture = new d.Texture()),
            this.ssaoTexture.init(this.gl, this.gl.FLOAT, this.gl.RGBA),
            (this.outlineTexture = new d.Texture()),
            this.outlineTexture.init(
              this.gl,
              this.gl.UNSIGNED_BYTE,
              this.gl.RGBA
            ),
            (this.fxaaTexture = new d.Texture()),
            this.fxaaTexture.init(this.gl, this.gl.FLOAT, this.gl.RGBA),
            (this.imageTexture = new d.Texture()),
            this.imageTexture.init(this.gl, this.gl.FLOAT, this.gl.RGBA),
            (this.colorFramebuffer = new d.Framebuffer()),
            this.colorFramebuffer.init(this.gl),
            this.colorFramebuffer.setColorTexture(
              this.gl,
              this.colorTexture.texture
            ),
            this.colorFramebuffer.setDepthTexture(
              this.gl,
              this.depthTexture.texture
            ),
            (this.normalFramebuffer = new d.Framebuffer()),
            this.normalFramebuffer.init(this.gl),
            this.normalFramebuffer.setColorTexture(
              this.gl,
              this.normalTexture.texture
            ),
            this.normalFramebuffer.setDepthTexture(
              this.gl,
              this.depthTexture.texture
            ),
            (this.positionFramebuffer = new d.Framebuffer()),
            this.positionFramebuffer.init(this.gl),
            this.positionFramebuffer.setColorTexture(
              this.gl,
              this.positionTexture.texture
            ),
            this.positionFramebuffer.setDepthTexture(
              this.gl,
              this.depthTexture.texture
            ),
            (this.ssaoFramebuffer = new d.Framebuffer()),
            this.ssaoFramebuffer.init(this.gl),
            this.ssaoFramebuffer.setColorTexture(
              this.gl,
              this.ssaoTexture.texture
            ),
            (this.outlineFramebuffer = new d.Framebuffer()),
            this.outlineFramebuffer.init(this.gl),
            this.outlineFramebuffer.setColorTexture(
              this.gl,
              this.outlineTexture.texture
            ),
            (this.fxaaFramebuffer = new d.Framebuffer()),
            this.fxaaFramebuffer.init(this.gl),
            this.fxaaFramebuffer.setColorTexture(
              this.gl,
              this.fxaaTexture.texture
            ),
            (this.quadFramebuffer = new d.Framebuffer()),
            this.quadFramebuffer.init(this.gl),
            this.quadFramebuffer.setColorTexture(
              this.gl,
              this.imageTexture.texture
            ),
            (this.finalFramebuffer = new d.Framebuffer()),
            this.finalFramebuffer.init(this.gl),
            this.finalFramebuffer.setColorTexture(
              this.gl,
              this.fxaaTexture.texture
            ),
            this.finalFramebuffer.setDepthTexture(
              this.gl,
              this.depthTexture.texture
            ),
            (this.normalShader = new d.NormalShader()),
            this.normalShader.init(this.gl),
            (this.positionShader = new d.PositionShader()),
            this.positionShader.init(this.gl),
            d.SSAOShader &&
              ((this.ssaoShader = new d.SSAOShader()),
              this.ssaoShader.init(this.gl),
              (this.ssaoBlurShader = new d.SSAOBlurShader()),
              this.ssaoBlurShader.init(this.gl)),
            (this.outlineShader = new d.OutlineShader()),
            this.outlineShader.init(this.gl),
            (this.lightingShader = new d.LightingShader()),
            this.lightingShader.init(this.gl),
            (this.fxaaShader = new d.FXAAShader()),
            this.fxaaShader.init(this.gl),
            (this.quadShader = new d.QuadShader()),
            this.quadShader.init(this.gl)),
          (this.labelShader = new d.LabelShader()),
          this.labelShader.init(this.gl),
          (this.pickShader = new d.PickShader()),
          this.pickShader.init(this.gl),
          (this.phongShader = new d.PhongShader()),
          this.phongShader.init(this.gl),
          d.DepthShader &&
            ((this.depthShader = new d.DepthShader()),
            this.depthShader.init(this.gl)),
          (this.textTextImage = new d.TextImage()),
          this.textTextImage.init(this.gl),
          (this.gl.textImage = new d.TextImage()),
          this.gl.textImage.init(this.gl),
          (this.gl.textMesh = new d.TextMesh()),
          this.gl.textMesh.init(this.gl),
          (this.gl.material = new d.Material()),
          this.setupScene())
        : this.displayMessage();
    };
    b.displayMessage = function () {
      var a = f.getElementById(this.id);
      a.getContext &&
        ((a = a.getContext("2d")),
        this.styles.backgroundColor &&
          ((a.fillStyle = this.styles.backgroundColor),
          a.fillRect(0, 0, this.width, this.height)),
        this.emptyMessage &&
          ((a.fillStyle = "#737683"),
          (a.textAlign = "center"),
          (a.textBaseline = "middle"),
          (a.font = "18px Helvetica, Verdana, Arial, Sans-serif"),
          a.fillText(this.emptyMessage, this.width / 2, this.height / 2)));
    };
    b.renderText = function (a, b) {
      let c = { position: [], texCoord: [], translation: [] };
      this.textTextImage.pushVertexData(a, b, 0, c);
      this.gl.textMesh.storeData(
        this.gl,
        c.position,
        c.texCoord,
        c.translation
      );
      this.textTextImage.useTexture(this.gl);
      this.gl.textMesh.render(this.gl);
    };
    b.setupScene = function () {
      if (this.gl) {
        var b = this.styles.backgroundColor
          ? this.styles.backgroundColor
          : "transparent";
        f.getElementById(this.id).style.backgroundColor = b;
        b = "transparent" === b ? [0, 0, 0, 0] : k.getRGB(b, 1);
        this.gl.clearColor(b[0], b[1], b[2], 4 == b.length ? b[3] : 1);
        this.styles.cullBackFace_3D
          ? this.gl.enable(this.gl.CULL_FACE)
          : this.gl.disable(this.gl.CULL_FACE);
        this.gl.sphereBuffer = new d.Sphere(
          1,
          this.styles.atoms_resolution_3D,
          this.styles.atoms_resolution_3D
        );
        this.gl.starBuffer = new d.Star();
        this.gl.cylinderBuffer = new d.Cylinder(
          1,
          1,
          this.styles.bonds_resolution_3D
        );
        this.gl.cylinderClosedBuffer = new d.Cylinder(
          1,
          1,
          this.styles.bonds_resolution_3D,
          !0
        );
        this.gl.boxBuffer = new d.Box(1, 1, 1);
        this.gl.pillBuffer = new d.Pill(
          this.styles.bonds_pillDiameter_3D / 2,
          this.styles.bonds_pillHeight_3D,
          this.styles.bonds_pillLatitudeResolution_3D,
          this.styles.bonds_pillLongitudeResolution_3D
        );
        this.gl.lineBuffer = new d.Line();
        this.gl.lineArrowBuffer = new d.LineArrow();
        this.gl.arrowBuffer = new d.Arrow(
          0.3,
          this.styles.compass_resolution_3D
        );
        this.gl.quadBuffer = new d.Quad();
        this.gl.textImage.updateFont(
          this.gl,
          this.styles.text_font_size,
          this.styles.text_font_families,
          this.styles.text_font_bold,
          this.styles.text_font_italic,
          this.styles.text_font_stroke_3D
        );
        this.lighting.lightScene(
          this.styles.lightDiffuseColor_3D,
          this.styles.lightSpecularColor_3D,
          this.styles.lightDirection_3D
        );
        this.fogging.fogScene(
          this.styles.fog_color_3D || this.styles.backgroundColor,
          this.styles.fog_start_3D,
          this.styles.fog_end_3D,
          this.styles.fog_density_3D
        );
        this.compass = new d.Compass(this.gl, this.styles);
        this.lightDepthMapTexture.setParameter(
          this.gl,
          this.shadowTextureSize,
          this.shadowTextureSize
        );
        this.lightDepthMapRenderbuffer.setParameter(
          this.gl,
          this.shadowTextureSize,
          this.shadowTextureSize
        );
        this.pickerColorTexture.setParameter(
          this.gl,
          this.gl.drawingBufferWidth,
          this.gl.drawingBufferHeight
        );
        this.pickerDepthRenderbuffer.setParameter(
          this.gl,
          this.gl.drawingBufferWidth,
          this.gl.drawingBufferHeight
        );
        this.isSupportDeferred() &&
          (this.depthTexture.setParameter(
            this.gl,
            this.gl.drawingBufferWidth,
            this.gl.drawingBufferHeight
          ),
          this.colorTexture.setParameter(
            this.gl,
            this.gl.drawingBufferWidth,
            this.gl.drawingBufferHeight
          ),
          this.imageTexture.setParameter(
            this.gl,
            this.gl.drawingBufferWidth,
            this.gl.drawingBufferHeight
          ),
          this.positionTexture.setParameter(
            this.gl,
            this.gl.drawingBufferWidth,
            this.gl.drawingBufferHeight
          ),
          this.normalTexture.setParameter(
            this.gl,
            this.gl.drawingBufferWidth,
            this.gl.drawingBufferHeight
          ),
          this.ssaoTexture.setParameter(
            this.gl,
            this.gl.drawingBufferWidth,
            this.gl.drawingBufferHeight
          ),
          this.outlineTexture.setParameter(
            this.gl,
            this.gl.drawingBufferWidth,
            this.gl.drawingBufferHeight
          ),
          this.fxaaTexture.setParameter(
            this.gl,
            this.gl.drawingBufferWidth,
            this.gl.drawingBufferHeight
          ),
          this.ssao.initSampleKernel(this.styles.ssao_kernel_samples),
          this.ssao.initNoiseTexture(this.gl));
        this.camera.updateProjectionMatrix(
          this.styles.projectionPerspective_3D
        );
        for (let e = 0, f = this.molecules.length; e < f; e++)
          if (
            ((b = this.molecules[e]),
            b.labelMesh instanceof d.TextMesh ||
              ((b.labelMesh = new d.TextMesh()), b.labelMesh.init(this.gl)),
            b.chains)
          ) {
            b.ribbons = [];
            b.cartoons = [];
            b.tubes = [];
            b.pipePlanks = [];
            for (let e = 0, f = b.chains.length; e < f; e++) {
              var c = b.chains[e];
              for (let a = 0, b = c.length - 1; a < b; a++) c[a].Test = a;
              var h =
                3 < c.length &&
                g[c[3].name] &&
                "#BEA06E" === g[c[3].name].aminoColor;
              if (0 < c.length && !c[0].lineSegments) {
                for (let a = 0, b = c.length - 1; a < b; a++)
                  c[a].setup(
                    c[a + 1].cp1,
                    h ? 1 : this.styles.proteins_horizontalResolution
                  );
                if (!h)
                  for (let b = 1, d = c.length - 1; b < d; b++)
                    m.vec3AngleFrom(c[b - 1].D, c[b].D) > a.PI / 2 &&
                      (c[b].guidePointsSmall.reverse(),
                      c[b].guidePointsLarge.reverse(),
                      l.scale(c[b].D, -1));
                for (let a = 2, b = c.length - 3; a < b; a++)
                  c[a].computeLineSegments(
                    c[a - 2],
                    c[a - 1],
                    c[a + 1],
                    !h,
                    h
                      ? this.styles.nucleics_verticalResolution
                      : this.styles.proteins_verticalResolution
                  );
                c.pop();
                c.pop();
                c.pop();
                c.shift();
                c.shift();
              }
              var r = k.hsl2rgb(1 === f ? 0.5 : e / f, 1, 0.5);
              r = "rgb(" + r[0] + "," + r[1] + "," + r[2] + ")";
              c.chainColor = r;
              if (h)
                (c = new d.Tube(
                  c,
                  this.styles.nucleics_tubeThickness,
                  this.styles.nucleics_tubeResolution_3D
                )),
                  (c.chainColor = r),
                  b.tubes.push(c);
              else {
                h = new d.PipePlank(c, this.styles);
                b.pipePlanks.push(h);
                h = c.shift();
                var v = {
                  front: new d.Ribbon(
                    c,
                    this.styles.proteins_ribbonThickness,
                    !1
                  ),
                  back: new d.Ribbon(
                    c,
                    -this.styles.proteins_ribbonThickness,
                    !1
                  ),
                };
                v.front.chainColor = r;
                v.back.chainColor = r;
                b.ribbons.push(v);
                v = {
                  front: new d.Ribbon(
                    c,
                    this.styles.proteins_ribbonThickness,
                    !0
                  ),
                  back: new d.Ribbon(
                    c,
                    -this.styles.proteins_ribbonThickness,
                    !0
                  ),
                };
                v.front.chainColor = r;
                v.back.chainColor = r;
                b.cartoons.push(v);
                c.unshift(h);
              }
            }
          }
        this.label3D.updateVerticesBuffer(
          this.gl,
          this.getMolecules(),
          this.styles
        );
        if (this instanceof e.MovieCanvas3D && this.frames)
          for (let a = 0, d = this.frames.length; a < d; a++) {
            b = this.frames[a];
            for (let a = 0, d = b.mols.length; a < d; a++)
              (c = b.mols[a]),
                c.labelMesh instanceof p.d3.TextMesh ||
                  ((c.labelMesh = new p.d3.TextMesh()),
                  c.labelMesh.init(this.gl));
            this.label3D.updateVerticesBuffer(this.gl, b.mols, this.styles);
          }
      }
    };
    b.updateScene = function () {
      this.camera.updateProjectionMatrix(this.styles.projectionPerspective_3D);
      this.lighting.lightScene(
        this.styles.lightDiffuseColor_3D,
        this.styles.lightSpecularColor_3D,
        this.styles.lightDirection_3D
      );
      this.fogging.fogScene(
        this.styles.fog_color_3D || this.styles.backgroundColor,
        this.styles.fog_start_3D,
        this.styles.fog_end_3D,
        this.styles.fog_density_3D
      );
      this.repaint();
    };
    b.mousedown = function (a) {
      this.lastPoint = a.p;
    };
    b.mouseup = function (a) {
      this.lastPoint = r;
    };
    b.rightmousedown = function (a) {
      this.lastPoint = a.p;
    };
    b.drag = function (b) {
      if (this.lastPoint) {
        if (e.monitor.ALT) {
          var d = new p.Point(b.p.x, b.p.y);
          d.sub(this.lastPoint);
          var f = a.tan((this.camera.fieldOfView / 360) * a.PI);
          f = this.height / 2 / this.camera.zoom / f;
          f = this.camera.focalLength() / f;
          c.translate(this.camera.viewMatrix, [d.x * f, -d.y * f, 0]);
        } else
          (f = b.p.x - this.lastPoint.x),
            (d = b.p.y - this.lastPoint.y),
            (f = c.rotate(c.identity([]), (f * a.PI) / 180, [0, 1, 0])),
            c.rotate(f, (d * a.PI) / 180, [1, 0, 0]),
            (this.rotationMatrix = c.multiply(f, this.rotationMatrix));
        this.lastPoint = b.p;
        this.repaint();
      }
    };
    b.mousewheel = function (a, b) {
      0 < b ? this.camera.zoomIn() : this.camera.zoomOut();
      this.updateScene();
    };
    b.multitouchmove = function (b, d) {
      if (2 === d)
        if (this.lastPoint && this.lastPoint.multi) {
          d = new p.Point(b.p.x, b.p.y);
          d.sub(this.lastPoint);
          var e = a.tan((this.camera.fieldOfView / 360) * a.PI);
          e = this.height / 2 / this.camera.zoom / e;
          e = this.camera.focalLength() / e;
          c.translate(this.camera.viewMatrix, [d.x * e, -d.y * e, 0]);
          this.lastPoint = b.p;
          this.repaint();
        } else (this.lastPoint = b.p), (this.lastPoint.multi = !0);
    };
    b.gesturechange = function (a) {
      if (0 !== a.scale - this.lastPinchScale) {
        let b = 30 * -(a.scale / this.lastPinchScale - 1);
        if (isNaN(b)) return;
        0 < b ? this.camera.zoomOut() : this.camera.zoomIn();
        this.updateScene();
        this.lastPinchScale = a.scale;
      }
      this.repaint();
    };
    b.gestureend = function (a) {
      this.lastPinchScale = 1;
      this.lastGestureRotate = 0;
    };
  })(
    ChemDoodle,
    ChemDoodle.extensions,
    ChemDoodle.math,
    ChemDoodle.structures,
    ChemDoodle.structures.d3,
    ChemDoodle.RESIDUE,
    Math,
    document,
    ChemDoodle.lib.mat4,
    ChemDoodle.lib.mat3,
    ChemDoodle.lib.vec3,
    window
  );
  (function (e, m, k, p) {
    e.MolGrabberCanvas3D = function (d, e, a) {
      d && this.create(d, e, a);
      e = [];
      e.push('\x3cbr\x3e\x3cinput type\x3d"text" id\x3d"');
      e.push(d);
      e.push('_query" size\x3d"32" value\x3d"" /\x3e');
      e.push("\x3cbr\x3e\x3cnobr\x3e");
      e.push('\x3cselect id\x3d"');
      e.push(d);
      e.push('_select"\x3e');
      e.push('\x3coption value\x3d"pubchem" selected\x3ePubChem');
      e.push("\x3c/select\x3e");
      e.push('\x3cbutton type\x3d"button" id\x3d"');
      e.push(d);
      e.push('_submit"\x3eShow Molecule\x3c/button\x3e');
      e.push("\x3c/nobr\x3e");
      k.getElementById(d).insertAdjacentHTML("afterend", e.join(""));
      let f = this;
      k.getElementById(d + "_submit").addEventListener("click", function () {
        f.search();
      });
      k.getElementById(d + "_query").addEventListener("keypress", function (a) {
        ("Enter" !== a.key && 13 !== a.keyCode) || f.search();
      });
    };
    e = e.MolGrabberCanvas3D.prototype = new e._Canvas3D();
    e.setSearchTerm = function (d) {
      k.getElementById(this.id + "_query").value = d;
      this.search();
    };
    e.search = function () {
      let d = this;
      m.getMoleculeFromDatabase(
        k.getElementById(this.id + "_query").value,
        { database: k.getElementById(this.id + "_select").value, dimension: 3 },
        function (e) {
          d.loadMolecule(e);
        }
      );
    };
  })(ChemDoodle, ChemDoodle.iChemLabs, document);
  (function (e, m, k) {
    e.MovieCanvas3D = function (e, d, g) {
      e && this.create(e, d, g);
      this.frames = [];
    };
    e.MovieCanvas3D.PLAY_ONCE = 0;
    e.MovieCanvas3D.PLAY_LOOP = 1;
    e.MovieCanvas3D.PLAY_SPRING = 2;
    k = e.MovieCanvas3D.prototype = new e._Canvas3D();
    k.timeout = 50;
    k.frameNumber = 0;
    k.playMode = 2;
    k.reverse = !1;
    k.startAnimation = e._AnimatorCanvas.prototype.startAnimation;
    k.stopAnimation = e._AnimatorCanvas.prototype.stopAnimation;
    k.isRunning = e._AnimatorCanvas.prototype.isRunning;
    k.dblclick = e.RotatorCanvas.prototype.dblclick;
    k.nextFrame = function (e) {
      e = this.frames[this.frameNumber];
      this.molecules = e.mols;
      this.shapes = e.shapes;
      2 === this.playMode && this.reverse
        ? (this.frameNumber--,
          0 > this.frameNumber && ((this.frameNumber = 1), (this.reverse = !1)))
        : (this.frameNumber++,
          this.frameNumber >= this.frames.length &&
            (2 === this.playMode
              ? ((this.frameNumber -= 2), (this.reverse = !0))
              : ((this.frameNumber = 0),
                0 === this.playMode && this.stopAnimation())));
    };
    k.center = function () {
      var e = new m.Atom(),
        d = this.frames[0];
      for (let g = 0, a = d.mols.length; g < a; g++)
        e.add3D(d.mols[g].getCenter3D());
      e.x /= d.mols.length;
      e.y /= d.mols.length;
      d = new m.Atom();
      d.sub3D(e);
      for (let g = 0, a = this.frames.length; g < a; g++) {
        e = this.frames[g];
        for (let a = 0, c = e.mols.length; a < c; a++) {
          let b = e.mols[a];
          for (let a = 0, c = b.atoms.length; a < c; a++) b.atoms[a].add3D(d);
        }
      }
    };
    k.addFrame = function (e, d) {
      this.frames.push({ mols: e, shapes: d });
    };
  })(ChemDoodle, ChemDoodle.structures);
  (function (e, m, k, p) {
    let d = [],
      g = [1, 0, 0],
      a = [0, 1, 0],
      f = [0, 0, 1];
    e.RotatorCanvas3D = function (a, c, d) {
      a && this.create(a, c, d);
    };
    let c = (e.RotatorCanvas3D.prototype = new e._Canvas3D());
    c.timeout = 33;
    m = m.PI / 15;
    c.xIncrement = m;
    c.yIncrement = m;
    c.zIncrement = m;
    c.startAnimation = e._AnimatorCanvas.prototype.startAnimation;
    c.stopAnimation = e._AnimatorCanvas.prototype.stopAnimation;
    c.isRunning = e._AnimatorCanvas.prototype.isRunning;
    c.dblclick = e.RotatorCanvas.prototype.dblclick;
    c.mousedown = p;
    c.rightmousedown = p;
    c.drag = p;
    c.mousewheel = p;
    c.nextFrame = function (b) {
      0 === this.molecules.length && 0 === this.shapes.length
        ? this.stopAnimation()
        : (k.identity(d),
          (b /= 1e3),
          k.rotate(d, this.xIncrement * b, g),
          k.rotate(d, this.yIncrement * b, a),
          k.rotate(d, this.zIncrement * b, f),
          k.multiply(this.rotationMatrix, d));
    };
  })(ChemDoodle, Math, ChemDoodle.lib.mat4);
  (function (e, m) {
    e.TransformCanvas3D = function (e, m, d) {
      e && this.create(e, m, d);
    };
    e.TransformCanvas3D.prototype = new e._Canvas3D();
  })(ChemDoodle);
  (function (e, m) {
    e.ViewerCanvas3D = function (e, m, d) {
      e && this.create(e, m, d);
    };
    e = e.ViewerCanvas3D.prototype = new e._Canvas3D();
    e.mousedown = m;
    e.rightmousedown = m;
    e.drag = m;
    e.mousewheel = m;
  })(ChemDoodle);
  (function (e, m, k, p, d) {
    function g(a, d, c, b) {
      this.element = a;
      this.x = d;
      this.y = c;
      this.dimension = b;
      this.allowMultipleSelections = !1;
    }
    e.PeriodicTableCanvas = function (a, d) {
      this.padding = 5;
      a && this.create(a, 18 * d + 2 * this.padding, 10 * d + 2 * this.padding);
      this.cellDimension = d ? d : 20;
      this.setupTable();
      this.repaint();
    };
    p = e.PeriodicTableCanvas.prototype = new e._Canvas();
    p.loadMolecule = d;
    p.getMolecule = d;
    p.getHoveredElement = function () {
      return this.hovered ? this.hovered.element : d;
    };
    p.innerRepaint = function (a) {
      for (let d = 0, c = this.cells.length; d < c; d++)
        this.drawCell(a, this.styles, this.cells[d]);
      this.hovered && this.drawCell(a, this.styles, this.hovered);
      this.selected && this.drawCell(a, this.styles, this.selected);
    };
    p.setupTable = function () {
      this.cells = [];
      let a = this.padding,
        d = this.padding;
      var c = 0;
      for (let f = 0, h = e.SYMBOLS.length; f < h; f++) {
        18 === c && ((c = 0), (d += this.cellDimension), (a = this.padding));
        var b = e.ELEMENT[e.SYMBOLS[f]];
        if (2 === b.atomicNumber) (a += 16 * this.cellDimension), (c += 16);
        else if (5 === b.atomicNumber || 13 === b.atomicNumber)
          (a += 10 * this.cellDimension), (c += 10);
        (58 > b.atomicNumber ||
          (71 < b.atomicNumber && 90 > b.atomicNumber) ||
          103 < b.atomicNumber) &&
          118 >= b.atomicNumber &&
          (this.cells.push(new g(b, a, d, this.cellDimension)),
          (a += this.cellDimension),
          c++);
      }
      d += 2 * this.cellDimension;
      a = 3 * this.cellDimension + this.padding;
      for (c = 57; 104 > c; c++)
        if (
          ((b = e.ELEMENT[e.SYMBOLS[c]]),
          90 === b.atomicNumber &&
            ((d += this.cellDimension),
            (a = 3 * this.cellDimension + this.padding)),
          (58 <= b.atomicNumber && 71 >= b.atomicNumber) ||
            (90 <= b.atomicNumber && 103 >= b.atomicNumber))
        )
          this.cells.push(new g(b, a, d, this.cellDimension)),
            (a += this.cellDimension);
    };
    p.drawCell = function (a, d, c) {
      let b = a.createRadialGradient(
        c.x + c.dimension / 3,
        c.y + c.dimension / 3,
        1.5 * c.dimension,
        c.x + c.dimension / 3,
        c.y + c.dimension / 3,
        c.dimension / 10
      );
      b.addColorStop(0, "#000000");
      b.addColorStop(0.7, c.element.jmolColor);
      b.addColorStop(1, "#FFFFFF");
      a.fillStyle = b;
      m.contextRoundRect(
        a,
        c.x,
        c.y,
        c.dimension,
        c.dimension,
        c.dimension / 8
      );
      if (c === this.hovered || c === this.selected || c.selected)
        (a.lineWidth = 2),
          (a.strokeStyle = "#c10000"),
          a.stroke(),
          (a.fillStyle = "white");
      a.fill();
      a.font = m.getFontString(d.text_font_size, d.text_font_families);
      a.fillStyle = d.text_color;
      a.textAlign = "center";
      a.textBaseline = "middle";
      a.fillText(
        c.element.symbol,
        c.x + c.dimension / 2,
        c.y + c.dimension / 2
      );
    };
    p.click = function (a) {
      this.hovered &&
        (this.allowMultipleSelections
          ? (this.hovered.selected = !this.hovered.selected)
          : (this.selected = this.hovered),
        this.repaint());
    };
    p.touchstart = function (a) {
      this.mousemove(a);
    };
    p.mousemove = function (a) {
      let e = a.p.x;
      a = a.p.y;
      this.hovered = d;
      for (let c = 0, b = this.cells.length; c < b; c++) {
        let b = this.cells[c];
        if (
          k.isBetween(e, b.x, b.x + b.dimension) &&
          k.isBetween(a, b.y, b.y + b.dimension)
        ) {
          this.hovered = b;
          break;
        }
      }
      this.repaint();
    };
    p.mouseout = function (a) {
      this.hovered = d;
      this.repaint();
    };
  })(ChemDoodle, ChemDoodle.extensions, ChemDoodle.math, document);
  (function (e, m, k, p, d) {
    m.png = {};
    m.png.string = function (d) {
      if (
        d instanceof e._Canvas3D &&
        !d.gl.getContextAttributes().preserveDrawingBuffer
      )
        throw Error(
          "PNG data cannot be created from a Canvas3D component unless the ChemDoodle._Canvas3D.PRESERVE_DRAWING_BUFFER boolean is set to true before the Canvas3D component is initialized."
        );
      return k.getElementById(d.id).toDataURL("image/png");
    };
    m.png.download = function (e, a) {
      a === d && (a = "unnamed");
      let f = k.createElement("a");
      f.href = this.string(e);
      f.download = a;
      f.click();
    };
    m.png.open = function (d) {
      let a = p.open();
      a.document.open();
      a.document.write(
        '\x3ciframe src\x3d"' +
          this.string(d) +
          '" frameborder\x3d"0" style\x3d"border:0; top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen\x3e\x3c/iframe\x3e'
      );
      a.document.close();
    };
  })(ChemDoodle, ChemDoodle.io, document, window);
  (function (e, m) {
    e.file = {};
    e.file.content = function (e, m) {
      fetch(e)
        .then((d) => {
          if (!d.ok) throw Error("Network response was not ok");
          return d.text();
        })
        .then((d) => {
          m(d);
        });
    };
  })(ChemDoodle.io);
  (function (e, m, k, p, d, g) {
    m.SERVER_URL =
      "https://ichemlabs.cloud.chemdoodle.com/icl_cdc_v090000/WebHQ";
    m.inRelay = !1;
    m.INFO = {
      userAgent: navigator.userAgent,
      platform: navigator.platform,
      v_cwc: e.getVersion(),
      v_jQuery: "N/A",
      v_jQuery_ui: "N/A",
    };
    let a = new k.JSONInterpreter(),
      f = new p.Queue();
    m._contactServer = function (a, b, d, e, g) {
      if (this.inRelay)
        f.enqueue({
          call: a,
          content: b,
          options: d,
          callback: e,
          errorback: g,
        });
      else {
        m.inRelay = !0;
        let c = b instanceof FormData;
        d = a = JSON.stringify({
          call: a,
          content: c ? {} : b,
          options: d,
          info: ChemDoodle.iChemLabs.INFO,
        });
        c && (b.append("jsonData", JSON.stringify(a)), (d = b));
        b = {
          method: "POST",
          headers: {
            "Content-Type": c ? "multipart/form-data" : "application/json",
            "X-Requested-With": "XMLHttpRequest",
          },
          body: d,
          credentials: "include",
        };
        c && delete b.headers["Content-Type"];
        fetch(this.SERVER_URL, b)
          .then((a) => {
            if (!a.ok) throw Error("Network response was not ok");
            return a.json();
          })
          .then((a) => {
            a.message && alert(a.message);
            m.inRelay = !1;
            e && a.content && !a.stop && e(a.content);
            a.stop && g && g();
            f.isEmpty() ||
              ((a = f.dequeue()),
              m._contactServer(
                a.call,
                a.content,
                a.options,
                a.callback,
                a.errorback
              ));
          })
          .catch((a) => {
            m.inRelay = !1;
            g && g();
            f.isEmpty() ||
              ((a = f.dequeue()),
              m._contactServer(
                a.call,
                a.content,
                a.options,
                a.callback,
                a.errorback
              ));
          });
      }
    };
    m.authenticate = function (a, b, d, e) {
      this._contactServer(
        "authenticate",
        { credential: a },
        b,
        function (a) {
          d(a);
        },
        e
      );
    };
    m.balanceReaction = function (c, b, d, e) {
      let f = {};
      "string" === typeof c || c instanceof String
        ? (f.equation = c)
        : (f.reaction = a.contentTo(c.molecules, c.shapes));
      this._contactServer(
        "balanceReaction",
        f,
        b,
        function (a) {
          d(a.result, a.message);
        },
        e
      );
    };
    m.calculate = function (c, b, d, e) {
      this._contactServer(
        "calculate",
        { mol: a.molTo(c) },
        b,
        function (a) {
          d(a);
        },
        e
      );
    };
    m.createLewisDotStructure = function (c, b, d, e) {
      this._contactServer(
        "createLewisDot",
        { mol: a.molTo(c) },
        b,
        function (b) {
          d(a.molFrom(b.mol));
        },
        e
      );
    };
    m.cir = function (c, b, d, e) {
      this._contactServer(
        "cir",
        c,
        b,
        function (b) {
          d(a.contentFrom(b.data), b.preview);
        },
        e
      );
    };
    m.elementalAnalysis = function (a, b, d, e) {
      this._contactServer(
        "elementalAnalysis",
        { mol: new ChemDoodle.io.JSONInterpreter().molTo(a) },
        b,
        function (a) {
          d(a);
        },
        e
      );
    };
    m.fileToImage = function (a, b, d, e) {
      this._contactServer(
        "fileToImage",
        a,
        b,
        function (a) {
          d(a.imgsrc, a.width, a.height);
        },
        e
      );
    };
    m.generateImage = function (c, b, d, e) {
      this._contactServer(
        "generateImage",
        { mol: a.molTo(c) },
        b,
        function (a) {
          d(a.link);
        },
        e
      );
    };
    m.generateIUPACName = function (c, b, d, e) {
      this._contactServer(
        "generateIUPACName",
        { mol: a.molTo(c) },
        b,
        function (a) {
          d(a.iupac, a.attemptedPIN);
        },
        e
      );
    };
    m.getMoleculeFromContent = function (c, b, d, e) {
      this._contactServer(
        "getMoleculeFromContent",
        { content: c },
        b,
        function (b) {
          let c = !1;
          for (let a = 0, d = b.mol.a.length; a < d; a++)
            if (0 !== b.mol.a[a].z) {
              c = !0;
              break;
            }
          if (c)
            for (let a = 0, c = b.mol.a.length; a < c; a++)
              (b.mol.a[a].x /= 20), (b.mol.a[a].y /= 20), (b.mol.a[a].z /= 20);
          d(a.molFrom(b.mol));
        },
        e
      );
    };
    m.getMoleculeFromDatabase = function (c, b, d, e) {
      this._contactServer(
        "getMoleculeFromDatabase",
        { query: c },
        b,
        function (c) {
          if (3 === b.dimension)
            for (let a = 0, b = c.mol.a.length; a < b; a++)
              (c.mol.a[a].x /= 20), (c.mol.a[a].y /= -20), (c.mol.a[a].z /= 20);
          d(a.molFrom(c.mol));
        },
        e
      );
    };
    m.getOptimizedPDBStructure = function (c, b, d, e) {
      this._contactServer(
        "getOptimizedPDBStructure",
        { id: c },
        b,
        function (b) {
          let c;
          c = b.mol ? a.molFrom(b.mol) : new p.Molecule();
          c.chains = a.chainsFrom(b.ribbons);
          for (let a = 0, d = c.chains.length; a < d; a++) {
            b = c.chains[a];
            for (let a = 0, c = b.length - 1; a < c; a++)
              b[a + 1].arrow && ((b[a + 1].arrow = !1), (b[a].arrow = !0));
          }
          c.fromJSON = !0;
          d(c);
        },
        e
      );
    };
    m.getZeoliteFromIZA = function (a, b, d, e) {
      this._contactServer(
        "getZeoliteFromIZA",
        { query: a },
        b,
        function (a) {
          d(ChemDoodle.readCIF(a.cif, b.xSuper, b.ySuper, b.zSuper));
        },
        e
      );
    };
    m.isGraphIsomorphism = function (c, b, d, e, f) {
      this._contactServer(
        "isGraphIsomorphism",
        { arrow: a.molTo(c), target: a.molTo(b) },
        d,
        function (a) {
          e(a.value);
        },
        f
      );
    };
    m.isSubgraphIsomorphism = function (c, b, d, e, f) {
      this._contactServer(
        "isSubgraphIsomorphism",
        { arrow: a.molTo(c), target: a.molTo(b) },
        d,
        function (a) {
          e(a.value);
        },
        f
      );
    };
    m.isSupergraphIsomorphism = function (c, b, d, e, f) {
      this._contactServer(
        "isSupergraphIsomorphism",
        { arrow: a.molTo(c), target: a.molTo(b) },
        d,
        function (a) {
          e(a.value);
        },
        f
      );
    };
    m.getSimilarityMeasure = function (c, b, d, e, f) {
      this._contactServer(
        "getSimilarityMeasure",
        { first: a.molTo(c), second: a.molTo(b) },
        d,
        function (a) {
          e(a.value);
        },
        f
      );
    };
    m.kekulize = function (c, b, d, e) {
      this._contactServer(
        "kekulize",
        { mol: a.molTo(c) },
        b,
        function (b) {
          d(a.molFrom(b.mol));
        },
        e
      );
    };
    m.maximumCommonSubstructure = function (c, b, d, e, f) {
      this._contactServer(
        "maximumCommonSubstructure",
        { m1: a.molTo(c), m2: a.molTo(b) },
        d,
        function (a) {
          e(a.map);
        },
        f
      );
    };
    m.mechanismMatch = function (a, b, d, e, f) {
      this._contactServer(
        "matchMechanism",
        { arrow: a, targets: b },
        d,
        function (a) {
          e(a);
        },
        f
      );
    };
    m.optimize = function (c, b, d, e) {
      this._contactServer(
        "optimize",
        { mol: a.molTo(c) },
        b,
        function (e) {
          e = a.molFrom(e.mol);
          if (2 === b.dimension) {
            for (let a = 0, b = e.atoms.length; a < b; a++)
              (c.atoms[a].x = e.atoms[a].x), (c.atoms[a].y = e.atoms[a].y);
            d();
          } else if (3 === b.dimension) {
            for (let a = 0, b = e.atoms.length; a < b; a++)
              (e.atoms[a].x /= 20), (e.atoms[a].y /= -20), (e.atoms[a].z /= 20);
            d(e);
          }
        },
        e
      );
    };
    m.readIUPACName = function (c, b, d, e) {
      this._contactServer(
        "readIUPACName",
        { iupac: c },
        b,
        function (b) {
          let c = [];
          for (let d = 0, e = b.mols.length; d < e; d++)
            c.push(a.molFrom(b.mols[d]));
          d(c, b.warning);
        },
        e
      );
    };
    m.readSMILES = function (c, b, d, e) {
      this._contactServer(
        "readSMILES",
        { smiles: c },
        b,
        function (b) {
          d(a.contentFrom(b.content));
        },
        e
      );
    };
    m.readWLN = function (c, b, d, e) {
      this._contactServer(
        "readWLN",
        { wln: c },
        b,
        function (b) {
          d(a.contentFrom(b.content));
        },
        e
      );
    };
    m.resolveCIP = function (c, b, d, e) {
      this._contactServer(
        "resolveCIP",
        { mol: a.molTo(c) },
        b,
        function (a) {
          d(a.atoms, a.bonds);
        },
        e
      );
    };
    m.saveFile = function (c, b, d, e) {
      this._contactServer(
        "saveFile",
        { mol: a.molTo(c) },
        b,
        function (a) {
          d(a.link);
        },
        e
      );
    };
    m.simulate13CNMR = function (c, b, d, f) {
      b.nucleus = "C";
      b.isotope = 13;
      this._contactServer(
        "simulateNMR",
        { mol: a.molTo(c) },
        b,
        function (a) {
          d(e.readJCAMP(a.jcamp));
        },
        f
      );
    };
    m.simulate1HNMR = function (c, b, d, f) {
      b.nucleus = "H";
      b.isotope = 1;
      this._contactServer(
        "simulateNMR",
        { mol: a.molTo(c) },
        b,
        function (a) {
          d(e.readJCAMP(a.jcamp));
        },
        f
      );
    };
    m.simulateMassParentPeak = function (c, b, d, f) {
      this._contactServer(
        "simulateMassParentPeak",
        { mol: a.molTo(c) },
        b,
        function (a) {
          d(e.readJCAMP(a.jcamp));
        },
        f
      );
    };
    m.stoichiometry = function (c, b, d, e) {
      let f = {};
      "string" === typeof c || c instanceof String
        ? (f.equation = c)
        : c.molecules !== g
        ? (f.reaction = a.contentTo(c.molecules, c.shapes))
        : c.table !== g && (f.table = c.table);
      this._contactServer(
        "stoichiometry",
        f,
        b,
        function (a) {
          d(a.table, a.message);
        },
        e
      );
    };
    m.writeSMILES = function (c, b, d, e, f) {
      this._contactServer(
        "writeSMILES",
        { content: a.contentTo(c, b) },
        d,
        function (a) {
          e(a.smiles);
        },
        f
      );
    };
    m.version = function (a, b, d) {
      this._contactServer(
        "version",
        {},
        a,
        function (a) {
          b(a.value);
        },
        d
      );
    };
    m.checkForUpdates = function (a) {
      this._contactServer(
        "checkForUpdates",
        { value: d.href },
        a,
        function (a) {},
        function () {}
      );
    };
  })(
    ChemDoodle,
    ChemDoodle.iChemLabs,
    ChemDoodle.io,
    ChemDoodle.structures,
    location
  );

  window.ChemDoodle = ChemDoodle;

  (function (k, b, n) {
    (function (b, k) {
      "object" === typeof module && "object" === typeof module.exports
        ? (module.exports = b.document
            ? k(b, !0)
            : function (b) {
                if (!b.document)
                  throw Error("jQuery requires a window with a document");
                return k(b);
              })
        : k(b);
    })("undefined" !== typeof k ? k : this, function (b, k) {
      function f(a) {
        var c = !!a && "length" in a && a.length,
          b = m.type(a);
        return "function" === b || m.isWindow(a)
          ? !1
          : "array" === b ||
              0 === c ||
              ("number" === typeof c && 0 < c && c - 1 in a);
      }
      function d(a, c, b) {
        if (m.isFunction(c))
          return m.grep(a, function (a, g) {
            return !!c.call(a, g, a) !== b;
          });
        if (c.nodeType)
          return m.grep(a, function (a) {
            return (a === c) !== b;
          });
        if ("string" === typeof c) {
          if (nb.test(c)) return m.filter(c, a, b);
          c = m.filter(c, a);
        }
        return m.grep(a, function (a) {
          return -1 < fa.call(c, a) !== b;
        });
      }
      function l(a, c) {
        for (; (a = a[c]) && 1 !== a.nodeType; );
        return a;
      }
      function r(a) {
        var c = {};
        m.each(a.match(aa) || [], function (a, b) {
          c[b] = !0;
        });
        return c;
      }
      function u() {
        D.removeEventListener("DOMContentLoaded", u);
        b.removeEventListener("load", u);
        m.ready();
      }
      function v() {
        this.expando = m.expando + v.uid++;
      }
      function q(a, c, b) {
        if (b === n && 1 === a.nodeType)
          if (
            ((b = "data-" + c.replace(Ta, "-$\x26").toLowerCase()),
            (b = a.getAttribute(b)),
            "string" === typeof b)
          ) {
            try {
              b =
                "true" === b
                  ? !0
                  : "false" === b
                  ? !1
                  : "null" === b
                  ? null
                  : +b + "" === b
                  ? +b
                  : ob.test(b)
                  ? m.parseJSON(b)
                  : b;
            } catch (bc) {}
            R.set(a, c, b);
          } else b = n;
        return b;
      }
      function y(a, c, b, g) {
        var t = 1,
          e = 20,
          p = g
            ? function () {
                return g.cur();
              }
            : function () {
                return m.css(a, c, "");
              },
          d = p(),
          A = (b && b[3]) || (m.cssNumber[c] ? "" : "px"),
          f = (m.cssNumber[c] || ("px" !== A && +d)) && va.exec(m.css(a, c));
        if (f && f[3] !== A) {
          A = A || f[3];
          b = b || [];
          f = +d || 1;
          do (t = t || ".5"), (f /= t), m.style(a, c, f + A);
          while (t !== (t = p() / d) && 1 !== t && --e);
        }
        if (b) {
          f = +f || +d || 0;
          var h = b[1] ? f + (b[1] + 1) * b[2] : +b[2];
          g && ((g.unit = A), (g.start = f), (g.end = h));
        }
        return h;
      }
      function e(a, c) {
        var b =
          "undefined" !== typeof a.getElementsByTagName
            ? a.getElementsByTagName(c || "*")
            : "undefined" !== typeof a.querySelectorAll
            ? a.querySelectorAll(c || "*")
            : [];
        return c === n || (c && m.nodeName(a, c)) ? m.merge([a], b) : b;
      }
      function B(a, c) {
        for (var b = 0, g = a.length; b < g; b++)
          F.set(a[b], "globalEval", !c || F.get(c[b], "globalEval"));
      }
      function z(a, c, b, g, p) {
        for (
          var t,
            d,
            A,
            f = c.createDocumentFragment(),
            h = [],
            q = 0,
            l = a.length;
          q < l;
          q++
        )
          if ((t = a[q]) || 0 === t)
            if ("object" === m.type(t)) m.merge(h, t.nodeType ? [t] : t);
            else if (qb.test(t)) {
              d = d || f.appendChild(c.createElement("div"));
              A = (Ua.exec(t) || ["", ""])[1].toLowerCase();
              A = V[A] || V._default;
              d.innerHTML = A[1] + m.htmlPrefilter(t) + A[2];
              for (A = A[0]; A--; ) d = d.lastChild;
              m.merge(h, d.childNodes);
              d = f.firstChild;
              d.textContent = "";
            } else h.push(c.createTextNode(t));
        f.textContent = "";
        for (q = 0; (t = h[q++]); )
          if (g && -1 < m.inArray(t, g)) p && p.push(t);
          else if (
            ((a = m.contains(t.ownerDocument, t)),
            (d = e(f.appendChild(t), "script")),
            a && B(d),
            b)
          )
            for (A = 0; (t = d[A++]); ) Va.test(t.type || "") && b.push(t);
        return f;
      }
      function x() {
        return !0;
      }
      function a() {
        return !1;
      }
      function c() {
        try {
          return D.activeElement;
        } catch (t) {}
      }
      function g(c, b, e, p, d, f) {
        var t;
        if ("object" === typeof b) {
          "string" !== typeof e && ((p = p || e), (e = n));
          for (t in b) g(c, t, e, p, b[t], f);
          return c;
        }
        null == p && null == d
          ? ((d = e), (p = e = n))
          : null == d &&
            ("string" === typeof e
              ? ((d = p), (p = n))
              : ((d = p), (p = e), (e = n)));
        if (!1 === d) d = a;
        else if (!d) return c;
        if (1 === f) {
          var A = d;
          d = function (a) {
            m().off(a);
            return A.apply(this, arguments);
          };
          d.guid = A.guid || (A.guid = m.guid++);
        }
        return c.each(function () {
          m.event.add(this, b, d, p, e);
        });
      }
      function p(a, c) {
        return m.nodeName(a, "table") &&
          m.nodeName(11 !== c.nodeType ? c : c.firstChild, "tr")
          ? a.getElementsByTagName("tbody")[0] ||
              a.appendChild(a.ownerDocument.createElement("tbody"))
          : a;
      }
      function C(a) {
        a.type = (null !== a.getAttribute("type")) + "/" + a.type;
        return a;
      }
      function L(a) {
        var c = rb.exec(a.type);
        c ? (a.type = c[1]) : a.removeAttribute("type");
        return a;
      }
      function M(a, c) {
        var b, g;
        if (1 === c.nodeType) {
          if (F.hasData(a)) {
            var t = F.access(a);
            var e = F.set(c, t);
            if ((t = t.events))
              for (g in (delete e.handle, (e.events = {}), t))
                for (e = 0, b = t[g].length; e < b; e++)
                  m.event.add(c, g, t[g][e]);
          }
          R.hasData(a) &&
            ((a = R.access(a)), (a = m.extend({}, a)), R.set(c, a));
        }
      }
      function H(a, c, b, g) {
        c = J.apply([], c);
        var t,
          p = 0,
          d = a.length,
          A = d - 1,
          f = c[0],
          h = m.isFunction(f);
        if (
          h ||
          (1 < d && "string" === typeof f && !I.checkClone && sb.test(f))
        )
          return a.each(function (t) {
            var e = a.eq(t);
            h && (c[0] = f.call(this, t, e.html()));
            H(e, c, b, g);
          });
        if (d) {
          var q = z(c, a[0].ownerDocument, !1, a, g);
          var l = q.firstChild;
          1 === q.childNodes.length && (q = l);
          if (l || g) {
            l = m.map(e(q, "script"), C);
            for (t = l.length; p < d; p++) {
              var k = q;
              p !== A &&
                ((k = m.clone(k, !0, !0)), t && m.merge(l, e(k, "script")));
              b.call(a[p], k, p);
            }
            if (t)
              for (
                q = l[l.length - 1].ownerDocument, m.map(l, L), p = 0;
                p < t;
                p++
              )
                (k = l[p]),
                  Va.test(k.type || "") &&
                    !F.access(k, "globalEval") &&
                    m.contains(q, k) &&
                    (k.src
                      ? m._evalUrl && m._evalUrl(k.src)
                      : m.globalEval(k.textContent.replace(ub, "")));
          }
        }
        return a;
      }
      function E(a, c, b) {
        for (var g = c ? m.filter(c, a) : a, t = 0; null != (c = g[t]); t++)
          b || 1 !== c.nodeType || m.cleanData(e(c)),
            c.parentNode &&
              (b && m.contains(c.ownerDocument, c) && B(e(c, "script")),
              c.parentNode.removeChild(c));
        return a;
      }
      function P(a, c) {
        a = m(c.createElement(a)).appendTo(c.body);
        c = m.css(a[0], "display");
        a.detach();
        return c;
      }
      function G(a) {
        var c = D,
          b = Wa[a];
        b ||
          ((b = P(a, c)),
          ("none" !== b && b) ||
            ((Fa = (
              Fa ||
              m("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e")
            ).appendTo(c.documentElement)),
            (c = Fa[0].contentDocument),
            c.write(),
            c.close(),
            (b = P(a, c)),
            Fa.detach()),
          (Wa[a] = b));
        return b;
      }
      function W(a, c, b) {
        var g = a.style;
        var t = (b = b || Ga(a)) ? b.getPropertyValue(c) || b[c] : n;
        ("" !== t && t !== n) ||
          m.contains(a.ownerDocument, a) ||
          (t = m.style(a, c));
        if (b && !I.pixelMarginRight() && Ja.test(t) && Xa.test(c)) {
          a = g.width;
          c = g.minWidth;
          var e = g.maxWidth;
          g.minWidth = g.maxWidth = g.width = t;
          t = b.width;
          g.width = a;
          g.minWidth = c;
          g.maxWidth = e;
        }
        return t !== n ? t + "" : t;
      }
      function sa(a, c) {
        return {
          get: function () {
            if (a()) delete this.get;
            else return (this.get = c).apply(this, arguments);
          },
        };
      }
      function S(a) {
        if (a in Ya) return a;
        for (var c = a[0].toUpperCase() + a.slice(1), b = Za.length; b--; )
          if (((a = Za[b] + c), a in Ya)) return a;
      }
      function ha(a, c, b) {
        return (a = va.exec(c))
          ? Math.max(0, a[2] - (b || 0)) + (a[3] || "px")
          : c;
      }
      function T(a, c, b, g, e) {
        c = b === (g ? "border" : "content") ? 4 : "width" === c ? 1 : 0;
        for (var t = 0; 4 > c; c += 2)
          "margin" === b && (t += m.css(a, b + ba[c], !0, e)),
            g
              ? ("content" === b && (t -= m.css(a, "padding" + ba[c], !0, e)),
                "margin" !== b &&
                  (t -= m.css(a, "border" + ba[c] + "Width", !0, e)))
              : ((t += m.css(a, "padding" + ba[c], !0, e)),
                "padding" !== b &&
                  (t += m.css(a, "border" + ba[c] + "Width", !0, e)));
        return t;
      }
      function wa(a, c, b) {
        var g = !0,
          t = "width" === c ? a.offsetWidth : a.offsetHeight,
          e = Ga(a),
          p = "border-box" === m.css(a, "boxSizing", !1, e);
        if (0 >= t || null == t) {
          t = W(a, c, e);
          if (0 > t || null == t) t = a.style[c];
          if (Ja.test(t)) return t;
          g = p && (I.boxSizingReliable() || t === a.style[c]);
          t = parseFloat(t) || 0;
        }
        return t + T(a, c, b || (p ? "border" : "content"), g, e) + "px";
      }
      function ta(a, c) {
        for (var b, g, t, e = [], p = 0, d = a.length; p < d; p++)
          (g = a[p]),
            g.style &&
              ((e[p] = F.get(g, "olddisplay")),
              (b = g.style.display),
              c
                ? (e[p] || "none" !== b || (g.style.display = ""),
                  "" === g.style.display &&
                    xa(g) &&
                    (e[p] = F.access(g, "olddisplay", G(g.nodeName))))
                : ((t = xa(g)),
                  ("none" === b && t) ||
                    F.set(g, "olddisplay", t ? b : m.css(g, "display"))));
        for (p = 0; p < d; p++)
          (g = a[p]),
            !g.style ||
              (c && "none" !== g.style.display && "" !== g.style.display) ||
              (g.style.display = c ? e[p] || "" : "none");
        return a;
      }
      function X(a, c, b, g, e) {
        return new X.prototype.init(a, c, b, g, e);
      }
      function Y() {
        b.setTimeout(function () {
          ia = n;
        });
        return (ia = m.now());
      }
      function da(a, c) {
        var b = 0,
          g = { height: a };
        for (c = c ? 1 : 0; 4 > b; b += 2 - c) {
          var t = ba[b];
          g["margin" + t] = g["padding" + t] = a;
        }
        c && (g.opacity = g.width = a);
        return g;
      }
      function ua(a, c, b) {
        for (
          var g,
            t = (Z.tweeners[c] || []).concat(Z.tweeners["*"]),
            e = 0,
            p = t.length;
          e < p;
          e++
        )
          if ((g = t[e].call(b, c, a))) return g;
      }
      function ya(a, c) {
        var b, g;
        for (b in a) {
          var t = m.camelCase(b);
          var e = c[t];
          var p = a[b];
          m.isArray(p) && ((e = p[1]), (p = a[b] = p[0]));
          b !== t && ((a[t] = p), delete a[b]);
          if ((g = m.cssHooks[t]) && "expand" in g)
            for (b in ((p = g.expand(p)), delete a[t], p))
              b in a || ((a[b] = p[b]), (c[b] = e));
          else c[t] = e;
        }
      }
      function Z(a, c, b) {
        var g,
          t = 0,
          e = Z.prefilters.length,
          p = m.Deferred().always(function () {
            delete d.elem;
          }),
          d = function () {
            if (g) return !1;
            var c = ia || Y();
            c = Math.max(0, f.startTime + f.duration - c);
            for (
              var b = 1 - (c / f.duration || 0), t = 0, e = f.tweens.length;
              t < e;
              t++
            )
              f.tweens[t].run(b);
            p.notifyWith(a, [f, b, c]);
            if (1 > b && e) return c;
            p.resolveWith(a, [f]);
            return !1;
          },
          f = p.promise({
            elem: a,
            props: m.extend({}, c),
            opts: m.extend(
              !0,
              { specialEasing: {}, easing: m.easing._default },
              b
            ),
            originalProperties: c,
            originalOptions: b,
            startTime: ia || Y(),
            duration: b.duration,
            tweens: [],
            createTween: function (c, b) {
              c = m.Tween(
                a,
                f.opts,
                c,
                b,
                f.opts.specialEasing[c] || f.opts.easing
              );
              f.tweens.push(c);
              return c;
            },
            stop: function (c) {
              var b = 0,
                t = c ? f.tweens.length : 0;
              if (g) return this;
              for (g = !0; b < t; b++) f.tweens[b].run(1);
              c
                ? (p.notifyWith(a, [f, 1, 0]), p.resolveWith(a, [f, c]))
                : p.rejectWith(a, [f, c]);
              return this;
            },
          });
        b = f.props;
        for (ya(b, f.opts.specialEasing); t < e; t++)
          if ((c = Z.prefilters[t].call(f, a, b, f.opts)))
            return (
              m.isFunction(c.stop) &&
                (m._queueHooks(f.elem, f.opts.queue).stop = m.proxy(c.stop, c)),
              c
            );
        m.map(b, ua, f);
        m.isFunction(f.opts.start) && f.opts.start.call(a, f);
        m.fx.timer(m.extend(d, { elem: a, anim: f, queue: f.opts.queue }));
        return f
          .progress(f.opts.progress)
          .done(f.opts.done, f.opts.complete)
          .fail(f.opts.fail)
          .always(f.opts.always);
      }
      function ea(a) {
        return (a.getAttribute && a.getAttribute("class")) || "";
      }
      function la(a) {
        return function (c, b) {
          "string" !== typeof c && ((b = c), (c = "*"));
          var g = 0,
            t = c.toLowerCase().match(aa) || [];
          if (m.isFunction(b))
            for (; (c = t[g++]); )
              "+" === c[0]
                ? ((c = c.slice(1) || "*"), (a[c] = a[c] || []).unshift(b))
                : (a[c] = a[c] || []).push(b);
        };
      }
      function ja(a, c, b, g) {
        function t(d) {
          var f;
          e[d] = !0;
          m.each(a[d] || [], function (a, d) {
            a = d(c, b, g);
            if ("string" === typeof a && !p && !e[a])
              return c.dataTypes.unshift(a), t(a), !1;
            if (p) return !(f = a);
          });
          return f;
        }
        var e = {},
          p = a === Ka;
        return t(c.dataTypes[0]) || (!e["*"] && t("*"));
      }
      function ma(a, c) {
        var b,
          g,
          t = m.ajaxSettings.flatOptions || {};
        for (b in c) c[b] !== n && ((t[b] ? a : g || (g = {}))[b] = c[b]);
        g && m.extend(!0, a, g);
        return a;
      }
      function oa(a, c, b, g) {
        var t;
        if (m.isArray(c))
          m.each(c, function (c, t) {
            b || vb.test(a)
              ? g(a, t)
              : oa(
                  a + "[" + ("object" === typeof t && null != t ? c : "") + "]",
                  t,
                  b,
                  g
                );
          });
        else if (b || "object" !== m.type(c)) g(a, c);
        else for (t in c) oa(a + "[" + t + "]", c[t], b, g);
      }
      function pa(a) {
        return m.isWindow(a) ? a : 9 === a.nodeType && a.defaultView;
      }
      var N = [],
        D = b.document,
        Q = N.slice,
        J = N.concat,
        qa = N.push,
        fa = N.indexOf,
        ka = {},
        La = ka.toString,
        ca = ka.hasOwnProperty,
        I = {},
        m = function (a, c) {
          return new m.fn.init(a, c);
        },
        za = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        wb = /^-ms-/,
        xb = /-([\da-z])/gi,
        yb = function (a, c) {
          return c.toUpperCase();
        };
      m.fn = m.prototype = {
        jquery: "2.2.4",
        constructor: m,
        selector: "",
        length: 0,
        toArray: function () {
          return Q.call(this);
        },
        get: function (a) {
          return null != a
            ? 0 > a
              ? this[a + this.length]
              : this[a]
            : Q.call(this);
        },
        pushStack: function (a) {
          a = m.merge(this.constructor(), a);
          a.prevObject = this;
          a.context = this.context;
          return a;
        },
        each: function (a) {
          return m.each(this, a);
        },
        map: function (a) {
          return this.pushStack(
            m.map(this, function (c, b) {
              return a.call(c, b, c);
            })
          );
        },
        slice: function () {
          return this.pushStack(Q.apply(this, arguments));
        },
        first: function () {
          return this.eq(0);
        },
        last: function () {
          return this.eq(-1);
        },
        eq: function (a) {
          var c = this.length;
          a = +a + (0 > a ? c : 0);
          return this.pushStack(0 <= a && a < c ? [this[a]] : []);
        },
        end: function () {
          return this.prevObject || this.constructor();
        },
        push: qa,
        sort: N.sort,
        splice: N.splice,
      };
      m.extend = m.fn.extend = function () {
        var a,
          c,
          b,
          g = arguments[0] || {},
          e = 1,
          p = arguments.length,
          d = !1;
        "boolean" === typeof g && ((d = g), (g = arguments[e] || {}), e++);
        "object" === typeof g || m.isFunction(g) || (g = {});
        e === p && ((g = this), e--);
        for (; e < p; e++)
          if (null != (a = arguments[e]))
            for (c in a) {
              var f = g[c];
              var h = a[c];
              g !== h &&
                (d && h && (m.isPlainObject(h) || (b = m.isArray(h)))
                  ? (b
                      ? ((b = !1), (f = f && m.isArray(f) ? f : []))
                      : (f = f && m.isPlainObject(f) ? f : {}),
                    (g[c] = m.extend(d, f, h)))
                  : h !== n && (g[c] = h));
            }
        return g;
      };
      m.extend({
        expando: "jQuery" + ("2.2.4" + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function (a) {
          throw Error(a);
        },
        noop: function () {},
        isFunction: function (a) {
          return "function" === m.type(a);
        },
        isArray: Array.isArray,
        isWindow: function (a) {
          return null != a && a === a.window;
        },
        isNumeric: function (a) {
          var c = a && a.toString();
          return !m.isArray(a) && 0 <= c - parseFloat(c) + 1;
        },
        isPlainObject: function (a) {
          var c;
          if (
            "object" !== m.type(a) ||
            a.nodeType ||
            m.isWindow(a) ||
            (a.constructor &&
              !ca.call(a, "constructor") &&
              !ca.call(a.constructor.prototype || {}, "isPrototypeOf"))
          )
            return !1;
          for (c in a);
          return c === n || ca.call(a, c);
        },
        isEmptyObject: function (a) {
          for (var c in a) return !1;
          return !0;
        },
        type: function (a) {
          return null == a
            ? a + ""
            : "object" === typeof a || "function" === typeof a
            ? ka[La.call(a)] || "object"
            : typeof a;
        },
        globalEval: function (a) {
          var c = eval;
          if ((a = m.trim(a)))
            1 === a.indexOf("use strict")
              ? ((c = D.createElement("script")),
                (c.text = a),
                D.head.appendChild(c).parentNode.removeChild(c))
              : c(a);
        },
        camelCase: function (a) {
          return a.replace(wb, "ms-").replace(xb, yb);
        },
        nodeName: function (a, c) {
          return a.nodeName && a.nodeName.toLowerCase() === c.toLowerCase();
        },
        each: function (a, c) {
          var b,
            g = 0;
          if (f(a))
            for (b = a.length; g < b && !1 !== c.call(a[g], g, a[g]); g++);
          else for (g in a) if (!1 === c.call(a[g], g, a[g])) break;
          return a;
        },
        trim: function (a) {
          return null == a ? "" : (a + "").replace(za, "");
        },
        makeArray: function (a, c) {
          c = c || [];
          null != a &&
            (f(Object(a))
              ? m.merge(c, "string" === typeof a ? [a] : a)
              : qa.call(c, a));
          return c;
        },
        inArray: function (a, c, b) {
          return null == c ? -1 : fa.call(c, a, b);
        },
        merge: function (a, c) {
          for (var b = +c.length, g = 0, t = a.length; g < b; g++)
            a[t++] = c[g];
          a.length = t;
          return a;
        },
        grep: function (a, c, b) {
          for (var g = [], t = 0, e = a.length, p = !b; t < e; t++)
            (b = !c(a[t], t)), b !== p && g.push(a[t]);
          return g;
        },
        map: function (a, c, b) {
          var g,
            t = 0,
            e = [];
          if (f(a))
            for (g = a.length; t < g; t++) {
              var p = c(a[t], t, b);
              null != p && e.push(p);
            }
          else for (t in a) (p = c(a[t], t, b)), null != p && e.push(p);
          return J.apply([], e);
        },
        guid: 1,
        proxy: function (a, c) {
          if ("string" === typeof c) {
            var b = a[c];
            c = a;
            a = b;
          }
          if (!m.isFunction(a)) return n;
          var g = Q.call(arguments, 2);
          b = function () {
            return a.apply(c || this, g.concat(Q.call(arguments)));
          };
          b.guid = a.guid = a.guid || m.guid++;
          return b;
        },
        now: Date.now,
        support: I,
      });
      "function" === typeof Symbol &&
        (m.fn[Symbol.iterator] = N[Symbol.iterator]);
      m.each(
        "Boolean Number String Function Array Date RegExp Object Error Symbol".split(
          " "
        ),
        function (a, c) {
          ka["[object " + c + "]"] = c.toLowerCase();
        }
      );
      var na = (function (a) {
        function c(a, c, b, g) {
          var t,
            e,
            p,
            d,
            f = c && c.ownerDocument,
            h = c ? c.nodeType : 9;
          b = b || [];
          if ("string" !== typeof a || !a || (1 !== h && 9 !== h && 11 !== h))
            return b;
          if (
            !g &&
            ((c ? c.ownerDocument || c : T) !== x && ba(c), (c = c || x), H)
          ) {
            if (11 !== h && (d = fa.exec(a)))
              if ((t = d[1]))
                if (9 === h)
                  if ((e = c.getElementById(t))) {
                    if (e.id === t) return b.push(e), b;
                  } else return b;
                else {
                  if (f && (e = f.getElementById(t)) && ha(c, e) && e.id === t)
                    return b.push(e), b;
                }
              else {
                if (d[2]) return I.apply(b, c.getElementsByTagName(a)), b;
                if (
                  (t = d[3]) &&
                  O.getElementsByClassName &&
                  c.getElementsByClassName
                )
                  return I.apply(b, c.getElementsByClassName(t)), b;
              }
            if (!(!O.qsa || ta[a + " "] || (E && E.test(a)))) {
              if (1 !== h) {
                f = c;
                var l = a;
              } else if ("object" !== c.nodeName.toLowerCase()) {
                (p = c.getAttribute("id"))
                  ? (p = p.replace(qa, "\\$\x26"))
                  : c.setAttribute("id", (p = G));
                d = ia(a);
                t = d.length;
                for (e = ma.test(p) ? "#" + p : "[id\x3d'" + p + "']"; t--; )
                  d[t] = e + " " + k(d[t]);
                l = d.join(",");
                f = (aa.test(a) && q(c.parentNode)) || c;
              }
              if (l)
                try {
                  return I.apply(b, f.querySelectorAll(l)), b;
                } catch (gc) {
                } finally {
                  p === G && c.removeAttribute("id");
                }
            }
          }
          return ra(a.replace(la, "$1"), c, b, g);
        }
        function b() {
          function a(b, g) {
            c.push(b + " ") > K.cacheLength && delete a[c.shift()];
            return (a[b + " "] = g);
          }
          var c = [];
          return a;
        }
        function g(a) {
          a[G] = !0;
          return a;
        }
        function t(a) {
          var c = x.createElement("div");
          try {
            return !!a(c);
          } catch (ec) {
            return !1;
          } finally {
            c.parentNode && c.parentNode.removeChild(c);
          }
        }
        function e(a, c) {
          a = a.split("|");
          for (var b = a.length; b--; ) K.attrHandle[a[b]] = c;
        }
        function p(a, c) {
          var b = c && a,
            g =
              b &&
              1 === a.nodeType &&
              1 === c.nodeType &&
              (~c.sourceIndex || -2147483648) - (~a.sourceIndex || -2147483648);
          if (g) return g;
          if (b) for (; (b = b.nextSibling); ) if (b === c) return -1;
          return a ? 1 : -1;
        }
        function d(a) {
          return function (c) {
            return "input" === c.nodeName.toLowerCase() && c.type === a;
          };
        }
        function f(a) {
          return function (c) {
            var b = c.nodeName.toLowerCase();
            return ("input" === b || "button" === b) && c.type === a;
          };
        }
        function h(a) {
          return g(function (c) {
            c = +c;
            return g(function (b, g) {
              for (var t, e = a([], b.length, c), p = e.length; p--; )
                b[(t = e[p])] && (b[t] = !(g[t] = b[t]));
            });
          });
        }
        function q(a) {
          return a && "undefined" !== typeof a.getElementsByTagName && a;
        }
        function l() {}
        function k(a) {
          for (var c = 0, b = a.length, g = ""; c < b; c++) g += a[c].value;
          return g;
        }
        function C(a, c, b) {
          var g = c.dir,
            t = b && "parentNode" === g,
            e = Y++;
          return c.first
            ? function (c, b, e) {
                for (; (c = c[g]); )
                  if (1 === c.nodeType || t) return a(c, b, e);
              }
            : function (c, b, p) {
                var d,
                  f = [W, e];
                if (p)
                  for (; (c = c[g]); ) {
                    if ((1 === c.nodeType || t) && a(c, b, p)) return !0;
                  }
                else
                  for (; (c = c[g]); )
                    if (1 === c.nodeType || t) {
                      var h = c[G] || (c[G] = {});
                      h = h[c.uniqueID] || (h[c.uniqueID] = {});
                      if ((d = h[g]) && d[0] === W && d[1] === e)
                        return (f[2] = d[2]);
                      h[g] = f;
                      if ((f[2] = a(c, b, p))) return !0;
                    }
              };
        }
        function m(a) {
          return 1 < a.length
            ? function (c, b, g) {
                for (var t = a.length; t--; ) if (!a[t](c, b, g)) return !1;
                return !0;
              }
            : a[0];
        }
        function u(a, c, b, g, t) {
          for (var e, p = [], d = 0, f = a.length, h = null != c; d < f; d++)
            if ((e = a[d])) if (!b || b(e, g, t)) p.push(e), h && c.push(d);
          return p;
        }
        function r(a, b, t, e, p, d) {
          e && !e[G] && (e = r(e));
          p && !p[G] && (p = r(p, d));
          return g(function (g, d, f, h) {
            var q,
              l = [],
              k = [],
              A = d.length,
              C;
            if (!(C = g)) {
              C = b || "*";
              for (
                var m = f.nodeType ? [f] : f, r = [], y = 0, v = m.length;
                y < v;
                y++
              )
                c(C, m[y], r);
              C = r;
            }
            C = !a || (!g && b) ? C : u(C, l, a, f, h);
            m = t ? (p || (g ? a : A || e) ? [] : d) : C;
            t && t(C, m, f, h);
            if (e) {
              var n = u(m, k);
              e(n, [], f, h);
              for (f = n.length; f--; )
                if ((q = n[f])) m[k[f]] = !(C[k[f]] = q);
            }
            if (g) {
              if (p || a) {
                if (p) {
                  n = [];
                  for (f = m.length; f--; ) (q = m[f]) && n.push((C[f] = q));
                  p(null, (m = []), n, h);
                }
                for (f = m.length; f--; )
                  (q = m[f]) &&
                    -1 < (n = p ? da(g, q) : l[f]) &&
                    (g[n] = !(d[n] = q));
              }
            } else (m = u(m === d ? m.splice(A, m.length) : m)), p ? p(null, d, m, h) : I.apply(d, m);
          });
        }
        function y(a) {
          var c,
            b,
            g = a.length,
            t = K.relative[a[0].type];
          var e = t || K.relative[" "];
          for (
            var p = t ? 1 : 0,
              d = C(
                function (a) {
                  return a === c;
                },
                e,
                !0
              ),
              f = C(
                function (a) {
                  return -1 < da(c, a);
                },
                e,
                !0
              ),
              h = [
                function (a, b, g) {
                  a =
                    (!t && (g || b !== L)) ||
                    ((c = b).nodeType ? d(a, b, g) : f(a, b, g));
                  c = null;
                  return a;
                },
              ];
            p < g;
            p++
          )
            if ((e = K.relative[a[p].type])) h = [C(m(h), e)];
            else {
              e = K.filter[a[p].type].apply(null, a[p].matches);
              if (e[G]) {
                for (b = ++p; b < g && !K.relative[a[b].type]; b++);
                return r(
                  1 < p && m(h),
                  1 < p &&
                    k(
                      a
                        .slice(0, p - 1)
                        .concat({ value: " " === a[p - 2].type ? "*" : "" })
                    ).replace(la, "$1"),
                  e,
                  p < b && y(a.slice(p, b)),
                  b < g && y((a = a.slice(b))),
                  b < g && k(a)
                );
              }
              h.push(e);
            }
          return m(h);
        }
        function v(a, b) {
          var t = 0 < b.length,
            e = 0 < a.length,
            p = function (g, p, d, f, h) {
              var q,
                l,
                k = 0,
                A = "0",
                m = g && [],
                C = [],
                r = L,
                y = g || (e && K.find.TAG("*", h)),
                v = (W += null == r ? 1 : Math.random() || 0.1),
                n = y.length;
              for (
                h && (L = p === x || p || h);
                A !== n && null != (q = y[A]);
                A++
              ) {
                if (e && q) {
                  var B = 0;
                  p || q.ownerDocument === x || (ba(q), (d = !H));
                  for (; (l = a[B++]); )
                    if (l(q, p || x, d)) {
                      f.push(q);
                      break;
                    }
                  h && (W = v);
                }
                t && ((q = !l && q) && k--, g && m.push(q));
              }
              k += A;
              if (t && A !== k) {
                for (B = 0; (l = b[B++]); ) l(m, C, p, d);
                if (g) {
                  if (0 < k) for (; A--; ) m[A] || C[A] || (C[A] = F.call(f));
                  C = u(C);
                }
                I.apply(f, C);
                h && !g && 0 < C.length && 1 < k + b.length && c.uniqueSort(f);
              }
              h && ((W = v), (L = r));
              return m;
            };
          return t ? g(p) : p;
        }
        var B,
          L,
          z,
          w,
          x,
          M,
          H,
          E,
          S,
          P,
          ha,
          G = "sizzle" + 1 * new Date(),
          T = a.document,
          W = 0,
          Y = 0,
          X = b(),
          wa = b(),
          ta = b(),
          sa = function (a, c) {
            a === c && (w = !0);
            return 0;
          },
          D = {}.hasOwnProperty,
          J = [],
          F = J.pop,
          Z = J.push,
          I = J.push,
          N = J.slice,
          da = function (a, c) {
            for (var b = 0, g = a.length; b < g; b++) if (a[b] === c) return b;
            return -1;
          },
          ua = /[\x20\t\r\n\f]+/g,
          la = /^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,
          ya = /^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,
          ea = /^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,
          Q = /=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,
          R =
            /:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
          ma = /^(?:\\.|[\w-]|[^\x00-\xa0])+$/,
          ja = {
            ID: /^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
            CLASS: /^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,
            TAG: /^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,
            ATTR: /^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,
            PSEUDO:
              /^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
            CHILD:
              /^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,
            bool: /^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,
            needsContext:
              /^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,
          },
          oa = /^(?:input|select|textarea|button)$/i,
          ka = /^h\d$/i,
          V = /^[^{]+\{\s*\[native \w/,
          fa = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
          aa = /[+~]/,
          qa = /'|\\/g,
          ca = /\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/gi,
          U = function (a, c, b) {
            a = "0x" + c - 65536;
            return a !== a || b
              ? c
              : 0 > a
              ? String.fromCharCode(a + 65536)
              : String.fromCharCode((a >> 10) | 55296, (a & 1023) | 56320);
          },
          pa = function () {
            ba();
          };
        try {
          I.apply((J = N.call(T.childNodes)), T.childNodes),
            J[T.childNodes.length].nodeType;
        } catch (dc) {
          I = {
            apply: J.length
              ? function (a, c) {
                  Z.apply(a, N.call(c));
                }
              : function (a, c) {
                  for (var b = a.length, g = 0; (a[b++] = c[g++]); );
                  a.length = b - 1;
                },
          };
        }
        var O = (c.support = {});
        var La = (c.isXML = function (a) {
          return (a = a && (a.ownerDocument || a).documentElement)
            ? "HTML" !== a.nodeName
            : !1;
        });
        var ba = (c.setDocument = function (a) {
          var c;
          a = a ? a.ownerDocument || a : T;
          if (a === x || 9 !== a.nodeType || !a.documentElement) return x;
          x = a;
          M = x.documentElement;
          H = !La(x);
          (c = x.defaultView) &&
            c.top !== c &&
            (c.addEventListener
              ? c.addEventListener("unload", pa, !1)
              : c.attachEvent && c.attachEvent("onunload", pa));
          O.attributes = t(function (a) {
            a.className = "i";
            return !a.getAttribute("className");
          });
          O.getElementsByTagName = t(function (a) {
            a.appendChild(x.createComment(""));
            return !a.getElementsByTagName("*").length;
          });
          O.getElementsByClassName = V.test(x.getElementsByClassName);
          O.getById = t(function (a) {
            M.appendChild(a).id = G;
            return !x.getElementsByName || !x.getElementsByName(G).length;
          });
          O.getById
            ? ((K.find.ID = function (a, c) {
                if ("undefined" !== typeof c.getElementById && H)
                  return (a = c.getElementById(a)) ? [a] : [];
              }),
              (K.filter.ID = function (a) {
                var c = a.replace(ca, U);
                return function (a) {
                  return a.getAttribute("id") === c;
                };
              }))
            : (delete K.find.ID,
              (K.filter.ID = function (a) {
                var c = a.replace(ca, U);
                return function (a) {
                  return (
                    (a =
                      "undefined" !== typeof a.getAttributeNode &&
                      a.getAttributeNode("id")) && a.value === c
                  );
                };
              }));
          K.find.TAG = O.getElementsByTagName
            ? function (a, c) {
                if ("undefined" !== typeof c.getElementsByTagName)
                  return c.getElementsByTagName(a);
                if (O.qsa) return c.querySelectorAll(a);
              }
            : function (a, c) {
                var b = [],
                  g = 0;
                c = c.getElementsByTagName(a);
                if ("*" === a) {
                  for (; (a = c[g++]); ) 1 === a.nodeType && b.push(a);
                  return b;
                }
                return c;
              };
          K.find.CLASS =
            O.getElementsByClassName &&
            function (a, c) {
              if ("undefined" !== typeof c.getElementsByClassName && H)
                return c.getElementsByClassName(a);
            };
          S = [];
          E = [];
          if ((O.qsa = V.test(x.querySelectorAll)))
            t(function (a) {
              M.appendChild(a).innerHTML =
                "\x3ca id\x3d'" +
                G +
                "'\x3e\x3c/a\x3e\x3cselect id\x3d'" +
                G +
                "-\r\\' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";
              a.querySelectorAll("[msallowcapture^\x3d'']").length &&
                E.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");
              a.querySelectorAll("[selected]").length ||
                E.push(
                  "\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)"
                );
              a.querySelectorAll("[id~\x3d" + G + "-]").length ||
                E.push("~\x3d");
              a.querySelectorAll(":checked").length || E.push(":checked");
              a.querySelectorAll("a#" + G + "+*").length || E.push(".#.+[+~]");
            }),
              t(function (a) {
                var c = x.createElement("input");
                c.setAttribute("type", "hidden");
                a.appendChild(c).setAttribute("name", "D");
                a.querySelectorAll("[name\x3dd]").length &&
                  E.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");
                a.querySelectorAll(":enabled").length ||
                  E.push(":enabled", ":disabled");
                a.querySelectorAll("*,:x");
                E.push(",.*:");
              });
          (O.matchesSelector = V.test(
            (P =
              M.matches ||
              M.webkitMatchesSelector ||
              M.mozMatchesSelector ||
              M.oMatchesSelector ||
              M.msMatchesSelector)
          )) &&
            t(function (a) {
              O.disconnectedMatch = P.call(a, "div");
              P.call(a, "[s!\x3d'']:x");
              S.push(
                "!\x3d",
                ":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)"
              );
            });
          E = E.length && new RegExp(E.join("|"));
          S = S.length && new RegExp(S.join("|"));
          ha =
            (c = V.test(M.compareDocumentPosition)) || V.test(M.contains)
              ? function (a, c) {
                  var b = 9 === a.nodeType ? a.documentElement : a;
                  c = c && c.parentNode;
                  return (
                    a === c ||
                    !!(
                      c &&
                      1 === c.nodeType &&
                      (b.contains
                        ? b.contains(c)
                        : a.compareDocumentPosition &&
                          a.compareDocumentPosition(c) & 16)
                    )
                  );
                }
              : function (a, c) {
                  if (c) for (; (c = c.parentNode); ) if (c === a) return !0;
                  return !1;
                };
          sa = c
            ? function (a, c) {
                if (a === c) return (w = !0), 0;
                var b = !a.compareDocumentPosition - !c.compareDocumentPosition;
                if (b) return b;
                b =
                  (a.ownerDocument || a) === (c.ownerDocument || c)
                    ? a.compareDocumentPosition(c)
                    : 1;
                return b & 1 ||
                  (!O.sortDetached && c.compareDocumentPosition(a) === b)
                  ? a === x || (a.ownerDocument === T && ha(T, a))
                    ? -1
                    : c === x || (c.ownerDocument === T && ha(T, c))
                    ? 1
                    : z
                    ? da(z, a) - da(z, c)
                    : 0
                  : b & 4
                  ? -1
                  : 1;
              }
            : function (a, c) {
                if (a === c) return (w = !0), 0;
                var b = 0,
                  g = a.parentNode,
                  t = c.parentNode,
                  e = [a],
                  d = [c];
                if (!g || !t)
                  return a === x
                    ? -1
                    : c === x
                    ? 1
                    : g
                    ? -1
                    : t
                    ? 1
                    : z
                    ? da(z, a) - da(z, c)
                    : 0;
                if (g === t) return p(a, c);
                for (; (a = a.parentNode); ) e.unshift(a);
                for (a = c; (a = a.parentNode); ) d.unshift(a);
                for (; e[b] === d[b]; ) b++;
                return b ? p(e[b], d[b]) : e[b] === T ? -1 : d[b] === T ? 1 : 0;
              };
          return x;
        });
        c.matches = function (a, b) {
          return c(a, null, null, b);
        };
        c.matchesSelector = function (a, b) {
          (a.ownerDocument || a) !== x && ba(a);
          b = b.replace(Q, "\x3d'$1']");
          if (
            !(
              !O.matchesSelector ||
              !H ||
              ta[b + " "] ||
              (S && S.test(b)) ||
              (E && E.test(b))
            )
          )
            try {
              var g = P.call(a, b);
              if (
                g ||
                O.disconnectedMatch ||
                (a.document && 11 !== a.document.nodeType)
              )
                return g;
            } catch (fc) {}
          return 0 < c(b, x, null, [a]).length;
        };
        c.contains = function (a, c) {
          (a.ownerDocument || a) !== x && ba(a);
          return ha(a, c);
        };
        c.attr = function (a, c) {
          (a.ownerDocument || a) !== x && ba(a);
          var b = K.attrHandle[c.toLowerCase()];
          b = b && D.call(K.attrHandle, c.toLowerCase()) ? b(a, c, !H) : n;
          return b !== n
            ? b
            : O.attributes || !H
            ? a.getAttribute(c)
            : (b = a.getAttributeNode(c)) && b.specified
            ? b.value
            : null;
        };
        c.error = function (a) {
          throw Error("Syntax error, unrecognized expression: " + a);
        };
        c.uniqueSort = function (a) {
          var c,
            b = [],
            g = 0,
            t = 0;
          w = !O.detectDuplicates;
          z = !O.sortStable && a.slice(0);
          a.sort(sa);
          if (w) {
            for (; (c = a[t++]); ) c === a[t] && (g = b.push(t));
            for (; g--; ) a.splice(b[g], 1);
          }
          z = null;
          return a;
        };
        var za = (c.getText = function (a) {
          var c = "",
            b = 0;
          var g = a.nodeType;
          if (!g) for (; (g = a[b++]); ) c += za(g);
          else if (1 === g || 9 === g || 11 === g) {
            if ("string" === typeof a.textContent) return a.textContent;
            for (a = a.firstChild; a; a = a.nextSibling) c += za(a);
          } else if (3 === g || 4 === g) return a.nodeValue;
          return c;
        });
        var K = (c.selectors = {
          cacheLength: 50,
          createPseudo: g,
          match: ja,
          attrHandle: {},
          find: {},
          relative: {
            "\x3e": { dir: "parentNode", first: !0 },
            " ": { dir: "parentNode" },
            "+": { dir: "previousSibling", first: !0 },
            "~": { dir: "previousSibling" },
          },
          preFilter: {
            ATTR: function (a) {
              a[1] = a[1].replace(ca, U);
              a[3] = (a[3] || a[4] || a[5] || "").replace(ca, U);
              "~\x3d" === a[2] && (a[3] = " " + a[3] + " ");
              return a.slice(0, 4);
            },
            CHILD: function (a) {
              a[1] = a[1].toLowerCase();
              "nth" === a[1].slice(0, 3)
                ? (a[3] || c.error(a[0]),
                  (a[4] = +(a[4]
                    ? a[5] + (a[6] || 1)
                    : 2 * ("even" === a[3] || "odd" === a[3]))),
                  (a[5] = +(a[7] + a[8] || "odd" === a[3])))
                : a[3] && c.error(a[0]);
              return a;
            },
            PSEUDO: function (a) {
              var c,
                b = !a[6] && a[2];
              if (ja.CHILD.test(a[0])) return null;
              a[3]
                ? (a[2] = a[4] || a[5] || "")
                : b &&
                  R.test(b) &&
                  (c = ia(b, !0)) &&
                  (c = b.indexOf(")", b.length - c) - b.length) &&
                  ((a[0] = a[0].slice(0, c)), (a[2] = b.slice(0, c)));
              return a.slice(0, 3);
            },
          },
          filter: {
            TAG: function (a) {
              var c = a.replace(ca, U).toLowerCase();
              return "*" === a
                ? function () {
                    return !0;
                  }
                : function (a) {
                    return a.nodeName && a.nodeName.toLowerCase() === c;
                  };
            },
            CLASS: function (a) {
              var c = X[a + " "];
              return (
                c ||
                ((c = new RegExp(
                  "(^|[\\x20\\t\\r\\n\\f])" + a + "([\\x20\\t\\r\\n\\f]|$)"
                )),
                X(a, function (a) {
                  return c.test(
                    ("string" === typeof a.className && a.className) ||
                      ("undefined" !== typeof a.getAttribute &&
                        a.getAttribute("class")) ||
                      ""
                  );
                }))
              );
            },
            ATTR: function (a, b, g) {
              return function (t) {
                t = c.attr(t, a);
                if (null == t) return "!\x3d" === b;
                if (!b) return !0;
                t += "";
                return "\x3d" === b
                  ? t === g
                  : "!\x3d" === b
                  ? t !== g
                  : "^\x3d" === b
                  ? g && 0 === t.indexOf(g)
                  : "*\x3d" === b
                  ? g && -1 < t.indexOf(g)
                  : "$\x3d" === b
                  ? g && t.slice(-g.length) === g
                  : "~\x3d" === b
                  ? -1 < (" " + t.replace(ua, " ") + " ").indexOf(g)
                  : "|\x3d" === b
                  ? t === g || t.slice(0, g.length + 1) === g + "-"
                  : !1;
              };
            },
            CHILD: function (a, c, b, g, t) {
              var e = "nth" !== a.slice(0, 3),
                p = "last" !== a.slice(-4),
                d = "of-type" === c;
              return 1 === g && 0 === t
                ? function (a) {
                    return !!a.parentNode;
                  }
                : function (c, b, f) {
                    var h, q;
                    b = e !== p ? "nextSibling" : "previousSibling";
                    var l = c.parentNode,
                      k = d && c.nodeName.toLowerCase();
                    f = !f && !d;
                    var A = !1;
                    if (l) {
                      if (e) {
                        for (; b; ) {
                          for (h = c; (h = h[b]); )
                            if (
                              d
                                ? h.nodeName.toLowerCase() === k
                                : 1 === h.nodeType
                            )
                              return !1;
                          var C = (b = "only" === a && !C && "nextSibling");
                        }
                        return !0;
                      }
                      C = [p ? l.firstChild : l.lastChild];
                      if (p && f) {
                        h = l;
                        var m = h[G] || (h[G] = {});
                        m = m[h.uniqueID] || (m[h.uniqueID] = {});
                        A = m[a] || [];
                        A = (q = A[0] === W && A[1]) && A[2];
                        for (
                          h = q && l.childNodes[q];
                          (h = (++q && h && h[b]) || (A = q = 0) || C.pop());

                        )
                          if (1 === h.nodeType && ++A && h === c) {
                            m[a] = [W, q, A];
                            break;
                          }
                      } else if (
                        (f &&
                          ((h = c),
                          (m = h[G] || (h[G] = {})),
                          (m = m[h.uniqueID] || (m[h.uniqueID] = {})),
                          (A = m[a] || []),
                          (A = q = A[0] === W && A[1])),
                        !1 === A)
                      )
                        for (
                          ;
                          (h = (++q && h && h[b]) || (A = q = 0) || C.pop()) &&
                          ((d
                            ? h.nodeName.toLowerCase() !== k
                            : 1 !== h.nodeType) ||
                            !++A ||
                            (f &&
                              ((m = h[G] || (h[G] = {})),
                              (m = m[h.uniqueID] || (m[h.uniqueID] = {})),
                              (m[a] = [W, A])),
                            h !== c));

                        );
                      A -= t;
                      return A === g || (0 === A % g && 0 <= A / g);
                    }
                  };
            },
            PSEUDO: function (a, b) {
              var t =
                K.pseudos[a] ||
                K.setFilters[a.toLowerCase()] ||
                c.error("unsupported pseudo: " + a);
              if (t[G]) return t(b);
              if (1 < t.length) {
                var e = [a, a, "", b];
                return K.setFilters.hasOwnProperty(a.toLowerCase())
                  ? g(function (a, c) {
                      for (var g, e = t(a, b), p = e.length; p--; )
                        (g = da(a, e[p])), (a[g] = !(c[g] = e[p]));
                    })
                  : function (a) {
                      return t(a, 0, e);
                    };
              }
              return t;
            },
          },
          pseudos: {
            not: g(function (a) {
              var c = [],
                b = [],
                t = na(a.replace(la, "$1"));
              return t[G]
                ? g(function (a, c, b, g) {
                    g = t(a, null, g, []);
                    for (var e = a.length; e--; )
                      if ((b = g[e])) a[e] = !(c[e] = b);
                  })
                : function (a, g, e) {
                    c[0] = a;
                    t(c, null, e, b);
                    c[0] = null;
                    return !b.pop();
                  };
            }),
            has: g(function (a) {
              return function (b) {
                return 0 < c(a, b).length;
              };
            }),
            contains: g(function (a) {
              a = a.replace(ca, U);
              return function (c) {
                return -1 < (c.textContent || c.innerText || za(c)).indexOf(a);
              };
            }),
            lang: g(function (a) {
              ma.test(a || "") || c.error("unsupported lang: " + a);
              a = a.replace(ca, U).toLowerCase();
              return function (c) {
                var b;
                do
                  if (
                    (b = H
                      ? c.lang
                      : c.getAttribute("xml:lang") || c.getAttribute("lang"))
                  )
                    return (
                      (b = b.toLowerCase()), b === a || 0 === b.indexOf(a + "-")
                    );
                while ((c = c.parentNode) && 1 === c.nodeType);
                return !1;
              };
            }),
            target: function (c) {
              var b = a.location && a.location.hash;
              return b && b.slice(1) === c.id;
            },
            root: function (a) {
              return a === M;
            },
            focus: function (a) {
              return (
                a === x.activeElement &&
                (!x.hasFocus || x.hasFocus()) &&
                !!(a.type || a.href || ~a.tabIndex)
              );
            },
            enabled: function (a) {
              return !1 === a.disabled;
            },
            disabled: function (a) {
              return !0 === a.disabled;
            },
            checked: function (a) {
              var c = a.nodeName.toLowerCase();
              return (
                ("input" === c && !!a.checked) ||
                ("option" === c && !!a.selected)
              );
            },
            selected: function (a) {
              a.parentNode && a.parentNode.selectedIndex;
              return !0 === a.selected;
            },
            empty: function (a) {
              for (a = a.firstChild; a; a = a.nextSibling)
                if (6 > a.nodeType) return !1;
              return !0;
            },
            parent: function (a) {
              return !K.pseudos.empty(a);
            },
            header: function (a) {
              return ka.test(a.nodeName);
            },
            input: function (a) {
              return oa.test(a.nodeName);
            },
            button: function (a) {
              var c = a.nodeName.toLowerCase();
              return ("input" === c && "button" === a.type) || "button" === c;
            },
            text: function (a) {
              var c;
              return (
                "input" === a.nodeName.toLowerCase() &&
                "text" === a.type &&
                (null == (c = a.getAttribute("type")) ||
                  "text" === c.toLowerCase())
              );
            },
            first: h(function () {
              return [0];
            }),
            last: h(function (a, c) {
              return [c - 1];
            }),
            eq: h(function (a, c, b) {
              return [0 > b ? b + c : b];
            }),
            even: h(function (a, c) {
              for (var b = 0; b < c; b += 2) a.push(b);
              return a;
            }),
            odd: h(function (a, c) {
              for (var b = 1; b < c; b += 2) a.push(b);
              return a;
            }),
            lt: h(function (a, c, b) {
              for (c = 0 > b ? b + c : b; 0 <= --c; ) a.push(c);
              return a;
            }),
            gt: h(function (a, c, b) {
              for (b = 0 > b ? b + c : b; ++b < c; ) a.push(b);
              return a;
            }),
          },
        });
        K.pseudos.nth = K.pseudos.eq;
        for (B in {
          radio: !0,
          checkbox: !0,
          file: !0,
          password: !0,
          image: !0,
        })
          K.pseudos[B] = d(B);
        for (B in { submit: !0, reset: !0 }) K.pseudos[B] = f(B);
        l.prototype = K.filters = K.pseudos;
        K.setFilters = new l();
        var ia = (c.tokenize = function (a, b) {
          var g, t, e, p, d;
          if ((p = wa[a + " "])) return b ? 0 : p.slice(0);
          p = a;
          var f = [];
          for (d = K.preFilter; p; ) {
            if (!h || (g = ya.exec(p)))
              g && (p = p.slice(g[0].length) || p), f.push((t = []));
            var h = !1;
            if ((g = ea.exec(p)))
              (h = g.shift()),
                t.push({ value: h, type: g[0].replace(la, " ") }),
                (p = p.slice(h.length));
            for (e in K.filter)
              !(g = ja[e].exec(p)) ||
                (d[e] && !(g = d[e](g))) ||
                ((h = g.shift()),
                t.push({ value: h, type: e, matches: g }),
                (p = p.slice(h.length)));
            if (!h) break;
          }
          return b ? p.length : p ? c.error(a) : wa(a, f).slice(0);
        });
        var na = (c.compile = function (a, c) {
          var b,
            g = [],
            t = [],
            e = ta[a + " "];
          if (!e) {
            c || (c = ia(a));
            for (b = c.length; b--; )
              (e = y(c[b])), e[G] ? g.push(e) : t.push(e);
            e = ta(a, v(t, g));
            e.selector = a;
          }
          return e;
        });
        var ra = (c.select = function (a, c, b, g) {
          var t,
            e,
            p,
            d = "function" === typeof a && a,
            f = !g && ia((a = d.selector || a));
          b = b || [];
          if (1 === f.length) {
            var h = (f[0] = f[0].slice(0));
            if (
              2 < h.length &&
              "ID" === (e = h[0]).type &&
              O.getById &&
              9 === c.nodeType &&
              H &&
              K.relative[h[1].type]
            ) {
              c = (K.find.ID(e.matches[0].replace(ca, U), c) || [])[0];
              if (!c) return b;
              d && (c = c.parentNode);
              a = a.slice(h.shift().value.length);
            }
            for (t = ja.needsContext.test(a) ? 0 : h.length; t--; ) {
              e = h[t];
              if (K.relative[(p = e.type)]) break;
              if ((p = K.find[p]))
                if (
                  (g = p(
                    e.matches[0].replace(ca, U),
                    (aa.test(h[0].type) && q(c.parentNode)) || c
                  ))
                ) {
                  h.splice(t, 1);
                  a = g.length && k(h);
                  if (!a) return I.apply(b, g), b;
                  break;
                }
            }
          }
          (d || na(a, f))(
            g,
            c,
            !H,
            b,
            !c || (aa.test(a) && q(c.parentNode)) || c
          );
          return b;
        });
        O.sortStable = G.split("").sort(sa).join("") === G;
        O.detectDuplicates = !!w;
        ba();
        O.sortDetached = t(function (a) {
          return a.compareDocumentPosition(x.createElement("div")) & 1;
        });
        t(function (a) {
          a.innerHTML = "\x3ca href\x3d'#'\x3e\x3c/a\x3e";
          return "#" === a.firstChild.getAttribute("href");
        }) ||
          e("type|href|height|width", function (a, c, b) {
            if (!b)
              return a.getAttribute(c, "type" === c.toLowerCase() ? 1 : 2);
          });
        (O.attributes &&
          t(function (a) {
            a.innerHTML = "\x3cinput/\x3e";
            a.firstChild.setAttribute("value", "");
            return "" === a.firstChild.getAttribute("value");
          })) ||
          e("value", function (a, c, b) {
            if (!b && "input" === a.nodeName.toLowerCase())
              return a.defaultValue;
          });
        t(function (a) {
          return null == a.getAttribute("disabled");
        }) ||
          e(
            "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            function (a, c, b) {
              var g;
              if (!b)
                return !0 === a[c]
                  ? c.toLowerCase()
                  : (g = a.getAttributeNode(c)) && g.specified
                  ? g.value
                  : null;
            }
          );
        return c;
      })(b);
      m.find = na;
      m.expr = na.selectors;
      m.expr[":"] = m.expr.pseudos;
      m.uniqueSort = m.unique = na.uniqueSort;
      m.text = na.getText;
      m.isXMLDoc = na.isXML;
      m.contains = na.contains;
      var ra = function (a, c, b) {
          for (var g = [], t = b !== n; (a = a[c]) && 9 !== a.nodeType; )
            if (1 === a.nodeType) {
              if (t && m(a).is(b)) break;
              g.push(a);
            }
          return g;
        },
        $a = function (a, c) {
          for (var b = []; a; a = a.nextSibling)
            1 === a.nodeType && a !== c && b.push(a);
          return b;
        },
        ab = m.expr.match.needsContext,
        bb = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,
        nb = /^.[^:#\[\.,]*$/;
      m.filter = function (a, c, b) {
        var g = c[0];
        b && (a = ":not(" + a + ")");
        return 1 === c.length && 1 === g.nodeType
          ? m.find.matchesSelector(g, a)
            ? [g]
            : []
          : m.find.matches(
              a,
              m.grep(c, function (a) {
                return 1 === a.nodeType;
              })
            );
      };
      m.fn.extend({
        find: function (a) {
          var c,
            b = this.length,
            g = [],
            t = this;
          if ("string" !== typeof a)
            return this.pushStack(
              m(a).filter(function () {
                for (c = 0; c < b; c++) if (m.contains(t[c], this)) return !0;
              })
            );
          for (c = 0; c < b; c++) m.find(a, t[c], g);
          g = this.pushStack(1 < b ? m.unique(g) : g);
          g.selector = this.selector ? this.selector + " " + a : a;
          return g;
        },
        filter: function (a) {
          return this.pushStack(d(this, a || [], !1));
        },
        not: function (a) {
          return this.pushStack(d(this, a || [], !0));
        },
        is: function (a) {
          return !!d(
            this,
            "string" === typeof a && ab.test(a) ? m(a) : a || [],
            !1
          ).length;
        },
      });
      var Ab = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
      (m.fn.init = function (a, c, b) {
        if (!a) return this;
        b = b || Bb;
        if ("string" === typeof a) {
          var g =
            "\x3c" === a[0] && "\x3e" === a[a.length - 1] && 3 <= a.length
              ? [null, a, null]
              : Ab.exec(a);
          if (!g || (!g[1] && c))
            return !c || c.jquery
              ? (c || b).find(a)
              : this.constructor(c).find(a);
          if (g[1]) {
            if (
              ((c = c instanceof m ? c[0] : c),
              m.merge(
                this,
                m.parseHTML(
                  g[1],
                  c && c.nodeType ? c.ownerDocument || c : D,
                  !0
                )
              ),
              bb.test(g[1]) && m.isPlainObject(c))
            )
              for (g in c)
                if (m.isFunction(this[g])) this[g](c[g]);
                else this.attr(g, c[g]);
          } else
            (c = D.getElementById(g[2])) &&
              c.parentNode &&
              ((this.length = 1), (this[0] = c)),
              (this.context = D),
              (this.selector = a);
          return this;
        }
        if (a.nodeType)
          return (this.context = this[0] = a), (this.length = 1), this;
        if (m.isFunction(a)) return b.ready !== n ? b.ready(a) : a(m);
        a.selector !== n &&
          ((this.selector = a.selector), (this.context = a.context));
        return m.makeArray(a, this);
      }).prototype = m.fn;
      var Bb = m(D);
      var Cb = /^(?:parents|prev(?:Until|All))/,
        Db = { children: !0, contents: !0, next: !0, prev: !0 };
      m.fn.extend({
        has: function (a) {
          var c = m(a, this),
            b = c.length;
          return this.filter(function () {
            for (var a = 0; a < b; a++) if (m.contains(this, c[a])) return !0;
          });
        },
        closest: function (a, c) {
          for (
            var b,
              g = 0,
              e = this.length,
              t = [],
              p =
                ab.test(a) || "string" !== typeof a
                  ? m(a, c || this.context)
                  : 0;
            g < e;
            g++
          )
            for (b = this[g]; b && b !== c; b = b.parentNode)
              if (
                11 > b.nodeType &&
                (p
                  ? -1 < p.index(b)
                  : 1 === b.nodeType && m.find.matchesSelector(b, a))
              ) {
                t.push(b);
                break;
              }
          return this.pushStack(1 < t.length ? m.uniqueSort(t) : t);
        },
        index: function (a) {
          return a
            ? "string" === typeof a
              ? fa.call(m(a), this[0])
              : fa.call(this, a.jquery ? a[0] : a)
            : this[0] && this[0].parentNode
            ? this.first().prevAll().length
            : -1;
        },
        add: function (a, c) {
          return this.pushStack(m.uniqueSort(m.merge(this.get(), m(a, c))));
        },
        addBack: function (a) {
          return this.add(
            null == a ? this.prevObject : this.prevObject.filter(a)
          );
        },
      });
      m.each(
        {
          parent: function (a) {
            return (a = a.parentNode) && 11 !== a.nodeType ? a : null;
          },
          parents: function (a) {
            return ra(a, "parentNode");
          },
          parentsUntil: function (a, c, b) {
            return ra(a, "parentNode", b);
          },
          next: function (a) {
            return l(a, "nextSibling");
          },
          prev: function (a) {
            return l(a, "previousSibling");
          },
          nextAll: function (a) {
            return ra(a, "nextSibling");
          },
          prevAll: function (a) {
            return ra(a, "previousSibling");
          },
          nextUntil: function (a, c, b) {
            return ra(a, "nextSibling", b);
          },
          prevUntil: function (a, c, b) {
            return ra(a, "previousSibling", b);
          },
          siblings: function (a) {
            return $a((a.parentNode || {}).firstChild, a);
          },
          children: function (a) {
            return $a(a.firstChild);
          },
          contents: function (a) {
            return a.contentDocument || m.merge([], a.childNodes);
          },
        },
        function (a, c) {
          m.fn[a] = function (b, g) {
            var e = m.map(this, c, b);
            "Until" !== a.slice(-5) && (g = b);
            g && "string" === typeof g && (e = m.filter(g, e));
            1 < this.length &&
              (Db[a] || m.uniqueSort(e), Cb.test(a) && e.reverse());
            return this.pushStack(e);
          };
        }
      );
      var aa = /\S+/g;
      m.Callbacks = function (a) {
        a = "string" === typeof a ? r(a) : m.extend({}, a);
        var c,
          b,
          g,
          e,
          t = [],
          p = [],
          d = -1,
          f = function () {
            e = a.once;
            for (g = c = !0; p.length; d = -1)
              for (b = p.shift(); ++d < t.length; )
                !1 === t[d].apply(b[0], b[1]) &&
                  a.stopOnFalse &&
                  ((d = t.length), (b = !1));
            a.memory || (b = !1);
            c = !1;
            e && (t = b ? [] : "");
          },
          h = {
            add: function () {
              t &&
                (b && !c && ((d = t.length - 1), p.push(b)),
                (function tb(c) {
                  m.each(c, function (c, b) {
                    m.isFunction(b)
                      ? (a.unique && h.has(b)) || t.push(b)
                      : b && b.length && "string" !== m.type(b) && tb(b);
                  });
                })(arguments),
                b && !c && f());
              return this;
            },
            remove: function () {
              m.each(arguments, function (a, c) {
                for (var b; -1 < (b = m.inArray(c, t, b)); )
                  t.splice(b, 1), b <= d && d--;
              });
              return this;
            },
            has: function (a) {
              return a ? -1 < m.inArray(a, t) : 0 < t.length;
            },
            empty: function () {
              t && (t = []);
              return this;
            },
            disable: function () {
              e = p = [];
              t = b = "";
              return this;
            },
            disabled: function () {
              return !t;
            },
            lock: function () {
              e = p = [];
              b || (t = b = "");
              return this;
            },
            locked: function () {
              return !!e;
            },
            fireWith: function (a, b) {
              e ||
                ((b = b || []),
                (b = [a, b.slice ? b.slice() : b]),
                p.push(b),
                c || f());
              return this;
            },
            fire: function () {
              h.fireWith(this, arguments);
              return this;
            },
            fired: function () {
              return !!g;
            },
          };
        return h;
      };
      m.extend({
        Deferred: function (a) {
          var c = [
              ["resolve", "done", m.Callbacks("once memory"), "resolved"],
              ["reject", "fail", m.Callbacks("once memory"), "rejected"],
              ["notify", "progress", m.Callbacks("memory")],
            ],
            b = "pending",
            g = {
              state: function () {
                return b;
              },
              always: function () {
                e.done(arguments).fail(arguments);
                return this;
              },
              then: function () {
                var a = arguments;
                return m
                  .Deferred(function (b) {
                    m.each(c, function (c, t) {
                      var p = m.isFunction(a[c]) && a[c];
                      e[t[1]](function () {
                        var a = p && p.apply(this, arguments);
                        if (a && m.isFunction(a.promise))
                          a.promise()
                            .progress(b.notify)
                            .done(b.resolve)
                            .fail(b.reject);
                        else
                          b[t[0] + "With"](
                            this === g ? b.promise() : this,
                            p ? [a] : arguments
                          );
                      });
                    });
                    a = null;
                  })
                  .promise();
              },
              promise: function (a) {
                return null != a ? m.extend(a, g) : g;
              },
            },
            e = {};
          g.pipe = g.then;
          m.each(c, function (a, t) {
            var p = t[2],
              d = t[3];
            g[t[1]] = p.add;
            d &&
              p.add(
                function () {
                  b = d;
                },
                c[a ^ 1][2].disable,
                c[2][2].lock
              );
            e[t[0]] = function () {
              e[t[0] + "With"](this === e ? g : this, arguments);
              return this;
            };
            e[t[0] + "With"] = p.fireWith;
          });
          g.promise(e);
          a && a.call(e, e);
          return e;
        },
        when: function (a) {
          var c = 0,
            b = Q.call(arguments),
            g = b.length,
            e = 1 !== g || (a && m.isFunction(a.promise)) ? g : 0,
            t = 1 === e ? a : m.Deferred(),
            p = function (a, c, b) {
              return function (g) {
                c[a] = this;
                b[a] = 1 < arguments.length ? Q.call(arguments) : g;
                b === f ? t.notifyWith(c, b) : --e || t.resolveWith(c, b);
              };
            },
            d;
          if (1 < g) {
            var f = Array(g);
            var h = Array(g);
            for (d = Array(g); c < g; c++)
              b[c] && m.isFunction(b[c].promise)
                ? b[c]
                    .promise()
                    .progress(p(c, h, f))
                    .done(p(c, d, b))
                    .fail(t.reject)
                : --e;
          }
          e || t.resolveWith(d, b);
          return t.promise();
        },
      });
      var Ha;
      m.fn.ready = function (a) {
        m.ready.promise().done(a);
        return this;
      };
      m.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function (a) {
          a ? m.readyWait++ : m.ready(!0);
        },
        ready: function (a) {
          (!0 === a ? --m.readyWait : m.isReady) ||
            ((m.isReady = !0),
            (!0 !== a && 0 < --m.readyWait) ||
              (Ha.resolveWith(D, [m]),
              m.fn.triggerHandler &&
                (m(D).triggerHandler("ready"), m(D).off("ready"))));
        },
      });
      m.ready.promise = function (a) {
        Ha ||
          ((Ha = m.Deferred()),
          "complete" === D.readyState ||
          ("loading" !== D.readyState && !D.documentElement.doScroll)
            ? b.setTimeout(m.ready)
            : (D.addEventListener("DOMContentLoaded", u),
              b.addEventListener("load", u)));
        return Ha.promise(a);
      };
      m.ready.promise();
      var U = function (a, c, b, g, e, p, d) {
          var t = 0,
            f = a.length,
            h = null == b;
          if ("object" === m.type(b))
            for (t in ((e = !0), b)) U(a, c, t, b[t], !0, p, d);
          else if (
            g !== n &&
            ((e = !0),
            m.isFunction(g) || (d = !0),
            h &&
              (d
                ? (c.call(a, g), (c = null))
                : ((h = c),
                  (c = function (a, c, b) {
                    return h.call(m(a), b);
                  }))),
            c)
          )
            for (; t < f; t++) c(a[t], b, d ? g : g.call(a[t], t, c(a[t], b)));
          return e ? a : h ? c.call(a) : f ? c(a[0], b) : p;
        },
        Aa = function (a) {
          return 1 === a.nodeType || 9 === a.nodeType || !+a.nodeType;
        };
      v.uid = 1;
      v.prototype = {
        register: function (a, c) {
          c = c || {};
          a.nodeType
            ? (a[this.expando] = c)
            : Object.defineProperty(a, this.expando, {
                value: c,
                writable: !0,
                configurable: !0,
              });
          return a[this.expando];
        },
        cache: function (a) {
          if (!Aa(a)) return {};
          var c = a[this.expando];
          c ||
            ((c = {}),
            Aa(a) &&
              (a.nodeType
                ? (a[this.expando] = c)
                : Object.defineProperty(a, this.expando, {
                    value: c,
                    configurable: !0,
                  })));
          return c;
        },
        set: function (a, c, b) {
          var g;
          a = this.cache(a);
          if ("string" === typeof c) a[c] = b;
          else for (g in c) a[g] = c[g];
          return a;
        },
        get: function (a, c) {
          return c === n
            ? this.cache(a)
            : a[this.expando] && a[this.expando][c];
        },
        access: function (a, c, b) {
          if (c === n || (c && "string" === typeof c && b === n))
            return (
              (b = this.get(a, c)), b !== n ? b : this.get(a, m.camelCase(c))
            );
          this.set(a, c, b);
          return b !== n ? b : c;
        },
        remove: function (a, c) {
          var b = a[this.expando];
          if (b !== n) {
            if (c === n) this.register(a);
            else {
              if (m.isArray(c)) var g = c.concat(c.map(m.camelCase));
              else {
                var e = m.camelCase(c);
                c in b
                  ? (g = [c, e])
                  : ((g = e), (g = g in b ? [g] : g.match(aa) || []));
              }
              for (e = g.length; e--; ) delete b[g[e]];
            }
            if (c === n || m.isEmptyObject(b))
              a.nodeType ? (a[this.expando] = n) : delete a[this.expando];
          }
        },
        hasData: function (a) {
          a = a[this.expando];
          return a !== n && !m.isEmptyObject(a);
        },
      };
      var F = new v(),
        R = new v(),
        ob = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        Ta = /[A-Z]/g;
      m.extend({
        hasData: function (a) {
          return R.hasData(a) || F.hasData(a);
        },
        data: function (a, c, b) {
          return R.access(a, c, b);
        },
        removeData: function (a, c) {
          R.remove(a, c);
        },
        _data: function (a, c, b) {
          return F.access(a, c, b);
        },
        _removeData: function (a, c) {
          F.remove(a, c);
        },
      });
      m.fn.extend({
        data: function (a, c) {
          var b,
            g = this[0],
            e = g && g.attributes;
          if (a === n) {
            if (this.length) {
              var p = R.get(g);
              if (1 === g.nodeType && !F.get(g, "hasDataAttrs")) {
                for (b = e.length; b--; )
                  if (e[b]) {
                    var t = e[b].name;
                    0 === t.indexOf("data-") &&
                      ((t = m.camelCase(t.slice(5))), q(g, t, p[t]));
                  }
                F.set(g, "hasDataAttrs", !0);
              }
            }
            return p;
          }
          return "object" === typeof a
            ? this.each(function () {
                R.set(this, a);
              })
            : U(
                this,
                function (c) {
                  if (g && c === n) {
                    var b =
                      R.get(g, a) ||
                      R.get(g, a.replace(Ta, "-$\x26").toLowerCase());
                    if (b !== n) return b;
                    var e = m.camelCase(a);
                    b = R.get(g, e);
                    if (b !== n) return b;
                    b = q(g, e, n);
                    if (b !== n) return b;
                  } else
                    (e = m.camelCase(a)),
                      this.each(function () {
                        var b = R.get(this, e);
                        R.set(this, e, c);
                        -1 < a.indexOf("-") && b !== n && R.set(this, a, c);
                      });
                },
                null,
                c,
                1 < arguments.length,
                null,
                !0
              );
        },
        removeData: function (a) {
          return this.each(function () {
            R.remove(this, a);
          });
        },
      });
      m.extend({
        queue: function (a, c, b) {
          if (a) {
            c = (c || "fx") + "queue";
            var g = F.get(a, c);
            b &&
              (!g || m.isArray(b)
                ? (g = F.access(a, c, m.makeArray(b)))
                : g.push(b));
            return g || [];
          }
        },
        dequeue: function (a, c) {
          c = c || "fx";
          var b = m.queue(a, c),
            g = b.length,
            e = b.shift(),
            p = m._queueHooks(a, c),
            t = function () {
              m.dequeue(a, c);
            };
          "inprogress" === e && ((e = b.shift()), g--);
          e &&
            ("fx" === c && b.unshift("inprogress"),
            delete p.stop,
            e.call(a, t, p));
          !g && p && p.empty.fire();
        },
        _queueHooks: function (a, c) {
          var b = c + "queueHooks";
          return (
            F.get(a, b) ||
            F.access(a, b, {
              empty: m.Callbacks("once memory").add(function () {
                F.remove(a, [c + "queue", b]);
              }),
            })
          );
        },
      });
      m.fn.extend({
        queue: function (a, c) {
          var b = 2;
          "string" !== typeof a && ((c = a), (a = "fx"), b--);
          return arguments.length < b
            ? m.queue(this[0], a)
            : c === n
            ? this
            : this.each(function () {
                var b = m.queue(this, a, c);
                m._queueHooks(this, a);
                "fx" === a && "inprogress" !== b[0] && m.dequeue(this, a);
              });
        },
        dequeue: function (a) {
          return this.each(function () {
            m.dequeue(this, a);
          });
        },
        clearQueue: function (a) {
          return this.queue(a || "fx", []);
        },
        promise: function (a, c) {
          var b,
            g = 1,
            e = m.Deferred(),
            p = this,
            t = this.length,
            d = function () {
              --g || e.resolveWith(p, [p]);
            };
          "string" !== typeof a && ((c = a), (a = n));
          for (a = a || "fx"; t--; )
            (b = F.get(p[t], a + "queueHooks")) &&
              b.empty &&
              (g++, b.empty.add(d));
          d();
          return e.promise(c);
        },
      });
      var cb = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        va = new RegExp("^(?:([+-])\x3d|)(" + cb + ")([a-z%]*)$", "i"),
        ba = ["Top", "Right", "Bottom", "Left"],
        xa = function (a, c) {
          a = c || a;
          return (
            "none" === m.css(a, "display") || !m.contains(a.ownerDocument, a)
          );
        },
        db = /^(?:checkbox|radio)$/i,
        Ua = /<([\w:-]+)/,
        Va = /^$|\/(?:java|ecma)script/i,
        V = {
          option: [
            1,
            "\x3cselect multiple\x3d'multiple'\x3e",
            "\x3c/select\x3e",
          ],
          thead: [1, "\x3ctable\x3e", "\x3c/table\x3e"],
          col: [
            2,
            "\x3ctable\x3e\x3ccolgroup\x3e",
            "\x3c/colgroup\x3e\x3c/table\x3e",
          ],
          tr: [2, "\x3ctable\x3e\x3ctbody\x3e", "\x3c/tbody\x3e\x3c/table\x3e"],
          td: [
            3,
            "\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e",
            "\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e",
          ],
          _default: [0, "", ""],
        };
      V.optgroup = V.option;
      V.tbody = V.tfoot = V.colgroup = V.caption = V.thead;
      V.th = V.td;
      var qb = /<|&#?\w+;/;
      (function () {
        var a = D.createDocumentFragment().appendChild(D.createElement("div")),
          c = D.createElement("input");
        c.setAttribute("type", "radio");
        c.setAttribute("checked", "checked");
        c.setAttribute("name", "t");
        a.appendChild(c);
        I.checkClone = a.cloneNode(!0).cloneNode(!0).lastChild.checked;
        a.innerHTML = "\x3ctextarea\x3ex\x3c/textarea\x3e";
        I.noCloneChecked = !!a.cloneNode(!0).lastChild.defaultValue;
      })();
      var Eb = /^key/,
        Fb = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        eb = /^([^.]*)(?:\.(.+)|)/;
      m.event = {
        global: {},
        add: function (a, c, b, g, e) {
          var p, t, d, f, h;
          if ((d = F.get(a))) {
            if (b.handler) {
              var q = b;
              b = q.handler;
              e = q.selector;
            }
            b.guid || (b.guid = m.guid++);
            (t = d.events) || (t = d.events = {});
            (p = d.handle) ||
              (p = d.handle =
                function (c) {
                  return "undefined" !== typeof m &&
                    m.event.triggered !== c.type
                    ? m.event.dispatch.apply(a, arguments)
                    : n;
                });
            c = (c || "").match(aa) || [""];
            for (d = c.length; d--; ) {
              var l = eb.exec(c[d]) || [];
              var k = (f = l[1]);
              var C = (l[2] || "").split(".").sort();
              k &&
                ((l = m.event.special[k] || {}),
                (k = (e ? l.delegateType : l.bindType) || k),
                (l = m.event.special[k] || {}),
                (f = m.extend(
                  {
                    type: k,
                    origType: f,
                    data: g,
                    handler: b,
                    guid: b.guid,
                    selector: e,
                    needsContext: e && m.expr.match.needsContext.test(e),
                    namespace: C.join("."),
                  },
                  q
                )),
                (h = t[k]) ||
                  ((h = t[k] = []),
                  (h.delegateCount = 0),
                  (l.setup && !1 !== l.setup.call(a, g, C, p)) ||
                    (a.addEventListener && a.addEventListener(k, p))),
                l.add &&
                  (l.add.call(a, f),
                  f.handler.guid || (f.handler.guid = b.guid)),
                e ? h.splice(h.delegateCount++, 0, f) : h.push(f),
                (m.event.global[k] = !0));
            }
          }
        },
        remove: function (a, c, b, g, e) {
          var p,
            d,
            t,
            f,
            h,
            q = F.hasData(a) && F.get(a);
          if (q && (t = q.events)) {
            c = (c || "").match(aa) || [""];
            for (f = c.length; f--; ) {
              var l = eb.exec(c[f]) || [];
              var k = (h = l[1]);
              var C = (l[2] || "").split(".").sort();
              if (k) {
                var u = m.event.special[k] || {};
                k = (g ? u.delegateType : u.bindType) || k;
                var r = t[k] || [];
                l =
                  l[2] &&
                  new RegExp("(^|\\.)" + C.join("\\.(?:.*\\.|)") + "(\\.|$)");
                for (d = p = r.length; p--; ) {
                  var y = r[p];
                  (!e && h !== y.origType) ||
                    (b && b.guid !== y.guid) ||
                    (l && !l.test(y.namespace)) ||
                    (g && g !== y.selector && ("**" !== g || !y.selector)) ||
                    (r.splice(p, 1),
                    y.selector && r.delegateCount--,
                    u.remove && u.remove.call(a, y));
                }
                d &&
                  !r.length &&
                  ((u.teardown && !1 !== u.teardown.call(a, C, q.handle)) ||
                    m.removeEvent(a, k, q.handle),
                  delete t[k]);
              } else for (k in t) m.event.remove(a, k + c[f], b, g, !0);
            }
            m.isEmptyObject(t) && F.remove(a, "handle events");
          }
        },
        dispatch: function (a) {
          a = m.event.fix(a);
          var c,
            b,
            g,
            e = Q.call(arguments);
          var p = (F.get(this, "events") || {})[a.type] || [];
          var d = m.event.special[a.type] || {};
          e[0] = a;
          a.delegateTarget = this;
          if (!d.preDispatch || !1 !== d.preDispatch.call(this, a)) {
            var t = m.event.handlers.call(this, a, p);
            for (p = 0; (g = t[p++]) && !a.isPropagationStopped(); )
              for (
                a.currentTarget = g.elem, c = 0;
                (b = g.handlers[c++]) && !a.isImmediatePropagationStopped();

              )
                if (!a.rnamespace || a.rnamespace.test(b.namespace))
                  (a.handleObj = b),
                    (a.data = b.data),
                    (b = (
                      (m.event.special[b.origType] || {}).handle || b.handler
                    ).apply(g.elem, e)),
                    b !== n &&
                      !1 === (a.result = b) &&
                      (a.preventDefault(), a.stopPropagation());
            d.postDispatch && d.postDispatch.call(this, a);
            return a.result;
          }
        },
        handlers: function (a, c) {
          var b,
            g = [],
            e = c.delegateCount,
            p = a.target;
          if (
            e &&
            p.nodeType &&
            ("click" !== a.type || isNaN(a.button) || 1 > a.button)
          )
            for (; p !== this; p = p.parentNode || this)
              if (
                1 === p.nodeType &&
                (!0 !== p.disabled || "click" !== a.type)
              ) {
                var d = [];
                for (b = 0; b < e; b++) {
                  var t = c[b];
                  var f = t.selector + " ";
                  d[f] === n &&
                    (d[f] = t.needsContext
                      ? -1 < m(f, this).index(p)
                      : m.find(f, this, null, [p]).length);
                  d[f] && d.push(t);
                }
                d.length && g.push({ elem: p, handlers: d });
              }
          e < c.length && g.push({ elem: this, handlers: c.slice(e) });
          return g;
        },
        props:
          "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(
            " "
          ),
        fixHooks: {},
        keyHooks: {
          props: ["char", "charCode", "key", "keyCode"],
          filter: function (a, c) {
            null == a.which &&
              (a.which = null != c.charCode ? c.charCode : c.keyCode);
            return a;
          },
        },
        mouseHooks: {
          props:
            "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(
              " "
            ),
          filter: function (a, c) {
            var b = c.button;
            if (null == a.pageX && null != c.clientX) {
              var g = a.target.ownerDocument || D;
              var e = g.documentElement;
              g = g.body;
              a.pageX =
                c.clientX +
                ((e && e.scrollLeft) || (g && g.scrollLeft) || 0) -
                ((e && e.clientLeft) || (g && g.clientLeft) || 0);
              a.pageY =
                c.clientY +
                ((e && e.scrollTop) || (g && g.scrollTop) || 0) -
                ((e && e.clientTop) || (g && g.clientTop) || 0);
            }
            a.which ||
              b === n ||
              (a.which = b & 1 ? 1 : b & 2 ? 3 : b & 4 ? 2 : 0);
            return a;
          },
        },
        fix: function (a) {
          if (a[m.expando]) return a;
          var c = a.type;
          var b = a,
            g = this.fixHooks[c];
          g ||
            (this.fixHooks[c] = g =
              Fb.test(c) ? this.mouseHooks : Eb.test(c) ? this.keyHooks : {});
          var e = g.props ? this.props.concat(g.props) : this.props;
          a = new m.Event(b);
          for (c = e.length; c--; ) {
            var p = e[c];
            a[p] = b[p];
          }
          a.target || (a.target = D);
          3 === a.target.nodeType && (a.target = a.target.parentNode);
          return g.filter ? g.filter(a, b) : a;
        },
        special: {
          load: { noBubble: !0 },
          focus: {
            trigger: function () {
              if (this !== c() && this.focus) return this.focus(), !1;
            },
            delegateType: "focusin",
          },
          blur: {
            trigger: function () {
              if (this === c() && this.blur) return this.blur(), !1;
            },
            delegateType: "focusout",
          },
          click: {
            trigger: function () {
              if (
                "checkbox" === this.type &&
                this.click &&
                m.nodeName(this, "input")
              )
                return this.click(), !1;
            },
            _default: function (a) {
              return m.nodeName(a.target, "a");
            },
          },
          beforeunload: {
            postDispatch: function (a) {
              a.result !== n &&
                a.originalEvent &&
                (a.originalEvent.returnValue = a.result);
            },
          },
        },
      };
      m.removeEvent = function (a, c, b) {
        a.removeEventListener && a.removeEventListener(c, b);
      };
      m.Event = function (c, b) {
        if (!(this instanceof m.Event)) return new m.Event(c, b);
        c && c.type
          ? ((this.originalEvent = c),
            (this.type = c.type),
            (this.isDefaultPrevented =
              c.defaultPrevented ||
              (c.defaultPrevented === n && !1 === c.returnValue)
                ? x
                : a))
          : (this.type = c);
        b && m.extend(this, b);
        this.timeStamp = (c && c.timeStamp) || m.now();
        this[m.expando] = !0;
      };
      m.Event.prototype = {
        constructor: m.Event,
        isDefaultPrevented: a,
        isPropagationStopped: a,
        isImmediatePropagationStopped: a,
        isSimulated: !1,
        preventDefault: function () {
          var a = this.originalEvent;
          this.isDefaultPrevented = x;
          a && !this.isSimulated && a.preventDefault();
        },
        stopPropagation: function () {
          var a = this.originalEvent;
          this.isPropagationStopped = x;
          a && !this.isSimulated && a.stopPropagation();
        },
        stopImmediatePropagation: function () {
          var a = this.originalEvent;
          this.isImmediatePropagationStopped = x;
          a && !this.isSimulated && a.stopImmediatePropagation();
          this.stopPropagation();
        },
      };
      m.each(
        {
          mouseenter: "mouseover",
          mouseleave: "mouseout",
          pointerenter: "pointerover",
          pointerleave: "pointerout",
        },
        function (a, c) {
          m.event.special[a] = {
            delegateType: c,
            bindType: c,
            handle: function (a) {
              var b = a.relatedTarget,
                g = a.handleObj;
              if (!b || (b !== this && !m.contains(this, b))) {
                a.type = g.origType;
                var e = g.handler.apply(this, arguments);
                a.type = c;
              }
              return e;
            },
          };
        }
      );
      m.fn.extend({
        on: function (a, c, b, e) {
          return g(this, a, c, b, e);
        },
        one: function (a, c, b, e) {
          return g(this, a, c, b, e, 1);
        },
        off: function (c, b, g) {
          if (c && c.preventDefault && c.handleObj) {
            var e = c.handleObj;
            m(c.delegateTarget).off(
              e.namespace ? e.origType + "." + e.namespace : e.origType,
              e.selector,
              e.handler
            );
            return this;
          }
          if ("object" === typeof c) {
            for (e in c) this.off(e, b, c[e]);
            return this;
          }
          if (!1 === b || "function" === typeof b) (g = b), (b = n);
          !1 === g && (g = a);
          return this.each(function () {
            m.event.remove(this, c, g, b);
          });
        },
      });
      var Gb =
          /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
        Hb = /<script|<style|<link/i,
        sb = /checked\s*(?:[^=]|=\s*.checked.)/i,
        rb = /^true\/(.*)/,
        ub = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;
      m.extend({
        htmlPrefilter: function (a) {
          return a.replace(Gb, "\x3c$1\x3e\x3c/$2\x3e");
        },
        clone: function (a, c, b) {
          var g,
            p = a.cloneNode(!0),
            d = m.contains(a.ownerDocument, a);
          if (
            !(
              I.noCloneChecked ||
              (1 !== a.nodeType && 11 !== a.nodeType) ||
              m.isXMLDoc(a)
            )
          ) {
            var f = e(p);
            var t = e(a);
            var h = 0;
            for (g = t.length; h < g; h++) {
              var q = t[h],
                l = f[h],
                k = l.nodeName.toLowerCase();
              if ("input" === k && db.test(q.type)) l.checked = q.checked;
              else if ("input" === k || "textarea" === k)
                l.defaultValue = q.defaultValue;
            }
          }
          if (c)
            if (b)
              for (
                t = t || e(a), f = f || e(p), h = 0, g = t.length;
                h < g;
                h++
              )
                M(t[h], f[h]);
            else M(a, p);
          f = e(p, "script");
          0 < f.length && B(f, !d && e(a, "script"));
          return p;
        },
        cleanData: function (a) {
          for (var c, b, g, e = m.event.special, p = 0; (b = a[p]) !== n; p++)
            if (Aa(b)) {
              if ((c = b[F.expando])) {
                if (c.events)
                  for (g in c.events)
                    e[g] ? m.event.remove(b, g) : m.removeEvent(b, g, c.handle);
                b[F.expando] = n;
              }
              b[R.expando] && (b[R.expando] = n);
            }
        },
      });
      m.fn.extend({
        domManip: H,
        detach: function (a) {
          return E(this, a, !0);
        },
        remove: function (a) {
          return E(this, a);
        },
        text: function (a) {
          return U(
            this,
            function (a) {
              return a === n
                ? m.text(this)
                : this.empty().each(function () {
                    if (
                      1 === this.nodeType ||
                      11 === this.nodeType ||
                      9 === this.nodeType
                    )
                      this.textContent = a;
                  });
            },
            null,
            a,
            arguments.length
          );
        },
        append: function () {
          return H(this, arguments, function (a) {
            (1 !== this.nodeType &&
              11 !== this.nodeType &&
              9 !== this.nodeType) ||
              p(this, a).appendChild(a);
          });
        },
        prepend: function () {
          return H(this, arguments, function (a) {
            if (
              1 === this.nodeType ||
              11 === this.nodeType ||
              9 === this.nodeType
            ) {
              var c = p(this, a);
              c.insertBefore(a, c.firstChild);
            }
          });
        },
        before: function () {
          return H(this, arguments, function (a) {
            this.parentNode && this.parentNode.insertBefore(a, this);
          });
        },
        after: function () {
          return H(this, arguments, function (a) {
            this.parentNode &&
              this.parentNode.insertBefore(a, this.nextSibling);
          });
        },
        empty: function () {
          for (var a, c = 0; null != (a = this[c]); c++)
            1 === a.nodeType && (m.cleanData(e(a, !1)), (a.textContent = ""));
          return this;
        },
        clone: function (a, c) {
          a = null == a ? !1 : a;
          c = null == c ? a : c;
          return this.map(function () {
            return m.clone(this, a, c);
          });
        },
        html: function (a) {
          return U(
            this,
            function (a) {
              var c = this[0] || {},
                b = 0,
                g = this.length;
              if (a === n && 1 === c.nodeType) return c.innerHTML;
              if (
                "string" === typeof a &&
                !Hb.test(a) &&
                !V[(Ua.exec(a) || ["", ""])[1].toLowerCase()]
              ) {
                a = m.htmlPrefilter(a);
                try {
                  for (; b < g; b++)
                    (c = this[b] || {}),
                      1 === c.nodeType &&
                        (m.cleanData(e(c, !1)), (c.innerHTML = a));
                  c = 0;
                } catch (cc) {}
              }
              c && this.empty().append(a);
            },
            null,
            a,
            arguments.length
          );
        },
        replaceWith: function () {
          var a = [];
          return H(
            this,
            arguments,
            function (c) {
              var b = this.parentNode;
              0 > m.inArray(this, a) &&
                (m.cleanData(e(this)), b && b.replaceChild(c, this));
            },
            a
          );
        },
      });
      m.each(
        {
          appendTo: "append",
          prependTo: "prepend",
          insertBefore: "before",
          insertAfter: "after",
          replaceAll: "replaceWith",
        },
        function (a, c) {
          m.fn[a] = function (a) {
            for (var b = [], g = m(a), e = g.length - 1, p = 0; p <= e; p++)
              (a = p === e ? this : this.clone(!0)),
                m(g[p])[c](a),
                qa.apply(b, a.get());
            return this.pushStack(b);
          };
        }
      );
      var Fa,
        Wa = { HTML: "block", BODY: "block" },
        Xa = /^margin/,
        Ja = new RegExp("^(" + cb + ")(?!px)[a-z%]+$", "i"),
        Ga = function (a) {
          var c = a.ownerDocument.defaultView;
          (c && c.opener) || (c = b);
          return c.getComputedStyle(a);
        },
        Na = function (a, c, b, g) {
          var e,
            p = {};
          for (e in c) (p[e] = a.style[e]), (a.style[e] = c[e]);
          b = b.apply(a, g || []);
          for (e in c) a.style[e] = p[e];
          return b;
        },
        Ba = D.documentElement;
      (function () {
        function a() {
          f.style.cssText =
            "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";
          f.innerHTML = "";
          Ba.appendChild(d);
          var a = b.getComputedStyle(f);
          c = "1%" !== a.top;
          p = "2px" === a.marginLeft;
          g = "4px" === a.width;
          f.style.marginRight = "50%";
          e = "4px" === a.marginRight;
          Ba.removeChild(d);
        }
        var c,
          g,
          e,
          p,
          d = D.createElement("div"),
          f = D.createElement("div");
        f.style &&
          ((f.style.backgroundClip = "content-box"),
          (f.cloneNode(!0).style.backgroundClip = ""),
          (I.clearCloneStyle = "content-box" === f.style.backgroundClip),
          (d.style.cssText =
            "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute"),
          d.appendChild(f),
          m.extend(I, {
            pixelPosition: function () {
              a();
              return c;
            },
            boxSizingReliable: function () {
              null == g && a();
              return g;
            },
            pixelMarginRight: function () {
              null == g && a();
              return e;
            },
            reliableMarginLeft: function () {
              null == g && a();
              return p;
            },
            reliableMarginRight: function () {
              var a = f.appendChild(D.createElement("div"));
              a.style.cssText = f.style.cssText =
                "-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";
              a.style.marginRight = a.style.width = "0";
              f.style.width = "1px";
              Ba.appendChild(d);
              var c = !parseFloat(b.getComputedStyle(a).marginRight);
              Ba.removeChild(d);
              f.removeChild(a);
              return c;
            },
          }));
      })();
      var Ib = /^(none|table(?!-c[ea]).+)/,
        Jb = { position: "absolute", visibility: "hidden", display: "block" },
        fb = { letterSpacing: "0", fontWeight: "400" },
        Za = ["Webkit", "O", "Moz", "ms"],
        Ya = D.createElement("div").style;
      m.extend({
        cssHooks: {
          opacity: {
            get: function (a, c) {
              if (c) return (a = W(a, "opacity")), "" === a ? "1" : a;
            },
          },
        },
        cssNumber: {
          animationIterationCount: !0,
          columnCount: !0,
          fillOpacity: !0,
          flexGrow: !0,
          flexShrink: !0,
          fontWeight: !0,
          lineHeight: !0,
          opacity: !0,
          order: !0,
          orphans: !0,
          widows: !0,
          zIndex: !0,
          zoom: !0,
        },
        cssProps: { float: "cssFloat" },
        style: function (a, c, b, g) {
          if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
            var e,
              p = m.camelCase(c),
              d = a.style;
            c = m.cssProps[p] || (m.cssProps[p] = S(p) || p);
            var f = m.cssHooks[c] || m.cssHooks[p];
            if (b !== n) {
              var h = typeof b;
              "string" === h &&
                (e = va.exec(b)) &&
                e[1] &&
                ((b = y(a, c, e)), (h = "number"));
              null != b &&
                b === b &&
                ("number" === h &&
                  (b += (e && e[3]) || (m.cssNumber[p] ? "" : "px")),
                I.clearCloneStyle ||
                  "" !== b ||
                  0 !== c.indexOf("background") ||
                  (d[c] = "inherit"),
                (f && "set" in f && (b = f.set(a, b, g)) === n) || (d[c] = b));
            } else
              return f && "get" in f && (e = f.get(a, !1, g)) !== n ? e : d[c];
          }
        },
        css: function (a, c, b, g) {
          var e;
          var p = m.camelCase(c);
          c = m.cssProps[p] || (m.cssProps[p] = S(p) || p);
          (p = m.cssHooks[c] || m.cssHooks[p]) &&
            "get" in p &&
            (e = p.get(a, !0, b));
          e === n && (e = W(a, c, g));
          "normal" === e && c in fb && (e = fb[c]);
          return "" === b || b
            ? ((a = parseFloat(e)), !0 === b || isFinite(a) ? a || 0 : e)
            : e;
        },
      });
      m.each(["height", "width"], function (a, c) {
        m.cssHooks[c] = {
          get: function (a, b, g) {
            if (b)
              return Ib.test(m.css(a, "display")) && 0 === a.offsetWidth
                ? Na(a, Jb, function () {
                    return wa(a, c, g);
                  })
                : wa(a, c, g);
          },
          set: function (a, b, g) {
            var e,
              p = g && Ga(a);
            (g =
              g &&
              T(a, c, g, "border-box" === m.css(a, "boxSizing", !1, p), p)) &&
              (e = va.exec(b)) &&
              "px" !== (e[3] || "px") &&
              ((a.style[c] = b), (b = m.css(a, c)));
            return ha(a, b, g);
          },
        };
      });
      m.cssHooks.marginLeft = sa(I.reliableMarginLeft, function (a, c) {
        if (c)
          return (
            (parseFloat(W(a, "marginLeft")) ||
              a.getBoundingClientRect().left -
                Na(a, { marginLeft: 0 }, function () {
                  return a.getBoundingClientRect().left;
                })) + "px"
          );
      });
      m.cssHooks.marginRight = sa(I.reliableMarginRight, function (a, c) {
        if (c) return Na(a, { display: "inline-block" }, W, [a, "marginRight"]);
      });
      m.each({ margin: "", padding: "", border: "Width" }, function (a, c) {
        m.cssHooks[a + c] = {
          expand: function (b) {
            var g = 0,
              e = {};
            for (b = "string" === typeof b ? b.split(" ") : [b]; 4 > g; g++)
              e[a + ba[g] + c] = b[g] || b[g - 2] || b[0];
            return e;
          },
        };
        Xa.test(a) || (m.cssHooks[a + c].set = ha);
      });
      m.fn.extend({
        css: function (a, c) {
          return U(
            this,
            function (a, c, b) {
              var g,
                e = {},
                p = 0;
              if (m.isArray(c)) {
                b = Ga(a);
                for (g = c.length; p < g; p++) e[c[p]] = m.css(a, c[p], !1, b);
                return e;
              }
              return b !== n ? m.style(a, c, b) : m.css(a, c);
            },
            a,
            c,
            1 < arguments.length
          );
        },
        show: function () {
          return ta(this, !0);
        },
        hide: function () {
          return ta(this);
        },
        toggle: function (a) {
          return "boolean" === typeof a
            ? a
              ? this.show()
              : this.hide()
            : this.each(function () {
                xa(this) ? m(this).show() : m(this).hide();
              });
        },
      });
      m.Tween = X;
      X.prototype = {
        constructor: X,
        init: function (a, c, b, g, e, p) {
          this.elem = a;
          this.prop = b;
          this.easing = e || m.easing._default;
          this.options = c;
          this.start = this.now = this.cur();
          this.end = g;
          this.unit = p || (m.cssNumber[b] ? "" : "px");
        },
        cur: function () {
          var a = X.propHooks[this.prop];
          return a && a.get ? a.get(this) : X.propHooks._default.get(this);
        },
        run: function (a) {
          var c,
            b = X.propHooks[this.prop];
          this.pos = this.options.duration
            ? (c = m.easing[this.easing](
                a,
                this.options.duration * a,
                0,
                1,
                this.options.duration
              ))
            : (c = a);
          this.now = (this.end - this.start) * c + this.start;
          this.options.step &&
            this.options.step.call(this.elem, this.now, this);
          b && b.set ? b.set(this) : X.propHooks._default.set(this);
          return this;
        },
      };
      X.prototype.init.prototype = X.prototype;
      X.propHooks = {
        _default: {
          get: function (a) {
            return 1 !== a.elem.nodeType ||
              (null != a.elem[a.prop] && null == a.elem.style[a.prop])
              ? a.elem[a.prop]
              : (a = m.css(a.elem, a.prop, "")) && "auto" !== a
              ? a
              : 0;
          },
          set: function (a) {
            if (m.fx.step[a.prop]) m.fx.step[a.prop](a);
            else
              1 !== a.elem.nodeType ||
              (null == a.elem.style[m.cssProps[a.prop]] && !m.cssHooks[a.prop])
                ? (a.elem[a.prop] = a.now)
                : m.style(a.elem, a.prop, a.now + a.unit);
          },
        },
      };
      X.propHooks.scrollTop = X.propHooks.scrollLeft = {
        set: function (a) {
          a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now);
        },
      };
      m.easing = {
        linear: function (a) {
          return a;
        },
        swing: function (a) {
          return 0.5 - Math.cos(a * Math.PI) / 2;
        },
        _default: "swing",
      };
      m.fx = X.prototype.init;
      m.fx.step = {};
      var ia,
        Ia,
        Kb = /^(?:toggle|show|hide)$/,
        Lb = /queueHooks$/;
      m.Animation = m.extend(Z, {
        tweeners: {
          "*": [
            function (a, c) {
              var b = this.createTween(a, c);
              y(b.elem, a, va.exec(c), b);
              return b;
            },
          ],
        },
        tweener: function (a, c) {
          m.isFunction(a) ? ((c = a), (a = ["*"])) : (a = a.match(aa));
          for (var b, g = 0, e = a.length; g < e; g++)
            (b = a[g]),
              (Z.tweeners[b] = Z.tweeners[b] || []),
              Z.tweeners[b].unshift(c);
        },
        prefilters: [
          function (a, c, b) {
            var g,
              e = this,
              p = {},
              d = a.style,
              f = a.nodeType && xa(a),
              h = F.get(a, "fxshow");
            if (!b.queue) {
              var q = m._queueHooks(a, "fx");
              if (null == q.unqueued) {
                q.unqueued = 0;
                var l = q.empty.fire;
                q.empty.fire = function () {
                  q.unqueued || l();
                };
              }
              q.unqueued++;
              e.always(function () {
                e.always(function () {
                  q.unqueued--;
                  m.queue(a, "fx").length || q.empty.fire();
                });
              });
            }
            if (1 === a.nodeType && ("height" in c || "width" in c)) {
              b.overflow = [d.overflow, d.overflowX, d.overflowY];
              var t = m.css(a, "display");
              var k =
                "none" === t ? F.get(a, "olddisplay") || G(a.nodeName) : t;
              "inline" === k &&
                "none" === m.css(a, "float") &&
                (d.display = "inline-block");
            }
            b.overflow &&
              ((d.overflow = "hidden"),
              e.always(function () {
                d.overflow = b.overflow[0];
                d.overflowX = b.overflow[1];
                d.overflowY = b.overflow[2];
              }));
            for (g in c)
              if (((k = c[g]), Kb.exec(k))) {
                delete c[g];
                var C = C || "toggle" === k;
                if (k === (f ? "hide" : "show"))
                  if ("show" === k && h && h[g] !== n) f = !0;
                  else continue;
                p[g] = (h && h[g]) || m.style(a, g);
              } else t = n;
            if (m.isEmptyObject(p))
              "inline" === ("none" === t ? G(a.nodeName) : t) &&
                (d.display = t);
            else
              for (g in (h
                ? "hidden" in h && (f = h.hidden)
                : (h = F.access(a, "fxshow", {})),
              C && (h.hidden = !f),
              f
                ? m(a).show()
                : e.done(function () {
                    m(a).hide();
                  }),
              e.done(function () {
                var c;
                F.remove(a, "fxshow");
                for (c in p) m.style(a, c, p[c]);
              }),
              p))
                (c = ua(f ? h[g] : 0, g, e)),
                  g in h ||
                    ((h[g] = c.start),
                    f &&
                      ((c.end = c.start),
                      (c.start = "width" === g || "height" === g ? 1 : 0)));
          },
        ],
        prefilter: function (a, c) {
          c ? Z.prefilters.unshift(a) : Z.prefilters.push(a);
        },
      });
      m.speed = function (a, c, b) {
        var g =
          a && "object" === typeof a
            ? m.extend({}, a)
            : {
                complete: b || (!b && c) || (m.isFunction(a) && a),
                duration: a,
                easing: (b && c) || (c && !m.isFunction(c) && c),
              };
        g.duration = m.fx.off
          ? 0
          : "number" === typeof g.duration
          ? g.duration
          : g.duration in m.fx.speeds
          ? m.fx.speeds[g.duration]
          : m.fx.speeds._default;
        if (null == g.queue || !0 === g.queue) g.queue = "fx";
        g.old = g.complete;
        g.complete = function () {
          m.isFunction(g.old) && g.old.call(this);
          g.queue && m.dequeue(this, g.queue);
        };
        return g;
      };
      m.fn.extend({
        fadeTo: function (a, c, b, g) {
          return this.filter(xa)
            .css("opacity", 0)
            .show()
            .end()
            .animate({ opacity: c }, a, b, g);
        },
        animate: function (a, c, b, g) {
          var e = m.isEmptyObject(a),
            p = m.speed(c, b, g);
          c = function () {
            var c = Z(this, m.extend({}, a), p);
            (e || F.get(this, "finish")) && c.stop(!0);
          };
          c.finish = c;
          return e || !1 === p.queue ? this.each(c) : this.queue(p.queue, c);
        },
        stop: function (a, c, b) {
          var g = function (a) {
            var c = a.stop;
            delete a.stop;
            c(b);
          };
          "string" !== typeof a && ((b = c), (c = a), (a = n));
          c && !1 !== a && this.queue(a || "fx", []);
          return this.each(function () {
            var c = !0,
              e = null != a && a + "queueHooks",
              p = m.timers,
              d = F.get(this);
            if (e) d[e] && d[e].stop && g(d[e]);
            else for (e in d) d[e] && d[e].stop && Lb.test(e) && g(d[e]);
            for (e = p.length; e--; )
              p[e].elem !== this ||
                (null != a && p[e].queue !== a) ||
                (p[e].anim.stop(b), (c = !1), p.splice(e, 1));
            (!c && b) || m.dequeue(this, a);
          });
        },
        finish: function (a) {
          !1 !== a && (a = a || "fx");
          return this.each(function () {
            var c = F.get(this),
              b = c[a + "queue"];
            var g = c[a + "queueHooks"];
            var e = m.timers,
              p = b ? b.length : 0;
            c.finish = !0;
            m.queue(this, a, []);
            g && g.stop && g.stop.call(this, !0);
            for (g = e.length; g--; )
              e[g].elem === this &&
                e[g].queue === a &&
                (e[g].anim.stop(!0), e.splice(g, 1));
            for (g = 0; g < p; g++)
              b[g] && b[g].finish && b[g].finish.call(this);
            delete c.finish;
          });
        },
      });
      m.each(["toggle", "show", "hide"], function (a, c) {
        var b = m.fn[c];
        m.fn[c] = function (a, g, e) {
          return null == a || "boolean" === typeof a
            ? b.apply(this, arguments)
            : this.animate(da(c, !0), a, g, e);
        };
      });
      m.each(
        {
          slideDown: da("show"),
          slideUp: da("hide"),
          slideToggle: da("toggle"),
          fadeIn: { opacity: "show" },
          fadeOut: { opacity: "hide" },
          fadeToggle: { opacity: "toggle" },
        },
        function (a, c) {
          m.fn[a] = function (a, b, g) {
            return this.animate(c, a, b, g);
          };
        }
      );
      m.timers = [];
      m.fx.tick = function () {
        var a = 0,
          c = m.timers;
        for (ia = m.now(); a < c.length; a++) {
          var b = c[a];
          b() || c[a] !== b || c.splice(a--, 1);
        }
        c.length || m.fx.stop();
        ia = n;
      };
      m.fx.timer = function (a) {
        m.timers.push(a);
        a() ? m.fx.start() : m.timers.pop();
      };
      m.fx.interval = 13;
      m.fx.start = function () {
        Ia || (Ia = b.setInterval(m.fx.tick, m.fx.interval));
      };
      m.fx.stop = function () {
        b.clearInterval(Ia);
        Ia = null;
      };
      m.fx.speeds = { slow: 600, fast: 200, _default: 400 };
      m.fn.delay = function (a, c) {
        a = m.fx ? m.fx.speeds[a] || a : a;
        return this.queue(c || "fx", function (c, g) {
          var e = b.setTimeout(c, a);
          g.stop = function () {
            b.clearTimeout(e);
          };
        });
      };
      (function () {
        var a = D.createElement("input"),
          c = D.createElement("select"),
          b = c.appendChild(D.createElement("option"));
        a.type = "checkbox";
        I.checkOn = "" !== a.value;
        I.optSelected = b.selected;
        c.disabled = !0;
        I.optDisabled = !b.disabled;
        a = D.createElement("input");
        a.value = "t";
        a.type = "radio";
        I.radioValue = "t" === a.value;
      })();
      var Ca = m.expr.attrHandle;
      m.fn.extend({
        attr: function (a, c) {
          return U(this, m.attr, a, c, 1 < arguments.length);
        },
        removeAttr: function (a) {
          return this.each(function () {
            m.removeAttr(this, a);
          });
        },
      });
      m.extend({
        attr: function (a, c, b) {
          var g,
            e = a.nodeType;
          if (3 !== e && 8 !== e && 2 !== e) {
            if ("undefined" === typeof a.getAttribute) return m.prop(a, c, b);
            if (1 !== e || !m.isXMLDoc(a)) {
              c = c.toLowerCase();
              var p = m.attrHooks[c] || (m.expr.match.bool.test(c) ? Mb : n);
            }
            if (b !== n) {
              if (null === b) {
                m.removeAttr(a, c);
                return;
              }
              if (p && "set" in p && (g = p.set(a, b, c)) !== n) return g;
              a.setAttribute(c, b + "");
              return b;
            }
            if (p && "get" in p && null !== (g = p.get(a, c))) return g;
            g = m.find.attr(a, c);
            return null == g ? n : g;
          }
        },
        attrHooks: {
          type: {
            set: function (a, c) {
              if (!I.radioValue && "radio" === c && m.nodeName(a, "input")) {
                var b = a.value;
                a.setAttribute("type", c);
                b && (a.value = b);
                return c;
              }
            },
          },
        },
        removeAttr: function (a, c) {
          var b = 0,
            g = c && c.match(aa);
          if (g && 1 === a.nodeType)
            for (; (c = g[b++]); ) {
              var e = m.propFix[c] || c;
              m.expr.match.bool.test(c) && (a[e] = !1);
              a.removeAttribute(c);
            }
        },
      });
      var Mb = {
        set: function (a, c, b) {
          !1 === c ? m.removeAttr(a, b) : a.setAttribute(b, b);
          return b;
        },
      };
      m.each(m.expr.match.bool.source.match(/\w+/g), function (a, c) {
        var b = Ca[c] || m.find.attr;
        Ca[c] = function (a, c, g) {
          if (!g) {
            var e = Ca[c];
            Ca[c] = p;
            var p = null != b(a, c, g) ? c.toLowerCase() : null;
            Ca[c] = e;
          }
          return p;
        };
      });
      var Nb = /^(?:input|select|textarea|button)$/i,
        Ob = /^(?:a|area)$/i;
      m.fn.extend({
        prop: function (a, c) {
          return U(this, m.prop, a, c, 1 < arguments.length);
        },
        removeProp: function (a) {
          return this.each(function () {
            delete this[m.propFix[a] || a];
          });
        },
      });
      m.extend({
        prop: function (a, c, b) {
          var g,
            e = a.nodeType;
          if (3 !== e && 8 !== e && 2 !== e) {
            if (1 !== e || !m.isXMLDoc(a)) {
              c = m.propFix[c] || c;
              var p = m.propHooks[c];
            }
            return b !== n
              ? p && "set" in p && (g = p.set(a, b, c)) !== n
                ? g
                : (a[c] = b)
              : p && "get" in p && null !== (g = p.get(a, c))
              ? g
              : a[c];
          }
        },
        propHooks: {
          tabIndex: {
            get: function (a) {
              var c = m.find.attr(a, "tabindex");
              return c
                ? parseInt(c, 10)
                : Nb.test(a.nodeName) || (Ob.test(a.nodeName) && a.href)
                ? 0
                : -1;
            },
          },
        },
        propFix: { for: "htmlFor", class: "className" },
      });
      I.optSelected ||
        (m.propHooks.selected = {
          get: function (a) {
            (a = a.parentNode) && a.parentNode && a.parentNode.selectedIndex;
            return null;
          },
          set: function (a) {
            if ((a = a.parentNode))
              a.selectedIndex, a.parentNode && a.parentNode.selectedIndex;
          },
        });
      m.each(
        "tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(
          " "
        ),
        function () {
          m.propFix[this.toLowerCase()] = this;
        }
      );
      var Oa = /[\t\r\n\f]/g;
      m.fn.extend({
        addClass: function (a) {
          var c,
            b,
            g,
            e,
            p,
            d = 0;
          if (m.isFunction(a))
            return this.each(function (c) {
              m(this).addClass(a.call(this, c, ea(this)));
            });
          if ("string" === typeof a && a)
            for (c = a.match(aa) || []; (b = this[d++]); ) {
              var f = ea(b);
              if ((g = 1 === b.nodeType && (" " + f + " ").replace(Oa, " "))) {
                for (p = 0; (e = c[p++]); )
                  0 > g.indexOf(" " + e + " ") && (g += e + " ");
                g = m.trim(g);
                f !== g && b.setAttribute("class", g);
              }
            }
          return this;
        },
        removeClass: function (a) {
          var c,
            b,
            g,
            e,
            p,
            d = 0;
          if (m.isFunction(a))
            return this.each(function (c) {
              m(this).removeClass(a.call(this, c, ea(this)));
            });
          if (!arguments.length) return this.attr("class", "");
          if ("string" === typeof a && a)
            for (c = a.match(aa) || []; (b = this[d++]); ) {
              var f = ea(b);
              if ((g = 1 === b.nodeType && (" " + f + " ").replace(Oa, " "))) {
                for (p = 0; (e = c[p++]); )
                  for (; -1 < g.indexOf(" " + e + " "); )
                    g = g.replace(" " + e + " ", " ");
                g = m.trim(g);
                f !== g && b.setAttribute("class", g);
              }
            }
          return this;
        },
        toggleClass: function (a, c) {
          var b = typeof a;
          return "boolean" === typeof c && "string" === b
            ? c
              ? this.addClass(a)
              : this.removeClass(a)
            : m.isFunction(a)
            ? this.each(function (b) {
                m(this).toggleClass(a.call(this, b, ea(this), c), c);
              })
            : this.each(function () {
                var c, g;
                if ("string" === b) {
                  var e = 0;
                  var p = m(this);
                  for (g = a.match(aa) || []; (c = g[e++]); )
                    p.hasClass(c) ? p.removeClass(c) : p.addClass(c);
                } else if (a === n || "boolean" === b) (c = ea(this)) && F.set(this, "__className__", c), this.setAttribute && this.setAttribute("class", c || !1 === a ? "" : F.get(this, "__className__") || "");
              });
        },
        hasClass: function (a) {
          var c,
            b = 0;
          for (a = " " + a + " "; (c = this[b++]); )
            if (
              1 === c.nodeType &&
              -1 < (" " + ea(c) + " ").replace(Oa, " ").indexOf(a)
            )
              return !0;
          return !1;
        },
      });
      var Pb = /\r/g,
        Qb = /[\x20\t\r\n\f]+/g;
      m.fn.extend({
        val: function (a) {
          var c,
            b,
            g = this[0];
          if (arguments.length) {
            var e = m.isFunction(a);
            return this.each(function (b) {
              1 === this.nodeType &&
                ((b = e ? a.call(this, b, m(this).val()) : a),
                null == b
                  ? (b = "")
                  : "number" === typeof b
                  ? (b += "")
                  : m.isArray(b) &&
                    (b = m.map(b, function (a) {
                      return null == a ? "" : a + "";
                    })),
                (c =
                  m.valHooks[this.type] ||
                  m.valHooks[this.nodeName.toLowerCase()]),
                (c && "set" in c && c.set(this, b, "value") !== n) ||
                  (this.value = b));
            });
          }
          if (g) {
            if (
              (c =
                m.valHooks[g.type] || m.valHooks[g.nodeName.toLowerCase()]) &&
              "get" in c &&
              (b = c.get(g, "value")) !== n
            )
              return b;
            b = g.value;
            return "string" === typeof b
              ? b.replace(Pb, "")
              : null == b
              ? ""
              : b;
          }
        },
      });
      m.extend({
        valHooks: {
          option: {
            get: function (a) {
              var c = m.find.attr(a, "value");
              return null != c ? c : m.trim(m.text(a)).replace(Qb, " ");
            },
          },
          select: {
            get: function (a) {
              for (
                var c,
                  b = a.options,
                  g = a.selectedIndex,
                  e = (a = "select-one" === a.type || 0 > g) ? null : [],
                  p = a ? g + 1 : b.length,
                  d = 0 > g ? p : a ? g : 0;
                d < p;
                d++
              )
                if (
                  ((c = b[d]),
                  !(
                    (!c.selected && d !== g) ||
                    (I.optDisabled
                      ? c.disabled
                      : null !== c.getAttribute("disabled")) ||
                    (c.parentNode.disabled &&
                      m.nodeName(c.parentNode, "optgroup"))
                  ))
                ) {
                  c = m(c).val();
                  if (a) return c;
                  e.push(c);
                }
              return e;
            },
            set: function (a, c) {
              for (
                var b, g = a.options, e = m.makeArray(c), p = g.length;
                p--;

              )
                if (
                  ((c = g[p]),
                  (c.selected = -1 < m.inArray(m.valHooks.option.get(c), e)))
                )
                  b = !0;
              b || (a.selectedIndex = -1);
              return e;
            },
          },
        },
      });
      m.each(["radio", "checkbox"], function () {
        m.valHooks[this] = {
          set: function (a, c) {
            if (m.isArray(c))
              return (a.checked = -1 < m.inArray(m(a).val(), c));
          },
        };
        I.checkOn ||
          (m.valHooks[this].get = function (a) {
            return null === a.getAttribute("value") ? "on" : a.value;
          });
      });
      var gb = /^(?:focusinfocus|focusoutblur)$/;
      m.extend(m.event, {
        trigger: function (a, c, g, e) {
          var p,
            d,
            f = [g || D],
            h = ca.call(a, "type") ? a.type : a;
          var q = ca.call(a, "namespace") ? a.namespace.split(".") : [];
          var l = (p = g = g || D);
          if (
            3 !== g.nodeType &&
            8 !== g.nodeType &&
            !gb.test(h + m.event.triggered)
          ) {
            -1 < h.indexOf(".") &&
              ((q = h.split(".")), (h = q.shift()), q.sort());
            var k = 0 > h.indexOf(":") && "on" + h;
            a = a[m.expando] ? a : new m.Event(h, "object" === typeof a && a);
            a.isTrigger = e ? 2 : 3;
            a.namespace = q.join(".");
            a.rnamespace = a.namespace
              ? new RegExp("(^|\\.)" + q.join("\\.(?:.*\\.|)") + "(\\.|$)")
              : null;
            a.result = n;
            a.target || (a.target = g);
            c = null == c ? [a] : m.makeArray(c, [a]);
            q = m.event.special[h] || {};
            if (e || !q.trigger || !1 !== q.trigger.apply(g, c)) {
              if (!e && !q.noBubble && !m.isWindow(g)) {
                var C = q.delegateType || h;
                gb.test(C + h) || (l = l.parentNode);
                for (; l; l = l.parentNode) f.push(l), (p = l);
                p === (g.ownerDocument || D) &&
                  f.push(p.defaultView || p.parentWindow || b);
              }
              for (p = 0; (l = f[p++]) && !a.isPropagationStopped(); )
                (a.type = 1 < p ? C : q.bindType || h),
                  (d =
                    (F.get(l, "events") || {})[a.type] && F.get(l, "handle")) &&
                    d.apply(l, c),
                  (d = k && l[k]) &&
                    d.apply &&
                    Aa(l) &&
                    ((a.result = d.apply(l, c)),
                    !1 === a.result && a.preventDefault());
              a.type = h;
              e ||
                a.isDefaultPrevented() ||
                (q._default && !1 !== q._default.apply(f.pop(), c)) ||
                !Aa(g) ||
                !k ||
                !m.isFunction(g[h]) ||
                m.isWindow(g) ||
                ((p = g[k]) && (g[k] = null),
                (m.event.triggered = h),
                g[h](),
                (m.event.triggered = n),
                p && (g[k] = p));
              return a.result;
            }
          }
        },
        simulate: function (a, c, b) {
          a = m.extend(new m.Event(), b, { type: a, isSimulated: !0 });
          m.event.trigger(a, null, c);
        },
      });
      m.fn.extend({
        trigger: function (a, c) {
          return this.each(function () {
            m.event.trigger(a, c, this);
          });
        },
        triggerHandler: function (a, c) {
          var b = this[0];
          if (b) return m.event.trigger(a, c, b, !0);
        },
      });
      m.each(
        "blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(
          " "
        ),
        function (a, c) {
          m.fn[c] = function (a, b) {
            return 0 < arguments.length
              ? this.on(c, null, a, b)
              : this.trigger(c);
          };
        }
      );
      m.fn.extend({
        hover: function (a, c) {
          return this.mouseenter(a).mouseleave(c || a);
        },
      });
      I.focusin = "onfocusin" in b;
      I.focusin ||
        m.each({ focus: "focusin", blur: "focusout" }, function (a, c) {
          var b = function (a) {
            m.event.simulate(c, a.target, m.event.fix(a));
          };
          m.event.special[c] = {
            setup: function () {
              var g = this.ownerDocument || this,
                e = F.access(g, c);
              e || g.addEventListener(a, b, !0);
              F.access(g, c, (e || 0) + 1);
            },
            teardown: function () {
              var g = this.ownerDocument || this,
                e = F.access(g, c) - 1;
              e
                ? F.access(g, c, e)
                : (g.removeEventListener(a, b, !0), F.remove(g, c));
            },
          };
        });
      var Da = b.location,
        Pa = m.now(),
        Qa = /\?/;
      m.parseJSON = function (a) {
        return JSON.parse(a + "");
      };
      m.parseXML = function (a) {
        if (!a || "string" !== typeof a) return null;
        try {
          var c = new b.DOMParser().parseFromString(a, "text/xml");
        } catch (ac) {
          c = n;
        }
        (c && !c.getElementsByTagName("parsererror").length) ||
          m.error("Invalid XML: " + a);
        return c;
      };
      var Rb = /#.*$/,
        hb = /([?&])_=[^&]*/,
        Sb = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        Tb = /^(?:GET|HEAD)$/,
        Ub = /^\/\//,
        ib = {},
        Ka = {},
        jb = "*/".concat("*"),
        Ra = D.createElement("a");
      Ra.href = Da.href;
      m.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
          url: Da.href,
          type: "GET",
          isLocal:
            /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(
              Da.protocol
            ),
          global: !0,
          processData: !0,
          async: !0,
          contentType: "application/x-www-form-urlencoded; charset\x3dUTF-8",
          accepts: {
            "*": jb,
            text: "text/plain",
            html: "text/html",
            xml: "application/xml, text/xml",
            json: "application/json, text/javascript",
          },
          contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ },
          responseFields: {
            xml: "responseXML",
            text: "responseText",
            json: "responseJSON",
          },
          converters: {
            "* text": String,
            "text html": !0,
            "text json": m.parseJSON,
            "text xml": m.parseXML,
          },
          flatOptions: { url: !0, context: !0 },
        },
        ajaxSetup: function (a, c) {
          return c ? ma(ma(a, m.ajaxSettings), c) : ma(m.ajaxSettings, a);
        },
        ajaxPrefilter: la(ib),
        ajaxTransport: la(Ka),
        ajax: function (a, c) {
          function g(a, c, g, d) {
            var q = c;
            if (2 !== B) {
              B = 2;
              f && b.clearTimeout(f);
              e = n;
              p = d || "";
              z.readyState = 0 < a ? 4 : 0;
              d = (200 <= a && 300 > a) || 304 === a;
              if (g) {
                var v = l;
                for (
                  var t = z, L, x, M, H, E = v.contents, S = v.dataTypes;
                  "*" === S[0];

                )
                  S.shift(),
                    L === n &&
                      (L = v.mimeType || t.getResponseHeader("Content-Type"));
                if (L)
                  for (x in E)
                    if (E[x] && E[x].test(L)) {
                      S.unshift(x);
                      break;
                    }
                if (S[0] in g) M = S[0];
                else {
                  for (x in g) {
                    if (!S[0] || v.converters[x + " " + S[0]]) {
                      M = x;
                      break;
                    }
                    H || (H = x);
                  }
                  M = M || H;
                }
                M ? (M !== S[0] && S.unshift(M), (v = g[M])) : (v = void 0);
              }
              a: {
                g = l;
                L = v;
                x = z;
                M = d;
                var A;
                t = {};
                E = g.dataTypes.slice();
                if (E[1])
                  for (P in g.converters) t[P.toLowerCase()] = g.converters[P];
                for (H = E.shift(); H; ) {
                  g.responseFields[H] && (x[g.responseFields[H]] = L);
                  !G && M && g.dataFilter && (L = g.dataFilter(L, g.dataType));
                  var G = H;
                  if ((H = E.shift()))
                    if ("*" === H) H = G;
                    else if ("*" !== G && G !== H) {
                      var P = t[G + " " + H] || t["* " + H];
                      if (!P)
                        for (A in t)
                          if (
                            ((v = A.split(" ")),
                            v[1] === H &&
                              (P = t[G + " " + v[0]] || t["* " + v[0]]))
                          ) {
                            !0 === P
                              ? (P = t[A])
                              : !0 !== t[A] && ((H = v[0]), E.unshift(v[1]));
                            break;
                          }
                      if (!0 !== P)
                        if (P && g.throws) L = P(L);
                        else
                          try {
                            L = P(L);
                          } catch (zb) {
                            v = {
                              state: "parsererror",
                              error: P
                                ? zb
                                : "No conversion from " + G + " to " + H,
                            };
                            break a;
                          }
                    }
                }
                v = { state: "success", data: L };
              }
              if (d)
                if (
                  (l.ifModified &&
                    ((q = z.getResponseHeader("Last-Modified")) &&
                      (m.lastModified[w] = q),
                    (q = z.getResponseHeader("etag")) && (m.etag[w] = q)),
                  204 === a || "HEAD" === l.type)
                )
                  q = "nocontent";
                else if (304 === a) q = "notmodified";
                else {
                  q = v.state;
                  var ha = v.data;
                  var T = v.error;
                  d = !T;
                }
              else if (((T = q), a || !q)) (q = "error"), 0 > a && (a = 0);
              z.status = a;
              z.statusText = (c || q) + "";
              d ? u.resolveWith(k, [ha, q, z]) : u.rejectWith(k, [z, q, T]);
              z.statusCode(y);
              y = n;
              h &&
                C.trigger(d ? "ajaxSuccess" : "ajaxError", [z, l, d ? ha : T]);
              r.fireWith(k, [z, q]);
              h &&
                (C.trigger("ajaxComplete", [z, l]),
                --m.active || m.event.trigger("ajaxStop"));
            }
          }
          "object" === typeof a && ((c = a), (a = n));
          c = c || {};
          var e,
            p,
            d,
            f,
            h,
            q,
            l = m.ajaxSetup({}, c),
            k = l.context || l,
            C = l.context && (k.nodeType || k.jquery) ? m(k) : m.event,
            u = m.Deferred(),
            r = m.Callbacks("once memory"),
            y = l.statusCode || {},
            v = {},
            t = {},
            B = 0,
            L = "canceled",
            z = {
              readyState: 0,
              getResponseHeader: function (a) {
                var c;
                if (2 === B) {
                  if (!d)
                    for (d = {}; (c = Sb.exec(p)); )
                      d[c[1].toLowerCase()] = c[2];
                  c = d[a.toLowerCase()];
                }
                return null == c ? null : c;
              },
              getAllResponseHeaders: function () {
                return 2 === B ? p : null;
              },
              setRequestHeader: function (a, c) {
                var b = a.toLowerCase();
                B || ((a = t[b] = t[b] || a), (v[a] = c));
                return this;
              },
              overrideMimeType: function (a) {
                B || (l.mimeType = a);
                return this;
              },
              statusCode: function (a) {
                var c;
                if (a)
                  if (2 > B) for (c in a) y[c] = [y[c], a[c]];
                  else z.always(a[z.status]);
                return this;
              },
              abort: function (a) {
                a = a || L;
                e && e.abort(a);
                g(0, a);
                return this;
              },
            };
          u.promise(z).complete = r.add;
          z.success = z.done;
          z.error = z.fail;
          l.url = ((a || l.url || Da.href) + "")
            .replace(Rb, "")
            .replace(Ub, Da.protocol + "//");
          l.type = c.method || c.type || l.method || l.type;
          l.dataTypes = m
            .trim(l.dataType || "*")
            .toLowerCase()
            .match(aa) || [""];
          if (null == l.crossDomain) {
            a = D.createElement("a");
            try {
              (a.href = l.url),
                (a.href = a.href),
                (l.crossDomain =
                  Ra.protocol + "//" + Ra.host !== a.protocol + "//" + a.host);
            } catch (Ma) {
              l.crossDomain = !0;
            }
          }
          l.data &&
            l.processData &&
            "string" !== typeof l.data &&
            (l.data = m.param(l.data, l.traditional));
          ja(ib, l, c, z);
          if (2 === B) return z;
          (h = m.event && l.global) &&
            0 === m.active++ &&
            m.event.trigger("ajaxStart");
          l.type = l.type.toUpperCase();
          l.hasContent = !Tb.test(l.type);
          var w = l.url;
          l.hasContent ||
            (l.data &&
              ((w = l.url += (Qa.test(w) ? "\x26" : "?") + l.data),
              delete l.data),
            !1 === l.cache &&
              (l.url = hb.test(w)
                ? w.replace(hb, "$1_\x3d" + Pa++)
                : w + (Qa.test(w) ? "\x26" : "?") + "_\x3d" + Pa++));
          l.ifModified &&
            (m.lastModified[w] &&
              z.setRequestHeader("If-Modified-Since", m.lastModified[w]),
            m.etag[w] && z.setRequestHeader("If-None-Match", m.etag[w]));
          ((l.data && l.hasContent && !1 !== l.contentType) || c.contentType) &&
            z.setRequestHeader("Content-Type", l.contentType);
          z.setRequestHeader(
            "Accept",
            l.dataTypes[0] && l.accepts[l.dataTypes[0]]
              ? l.accepts[l.dataTypes[0]] +
                  ("*" !== l.dataTypes[0] ? ", " + jb + "; q\x3d0.01" : "")
              : l.accepts["*"]
          );
          for (q in l.headers) z.setRequestHeader(q, l.headers[q]);
          if (l.beforeSend && (!1 === l.beforeSend.call(k, z, l) || 2 === B))
            return z.abort();
          L = "abort";
          for (q in { success: 1, error: 1, complete: 1 }) z[q](l[q]);
          if ((e = ja(Ka, l, c, z))) {
            z.readyState = 1;
            h && C.trigger("ajaxSend", [z, l]);
            if (2 === B) return z;
            l.async &&
              0 < l.timeout &&
              (f = b.setTimeout(function () {
                z.abort("timeout");
              }, l.timeout));
            try {
              (B = 1), e.send(v, g);
            } catch (Ma) {
              if (2 > B) g(-1, Ma);
              else throw Ma;
            }
          } else g(-1, "No Transport");
          return z;
        },
        getJSON: function (a, c, b) {
          return m.get(a, c, b, "json");
        },
        getScript: function (a, c) {
          return m.get(a, n, c, "script");
        },
      });
      m.each(["get", "post"], function (a, c) {
        m[c] = function (a, b, g, e) {
          m.isFunction(b) && ((e = e || g), (g = b), (b = n));
          return m.ajax(
            m.extend(
              { url: a, type: c, dataType: e, data: b, success: g },
              m.isPlainObject(a) && a
            )
          );
        };
      });
      m._evalUrl = function (a) {
        return m.ajax({
          url: a,
          type: "GET",
          dataType: "script",
          async: !1,
          global: !1,
          throws: !0,
        });
      };
      m.fn.extend({
        wrapAll: function (a) {
          if (m.isFunction(a))
            return this.each(function (c) {
              m(this).wrapAll(a.call(this, c));
            });
          if (this[0]) {
            var c = m(a, this[0].ownerDocument).eq(0).clone(!0);
            this[0].parentNode && c.insertBefore(this[0]);
            c.map(function () {
              for (var a = this; a.firstElementChild; ) a = a.firstElementChild;
              return a;
            }).append(this);
          }
          return this;
        },
        wrapInner: function (a) {
          return m.isFunction(a)
            ? this.each(function (c) {
                m(this).wrapInner(a.call(this, c));
              })
            : this.each(function () {
                var c = m(this),
                  b = c.contents();
                b.length ? b.wrapAll(a) : c.append(a);
              });
        },
        wrap: function (a) {
          var c = m.isFunction(a);
          return this.each(function (b) {
            m(this).wrapAll(c ? a.call(this, b) : a);
          });
        },
        unwrap: function () {
          return this.parent()
            .each(function () {
              m.nodeName(this, "body") || m(this).replaceWith(this.childNodes);
            })
            .end();
        },
      });
      m.expr.filters.hidden = function (a) {
        return !m.expr.filters.visible(a);
      };
      m.expr.filters.visible = function (a) {
        return (
          0 < a.offsetWidth ||
          0 < a.offsetHeight ||
          0 < a.getClientRects().length
        );
      };
      var Vb = /%20/g,
        vb = /\[\]$/,
        kb = /\r?\n/g,
        Wb = /^(?:submit|button|image|reset|file)$/i,
        Xb = /^(?:input|select|textarea|keygen)/i;
      m.param = function (a, c) {
        var b,
          g = [],
          e = function (a, c) {
            c = m.isFunction(c) ? c() : null == c ? "" : c;
            g[g.length] =
              encodeURIComponent(a) + "\x3d" + encodeURIComponent(c);
          };
        c === n && (c = m.ajaxSettings && m.ajaxSettings.traditional);
        if (m.isArray(a) || (a.jquery && !m.isPlainObject(a)))
          m.each(a, function () {
            e(this.name, this.value);
          });
        else for (b in a) oa(b, a[b], c, e);
        return g.join("\x26").replace(Vb, "+");
      };
      m.fn.extend({
        serialize: function () {
          return m.param(this.serializeArray());
        },
        serializeArray: function () {
          return this.map(function () {
            var a = m.prop(this, "elements");
            return a ? m.makeArray(a) : this;
          })
            .filter(function () {
              var a = this.type;
              return (
                this.name &&
                !m(this).is(":disabled") &&
                Xb.test(this.nodeName) &&
                !Wb.test(a) &&
                (this.checked || !db.test(a))
              );
            })
            .map(function (a, c) {
              a = m(this).val();
              return null == a
                ? null
                : m.isArray(a)
                ? m.map(a, function (a) {
                    return { name: c.name, value: a.replace(kb, "\r\n") };
                  })
                : { name: c.name, value: a.replace(kb, "\r\n") };
            })
            .get();
        },
      });
      m.ajaxSettings.xhr = function () {
        try {
          return new b.XMLHttpRequest();
        } catch (t) {}
      };
      var Yb = { 0: 200, 1223: 204 },
        Ea = m.ajaxSettings.xhr();
      I.cors = !!Ea && "withCredentials" in Ea;
      I.ajax = Ea = !!Ea;
      m.ajaxTransport(function (a) {
        var c, g;
        if (I.cors || (Ea && !a.crossDomain))
          return {
            send: function (e, p) {
              var d,
                f = a.xhr();
              f.open(a.type, a.url, a.async, a.username, a.password);
              if (a.xhrFields) for (d in a.xhrFields) f[d] = a.xhrFields[d];
              a.mimeType &&
                f.overrideMimeType &&
                f.overrideMimeType(a.mimeType);
              a.crossDomain ||
                e["X-Requested-With"] ||
                (e["X-Requested-With"] = "XMLHttpRequest");
              for (d in e) f.setRequestHeader(d, e[d]);
              c = function (a) {
                return function () {
                  c &&
                    ((c =
                      g =
                      f.onload =
                      f.onerror =
                      f.onabort =
                      f.onreadystatechange =
                        null),
                    "abort" === a
                      ? f.abort()
                      : "error" === a
                      ? "number" !== typeof f.status
                        ? p(0, "error")
                        : p(f.status, f.statusText)
                      : p(
                          Yb[f.status] || f.status,
                          f.statusText,
                          "text" !== (f.responseType || "text") ||
                            "string" !== typeof f.responseText
                            ? { binary: f.response }
                            : { text: f.responseText },
                          f.getAllResponseHeaders()
                        ));
                };
              };
              f.onload = c();
              g = f.onerror = c("error");
              f.onabort !== n
                ? (f.onabort = g)
                : (f.onreadystatechange = function () {
                    4 === f.readyState &&
                      b.setTimeout(function () {
                        c && g();
                      });
                  });
              c = c("abort");
              try {
                f.send((a.hasContent && a.data) || null);
              } catch (pb) {
                if (c) throw pb;
              }
            },
            abort: function () {
              c && c();
            },
          };
      });
      m.ajaxSetup({
        accepts: {
          script:
            "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",
        },
        contents: { script: /\b(?:java|ecma)script\b/ },
        converters: {
          "text script": function (a) {
            m.globalEval(a);
            return a;
          },
        },
      });
      m.ajaxPrefilter("script", function (a) {
        a.cache === n && (a.cache = !1);
        a.crossDomain && (a.type = "GET");
      });
      m.ajaxTransport("script", function (a) {
        if (a.crossDomain) {
          var c, b;
          return {
            send: function (g, e) {
              c = m("\x3cscript\x3e")
                .prop({ charset: a.scriptCharset, src: a.url })
                .on(
                  "load error",
                  (b = function (a) {
                    c.remove();
                    b = null;
                    a && e("error" === a.type ? 404 : 200, a.type);
                  })
                );
              D.head.appendChild(c[0]);
            },
            abort: function () {
              b && b();
            },
          };
        }
      });
      var lb = [],
        Sa = /(=)\?(?=&|$)|\?\?/;
      m.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function () {
          var a = lb.pop() || m.expando + "_" + Pa++;
          this[a] = !0;
          return a;
        },
      });
      m.ajaxPrefilter("json jsonp", function (a, c, g) {
        var e,
          p =
            !1 !== a.jsonp &&
            (Sa.test(a.url)
              ? "url"
              : "string" === typeof a.data &&
                0 ===
                  (a.contentType || "").indexOf(
                    "application/x-www-form-urlencoded"
                  ) &&
                Sa.test(a.data) &&
                "data");
        if (p || "jsonp" === a.dataTypes[0]) {
          var d = (a.jsonpCallback = m.isFunction(a.jsonpCallback)
            ? a.jsonpCallback()
            : a.jsonpCallback);
          p
            ? (a[p] = a[p].replace(Sa, "$1" + d))
            : !1 !== a.jsonp &&
              (a.url += (Qa.test(a.url) ? "\x26" : "?") + a.jsonp + "\x3d" + d);
          a.converters["script json"] = function () {
            e || m.error(d + " was not called");
            return e[0];
          };
          a.dataTypes[0] = "json";
          var f = b[d];
          b[d] = function () {
            e = arguments;
          };
          g.always(function () {
            f === n ? m(b).removeProp(d) : (b[d] = f);
            a[d] && ((a.jsonpCallback = c.jsonpCallback), lb.push(d));
            e && m.isFunction(f) && f(e[0]);
            e = f = n;
          });
          return "script";
        }
      });
      m.parseHTML = function (a, c, b) {
        if (!a || "string" !== typeof a) return null;
        "boolean" === typeof c && ((b = c), (c = !1));
        c = c || D;
        var g = bb.exec(a);
        b = !b && [];
        if (g) return [c.createElement(g[1])];
        g = z([a], c, b);
        b && b.length && m(b).remove();
        return m.merge([], g.childNodes);
      };
      var mb = m.fn.load;
      m.fn.load = function (a, c, b) {
        if ("string" !== typeof a && mb) return mb.apply(this, arguments);
        var g,
          e,
          p = this,
          d = a.indexOf(" ");
        if (-1 < d) {
          var f = m.trim(a.slice(d));
          a = a.slice(0, d);
        }
        m.isFunction(c)
          ? ((b = c), (c = n))
          : c && "object" === typeof c && (g = "POST");
        0 < p.length &&
          m
            .ajax({ url: a, type: g || "GET", dataType: "html", data: c })
            .done(function (a) {
              e = arguments;
              p.html(f ? m("\x3cdiv\x3e").append(m.parseHTML(a)).find(f) : a);
            })
            .always(
              b &&
                function (a, c) {
                  p.each(function () {
                    b.apply(this, e || [a.responseText, c, a]);
                  });
                }
            );
        return this;
      };
      m.each(
        "ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(
          " "
        ),
        function (a, c) {
          m.fn[c] = function (a) {
            return this.on(c, a);
          };
        }
      );
      m.expr.filters.animated = function (a) {
        return m.grep(m.timers, function (c) {
          return a === c.elem;
        }).length;
      };
      m.offset = {
        setOffset: function (a, c, b) {
          var g = m.css(a, "position"),
            e = m(a),
            p = {};
          "static" === g && (a.style.position = "relative");
          var d = e.offset();
          var f = m.css(a, "top");
          var h = m.css(a, "left");
          ("absolute" === g || "fixed" === g) && -1 < (f + h).indexOf("auto")
            ? ((h = e.position()), (f = h.top), (h = h.left))
            : ((f = parseFloat(f) || 0), (h = parseFloat(h) || 0));
          m.isFunction(c) && (c = c.call(a, b, m.extend({}, d)));
          null != c.top && (p.top = c.top - d.top + f);
          null != c.left && (p.left = c.left - d.left + h);
          "using" in c ? c.using.call(a, p) : e.css(p);
        },
      };
      m.fn.extend({
        offset: function (a) {
          if (arguments.length)
            return a === n
              ? this
              : this.each(function (c) {
                  m.offset.setOffset(this, a, c);
                });
          var c = this[0];
          var b = { top: 0, left: 0 },
            g = c && c.ownerDocument;
          if (g) {
            var e = g.documentElement;
            if (!m.contains(e, c)) return b;
            b = c.getBoundingClientRect();
            c = pa(g);
            return {
              top: b.top + c.pageYOffset - e.clientTop,
              left: b.left + c.pageXOffset - e.clientLeft,
            };
          }
        },
        position: function () {
          if (this[0]) {
            var a = this[0],
              c = { top: 0, left: 0 };
            if ("fixed" === m.css(a, "position"))
              var b = a.getBoundingClientRect();
            else {
              var g = this.offsetParent();
              b = this.offset();
              m.nodeName(g[0], "html") || (c = g.offset());
              c.top += m.css(g[0], "borderTopWidth", !0);
              c.left += m.css(g[0], "borderLeftWidth", !0);
            }
            return {
              top: b.top - c.top - m.css(a, "marginTop", !0),
              left: b.left - c.left - m.css(a, "marginLeft", !0),
            };
          }
        },
        offsetParent: function () {
          return this.map(function () {
            for (
              var a = this.offsetParent;
              a && "static" === m.css(a, "position");

            )
              a = a.offsetParent;
            return a || Ba;
          });
        },
      });
      m.each(
        { scrollLeft: "pageXOffset", scrollTop: "pageYOffset" },
        function (a, c) {
          var b = "pageYOffset" === c;
          m.fn[a] = function (g) {
            return U(
              this,
              function (a, g, e) {
                var p = pa(a);
                if (e === n) return p ? p[c] : a[g];
                p
                  ? p.scrollTo(b ? p.pageXOffset : e, b ? e : p.pageYOffset)
                  : (a[g] = e);
              },
              a,
              g,
              arguments.length
            );
          };
        }
      );
      m.each(["top", "left"], function (a, c) {
        m.cssHooks[c] = sa(I.pixelPosition, function (a, b) {
          if (b)
            return (b = W(a, c)), Ja.test(b) ? m(a).position()[c] + "px" : b;
        });
      });
      m.each({ Height: "height", Width: "width" }, function (a, c) {
        m.each(
          { padding: "inner" + a, content: c, "": "outer" + a },
          function (b, g) {
            m.fn[g] = function (g, e) {
              var p = arguments.length && (b || "boolean" !== typeof g),
                d = b || (!0 === g || !0 === e ? "margin" : "border");
              return U(
                this,
                function (c, b, g) {
                  return m.isWindow(c)
                    ? c.document.documentElement["client" + a]
                    : 9 === c.nodeType
                    ? ((b = c.documentElement),
                      Math.max(
                        c.body["scroll" + a],
                        b["scroll" + a],
                        c.body["offset" + a],
                        b["offset" + a],
                        b["client" + a]
                      ))
                    : g === n
                    ? m.css(c, b, d)
                    : m.style(c, b, g, d);
                },
                c,
                p ? g : n,
                p,
                null
              );
            };
          }
        );
      });
      m.fn.extend({
        bind: function (a, c, b) {
          return this.on(a, null, c, b);
        },
        unbind: function (a, c) {
          return this.off(a, null, c);
        },
        delegate: function (a, c, b, g) {
          return this.on(c, a, b, g);
        },
        undelegate: function (a, c, b) {
          return 1 === arguments.length
            ? this.off(a, "**")
            : this.off(c, a || "**", b);
        },
        size: function () {
          return this.length;
        },
      });
      m.fn.andSelf = m.fn.addBack;
      "function" === typeof define &&
        define.amd &&
        define("jquery", [], function () {
          return m;
        });
      var Zb = b.jQuery,
        $b = b.$;
      m.noConflict = function (a) {
        b.$ === m && (b.$ = $b);
        a && b.jQuery === m && (b.jQuery = Zb);
        return m;
      };
      k || (b.jQuery = b.$ = m);
      return m;
    });
    b.jQuery = jQuery;
    jQuery.noConflict(!0);
  })(window, ChemDoodle.lib);
  (function (k) {
    (function (b) {
      "function" === typeof define && define.amd ? define(["jquery"], b) : b(k);
    })(function (b) {
      function k(a, c) {
        var g = a.nodeName.toLowerCase();
        if ("area" === g) {
          c = a.parentNode;
          g = c.name;
          if (!a.href || !g || "map" !== c.nodeName.toLowerCase()) return !1;
          a = b("img[usemap\x3d'#" + g + "']")[0];
          return !!a && f(a);
        }
        return (
          (/^(input|select|textarea|button|object)$/.test(g)
            ? !a.disabled
            : "a" === g
            ? a.href || c
            : c) && f(a)
        );
      }
      function f(a) {
        return (
          b.expr.filters.visible(a) &&
          !b(a)
            .parents()
            .addBack()
            .filter(function () {
              return "hidden" === b.css(this, "visibility");
            }).length
        );
      }
      function r(a) {
        for (var c; a.length && a[0] !== document; ) {
          c = a.css("position");
          if ("absolute" === c || "relative" === c || "fixed" === c)
            if (((c = parseInt(a.css("zIndex"), 10)), !isNaN(c) && 0 !== c))
              return c;
          a = a.parent();
        }
        return 0;
      }
      function h() {
        this._curInst = null;
        this._keyEvent = !1;
        this._disabledInputs = [];
        this._inDialog = this._datepickerShowing = !1;
        this._mainDivId = "ui-datepicker-div";
        this._inlineClass = "ui-datepicker-inline";
        this._appendClass = "ui-datepicker-append";
        this._triggerClass = "ui-datepicker-trigger";
        this._dialogClass = "ui-datepicker-dialog";
        this._disableClass = "ui-datepicker-disabled";
        this._unselectableClass = "ui-datepicker-unselectable";
        this._currentClass = "ui-datepicker-current-day";
        this._dayOverClass = "ui-datepicker-days-cell-over";
        this.regional = [];
        this.regional[""] = {
          closeText: "Done",
          prevText: "Prev",
          nextText: "Next",
          currentText: "Today",
          monthNames:
            "January February March April May June July August September October November December".split(
              " "
            ),
          monthNamesShort:
            "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
          dayNames:
            "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(
              " "
            ),
          dayNamesShort: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
          dayNamesMin: "Su Mo Tu We Th Fr Sa".split(" "),
          weekHeader: "Wk",
          dateFormat: "mm/dd/yy",
          firstDay: 0,
          isRTL: !1,
          showMonthAfterYear: !1,
          yearSuffix: "",
        };
        this._defaults = {
          showOn: "focus",
          showAnim: "fadeIn",
          showOptions: {},
          defaultDate: null,
          appendText: "",
          buttonText: "...",
          buttonImage: "",
          buttonImageOnly: !1,
          hideIfNoPrevNext: !1,
          navigationAsDateFormat: !1,
          gotoCurrent: !1,
          changeMonth: !1,
          changeYear: !1,
          yearRange: "c-10:c+10",
          showOtherMonths: !1,
          selectOtherMonths: !1,
          showWeek: !1,
          calculateWeek: this.iso8601Week,
          shortYearCutoff: "+10",
          minDate: null,
          maxDate: null,
          duration: "fast",
          beforeShowDay: null,
          beforeShow: null,
          onSelect: null,
          onChangeMonthYear: null,
          onClose: null,
          numberOfMonths: 1,
          showCurrentAtPos: 0,
          stepMonths: 1,
          stepBigMonths: 12,
          altField: "",
          altFormat: "",
          constrainInput: !0,
          showButtonPanel: !1,
          autoSize: !1,
          disabled: !1,
        };
        b.extend(this._defaults, this.regional[""]);
        this.regional.en = b.extend(!0, {}, this.regional[""]);
        this.regional["en-US"] = b.extend(!0, {}, this.regional.en);
        this.dpDiv = d(
          b(
            "\x3cdiv id\x3d'" +
              this._mainDivId +
              "' class\x3d'ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'\x3e\x3c/div\x3e"
          )
        );
      }
      function d(a) {
        return a
          .delegate(
            "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",
            "mouseout",
            function () {
              b(this).removeClass("ui-state-hover");
              -1 !== this.className.indexOf("ui-datepicker-prev") &&
                b(this).removeClass("ui-datepicker-prev-hover");
              -1 !== this.className.indexOf("ui-datepicker-next") &&
                b(this).removeClass("ui-datepicker-next-hover");
            }
          )
          .delegate(
            "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",
            "mouseover",
            l
          );
      }
      function l() {
        b.datepicker._isDisabledDatepicker(
          x.inline ? x.dpDiv.parent()[0] : x.input[0]
        ) ||
          (b(this)
            .parents(".ui-datepicker-calendar")
            .find("a")
            .removeClass("ui-state-hover"),
          b(this).addClass("ui-state-hover"),
          -1 !== this.className.indexOf("ui-datepicker-prev") &&
            b(this).addClass("ui-datepicker-prev-hover"),
          -1 !== this.className.indexOf("ui-datepicker-next") &&
            b(this).addClass("ui-datepicker-next-hover"));
      }
      function w(a, c) {
        b.extend(a, c);
        for (var g in c) null == c[g] && (a[g] = c[g]);
        return a;
      }
      function u(a) {
        return function () {
          var c = this.element.val();
          a.apply(this, arguments);
          this._refresh();
          c !== this.element.val() && this._trigger("change");
        };
      }
      b.ui = b.ui || {};
      b.extend(b.ui, {
        version: "1.11.4",
        keyCode: {
          BACKSPACE: 8,
          COMMA: 188,
          DELETE: 46,
          DOWN: 40,
          END: 35,
          ENTER: 13,
          ESCAPE: 27,
          HOME: 36,
          LEFT: 37,
          PAGE_DOWN: 34,
          PAGE_UP: 33,
          PERIOD: 190,
          RIGHT: 39,
          SPACE: 32,
          TAB: 9,
          UP: 38,
        },
      });
      b.fn.extend({
        scrollParent: function (a) {
          var c = this.css("position"),
            g = "absolute" === c,
            e = a ? /(auto|scroll|hidden)/ : /(auto|scroll)/;
          a = this.parents()
            .filter(function () {
              var a = b(this);
              return g && "static" === a.css("position")
                ? !1
                : e.test(
                    a.css("overflow") +
                      a.css("overflow-y") +
                      a.css("overflow-x")
                  );
            })
            .eq(0);
          return "fixed" !== c && a.length
            ? a
            : b(this[0].ownerDocument || document);
        },
        uniqueId: (function () {
          var a = 0;
          return function () {
            return this.each(function () {
              this.id || (this.id = "ui-id-" + ++a);
            });
          };
        })(),
        removeUniqueId: function () {
          return this.each(function () {
            /^ui-id-\d+$/.test(this.id) && b(this).removeAttr("id");
          });
        },
      });
      b.extend(b.expr[":"], {
        data: b.expr.createPseudo
          ? b.expr.createPseudo(function (a) {
              return function (c) {
                return !!b.data(c, a);
              };
            })
          : function (a, c, g) {
              return !!b.data(a, g[3]);
            },
        focusable: function (a) {
          return k(a, !isNaN(b.attr(a, "tabindex")));
        },
        tabbable: function (a) {
          var c = b.attr(a, "tabindex"),
            g = isNaN(c);
          return (g || 0 <= c) && k(a, !g);
        },
      });
      b("\x3ca\x3e").outerWidth(1).jquery ||
        b.each(["Width", "Height"], function (a, c) {
          function g(a, c, g, p) {
            b.each(e, function () {
              c -= parseFloat(b.css(a, "padding" + this)) || 0;
              g && (c -= parseFloat(b.css(a, "border" + this + "Width")) || 0);
              p && (c -= parseFloat(b.css(a, "margin" + this)) || 0);
            });
            return c;
          }
          var e = "Width" === c ? ["Left", "Right"] : ["Top", "Bottom"],
            d = c.toLowerCase(),
            f = {
              innerWidth: b.fn.innerWidth,
              innerHeight: b.fn.innerHeight,
              outerWidth: b.fn.outerWidth,
              outerHeight: b.fn.outerHeight,
            };
          b.fn["inner" + c] = function (a) {
            return void 0 === a
              ? f["inner" + c].call(this)
              : this.each(function () {
                  b(this).css(d, g(this, a) + "px");
                });
          };
          b.fn["outer" + c] = function (a, e) {
            return "number" !== typeof a
              ? f["outer" + c].call(this, a)
              : this.each(function () {
                  b(this).css(d, g(this, a, !0, e) + "px");
                });
          };
        });
      b.fn.addBack ||
        (b.fn.addBack = function (a) {
          return this.add(
            null == a ? this.prevObject : this.prevObject.filter(a)
          );
        });
      b("\x3ca\x3e").data("a-b", "a").removeData("a-b").data("a-b") &&
        (b.fn.removeData = (function (a) {
          return function (c) {
            return arguments.length
              ? a.call(this, b.camelCase(c))
              : a.call(this);
          };
        })(b.fn.removeData));
      b.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
      b.fn.extend({
        focus: (function (a) {
          return function (c, g) {
            return "number" === typeof c
              ? this.each(function () {
                  var a = this;
                  setTimeout(function () {
                    b(a).focus();
                    g && g.call(a);
                  }, c);
                })
              : a.apply(this, arguments);
          };
        })(b.fn.focus),
        disableSelection: (function () {
          var a =
            "onselectstart" in document.createElement("div")
              ? "selectstart"
              : "mousedown";
          return function () {
            return this.bind(a + ".ui-disableSelection", function (a) {
              a.preventDefault();
            });
          };
        })(),
        enableSelection: function () {
          return this.unbind(".ui-disableSelection");
        },
        zIndex: function (a) {
          if (void 0 !== a) return this.css("zIndex", a);
          if (this.length) {
            a = b(this[0]);
            for (var c; a.length && a[0] !== document; ) {
              c = a.css("position");
              if ("absolute" === c || "relative" === c || "fixed" === c)
                if (((c = parseInt(a.css("zIndex"), 10)), !isNaN(c) && 0 !== c))
                  return c;
              a = a.parent();
            }
          }
          return 0;
        },
      });
      b.ui.plugin = {
        add: function (a, c, g) {
          var e;
          a = b.ui[a].prototype;
          for (e in g)
            (a.plugins[e] = a.plugins[e] || []), a.plugins[e].push([c, g[e]]);
        },
        call: function (a, c, b, e) {
          if (
            (c = a.plugins[c]) &&
            (e ||
              (a.element[0].parentNode &&
                11 !== a.element[0].parentNode.nodeType))
          )
            for (e = 0; e < c.length; e++)
              a.options[c[e][0]] && c[e][1].apply(a.element, b);
        },
      };
      var v = 0,
        q = Array.prototype.slice;
      b.cleanData = (function (a) {
        return function (c) {
          var g, e, d;
          for (d = 0; null != (e = c[d]); d++)
            try {
              (g = b._data(e, "events")) &&
                g.remove &&
                b(e).triggerHandler("remove");
            } catch (L) {}
          a(c);
        };
      })(b.cleanData);
      b.widget = function (a, c, g) {
        var e = {},
          d = a.split(".")[0];
        a = a.split(".")[1];
        var f = d + "-" + a;
        g || ((g = c), (c = b.Widget));
        b.expr[":"][f.toLowerCase()] = function (a) {
          return !!b.data(a, f);
        };
        b[d] = b[d] || {};
        var h = b[d][a];
        var l = (b[d][a] = function (a, c) {
          if (!this._createWidget) return new l(a, c);
          arguments.length && this._createWidget(a, c);
        });
        b.extend(l, h, {
          version: g.version,
          _proto: b.extend({}, g),
          _childConstructors: [],
        });
        var q = new c();
        q.options = b.widget.extend({}, q.options);
        b.each(g, function (a, g) {
          b.isFunction(g)
            ? (e[a] = (function () {
                var b = function () {
                    return c.prototype[a].apply(this, arguments);
                  },
                  e = function (b) {
                    return c.prototype[a].apply(this, b);
                  };
                return function () {
                  var a = this._super,
                    c = this._superApply;
                  this._super = b;
                  this._superApply = e;
                  var p = g.apply(this, arguments);
                  this._super = a;
                  this._superApply = c;
                  return p;
                };
              })())
            : (e[a] = g);
        });
        l.prototype = b.widget.extend(
          q,
          { widgetEventPrefix: h ? q.widgetEventPrefix || a : a },
          e,
          { constructor: l, namespace: d, widgetName: a, widgetFullName: f }
        );
        h
          ? (b.each(h._childConstructors, function (a, c) {
              a = c.prototype;
              b.widget(a.namespace + "." + a.widgetName, l, c._proto);
            }),
            delete h._childConstructors)
          : c._childConstructors.push(l);
        b.widget.bridge(a, l);
        return l;
      };
      b.widget.extend = function (a) {
        for (
          var c = q.call(arguments, 1), g = 0, e = c.length, d, f;
          g < e;
          g++
        )
          for (d in c[g])
            (f = c[g][d]),
              c[g].hasOwnProperty(d) &&
                void 0 !== f &&
                (b.isPlainObject(f)
                  ? (a[d] = b.isPlainObject(a[d])
                      ? b.widget.extend({}, a[d], f)
                      : b.widget.extend({}, f))
                  : (a[d] = f));
        return a;
      };
      b.widget.bridge = function (a, c) {
        var g = c.prototype.widgetFullName || a;
        b.fn[a] = function (e) {
          var p = "string" === typeof e,
            d = q.call(arguments, 1),
            f = this;
          p
            ? this.each(function () {
                var c = b.data(this, g);
                if ("instance" === e) return (f = c), !1;
                if (!c)
                  return b.error(
                    "cannot call methods on " +
                      a +
                      " prior to initialization; attempted to call method '" +
                      e +
                      "'"
                  );
                if (!b.isFunction(c[e]) || "_" === e.charAt(0))
                  return b.error(
                    "no such method '" + e + "' for " + a + " widget instance"
                  );
                var p = c[e].apply(c, d);
                if (p !== c && void 0 !== p)
                  return (f = p && p.jquery ? f.pushStack(p.get()) : p), !1;
              })
            : (d.length && (e = b.widget.extend.apply(null, [e].concat(d))),
              this.each(function () {
                var a = b.data(this, g);
                a
                  ? (a.option(e || {}), a._init && a._init())
                  : b.data(this, g, new c(e, this));
              }));
          return f;
        };
      };
      b.Widget = function () {};
      b.Widget._childConstructors = [];
      b.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "\x3cdiv\x3e",
        options: { disabled: !1, create: null },
        _createWidget: function (a, c) {
          c = b(c || this.defaultElement || this)[0];
          this.element = b(c);
          this.uuid = v++;
          this.eventNamespace = "." + this.widgetName + this.uuid;
          this.bindings = b();
          this.hoverable = b();
          this.focusable = b();
          c !== this &&
            (b.data(c, this.widgetFullName, this),
            this._on(!0, this.element, {
              remove: function (a) {
                a.target === c && this.destroy();
              },
            }),
            (this.document = b(c.style ? c.ownerDocument : c.document || c)),
            (this.window = b(
              this.document[0].defaultView || this.document[0].parentWindow
            )));
          this.options = b.widget.extend(
            {},
            this.options,
            this._getCreateOptions(),
            a
          );
          this._create();
          this._trigger("create", null, this._getCreateEventData());
          this._init();
        },
        _getCreateOptions: b.noop,
        _getCreateEventData: b.noop,
        _create: b.noop,
        _init: b.noop,
        destroy: function () {
          this._destroy();
          this.element
            .unbind(this.eventNamespace)
            .removeData(this.widgetFullName)
            .removeData(b.camelCase(this.widgetFullName));
          this.widget()
            .unbind(this.eventNamespace)
            .removeAttr("aria-disabled")
            .removeClass(this.widgetFullName + "-disabled ui-state-disabled");
          this.bindings.unbind(this.eventNamespace);
          this.hoverable.removeClass("ui-state-hover");
          this.focusable.removeClass("ui-state-focus");
        },
        _destroy: b.noop,
        widget: function () {
          return this.element;
        },
        option: function (a, c) {
          var g = a,
            e;
          if (0 === arguments.length) return b.widget.extend({}, this.options);
          if ("string" === typeof a) {
            g = {};
            var d = a.split(".");
            a = d.shift();
            if (d.length) {
              var f = (g[a] = b.widget.extend({}, this.options[a]));
              for (e = 0; e < d.length - 1; e++)
                (f[d[e]] = f[d[e]] || {}), (f = f[d[e]]);
              a = d.pop();
              if (1 === arguments.length) return void 0 === f[a] ? null : f[a];
              f[a] = c;
            } else {
              if (1 === arguments.length)
                return void 0 === this.options[a] ? null : this.options[a];
              g[a] = c;
            }
          }
          this._setOptions(g);
          return this;
        },
        _setOptions: function (a) {
          for (var c in a) this._setOption(c, a[c]);
          return this;
        },
        _setOption: function (a, c) {
          this.options[a] = c;
          "disabled" === a &&
            (this.widget().toggleClass(this.widgetFullName + "-disabled", !!c),
            c &&
              (this.hoverable.removeClass("ui-state-hover"),
              this.focusable.removeClass("ui-state-focus")));
          return this;
        },
        enable: function () {
          return this._setOptions({ disabled: !1 });
        },
        disable: function () {
          return this._setOptions({ disabled: !0 });
        },
        _on: function (a, c, g) {
          var e,
            d = this;
          "boolean" !== typeof a && ((g = c), (c = a), (a = !1));
          g
            ? ((c = e = b(c)), (this.bindings = this.bindings.add(c)))
            : ((g = c), (c = this.element), (e = this.widget()));
          b.each(g, function (g, p) {
            function f() {
              if (
                a ||
                (!0 !== d.options.disabled &&
                  !b(this).hasClass("ui-state-disabled"))
              )
                return ("string" === typeof p ? d[p] : p).apply(d, arguments);
            }
            "string" !== typeof p &&
              (f.guid = p.guid = p.guid || f.guid || b.guid++);
            var h = g.match(/^([\w:-]*)\s*(.*)$/);
            g = h[1] + d.eventNamespace;
            (h = h[2]) ? e.delegate(h, g, f) : c.bind(g, f);
          });
        },
        _off: function (a, c) {
          c =
            (c || "").split(" ").join(this.eventNamespace + " ") +
            this.eventNamespace;
          a.unbind(c).undelegate(c);
          this.bindings = b(this.bindings.not(a).get());
          this.focusable = b(this.focusable.not(a).get());
          this.hoverable = b(this.hoverable.not(a).get());
        },
        _delay: function (a, c) {
          var b = this;
          return setTimeout(function () {
            return ("string" === typeof a ? b[a] : a).apply(b, arguments);
          }, c || 0);
        },
        _hoverable: function (a) {
          this.hoverable = this.hoverable.add(a);
          this._on(a, {
            mouseenter: function (a) {
              b(a.currentTarget).addClass("ui-state-hover");
            },
            mouseleave: function (a) {
              b(a.currentTarget).removeClass("ui-state-hover");
            },
          });
        },
        _focusable: function (a) {
          this.focusable = this.focusable.add(a);
          this._on(a, {
            focusin: function (a) {
              b(a.currentTarget).addClass("ui-state-focus");
            },
            focusout: function (a) {
              b(a.currentTarget).removeClass("ui-state-focus");
            },
          });
        },
        _trigger: function (a, c, g) {
          var e,
            d = this.options[a];
          g = g || {};
          c = b.Event(c);
          c.type = (
            a === this.widgetEventPrefix ? a : this.widgetEventPrefix + a
          ).toLowerCase();
          c.target = this.element[0];
          if ((a = c.originalEvent)) for (e in a) e in c || (c[e] = a[e]);
          this.element.trigger(c, g);
          return !(
            (b.isFunction(d) &&
              !1 === d.apply(this.element[0], [c].concat(g))) ||
            c.isDefaultPrevented()
          );
        },
      };
      b.each({ show: "fadeIn", hide: "fadeOut" }, function (a, c) {
        b.Widget.prototype["_" + a] = function (g, e, d) {
          "string" === typeof e && (e = { effect: e });
          var p = e
            ? !0 === e || "number" === typeof e
              ? c
              : e.effect || c
            : a;
          e = e || {};
          "number" === typeof e && (e = { duration: e });
          var f = !b.isEmptyObject(e);
          e.complete = d;
          e.delay && g.delay(e.delay);
          if (f && b.effects && b.effects.effect[p]) g[a](e);
          else if (p !== a && g[p]) g[p](e.duration, e.easing, d);
          else
            g.queue(function (c) {
              b(this)[a]();
              d && d.call(g[0]);
              c();
            });
        };
      });
      var y = !1;
      b(document).mouseup(function () {
        y = !1;
      });
      b.widget("ui.mouse", {
        version: "1.11.4",
        options: {
          cancel: "input,textarea,button,select,option",
          distance: 1,
          delay: 0,
        },
        _mouseInit: function () {
          var a = this;
          this.element
            .bind("mousedown." + this.widgetName, function (c) {
              return a._mouseDown(c);
            })
            .bind("click." + this.widgetName, function (c) {
              if (!0 === b.data(c.target, a.widgetName + ".preventClickEvent"))
                return (
                  b.removeData(c.target, a.widgetName + ".preventClickEvent"),
                  c.stopImmediatePropagation(),
                  !1
                );
            });
          this.started = !1;
        },
        _mouseDestroy: function () {
          this.element.unbind("." + this.widgetName);
          this._mouseMoveDelegate &&
            this.document
              .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
              .unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
        },
        _mouseDown: function (a) {
          if (!y) {
            this._mouseMoved = !1;
            this._mouseStarted && this._mouseUp(a);
            this._mouseDownEvent = a;
            var c = this,
              g = 1 === a.which,
              e =
                "string" === typeof this.options.cancel && a.target.nodeName
                  ? b(a.target).closest(this.options.cancel).length
                  : !1;
            if (!g || e || !this._mouseCapture(a)) return !0;
            this.mouseDelayMet = !this.options.delay;
            this.mouseDelayMet ||
              (this._mouseDelayTimer = setTimeout(function () {
                c.mouseDelayMet = !0;
              }, this.options.delay));
            if (
              this._mouseDistanceMet(a) &&
              this._mouseDelayMet(a) &&
              ((this._mouseStarted = !1 !== this._mouseStart(a)),
              !this._mouseStarted)
            )
              return a.preventDefault(), !0;
            !0 === b.data(a.target, this.widgetName + ".preventClickEvent") &&
              b.removeData(a.target, this.widgetName + ".preventClickEvent");
            this._mouseMoveDelegate = function (a) {
              return c._mouseMove(a);
            };
            this._mouseUpDelegate = function (a) {
              return c._mouseUp(a);
            };
            this.document
              .bind("mousemove." + this.widgetName, this._mouseMoveDelegate)
              .bind("mouseup." + this.widgetName, this._mouseUpDelegate);
            a.preventDefault();
            return (y = !0);
          }
        },
        _mouseMove: function (a) {
          if (
            this._mouseMoved &&
            ((b.ui.ie &&
              (!document.documentMode || 9 > document.documentMode) &&
              !a.button) ||
              !a.which)
          )
            return this._mouseUp(a);
          if (a.which || a.button) this._mouseMoved = !0;
          if (this._mouseStarted) return this._mouseDrag(a), a.preventDefault();
          this._mouseDistanceMet(a) &&
            this._mouseDelayMet(a) &&
            ((this._mouseStarted =
              !1 !== this._mouseStart(this._mouseDownEvent, a))
              ? this._mouseDrag(a)
              : this._mouseUp(a));
          return !this._mouseStarted;
        },
        _mouseUp: function (a) {
          this.document
            .unbind("mousemove." + this.widgetName, this._mouseMoveDelegate)
            .unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
          this._mouseStarted &&
            ((this._mouseStarted = !1),
            a.target === this._mouseDownEvent.target &&
              b.data(a.target, this.widgetName + ".preventClickEvent", !0),
            this._mouseStop(a));
          return (y = !1);
        },
        _mouseDistanceMet: function (a) {
          return (
            Math.max(
              Math.abs(this._mouseDownEvent.pageX - a.pageX),
              Math.abs(this._mouseDownEvent.pageY - a.pageY)
            ) >= this.options.distance
          );
        },
        _mouseDelayMet: function () {
          return this.mouseDelayMet;
        },
        _mouseStart: function () {},
        _mouseDrag: function () {},
        _mouseStop: function () {},
        _mouseCapture: function () {
          return !0;
        },
      });
      (function () {
        function a(a, c, b) {
          return [
            parseFloat(a[0]) * (v.test(a[0]) ? c / 100 : 1),
            parseFloat(a[1]) * (v.test(a[1]) ? b / 100 : 1),
          ];
        }
        function c(a) {
          var c = a[0];
          return 9 === c.nodeType
            ? {
                width: a.width(),
                height: a.height(),
                offset: { top: 0, left: 0 },
              }
            : b.isWindow(c)
            ? {
                width: a.width(),
                height: a.height(),
                offset: { top: a.scrollTop(), left: a.scrollLeft() },
              }
            : c.preventDefault
            ? { width: 0, height: 0, offset: { top: c.pageY, left: c.pageX } }
            : {
                width: a.outerWidth(),
                height: a.outerHeight(),
                offset: a.offset(),
              };
        }
        b.ui = b.ui || {};
        var g,
          e,
          d = Math.max,
          f = Math.abs,
          h = Math.round,
          l = /left|center|right/,
          q = /top|center|bottom/,
          k = /[\+\-]\d+(\.[\d]+)?%?/,
          u = /^\w+/,
          v = /%$/,
          y = b.fn.position;
        b.position = {
          scrollbarWidth: function () {
            if (void 0 !== g) return g;
            var a = b(
              "\x3cdiv style\x3d'display:block;position:absolute;width:50px;height:50px;overflow:hidden;'\x3e\x3cdiv style\x3d'height:100px;width:auto;'\x3e\x3c/div\x3e\x3c/div\x3e"
            );
            var c = a.children()[0];
            b("body").append(a);
            var e = c.offsetWidth;
            a.css("overflow", "scroll");
            c = c.offsetWidth;
            e === c && (c = a[0].clientWidth);
            a.remove();
            return (g = e - c);
          },
          getScrollInfo: function (a) {
            var c =
                a.isWindow || a.isDocument ? "" : a.element.css("overflow-x"),
              g = a.isWindow || a.isDocument ? "" : a.element.css("overflow-y");
            c =
              "scroll" === c ||
              ("auto" === c && a.width < a.element[0].scrollWidth);
            return {
              width:
                "scroll" === g ||
                ("auto" === g && a.height < a.element[0].scrollHeight)
                  ? b.position.scrollbarWidth()
                  : 0,
              height: c ? b.position.scrollbarWidth() : 0,
            };
          },
          getWithinInfo: function (a) {
            a = b(a || window);
            var c = b.isWindow(a[0]),
              g = !!a[0] && 9 === a[0].nodeType;
            return {
              element: a,
              isWindow: c,
              isDocument: g,
              offset: a.offset() || { left: 0, top: 0 },
              scrollLeft: a.scrollLeft(),
              scrollTop: a.scrollTop(),
              width: c || g ? a.width() : a.outerWidth(),
              height: c || g ? a.height() : a.outerHeight(),
            };
          },
        };
        b.fn.position = function (g) {
          if (!g || !g.of) return y.apply(this, arguments);
          g = b.extend({}, g);
          var p = b(g.of),
            C = b.position.getWithinInfo(g.within),
            v = b.position.getScrollInfo(C),
            r = (g.collision || "flip").split(" "),
            n = {};
          var B = c(p);
          p[0].preventDefault && (g.at = "left top");
          var z = B.width;
          var w = B.height;
          var L = B.offset;
          var x = b.extend({}, L);
          b.each(["my", "at"], function () {
            var a = (g[this] || "").split(" ");
            1 === a.length &&
              (a = l.test(a[0])
                ? a.concat(["center"])
                : q.test(a[0])
                ? ["center"].concat(a)
                : ["center", "center"]);
            a[0] = l.test(a[0]) ? a[0] : "center";
            a[1] = q.test(a[1]) ? a[1] : "center";
            var c = k.exec(a[0]);
            var b = k.exec(a[1]);
            n[this] = [c ? c[0] : 0, b ? b[0] : 0];
            g[this] = [u.exec(a[0])[0], u.exec(a[1])[0]];
          });
          1 === r.length && (r[1] = r[0]);
          "right" === g.at[0]
            ? (x.left += z)
            : "center" === g.at[0] && (x.left += z / 2);
          "bottom" === g.at[1]
            ? (x.top += w)
            : "center" === g.at[1] && (x.top += w / 2);
          var M = a(n.at, z, w);
          x.left += M[0];
          x.top += M[1];
          return this.each(function () {
            var c,
              l = b(this),
              q = l.outerWidth(),
              k = l.outerHeight(),
              u = parseInt(b.css(this, "marginLeft"), 10) || 0,
              y = parseInt(b.css(this, "marginTop"), 10) || 0,
              B =
                q +
                u +
                (parseInt(b.css(this, "marginRight"), 10) || 0) +
                v.width,
              H =
                k +
                y +
                (parseInt(b.css(this, "marginBottom"), 10) || 0) +
                v.height,
              E = b.extend({}, x),
              G = a(n.my, l.outerWidth(), l.outerHeight());
            "right" === g.my[0]
              ? (E.left -= q)
              : "center" === g.my[0] && (E.left -= q / 2);
            "bottom" === g.my[1]
              ? (E.top -= k)
              : "center" === g.my[1] && (E.top -= k / 2);
            E.left += G[0];
            E.top += G[1];
            e || ((E.left = h(E.left)), (E.top = h(E.top)));
            var P = { marginLeft: u, marginTop: y };
            b.each(["left", "top"], function (a, c) {
              if (b.ui.position[r[a]])
                b.ui.position[r[a]][c](E, {
                  targetWidth: z,
                  targetHeight: w,
                  elemWidth: q,
                  elemHeight: k,
                  collisionPosition: P,
                  collisionWidth: B,
                  collisionHeight: H,
                  offset: [M[0] + G[0], M[1] + G[1]],
                  my: g.my,
                  at: g.at,
                  within: C,
                  elem: l,
                });
            });
            g.using &&
              (c = function (a) {
                var c = L.left - E.left,
                  b = c + z - q,
                  e = L.top - E.top,
                  h = e + w - k,
                  C = {
                    target: {
                      element: p,
                      left: L.left,
                      top: L.top,
                      width: z,
                      height: w,
                    },
                    element: {
                      element: l,
                      left: E.left,
                      top: E.top,
                      width: q,
                      height: k,
                    },
                    horizontal: 0 > b ? "left" : 0 < c ? "right" : "center",
                    vertical: 0 > h ? "top" : 0 < e ? "bottom" : "middle",
                  };
                z < q && f(c + b) < z && (C.horizontal = "center");
                w < k && f(e + h) < w && (C.vertical = "middle");
                d(f(c), f(b)) > d(f(e), f(h))
                  ? (C.important = "horizontal")
                  : (C.important = "vertical");
                g.using.call(this, a, C);
              });
            l.offset(b.extend(E, { using: c }));
          });
        };
        b.ui.position = {
          fit: {
            left: function (a, c) {
              var b = c.within,
                g = b.isWindow ? b.scrollLeft : b.offset.left,
                e = b.width,
                p = a.left - c.collisionPosition.marginLeft;
              b = g - p;
              var f = p + c.collisionWidth - e - g;
              c.collisionWidth > e
                ? 0 < b && 0 >= f
                  ? ((c = a.left + b + c.collisionWidth - e - g),
                    (a.left += b - c))
                  : (a.left =
                      0 < f && 0 >= b
                        ? g
                        : b > f
                        ? g + e - c.collisionWidth
                        : g)
                : (a.left =
                    0 < b
                      ? a.left + b
                      : 0 < f
                      ? a.left - f
                      : d(a.left - p, a.left));
            },
            top: function (a, c) {
              var b = c.within,
                g = b.isWindow ? b.scrollTop : b.offset.top,
                e = c.within.height,
                p = a.top - c.collisionPosition.marginTop;
              b = g - p;
              var f = p + c.collisionHeight - e - g;
              c.collisionHeight > e
                ? 0 < b && 0 >= f
                  ? ((c = a.top + b + c.collisionHeight - e - g),
                    (a.top += b - c))
                  : (a.top =
                      0 < f && 0 >= b
                        ? g
                        : b > f
                        ? g + e - c.collisionHeight
                        : g)
                : (a.top =
                    0 < b
                      ? a.top + b
                      : 0 < f
                      ? a.top - f
                      : d(a.top - p, a.top));
            },
          },
          flip: {
            left: function (a, c) {
              var b = c.within,
                g = b.offset.left + b.scrollLeft,
                e = b.width,
                p = b.isWindow ? b.scrollLeft : b.offset.left,
                d = a.left - c.collisionPosition.marginLeft;
              b = d - p;
              var h = d + c.collisionWidth - e - p;
              d =
                "left" === c.my[0]
                  ? -c.elemWidth
                  : "right" === c.my[0]
                  ? c.elemWidth
                  : 0;
              var l =
                  "left" === c.at[0]
                    ? c.targetWidth
                    : "right" === c.at[0]
                    ? -c.targetWidth
                    : 0,
                q = -2 * c.offset[0];
              if (0 > b) {
                if (
                  ((c = a.left + d + l + q + c.collisionWidth - e - g),
                  0 > c || c < f(b))
                )
                  a.left += d + l + q;
              } else
                0 < h &&
                  ((c =
                    a.left - c.collisionPosition.marginLeft + d + l + q - p),
                  0 < c || f(c) < h) &&
                  (a.left += d + l + q);
            },
            top: function (a, c) {
              var b = c.within,
                g = b.offset.top + b.scrollTop,
                e = b.height,
                p = b.isWindow ? b.scrollTop : b.offset.top,
                d = a.top - c.collisionPosition.marginTop;
              b = d - p;
              var h = d + c.collisionHeight - e - p;
              d =
                "top" === c.my[1]
                  ? -c.elemHeight
                  : "bottom" === c.my[1]
                  ? c.elemHeight
                  : 0;
              var l =
                  "top" === c.at[1]
                    ? c.targetHeight
                    : "bottom" === c.at[1]
                    ? -c.targetHeight
                    : 0,
                q = -2 * c.offset[1];
              if (0 > b) {
                if (
                  ((c = a.top + d + l + q + c.collisionHeight - e - g),
                  0 > c || c < f(b))
                )
                  a.top += d + l + q;
              } else
                0 < h &&
                  ((c = a.top - c.collisionPosition.marginTop + d + l + q - p),
                  0 < c || f(c) < h) &&
                  (a.top += d + l + q);
            },
          },
          flipfit: {
            left: function () {
              b.ui.position.flip.left.apply(this, arguments);
              b.ui.position.fit.left.apply(this, arguments);
            },
            top: function () {
              b.ui.position.flip.top.apply(this, arguments);
              b.ui.position.fit.top.apply(this, arguments);
            },
          },
        };
        (function () {
          var a,
            c = document.getElementsByTagName("body")[0];
          var g = document.createElement("div");
          var p = document.createElement(c ? "div" : "body");
          var d = {
            visibility: "hidden",
            width: 0,
            height: 0,
            border: 0,
            margin: 0,
            background: "none",
          };
          c &&
            b.extend(d, {
              position: "absolute",
              left: "-1000px",
              top: "-1000px",
            });
          for (a in d) p.style[a] = d[a];
          p.appendChild(g);
          d = c || document.documentElement;
          d.insertBefore(p, d.firstChild);
          g.style.cssText = "position: absolute; left: 10.7432222px;";
          g = b(g).offset().left;
          e = 10 < g && 11 > g;
          p.innerHTML = "";
          d.removeChild(p);
        })();
      })();
      b.widget("ui.draggable", b.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "drag",
        options: {
          addClasses: !0,
          appendTo: "parent",
          axis: !1,
          connectToSortable: !1,
          containment: !1,
          cursor: "auto",
          cursorAt: !1,
          grid: !1,
          handle: !1,
          helper: "original",
          iframeFix: !1,
          opacity: !1,
          refreshPositions: !1,
          revert: !1,
          revertDuration: 500,
          scope: "default",
          scroll: !0,
          scrollSensitivity: 20,
          scrollSpeed: 20,
          snap: !1,
          snapMode: "both",
          snapTolerance: 20,
          stack: !1,
          zIndex: !1,
          drag: null,
          start: null,
          stop: null,
        },
        _create: function () {
          "original" === this.options.helper && this._setPositionRelative();
          this.options.addClasses && this.element.addClass("ui-draggable");
          this.options.disabled &&
            this.element.addClass("ui-draggable-disabled");
          this._setHandleClassName();
          this._mouseInit();
        },
        _setOption: function (a, c) {
          this._super(a, c);
          "handle" === a &&
            (this._removeHandleClassName(), this._setHandleClassName());
        },
        _destroy: function () {
          (this.helper || this.element).is(".ui-draggable-dragging")
            ? (this.destroyOnClear = !0)
            : (this.element.removeClass(
                "ui-draggable ui-draggable-dragging ui-draggable-disabled"
              ),
              this._removeHandleClassName(),
              this._mouseDestroy());
        },
        _mouseCapture: function (a) {
          var c = this.options;
          this._blurActiveElement(a);
          if (
            this.helper ||
            c.disabled ||
            0 < b(a.target).closest(".ui-resizable-handle").length
          )
            return !1;
          this.handle = this._getHandle(a);
          if (!this.handle) return !1;
          this._blockFrames(!0 === c.iframeFix ? "iframe" : c.iframeFix);
          return !0;
        },
        _blockFrames: function (a) {
          this.iframeBlocks = this.document.find(a).map(function () {
            var a = b(this);
            return b("\x3cdiv\x3e")
              .css("position", "absolute")
              .appendTo(a.parent())
              .outerWidth(a.outerWidth())
              .outerHeight(a.outerHeight())
              .offset(a.offset())[0];
          });
        },
        _unblockFrames: function () {
          this.iframeBlocks &&
            (this.iframeBlocks.remove(), delete this.iframeBlocks);
        },
        _blurActiveElement: function (a) {
          var c = this.document[0];
          if (this.handleElement.is(a.target))
            try {
              c.activeElement &&
                "body" !== c.activeElement.nodeName.toLowerCase() &&
                b(c.activeElement).blur();
            } catch (g) {}
        },
        _mouseStart: function (a) {
          var c = this.options;
          this.helper = this._createHelper(a);
          this.helper.addClass("ui-draggable-dragging");
          this._cacheHelperProportions();
          b.ui.ddmanager && (b.ui.ddmanager.current = this);
          this._cacheMargins();
          this.cssPosition = this.helper.css("position");
          this.scrollParent = this.helper.scrollParent(!0);
          this.offsetParent = this.helper.offsetParent();
          this.hasFixedAncestor =
            0 <
            this.helper.parents().filter(function () {
              return "fixed" === b(this).css("position");
            }).length;
          this.positionAbs = this.element.offset();
          this._refreshOffsets(a);
          this.originalPosition = this.position = this._generatePosition(a, !1);
          this.originalPageX = a.pageX;
          this.originalPageY = a.pageY;
          c.cursorAt && this._adjustOffsetFromHelper(c.cursorAt);
          this._setContainment();
          if (!1 === this._trigger("start", a)) return this._clear(), !1;
          this._cacheHelperProportions();
          b.ui.ddmanager &&
            !c.dropBehaviour &&
            b.ui.ddmanager.prepareOffsets(this, a);
          this._normalizeRightBottom();
          this._mouseDrag(a, !0);
          b.ui.ddmanager && b.ui.ddmanager.dragStart(this, a);
          return !0;
        },
        _refreshOffsets: function (a) {
          this.offset = {
            top: this.positionAbs.top - this.margins.top,
            left: this.positionAbs.left - this.margins.left,
            scroll: !1,
            parent: this._getParentOffset(),
            relative: this._getRelativeOffset(),
          };
          this.offset.click = {
            left: a.pageX - this.offset.left,
            top: a.pageY - this.offset.top,
          };
        },
        _mouseDrag: function (a, c) {
          this.hasFixedAncestor &&
            (this.offset.parent = this._getParentOffset());
          this.position = this._generatePosition(a, !0);
          this.positionAbs = this._convertPositionTo("absolute");
          if (!c) {
            c = this._uiHash();
            if (!1 === this._trigger("drag", a, c))
              return this._mouseUp({}), !1;
            this.position = c.position;
          }
          this.helper[0].style.left = this.position.left + "px";
          this.helper[0].style.top = this.position.top + "px";
          b.ui.ddmanager && b.ui.ddmanager.drag(this, a);
          return !1;
        },
        _mouseStop: function (a) {
          var c = this,
            g = !1;
          b.ui.ddmanager &&
            !this.options.dropBehaviour &&
            (g = b.ui.ddmanager.drop(this, a));
          this.dropped && ((g = this.dropped), (this.dropped = !1));
          ("invalid" === this.options.revert && !g) ||
          ("valid" === this.options.revert && g) ||
          !0 === this.options.revert ||
          (b.isFunction(this.options.revert) &&
            this.options.revert.call(this.element, g))
            ? b(this.helper).animate(
                this.originalPosition,
                parseInt(this.options.revertDuration, 10),
                function () {
                  !1 !== c._trigger("stop", a) && c._clear();
                }
              )
            : !1 !== this._trigger("stop", a) && this._clear();
          return !1;
        },
        _mouseUp: function (a) {
          this._unblockFrames();
          b.ui.ddmanager && b.ui.ddmanager.dragStop(this, a);
          this.handleElement.is(a.target) && this.element.focus();
          return b.ui.mouse.prototype._mouseUp.call(this, a);
        },
        cancel: function () {
          this.helper.is(".ui-draggable-dragging")
            ? this._mouseUp({})
            : this._clear();
          return this;
        },
        _getHandle: function (a) {
          return this.options.handle
            ? !!b(a.target).closest(this.element.find(this.options.handle))
                .length
            : !0;
        },
        _setHandleClassName: function () {
          this.handleElement = this.options.handle
            ? this.element.find(this.options.handle)
            : this.element;
          this.handleElement.addClass("ui-draggable-handle");
        },
        _removeHandleClassName: function () {
          this.handleElement.removeClass("ui-draggable-handle");
        },
        _createHelper: function (a) {
          var c = this.options,
            g = b.isFunction(c.helper);
          a = g
            ? b(c.helper.apply(this.element[0], [a]))
            : "clone" === c.helper
            ? this.element.clone().removeAttr("id")
            : this.element;
          a.parents("body").length ||
            a.appendTo(
              "parent" === c.appendTo ? this.element[0].parentNode : c.appendTo
            );
          g && a[0] === this.element[0] && this._setPositionRelative();
          a[0] === this.element[0] ||
            /(fixed|absolute)/.test(a.css("position")) ||
            a.css("position", "absolute");
          return a;
        },
        _setPositionRelative: function () {
          /^(?:r|a|f)/.test(this.element.css("position")) ||
            (this.element[0].style.position = "relative");
        },
        _adjustOffsetFromHelper: function (a) {
          "string" === typeof a && (a = a.split(" "));
          b.isArray(a) && (a = { left: +a[0], top: +a[1] || 0 });
          "left" in a && (this.offset.click.left = a.left + this.margins.left);
          "right" in a &&
            (this.offset.click.left =
              this.helperProportions.width - a.right + this.margins.left);
          "top" in a && (this.offset.click.top = a.top + this.margins.top);
          "bottom" in a &&
            (this.offset.click.top =
              this.helperProportions.height - a.bottom + this.margins.top);
        },
        _isRootNode: function (a) {
          return /(html|body)/i.test(a.tagName) || a === this.document[0];
        },
        _getParentOffset: function () {
          var a = this.offsetParent.offset(),
            c = this.document[0];
          "absolute" === this.cssPosition &&
            this.scrollParent[0] !== c &&
            b.contains(this.scrollParent[0], this.offsetParent[0]) &&
            ((a.left += this.scrollParent.scrollLeft()),
            (a.top += this.scrollParent.scrollTop()));
          this._isRootNode(this.offsetParent[0]) && (a = { top: 0, left: 0 });
          return {
            top:
              a.top +
              (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
            left:
              a.left +
              (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0),
          };
        },
        _getRelativeOffset: function () {
          if ("relative" !== this.cssPosition) return { top: 0, left: 0 };
          var a = this.element.position(),
            c = this._isRootNode(this.scrollParent[0]);
          return {
            top:
              a.top -
              (parseInt(this.helper.css("top"), 10) || 0) +
              (c ? 0 : this.scrollParent.scrollTop()),
            left:
              a.left -
              (parseInt(this.helper.css("left"), 10) || 0) +
              (c ? 0 : this.scrollParent.scrollLeft()),
          };
        },
        _cacheMargins: function () {
          this.margins = {
            left: parseInt(this.element.css("marginLeft"), 10) || 0,
            top: parseInt(this.element.css("marginTop"), 10) || 0,
            right: parseInt(this.element.css("marginRight"), 10) || 0,
            bottom: parseInt(this.element.css("marginBottom"), 10) || 0,
          };
        },
        _cacheHelperProportions: function () {
          this.helperProportions = {
            width: this.helper.outerWidth(),
            height: this.helper.outerHeight(),
          };
        },
        _setContainment: function () {
          var a;
          var c = this.options;
          var g = this.document[0];
          this.relativeContainer = null;
          if (c.containment)
            if ("window" === c.containment)
              this.containment = [
                b(window).scrollLeft() -
                  this.offset.relative.left -
                  this.offset.parent.left,
                b(window).scrollTop() -
                  this.offset.relative.top -
                  this.offset.parent.top,
                b(window).scrollLeft() +
                  b(window).width() -
                  this.helperProportions.width -
                  this.margins.left,
                b(window).scrollTop() +
                  (b(window).height() || g.body.parentNode.scrollHeight) -
                  this.helperProportions.height -
                  this.margins.top,
              ];
            else if ("document" === c.containment)
              this.containment = [
                0,
                0,
                b(g).width() - this.helperProportions.width - this.margins.left,
                (b(g).height() || g.body.parentNode.scrollHeight) -
                  this.helperProportions.height -
                  this.margins.top,
              ];
            else if (c.containment.constructor === Array)
              this.containment = c.containment;
            else {
              if (
                ("parent" === c.containment &&
                  (c.containment = this.helper[0].parentNode),
                (g = b(c.containment)),
                (a = g[0]))
              )
                (c = /(scroll|auto)/.test(g.css("overflow"))),
                  (this.containment = [
                    (parseInt(g.css("borderLeftWidth"), 10) || 0) +
                      (parseInt(g.css("paddingLeft"), 10) || 0),
                    (parseInt(g.css("borderTopWidth"), 10) || 0) +
                      (parseInt(g.css("paddingTop"), 10) || 0),
                    (c
                      ? Math.max(a.scrollWidth, a.offsetWidth)
                      : a.offsetWidth) -
                      (parseInt(g.css("borderRightWidth"), 10) || 0) -
                      (parseInt(g.css("paddingRight"), 10) || 0) -
                      this.helperProportions.width -
                      this.margins.left -
                      this.margins.right,
                    (c
                      ? Math.max(a.scrollHeight, a.offsetHeight)
                      : a.offsetHeight) -
                      (parseInt(g.css("borderBottomWidth"), 10) || 0) -
                      (parseInt(g.css("paddingBottom"), 10) || 0) -
                      this.helperProportions.height -
                      this.margins.top -
                      this.margins.bottom,
                  ]),
                  (this.relativeContainer = g);
            }
          else this.containment = null;
        },
        _convertPositionTo: function (a, c) {
          c || (c = this.position);
          a = "absolute" === a ? 1 : -1;
          var b = this._isRootNode(this.scrollParent[0]);
          return {
            top:
              c.top +
              this.offset.relative.top * a +
              this.offset.parent.top * a -
              ("fixed" === this.cssPosition
                ? -this.offset.scroll.top
                : b
                ? 0
                : this.offset.scroll.top) *
                a,
            left:
              c.left +
              this.offset.relative.left * a +
              this.offset.parent.left * a -
              ("fixed" === this.cssPosition
                ? -this.offset.scroll.left
                : b
                ? 0
                : this.offset.scroll.left) *
                a,
          };
        },
        _generatePosition: function (a, c) {
          var b = this.options,
            e = this._isRootNode(this.scrollParent[0]);
          var d = a.pageX;
          var f = a.pageY;
          (e && this.offset.scroll) ||
            (this.offset.scroll = {
              top: this.scrollParent.scrollTop(),
              left: this.scrollParent.scrollLeft(),
            });
          if (c) {
            if (this.containment) {
              if (this.relativeContainer) {
                var h = this.relativeContainer.offset();
                h = [
                  this.containment[0] + h.left,
                  this.containment[1] + h.top,
                  this.containment[2] + h.left,
                  this.containment[3] + h.top,
                ];
              } else h = this.containment;
              a.pageX - this.offset.click.left < h[0] &&
                (d = h[0] + this.offset.click.left);
              a.pageY - this.offset.click.top < h[1] &&
                (f = h[1] + this.offset.click.top);
              a.pageX - this.offset.click.left > h[2] &&
                (d = h[2] + this.offset.click.left);
              a.pageY - this.offset.click.top > h[3] &&
                (f = h[3] + this.offset.click.top);
            }
            b.grid &&
              ((f = b.grid[1]
                ? this.originalPageY +
                  Math.round((f - this.originalPageY) / b.grid[1]) * b.grid[1]
                : this.originalPageY),
              (f = h
                ? f - this.offset.click.top >= h[1] ||
                  f - this.offset.click.top > h[3]
                  ? f
                  : f - this.offset.click.top >= h[1]
                  ? f - b.grid[1]
                  : f + b.grid[1]
                : f),
              (d = b.grid[0]
                ? this.originalPageX +
                  Math.round((d - this.originalPageX) / b.grid[0]) * b.grid[0]
                : this.originalPageX),
              (d = h
                ? d - this.offset.click.left >= h[0] ||
                  d - this.offset.click.left > h[2]
                  ? d
                  : d - this.offset.click.left >= h[0]
                  ? d - b.grid[0]
                  : d + b.grid[0]
                : d));
            "y" === b.axis && (d = this.originalPageX);
            "x" === b.axis && (f = this.originalPageY);
          }
          return {
            top:
              f -
              this.offset.click.top -
              this.offset.relative.top -
              this.offset.parent.top +
              ("fixed" === this.cssPosition
                ? -this.offset.scroll.top
                : e
                ? 0
                : this.offset.scroll.top),
            left:
              d -
              this.offset.click.left -
              this.offset.relative.left -
              this.offset.parent.left +
              ("fixed" === this.cssPosition
                ? -this.offset.scroll.left
                : e
                ? 0
                : this.offset.scroll.left),
          };
        },
        _clear: function () {
          this.helper.removeClass("ui-draggable-dragging");
          this.helper[0] === this.element[0] ||
            this.cancelHelperRemoval ||
            this.helper.remove();
          this.helper = null;
          this.cancelHelperRemoval = !1;
          this.destroyOnClear && this.destroy();
        },
        _normalizeRightBottom: function () {
          "y" !== this.options.axis &&
            "auto" !== this.helper.css("right") &&
            (this.helper.width(this.helper.width()),
            this.helper.css("right", "auto"));
          "x" !== this.options.axis &&
            "auto" !== this.helper.css("bottom") &&
            (this.helper.height(this.helper.height()),
            this.helper.css("bottom", "auto"));
        },
        _trigger: function (a, c, g) {
          g = g || this._uiHash();
          b.ui.plugin.call(this, a, [c, g, this], !0);
          /^(drag|start|stop)/.test(a) &&
            ((this.positionAbs = this._convertPositionTo("absolute")),
            (g.offset = this.positionAbs));
          return b.Widget.prototype._trigger.call(this, a, c, g);
        },
        plugins: {},
        _uiHash: function () {
          return {
            helper: this.helper,
            position: this.position,
            originalPosition: this.originalPosition,
            offset: this.positionAbs,
          };
        },
      });
      b.ui.plugin.add("draggable", "connectToSortable", {
        start: function (a, c, g) {
          var e = b.extend({}, c, { item: g.element });
          g.sortables = [];
          b(g.options.connectToSortable).each(function () {
            var c = b(this).sortable("instance");
            c &&
              !c.options.disabled &&
              (g.sortables.push(c),
              c.refreshPositions(),
              c._trigger("activate", a, e));
          });
        },
        stop: function (a, c, g) {
          var e = b.extend({}, c, { item: g.element });
          g.cancelHelperRemoval = !1;
          b.each(g.sortables, function () {
            this.isOver
              ? ((this.isOver = 0),
                (g.cancelHelperRemoval = !0),
                (this.cancelHelperRemoval = !1),
                (this._storedCSS = {
                  position: this.placeholder.css("position"),
                  top: this.placeholder.css("top"),
                  left: this.placeholder.css("left"),
                }),
                this._mouseStop(a),
                (this.options.helper = this.options._helper))
              : ((this.cancelHelperRemoval = !0),
                this._trigger("deactivate", a, e));
          });
        },
        drag: function (a, c, g) {
          b.each(g.sortables, function () {
            var e = !1,
              d = this;
            d.positionAbs = g.positionAbs;
            d.helperProportions = g.helperProportions;
            d.offset.click = g.offset.click;
            d._intersectsWith(d.containerCache) &&
              ((e = !0),
              b.each(g.sortables, function () {
                this.positionAbs = g.positionAbs;
                this.helperProportions = g.helperProportions;
                this.offset.click = g.offset.click;
                this !== d &&
                  this._intersectsWith(this.containerCache) &&
                  b.contains(d.element[0], this.element[0]) &&
                  (e = !1);
                return e;
              }));
            e
              ? (d.isOver ||
                  ((d.isOver = 1),
                  (g._parent = c.helper.parent()),
                  (d.currentItem = c.helper
                    .appendTo(d.element)
                    .data("ui-sortable-item", !0)),
                  (d.options._helper = d.options.helper),
                  (d.options.helper = function () {
                    return c.helper[0];
                  }),
                  (a.target = d.currentItem[0]),
                  d._mouseCapture(a, !0),
                  d._mouseStart(a, !0, !0),
                  (d.offset.click.top = g.offset.click.top),
                  (d.offset.click.left = g.offset.click.left),
                  (d.offset.parent.left -=
                    g.offset.parent.left - d.offset.parent.left),
                  (d.offset.parent.top -=
                    g.offset.parent.top - d.offset.parent.top),
                  g._trigger("toSortable", a),
                  (g.dropped = d.element),
                  b.each(g.sortables, function () {
                    this.refreshPositions();
                  }),
                  (g.currentItem = g.element),
                  (d.fromOutside = g)),
                d.currentItem && (d._mouseDrag(a), (c.position = d.position)))
              : d.isOver &&
                ((d.isOver = 0),
                (d.cancelHelperRemoval = !0),
                (d.options._revert = d.options.revert),
                (d.options.revert = !1),
                d._trigger("out", a, d._uiHash(d)),
                d._mouseStop(a, !0),
                (d.options.revert = d.options._revert),
                (d.options.helper = d.options._helper),
                d.placeholder && d.placeholder.remove(),
                c.helper.appendTo(g._parent),
                g._refreshOffsets(a),
                (c.position = g._generatePosition(a, !0)),
                g._trigger("fromSortable", a),
                (g.dropped = !1),
                b.each(g.sortables, function () {
                  this.refreshPositions();
                }));
          });
        },
      });
      b.ui.plugin.add("draggable", "cursor", {
        start: function (a, c, g) {
          a = b("body");
          g = g.options;
          a.css("cursor") && (g._cursor = a.css("cursor"));
          a.css("cursor", g.cursor);
        },
        stop: function (a, c, g) {
          a = g.options;
          a._cursor && b("body").css("cursor", a._cursor);
        },
      });
      b.ui.plugin.add("draggable", "opacity", {
        start: function (a, c, g) {
          a = b(c.helper);
          g = g.options;
          a.css("opacity") && (g._opacity = a.css("opacity"));
          a.css("opacity", g.opacity);
        },
        stop: function (a, c, g) {
          a = g.options;
          a._opacity && b(c.helper).css("opacity", a._opacity);
        },
      });
      b.ui.plugin.add("draggable", "scroll", {
        start: function (a, c, b) {
          b.scrollParentNotHidden ||
            (b.scrollParentNotHidden = b.helper.scrollParent(!1));
          b.scrollParentNotHidden[0] !== b.document[0] &&
            "HTML" !== b.scrollParentNotHidden[0].tagName &&
            (b.overflowOffset = b.scrollParentNotHidden.offset());
        },
        drag: function (a, c, g) {
          c = g.options;
          var e = !1,
            d = g.scrollParentNotHidden[0],
            f = g.document[0];
          d !== f && "HTML" !== d.tagName
            ? ((c.axis && "x" === c.axis) ||
                (g.overflowOffset.top + d.offsetHeight - a.pageY <
                c.scrollSensitivity
                  ? (d.scrollTop = e = d.scrollTop + c.scrollSpeed)
                  : a.pageY - g.overflowOffset.top < c.scrollSensitivity &&
                    (d.scrollTop = e = d.scrollTop - c.scrollSpeed)),
              (c.axis && "y" === c.axis) ||
                (g.overflowOffset.left + d.offsetWidth - a.pageX <
                c.scrollSensitivity
                  ? (d.scrollLeft = e = d.scrollLeft + c.scrollSpeed)
                  : a.pageX - g.overflowOffset.left < c.scrollSensitivity &&
                    (d.scrollLeft = e = d.scrollLeft - c.scrollSpeed)))
            : ((c.axis && "x" === c.axis) ||
                (a.pageY - b(f).scrollTop() < c.scrollSensitivity
                  ? (e = b(f).scrollTop(b(f).scrollTop() - c.scrollSpeed))
                  : b(window).height() - (a.pageY - b(f).scrollTop()) <
                      c.scrollSensitivity &&
                    (e = b(f).scrollTop(b(f).scrollTop() + c.scrollSpeed))),
              (c.axis && "y" === c.axis) ||
                (a.pageX - b(f).scrollLeft() < c.scrollSensitivity
                  ? (e = b(f).scrollLeft(b(f).scrollLeft() - c.scrollSpeed))
                  : b(window).width() - (a.pageX - b(f).scrollLeft()) <
                      c.scrollSensitivity &&
                    (e = b(f).scrollLeft(b(f).scrollLeft() + c.scrollSpeed))));
          !1 !== e &&
            b.ui.ddmanager &&
            !c.dropBehaviour &&
            b.ui.ddmanager.prepareOffsets(g, a);
        },
      });
      b.ui.plugin.add("draggable", "snap", {
        start: function (a, c, g) {
          a = g.options;
          g.snapElements = [];
          b(
            a.snap.constructor !== String
              ? a.snap.items || ":data(ui-draggable)"
              : a.snap
          ).each(function () {
            var a = b(this),
              c = a.offset();
            this !== g.element[0] &&
              g.snapElements.push({
                item: this,
                width: a.outerWidth(),
                height: a.outerHeight(),
                top: c.top,
                left: c.left,
              });
          });
        },
        drag: function (a, c, g) {
          var e,
            d = g.options,
            f = d.snapTolerance,
            h = c.offset.left,
            l = h + g.helperProportions.width,
            q = c.offset.top,
            k = q + g.helperProportions.height;
          for (e = g.snapElements.length - 1; 0 <= e; e--) {
            var u = g.snapElements[e].left - g.margins.left;
            var v = u + g.snapElements[e].width;
            var r = g.snapElements[e].top - g.margins.top;
            var y = r + g.snapElements[e].height;
            if (
              l < u - f ||
              h > v + f ||
              k < r - f ||
              q > y + f ||
              !b.contains(
                g.snapElements[e].item.ownerDocument,
                g.snapElements[e].item
              )
            )
              g.snapElements[e].snapping &&
                g.options.snap.release &&
                g.options.snap.release.call(
                  g.element,
                  a,
                  b.extend(g._uiHash(), { snapItem: g.snapElements[e].item })
                ),
                (g.snapElements[e].snapping = !1);
            else {
              if ("inner" !== d.snapMode) {
                var n = Math.abs(r - k) <= f;
                var B = Math.abs(y - q) <= f;
                var z = Math.abs(u - l) <= f;
                var w = Math.abs(v - h) <= f;
                n &&
                  (c.position.top = g._convertPositionTo("relative", {
                    top: r - g.helperProportions.height,
                    left: 0,
                  }).top);
                B &&
                  (c.position.top = g._convertPositionTo("relative", {
                    top: y,
                    left: 0,
                  }).top);
                z &&
                  (c.position.left = g._convertPositionTo("relative", {
                    top: 0,
                    left: u - g.helperProportions.width,
                  }).left);
                w &&
                  (c.position.left = g._convertPositionTo("relative", {
                    top: 0,
                    left: v,
                  }).left);
              }
              var x = n || B || z || w;
              "outer" !== d.snapMode &&
                ((n = Math.abs(r - q) <= f),
                (B = Math.abs(y - k) <= f),
                (z = Math.abs(u - h) <= f),
                (w = Math.abs(v - l) <= f),
                n &&
                  (c.position.top = g._convertPositionTo("relative", {
                    top: r,
                    left: 0,
                  }).top),
                B &&
                  (c.position.top = g._convertPositionTo("relative", {
                    top: y - g.helperProportions.height,
                    left: 0,
                  }).top),
                z &&
                  (c.position.left = g._convertPositionTo("relative", {
                    top: 0,
                    left: u,
                  }).left),
                w &&
                  (c.position.left = g._convertPositionTo("relative", {
                    top: 0,
                    left: v - g.helperProportions.width,
                  }).left));
              !g.snapElements[e].snapping &&
                (n || B || z || w || x) &&
                g.options.snap.snap &&
                g.options.snap.snap.call(
                  g.element,
                  a,
                  b.extend(g._uiHash(), { snapItem: g.snapElements[e].item })
                );
              g.snapElements[e].snapping = n || B || z || w || x;
            }
          }
        },
      });
      b.ui.plugin.add("draggable", "stack", {
        start: function (a, c, g) {
          a = b.makeArray(b(g.options.stack)).sort(function (a, c) {
            return (
              (parseInt(b(a).css("zIndex"), 10) || 0) -
              (parseInt(b(c).css("zIndex"), 10) || 0)
            );
          });
          if (a.length) {
            var e = parseInt(b(a[0]).css("zIndex"), 10) || 0;
            b(a).each(function (a) {
              b(this).css("zIndex", e + a);
            });
            this.css("zIndex", e + a.length);
          }
        },
      });
      b.ui.plugin.add("draggable", "zIndex", {
        start: function (a, c, g) {
          a = b(c.helper);
          g = g.options;
          a.css("zIndex") && (g._zIndex = a.css("zIndex"));
          a.css("zIndex", g.zIndex);
        },
        stop: function (a, c, g) {
          a = g.options;
          a._zIndex && b(c.helper).css("zIndex", a._zIndex);
        },
      });
      b.widget("ui.droppable", {
        version: "1.11.4",
        widgetEventPrefix: "drop",
        options: {
          accept: "*",
          activeClass: !1,
          addClasses: !0,
          greedy: !1,
          hoverClass: !1,
          scope: "default",
          tolerance: "intersect",
          activate: null,
          deactivate: null,
          drop: null,
          out: null,
          over: null,
        },
        _create: function () {
          var a,
            c = this.options,
            g = c.accept;
          this.isover = !1;
          this.isout = !0;
          this.accept = b.isFunction(g)
            ? g
            : function (a) {
                return a.is(g);
              };
          this.proportions = function () {
            if (arguments.length) a = arguments[0];
            else
              return a
                ? a
                : (a = {
                    width: this.element[0].offsetWidth,
                    height: this.element[0].offsetHeight,
                  });
          };
          this._addToManager(c.scope);
          c.addClasses && this.element.addClass("ui-droppable");
        },
        _addToManager: function (a) {
          b.ui.ddmanager.droppables[a] = b.ui.ddmanager.droppables[a] || [];
          b.ui.ddmanager.droppables[a].push(this);
        },
        _splice: function (a) {
          for (var c = 0; c < a.length; c++) a[c] === this && a.splice(c, 1);
        },
        _destroy: function () {
          this._splice(b.ui.ddmanager.droppables[this.options.scope]);
          this.element.removeClass("ui-droppable ui-droppable-disabled");
        },
        _setOption: function (a, c) {
          "accept" === a
            ? (this.accept = b.isFunction(c)
                ? c
                : function (a) {
                    return a.is(c);
                  })
            : "scope" === a &&
              (this._splice(b.ui.ddmanager.droppables[this.options.scope]),
              this._addToManager(c));
          this._super(a, c);
        },
        _activate: function (a) {
          var c = b.ui.ddmanager.current;
          this.options.activeClass &&
            this.element.addClass(this.options.activeClass);
          c && this._trigger("activate", a, this.ui(c));
        },
        _deactivate: function (a) {
          var c = b.ui.ddmanager.current;
          this.options.activeClass &&
            this.element.removeClass(this.options.activeClass);
          c && this._trigger("deactivate", a, this.ui(c));
        },
        _over: function (a) {
          var c = b.ui.ddmanager.current;
          c &&
            (c.currentItem || c.element)[0] !== this.element[0] &&
            this.accept.call(this.element[0], c.currentItem || c.element) &&
            (this.options.hoverClass &&
              this.element.addClass(this.options.hoverClass),
            this._trigger("over", a, this.ui(c)));
        },
        _out: function (a) {
          var c = b.ui.ddmanager.current;
          c &&
            (c.currentItem || c.element)[0] !== this.element[0] &&
            this.accept.call(this.element[0], c.currentItem || c.element) &&
            (this.options.hoverClass &&
              this.element.removeClass(this.options.hoverClass),
            this._trigger("out", a, this.ui(c)));
        },
        _drop: function (a, c) {
          var g = c || b.ui.ddmanager.current,
            e = !1;
          if (!g || (g.currentItem || g.element)[0] === this.element[0])
            return !1;
          this.element
            .find(":data(ui-droppable)")
            .not(".ui-draggable-dragging")
            .each(function () {
              var c = b(this).droppable("instance");
              if (
                c.options.greedy &&
                !c.options.disabled &&
                c.options.scope === g.options.scope &&
                c.accept.call(c.element[0], g.currentItem || g.element) &&
                b.ui.intersect(
                  g,
                  b.extend(c, { offset: c.element.offset() }),
                  c.options.tolerance,
                  a
                )
              )
                return (e = !0), !1;
            });
          return e
            ? !1
            : this.accept.call(this.element[0], g.currentItem || g.element)
            ? (this.options.activeClass &&
                this.element.removeClass(this.options.activeClass),
              this.options.hoverClass &&
                this.element.removeClass(this.options.hoverClass),
              this._trigger("drop", a, this.ui(g)),
              this.element)
            : !1;
        },
        ui: function (a) {
          return {
            draggable: a.currentItem || a.element,
            helper: a.helper,
            position: a.position,
            offset: a.positionAbs,
          };
        },
      });
      b.ui.intersect = (function () {
        return function (a, c, b, e) {
          if (!c.offset) return !1;
          var g = (a.positionAbs || a.position.absolute).left + a.margins.left,
            d = (a.positionAbs || a.position.absolute).top + a.margins.top,
            p = g + a.helperProportions.width,
            f = d + a.helperProportions.height,
            h = c.offset.left,
            l = c.offset.top,
            q = h + c.proportions().width,
            k = l + c.proportions().height;
          switch (b) {
            case "fit":
              return h <= g && p <= q && l <= d && f <= k;
            case "intersect":
              return (
                h < g + a.helperProportions.width / 2 &&
                p - a.helperProportions.width / 2 < q &&
                l < d + a.helperProportions.height / 2 &&
                f - a.helperProportions.height / 2 < k
              );
            case "pointer":
              a = e.pageY;
              b = c.proportions().height;
              if ((l = a >= l && a < l + b))
                (e = e.pageX),
                  (c = c.proportions().width),
                  (l = e >= h && e < h + c);
              return l;
            case "touch":
              return (
                ((d >= l && d <= k) ||
                  (f >= l && f <= k) ||
                  (d < l && f > k)) &&
                ((g >= h && g <= q) || (p >= h && p <= q) || (g < h && p > q))
              );
            default:
              return !1;
          }
        };
      })();
      b.ui.ddmanager = {
        current: null,
        droppables: { default: [] },
        prepareOffsets: function (a, c) {
          var g,
            e = b.ui.ddmanager.droppables[a.options.scope] || [],
            d = c ? c.type : null,
            f = (a.currentItem || a.element)
              .find(":data(ui-droppable)")
              .addBack();
          var h = 0;
          a: for (; h < e.length; h++)
            if (
              !(
                e[h].options.disabled ||
                (a &&
                  !e[h].accept.call(
                    e[h].element[0],
                    a.currentItem || a.element
                  ))
              )
            ) {
              for (g = 0; g < f.length; g++)
                if (f[g] === e[h].element[0]) {
                  e[h].proportions().height = 0;
                  continue a;
                }
              e[h].visible = "none" !== e[h].element.css("display");
              e[h].visible &&
                ("mousedown" === d && e[h]._activate.call(e[h], c),
                (e[h].offset = e[h].element.offset()),
                e[h].proportions({
                  width: e[h].element[0].offsetWidth,
                  height: e[h].element[0].offsetHeight,
                }));
            }
        },
        drop: function (a, c) {
          var g = !1;
          b.each(
            (b.ui.ddmanager.droppables[a.options.scope] || []).slice(),
            function () {
              this.options &&
                (!this.options.disabled &&
                  this.visible &&
                  b.ui.intersect(a, this, this.options.tolerance, c) &&
                  (g = this._drop.call(this, c) || g),
                !this.options.disabled &&
                  this.visible &&
                  this.accept.call(
                    this.element[0],
                    a.currentItem || a.element
                  ) &&
                  ((this.isout = !0),
                  (this.isover = !1),
                  this._deactivate.call(this, c)));
            }
          );
          return g;
        },
        dragStart: function (a, c) {
          a.element.parentsUntil("body").bind("scroll.droppable", function () {
            a.options.refreshPositions || b.ui.ddmanager.prepareOffsets(a, c);
          });
        },
        drag: function (a, c) {
          a.options.refreshPositions && b.ui.ddmanager.prepareOffsets(a, c);
          b.each(b.ui.ddmanager.droppables[a.options.scope] || [], function () {
            if (!this.options.disabled && !this.greedyChild && this.visible) {
              var g = b.ui.intersect(a, this, this.options.tolerance, c);
              var e =
                !g && this.isover
                  ? "isout"
                  : g && !this.isover
                  ? "isover"
                  : null;
              if (e) {
                if (this.options.greedy) {
                  var d = this.options.scope;
                  g = this.element
                    .parents(":data(ui-droppable)")
                    .filter(function () {
                      return b(this).droppable("instance").options.scope === d;
                    });
                  if (g.length) {
                    var f = b(g[0]).droppable("instance");
                    f.greedyChild = "isover" === e;
                  }
                }
                f &&
                  "isover" === e &&
                  ((f.isover = !1), (f.isout = !0), f._out.call(f, c));
                this[e] = !0;
                this["isout" === e ? "isover" : "isout"] = !1;
                this["isover" === e ? "_over" : "_out"].call(this, c);
                f &&
                  "isout" === e &&
                  ((f.isout = !1), (f.isover = !0), f._over.call(f, c));
              }
            }
          });
        },
        dragStop: function (a, c) {
          a.element.parentsUntil("body").unbind("scroll.droppable");
          a.options.refreshPositions || b.ui.ddmanager.prepareOffsets(a, c);
        },
      };
      b.widget("ui.resizable", b.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "resize",
        options: {
          alsoResize: !1,
          animate: !1,
          animateDuration: "slow",
          animateEasing: "swing",
          aspectRatio: !1,
          autoHide: !1,
          containment: !1,
          ghost: !1,
          grid: !1,
          handles: "e,s,se",
          helper: !1,
          maxHeight: null,
          maxWidth: null,
          minHeight: 10,
          minWidth: 10,
          zIndex: 90,
          resize: null,
          start: null,
          stop: null,
        },
        _num: function (a) {
          return parseInt(a, 10) || 0;
        },
        _isNumber: function (a) {
          return !isNaN(parseInt(a, 10));
        },
        _hasScroll: function (a, c) {
          if ("hidden" === b(a).css("overflow")) return !1;
          c = c && "left" === c ? "scrollLeft" : "scrollTop";
          if (0 < a[c]) return !0;
          a[c] = 1;
          var g = 0 < a[c];
          a[c] = 0;
          return g;
        },
        _create: function () {
          var a,
            c = this,
            g = this.options;
          this.element.addClass("ui-resizable");
          b.extend(this, {
            _aspectRatio: !!g.aspectRatio,
            aspectRatio: g.aspectRatio,
            originalElement: this.element,
            _proportionallyResizeElements: [],
            _helper:
              g.helper || g.ghost || g.animate
                ? g.helper || "ui-resizable-helper"
                : null,
          });
          this.element[0].nodeName.match(
            /^(canvas|textarea|input|select|button|img)$/i
          ) &&
            (this.element.wrap(
              b(
                "\x3cdiv class\x3d'ui-wrapper' style\x3d'overflow: hidden;'\x3e\x3c/div\x3e"
              ).css({
                position: this.element.css("position"),
                width: this.element.outerWidth(),
                height: this.element.outerHeight(),
                top: this.element.css("top"),
                left: this.element.css("left"),
              })
            ),
            (this.element = this.element
              .parent()
              .data("ui-resizable", this.element.resizable("instance"))),
            (this.elementIsWrapper = !0),
            this.element.css({
              marginLeft: this.originalElement.css("marginLeft"),
              marginTop: this.originalElement.css("marginTop"),
              marginRight: this.originalElement.css("marginRight"),
              marginBottom: this.originalElement.css("marginBottom"),
            }),
            this.originalElement.css({
              marginLeft: 0,
              marginTop: 0,
              marginRight: 0,
              marginBottom: 0,
            }),
            (this.originalResizeStyle = this.originalElement.css("resize")),
            this.originalElement.css("resize", "none"),
            this._proportionallyResizeElements.push(
              this.originalElement.css({
                position: "static",
                zoom: 1,
                display: "block",
              })
            ),
            this.originalElement.css({
              margin: this.originalElement.css("margin"),
            }),
            this._proportionallyResize());
          this.handles =
            g.handles ||
            (b(".ui-resizable-handle", this.element).length
              ? {
                  n: ".ui-resizable-n",
                  e: ".ui-resizable-e",
                  s: ".ui-resizable-s",
                  w: ".ui-resizable-w",
                  se: ".ui-resizable-se",
                  sw: ".ui-resizable-sw",
                  ne: ".ui-resizable-ne",
                  nw: ".ui-resizable-nw",
                }
              : "e,s,se");
          this._handles = b();
          if (this.handles.constructor === String) {
            "all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw");
            var e = this.handles.split(",");
            this.handles = {};
            for (a = 0; a < e.length; a++) {
              var d = b.trim(e[a]);
              var f = "ui-resizable-" + d;
              var h = b(
                "\x3cdiv class\x3d'ui-resizable-handle " +
                  f +
                  "'\x3e\x3c/div\x3e"
              );
              h.css({ zIndex: g.zIndex });
              "se" === d && h.addClass("ui-icon ui-icon-gripsmall-diagonal-se");
              this.handles[d] = ".ui-resizable-" + d;
              this.element.append(h);
            }
          }
          this._renderAxis = function (a) {
            var g;
            a = a || this.element;
            for (g in this.handles) {
              if (this.handles[g].constructor === String)
                this.handles[g] = this.element
                  .children(this.handles[g])
                  .first()
                  .show();
              else if (this.handles[g].jquery || this.handles[g].nodeType)
                (this.handles[g] = b(this.handles[g])),
                  this._on(this.handles[g], { mousedown: c._mouseDown });
              if (
                this.elementIsWrapper &&
                this.originalElement[0].nodeName.match(
                  /^(textarea|input|select|button)$/i
                )
              ) {
                var e = b(this.handles[g], this.element);
                var d = /sw|ne|nw|se|n|s/.test(g)
                  ? e.outerHeight()
                  : e.outerWidth();
                e = [
                  "padding",
                  /ne|nw|n/.test(g)
                    ? "Top"
                    : /se|sw|s/.test(g)
                    ? "Bottom"
                    : /^e$/.test(g)
                    ? "Right"
                    : "Left",
                ].join("");
                a.css(e, d);
                this._proportionallyResize();
              }
              this._handles = this._handles.add(this.handles[g]);
            }
          };
          this._renderAxis(this.element);
          this._handles = this._handles.add(
            this.element.find(".ui-resizable-handle")
          );
          this._handles.disableSelection();
          this._handles.mouseover(function () {
            c.resizing ||
              (this.className &&
                (h = this.className.match(
                  /ui-resizable-(se|sw|ne|nw|n|e|s|w)/i
                )),
              (c.axis = h && h[1] ? h[1] : "se"));
          });
          g.autoHide &&
            (this._handles.hide(),
            b(this.element)
              .addClass("ui-resizable-autohide")
              .mouseenter(function () {
                g.disabled ||
                  (b(this).removeClass("ui-resizable-autohide"),
                  c._handles.show());
              })
              .mouseleave(function () {
                g.disabled ||
                  c.resizing ||
                  (b(this).addClass("ui-resizable-autohide"),
                  c._handles.hide());
              }));
          this._mouseInit();
        },
        _destroy: function () {
          this._mouseDestroy();
          var a = function (a) {
            b(a)
              .removeClass(
                "ui-resizable ui-resizable-disabled ui-resizable-resizing"
              )
              .removeData("resizable")
              .removeData("ui-resizable")
              .unbind(".resizable")
              .find(".ui-resizable-handle")
              .remove();
          };
          if (this.elementIsWrapper) {
            a(this.element);
            var c = this.element;
            this.originalElement
              .css({
                position: c.css("position"),
                width: c.outerWidth(),
                height: c.outerHeight(),
                top: c.css("top"),
                left: c.css("left"),
              })
              .insertAfter(c);
            c.remove();
          }
          this.originalElement.css("resize", this.originalResizeStyle);
          a(this.originalElement);
          return this;
        },
        _mouseCapture: function (a) {
          var c,
            g = !1;
          for (c in this.handles) {
            var e = b(this.handles[c])[0];
            if (e === a.target || b.contains(e, a.target)) g = !0;
          }
          return !this.options.disabled && g;
        },
        _mouseStart: function (a) {
          var c = this.options,
            g = this.element;
          this.resizing = !0;
          this._renderProxy();
          var e = this._num(this.helper.css("left"));
          var d = this._num(this.helper.css("top"));
          c.containment &&
            ((e += b(c.containment).scrollLeft() || 0),
            (d += b(c.containment).scrollTop() || 0));
          this.offset = this.helper.offset();
          this.position = { left: e, top: d };
          this.size = this._helper
            ? { width: this.helper.width(), height: this.helper.height() }
            : { width: g.width(), height: g.height() };
          this.originalSize = this._helper
            ? { width: g.outerWidth(), height: g.outerHeight() }
            : { width: g.width(), height: g.height() };
          this.sizeDiff = {
            width: g.outerWidth() - g.width(),
            height: g.outerHeight() - g.height(),
          };
          this.originalPosition = { left: e, top: d };
          this.originalMousePosition = { left: a.pageX, top: a.pageY };
          this.aspectRatio =
            "number" === typeof c.aspectRatio
              ? c.aspectRatio
              : this.originalSize.width / this.originalSize.height || 1;
          e = b(".ui-resizable-" + this.axis).css("cursor");
          b("body").css("cursor", "auto" === e ? this.axis + "-resize" : e);
          g.addClass("ui-resizable-resizing");
          this._propagate("start", a);
          return !0;
        },
        _mouseDrag: function (a) {
          var c = this.originalMousePosition;
          var g = a.pageX - c.left || 0;
          c = a.pageY - c.top || 0;
          var e = this._change[this.axis];
          this._updatePrevProperties();
          if (!e) return !1;
          g = e.apply(this, [a, g, c]);
          this._updateVirtualBoundaries(a.shiftKey);
          if (this._aspectRatio || a.shiftKey) g = this._updateRatio(g, a);
          g = this._respectSize(g, a);
          this._updateCache(g);
          this._propagate("resize", a);
          g = this._applyChanges();
          !this._helper &&
            this._proportionallyResizeElements.length &&
            this._proportionallyResize();
          b.isEmptyObject(g) ||
            (this._updatePrevProperties(),
            this._trigger("resize", a, this.ui()),
            this._applyChanges());
          return !1;
        },
        _mouseStop: function (a) {
          this.resizing = !1;
          var c,
            g = this.options;
          if (this._helper) {
            var e = this._proportionallyResizeElements;
            e =
              (c = e.length && /textarea/i.test(e[0].nodeName)) &&
              this._hasScroll(e[0], "left")
                ? 0
                : this.sizeDiff.height;
            c = c ? 0 : this.sizeDiff.width;
            c = {
              width: this.helper.width() - c,
              height: this.helper.height() - e,
            };
            e =
              parseInt(this.element.css("left"), 10) +
                (this.position.left - this.originalPosition.left) || null;
            var d =
              parseInt(this.element.css("top"), 10) +
                (this.position.top - this.originalPosition.top) || null;
            g.animate || this.element.css(b.extend(c, { top: d, left: e }));
            this.helper.height(this.size.height);
            this.helper.width(this.size.width);
            this._helper && !g.animate && this._proportionallyResize();
          }
          b("body").css("cursor", "auto");
          this.element.removeClass("ui-resizable-resizing");
          this._propagate("stop", a);
          this._helper && this.helper.remove();
          return !1;
        },
        _updatePrevProperties: function () {
          this.prevPosition = {
            top: this.position.top,
            left: this.position.left,
          };
          this.prevSize = { width: this.size.width, height: this.size.height };
        },
        _applyChanges: function () {
          var a = {};
          this.position.top !== this.prevPosition.top &&
            (a.top = this.position.top + "px");
          this.position.left !== this.prevPosition.left &&
            (a.left = this.position.left + "px");
          this.size.width !== this.prevSize.width &&
            (a.width = this.size.width + "px");
          this.size.height !== this.prevSize.height &&
            (a.height = this.size.height + "px");
          this.helper.css(a);
          return a;
        },
        _updateVirtualBoundaries: function (a) {
          var c = this.options;
          c = {
            minWidth: this._isNumber(c.minWidth) ? c.minWidth : 0,
            maxWidth: this._isNumber(c.maxWidth) ? c.maxWidth : Infinity,
            minHeight: this._isNumber(c.minHeight) ? c.minHeight : 0,
            maxHeight: this._isNumber(c.maxHeight) ? c.maxHeight : Infinity,
          };
          if (this._aspectRatio || a) {
            a = c.minHeight * this.aspectRatio;
            var b = c.minWidth / this.aspectRatio;
            var e = c.maxHeight * this.aspectRatio;
            var d = c.maxWidth / this.aspectRatio;
            a > c.minWidth && (c.minWidth = a);
            b > c.minHeight && (c.minHeight = b);
            e < c.maxWidth && (c.maxWidth = e);
            d < c.maxHeight && (c.maxHeight = d);
          }
          this._vBoundaries = c;
        },
        _updateCache: function (a) {
          this.offset = this.helper.offset();
          this._isNumber(a.left) && (this.position.left = a.left);
          this._isNumber(a.top) && (this.position.top = a.top);
          this._isNumber(a.height) && (this.size.height = a.height);
          this._isNumber(a.width) && (this.size.width = a.width);
        },
        _updateRatio: function (a) {
          var c = this.position,
            b = this.size,
            e = this.axis;
          this._isNumber(a.height)
            ? (a.width = a.height * this.aspectRatio)
            : this._isNumber(a.width) &&
              (a.height = a.width / this.aspectRatio);
          "sw" === e &&
            ((a.left = c.left + (b.width - a.width)), (a.top = null));
          "nw" === e &&
            ((a.top = c.top + (b.height - a.height)),
            (a.left = c.left + (b.width - a.width)));
          return a;
        },
        _respectSize: function (a) {
          var c = this._vBoundaries,
            b = this.axis,
            e = this._isNumber(a.width) && c.maxWidth && c.maxWidth < a.width,
            d =
              this._isNumber(a.height) && c.maxHeight && c.maxHeight < a.height,
            f = this._isNumber(a.width) && c.minWidth && c.minWidth > a.width,
            h =
              this._isNumber(a.height) && c.minHeight && c.minHeight > a.height,
            l = this.originalPosition.left + this.originalSize.width,
            q = this.position.top + this.size.height,
            k = /sw|nw|w/.test(b);
          b = /nw|ne|n/.test(b);
          f && (a.width = c.minWidth);
          h && (a.height = c.minHeight);
          e && (a.width = c.maxWidth);
          d && (a.height = c.maxHeight);
          f && k && (a.left = l - c.minWidth);
          e && k && (a.left = l - c.maxWidth);
          h && b && (a.top = q - c.minHeight);
          d && b && (a.top = q - c.maxHeight);
          a.width || a.height || a.left || !a.top
            ? a.width || a.height || a.top || !a.left || (a.left = null)
            : (a.top = null);
          return a;
        },
        _getPaddingPlusBorderDimensions: function (a) {
          var c = 0,
            b = [],
            e = [
              a.css("borderTopWidth"),
              a.css("borderRightWidth"),
              a.css("borderBottomWidth"),
              a.css("borderLeftWidth"),
            ];
          for (
            a = [
              a.css("paddingTop"),
              a.css("paddingRight"),
              a.css("paddingBottom"),
              a.css("paddingLeft"),
            ];
            4 > c;
            c++
          )
            (b[c] = parseInt(e[c], 10) || 0), (b[c] += parseInt(a[c], 10) || 0);
          return { height: b[0] + b[2], width: b[1] + b[3] };
        },
        _proportionallyResize: function () {
          if (this._proportionallyResizeElements.length)
            for (
              var a, c = 0, b = this.helper || this.element;
              c < this._proportionallyResizeElements.length;
              c++
            )
              (a = this._proportionallyResizeElements[c]),
                this.outerDimensions ||
                  (this.outerDimensions =
                    this._getPaddingPlusBorderDimensions(a)),
                a.css({
                  height: b.height() - this.outerDimensions.height || 0,
                  width: b.width() - this.outerDimensions.width || 0,
                });
        },
        _renderProxy: function () {
          var a = this.options;
          this.elementOffset = this.element.offset();
          this._helper
            ? ((this.helper =
                this.helper ||
                b("\x3cdiv style\x3d'overflow:hidden;'\x3e\x3c/div\x3e")),
              this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++a.zIndex,
              }),
              this.helper.appendTo("body").disableSelection())
            : (this.helper = this.element);
        },
        _change: {
          e: function (a, c) {
            return { width: this.originalSize.width + c };
          },
          w: function (a, c) {
            return {
              left: this.originalPosition.left + c,
              width: this.originalSize.width - c,
            };
          },
          n: function (a, c, b) {
            return {
              top: this.originalPosition.top + b,
              height: this.originalSize.height - b,
            };
          },
          s: function (a, c, b) {
            return { height: this.originalSize.height + b };
          },
          se: function (a, c, g) {
            return b.extend(
              this._change.s.apply(this, arguments),
              this._change.e.apply(this, [a, c, g])
            );
          },
          sw: function (a, c, g) {
            return b.extend(
              this._change.s.apply(this, arguments),
              this._change.w.apply(this, [a, c, g])
            );
          },
          ne: function (a, c, g) {
            return b.extend(
              this._change.n.apply(this, arguments),
              this._change.e.apply(this, [a, c, g])
            );
          },
          nw: function (a, c, g) {
            return b.extend(
              this._change.n.apply(this, arguments),
              this._change.w.apply(this, [a, c, g])
            );
          },
        },
        _propagate: function (a, c) {
          b.ui.plugin.call(this, a, [c, this.ui()]);
          "resize" !== a && this._trigger(a, c, this.ui());
        },
        plugins: {},
        ui: function () {
          return {
            originalElement: this.originalElement,
            element: this.element,
            helper: this.helper,
            position: this.position,
            size: this.size,
            originalSize: this.originalSize,
            originalPosition: this.originalPosition,
          };
        },
      });
      b.ui.plugin.add("resizable", "animate", {
        stop: function (a) {
          var c = b(this).resizable("instance"),
            g = c.options,
            e = c._proportionallyResizeElements,
            d = e.length && /textarea/i.test(e[0].nodeName),
            f = d && c._hasScroll(e[0], "left") ? 0 : c.sizeDiff.height;
          d = {
            width: c.size.width - (d ? 0 : c.sizeDiff.width),
            height: c.size.height - f,
          };
          f =
            parseInt(c.element.css("left"), 10) +
              (c.position.left - c.originalPosition.left) || null;
          var h =
            parseInt(c.element.css("top"), 10) +
              (c.position.top - c.originalPosition.top) || null;
          c.element.animate(b.extend(d, h && f ? { top: h, left: f } : {}), {
            duration: g.animateDuration,
            easing: g.animateEasing,
            step: function () {
              var g = {
                width: parseInt(c.element.css("width"), 10),
                height: parseInt(c.element.css("height"), 10),
                top: parseInt(c.element.css("top"), 10),
                left: parseInt(c.element.css("left"), 10),
              };
              e &&
                e.length &&
                b(e[0]).css({ width: g.width, height: g.height });
              c._updateCache(g);
              c._propagate("resize", a);
            },
          });
        },
      });
      b.ui.plugin.add("resizable", "containment", {
        start: function () {
          var a = b(this).resizable("instance"),
            c = a.element;
          var g = a.options.containment;
          if (
            (c =
              g instanceof b
                ? g.get(0)
                : /parent/.test(g)
                ? c.parent().get(0)
                : g)
          )
            if (
              ((a.containerElement = b(c)),
              /document/.test(g) || g === document)
            )
              (a.containerOffset = { left: 0, top: 0 }),
                (a.containerPosition = { left: 0, top: 0 }),
                (a.parentData = {
                  element: b(document),
                  left: 0,
                  top: 0,
                  width: b(document).width(),
                  height:
                    b(document).height() ||
                    document.body.parentNode.scrollHeight,
                });
            else {
              var e = b(c);
              var d = [];
              b(["Top", "Right", "Left", "Bottom"]).each(function (c, b) {
                d[c] = a._num(e.css("padding" + b));
              });
              a.containerOffset = e.offset();
              a.containerPosition = e.position();
              a.containerSize = {
                height: e.innerHeight() - d[3],
                width: e.innerWidth() - d[1],
              };
              g = a.containerOffset;
              var f = a.containerSize.height;
              var h = a.containerSize.width;
              h = a._hasScroll(c, "left") ? c.scrollWidth : h;
              f = a._hasScroll(c) ? c.scrollHeight : f;
              a.parentData = {
                element: c,
                left: g.left,
                top: g.top,
                width: h,
                height: f,
              };
            }
        },
        resize: function (a) {
          var c = b(this).resizable("instance");
          var g = c.options;
          var e = c.containerOffset;
          var d = c.position;
          a = c._aspectRatio || a.shiftKey;
          var f = { top: 0, left: 0 },
            h = c.containerElement,
            l = !0;
          h[0] !== document && /static/.test(h.css("position")) && (f = e);
          d.left < (c._helper ? e.left : 0) &&
            ((c.size.width += c._helper
              ? c.position.left - e.left
              : c.position.left - f.left),
            a && ((c.size.height = c.size.width / c.aspectRatio), (l = !1)),
            (c.position.left = g.helper ? e.left : 0));
          d.top < (c._helper ? e.top : 0) &&
            ((c.size.height += c._helper
              ? c.position.top - e.top
              : c.position.top),
            a && ((c.size.width = c.size.height * c.aspectRatio), (l = !1)),
            (c.position.top = c._helper ? e.top : 0));
          g = c.containerElement.get(0) === c.element.parent().get(0);
          d = /relative|absolute/.test(c.containerElement.css("position"));
          g && d
            ? ((c.offset.left = c.parentData.left + c.position.left),
              (c.offset.top = c.parentData.top + c.position.top))
            : ((c.offset.left = c.element.offset().left),
              (c.offset.top = c.element.offset().top));
          g = Math.abs(
            c.sizeDiff.width +
              (c._helper ? c.offset.left - f.left : c.offset.left - e.left)
          );
          e = Math.abs(
            c.sizeDiff.height +
              (c._helper ? c.offset.top - f.top : c.offset.top - e.top)
          );
          g + c.size.width >= c.parentData.width &&
            ((c.size.width = c.parentData.width - g),
            a && ((c.size.height = c.size.width / c.aspectRatio), (l = !1)));
          e + c.size.height >= c.parentData.height &&
            ((c.size.height = c.parentData.height - e),
            a && ((c.size.width = c.size.height * c.aspectRatio), (l = !1)));
          l ||
            ((c.position.left = c.prevPosition.left),
            (c.position.top = c.prevPosition.top),
            (c.size.width = c.prevSize.width),
            (c.size.height = c.prevSize.height));
        },
        stop: function () {
          var a = b(this).resizable("instance"),
            c = a.options,
            g = a.containerOffset,
            e = a.containerPosition,
            d = a.containerElement,
            f = b(a.helper),
            h = f.offset(),
            l = f.outerWidth() - a.sizeDiff.width;
          f = f.outerHeight() - a.sizeDiff.height;
          a._helper &&
            !c.animate &&
            /relative/.test(d.css("position")) &&
            b(this).css({
              left: h.left - e.left - g.left,
              width: l,
              height: f,
            });
          a._helper &&
            !c.animate &&
            /static/.test(d.css("position")) &&
            b(this).css({
              left: h.left - e.left - g.left,
              width: l,
              height: f,
            });
        },
      });
      b.ui.plugin.add("resizable", "alsoResize", {
        start: function () {
          var a = b(this).resizable("instance").options;
          b(a.alsoResize).each(function () {
            var a = b(this);
            a.data("ui-resizable-alsoresize", {
              width: parseInt(a.width(), 10),
              height: parseInt(a.height(), 10),
              left: parseInt(a.css("left"), 10),
              top: parseInt(a.css("top"), 10),
            });
          });
        },
        resize: function (a, c) {
          a = b(this).resizable("instance");
          var g = a.originalSize,
            e = a.originalPosition,
            d = {
              height: a.size.height - g.height || 0,
              width: a.size.width - g.width || 0,
              top: a.position.top - e.top || 0,
              left: a.position.left - e.left || 0,
            };
          b(a.options.alsoResize).each(function () {
            var a = b(this),
              g = b(this).data("ui-resizable-alsoresize"),
              e = {},
              f = a.parents(c.originalElement[0]).length
                ? ["width", "height"]
                : ["width", "height", "top", "left"];
            b.each(f, function (a, c) {
              (a = (g[c] || 0) + (d[c] || 0)) && 0 <= a && (e[c] = a || null);
            });
            a.css(e);
          });
        },
        stop: function () {
          b(this).removeData("resizable-alsoresize");
        },
      });
      b.ui.plugin.add("resizable", "ghost", {
        start: function () {
          var a = b(this).resizable("instance"),
            c = a.options,
            g = a.size;
          a.ghost = a.originalElement.clone();
          a.ghost
            .css({
              opacity: 0.25,
              display: "block",
              position: "relative",
              height: g.height,
              width: g.width,
              margin: 0,
              left: 0,
              top: 0,
            })
            .addClass("ui-resizable-ghost")
            .addClass("string" === typeof c.ghost ? c.ghost : "");
          a.ghost.appendTo(a.helper);
        },
        resize: function () {
          var a = b(this).resizable("instance");
          a.ghost &&
            a.ghost.css({
              position: "relative",
              height: a.size.height,
              width: a.size.width,
            });
        },
        stop: function () {
          var a = b(this).resizable("instance");
          a.ghost && a.helper && a.helper.get(0).removeChild(a.ghost.get(0));
        },
      });
      b.ui.plugin.add("resizable", "grid", {
        resize: function () {
          var a = b(this).resizable("instance"),
            c = a.options,
            g = a.size,
            e = a.originalSize,
            d = a.originalPosition,
            f = a.axis,
            h = "number" === typeof c.grid ? [c.grid, c.grid] : c.grid,
            l = h[0] || 1,
            q = h[1] || 1,
            k = Math.round((g.width - e.width) / l) * l;
          g = Math.round((g.height - e.height) / q) * q;
          var u = e.width + k,
            v = e.height + g,
            r = c.maxWidth && c.maxWidth < u,
            y = c.maxHeight && c.maxHeight < v,
            n = c.minWidth && c.minWidth > u,
            B = c.minHeight && c.minHeight > v;
          c.grid = h;
          n && (u += l);
          B && (v += q);
          r && (u -= l);
          y && (v -= q);
          if (/^(se|s|e)$/.test(f)) (a.size.width = u), (a.size.height = v);
          else if (/^(ne)$/.test(f))
            (a.size.width = u),
              (a.size.height = v),
              (a.position.top = d.top - g);
          else if (/^(sw)$/.test(f))
            (a.size.width = u),
              (a.size.height = v),
              (a.position.left = d.left - k);
          else {
            if (0 >= v - q || 0 >= u - l)
              var z = a._getPaddingPlusBorderDimensions(this);
            0 < v - q
              ? ((a.size.height = v), (a.position.top = d.top - g))
              : ((v = q - z.height),
                (a.size.height = v),
                (a.position.top = d.top + e.height - v));
            0 < u - l
              ? ((a.size.width = u), (a.position.left = d.left - k))
              : ((u = l - z.width),
                (a.size.width = u),
                (a.position.left = d.left + e.width - u));
          }
        },
      });
      b.widget("ui.selectable", b.ui.mouse, {
        version: "1.11.4",
        options: {
          appendTo: "body",
          autoRefresh: !0,
          distance: 0,
          filter: "*",
          tolerance: "touch",
          selected: null,
          selecting: null,
          start: null,
          stop: null,
          unselected: null,
          unselecting: null,
        },
        _create: function () {
          var a,
            c = this;
          this.element.addClass("ui-selectable");
          this.dragged = !1;
          this.refresh = function () {
            a = b(c.options.filter, c.element[0]);
            a.addClass("ui-selectee");
            a.each(function () {
              var a = b(this),
                c = a.offset();
              b.data(this, "selectable-item", {
                element: this,
                $element: a,
                left: c.left,
                top: c.top,
                right: c.left + a.outerWidth(),
                bottom: c.top + a.outerHeight(),
                startselected: !1,
                selected: a.hasClass("ui-selected"),
                selecting: a.hasClass("ui-selecting"),
                unselecting: a.hasClass("ui-unselecting"),
              });
            });
          };
          this.refresh();
          this.selectees = a.addClass("ui-selectee");
          this._mouseInit();
          this.helper = b(
            "\x3cdiv class\x3d'ui-selectable-helper'\x3e\x3c/div\x3e"
          );
        },
        _destroy: function () {
          this.selectees
            .removeClass("ui-selectee")
            .removeData("selectable-item");
          this.element.removeClass("ui-selectable ui-selectable-disabled");
          this._mouseDestroy();
        },
        _mouseStart: function (a) {
          var c = this,
            g = this.options;
          this.opos = [a.pageX, a.pageY];
          this.options.disabled ||
            ((this.selectees = b(g.filter, this.element[0])),
            this._trigger("start", a),
            b(g.appendTo).append(this.helper),
            this.helper.css({
              left: a.pageX,
              top: a.pageY,
              width: 0,
              height: 0,
            }),
            g.autoRefresh && this.refresh(),
            this.selectees.filter(".ui-selected").each(function () {
              var g = b.data(this, "selectable-item");
              g.startselected = !0;
              a.metaKey ||
                a.ctrlKey ||
                (g.$element.removeClass("ui-selected"),
                (g.selected = !1),
                g.$element.addClass("ui-unselecting"),
                (g.unselecting = !0),
                c._trigger("unselecting", a, { unselecting: g.element }));
            }),
            b(a.target)
              .parents()
              .addBack()
              .each(function () {
                var g = b.data(this, "selectable-item");
                if (g) {
                  var e =
                    (!a.metaKey && !a.ctrlKey) ||
                    !g.$element.hasClass("ui-selected");
                  g.$element
                    .removeClass(e ? "ui-unselecting" : "ui-selected")
                    .addClass(e ? "ui-selecting" : "ui-unselecting");
                  g.unselecting = !e;
                  g.selecting = e;
                  (g.selected = e)
                    ? c._trigger("selecting", a, { selecting: g.element })
                    : c._trigger("unselecting", a, { unselecting: g.element });
                  return !1;
                }
              }));
        },
        _mouseDrag: function (a) {
          this.dragged = !0;
          if (!this.options.disabled) {
            var c = this,
              g = this.options,
              e = this.opos[0],
              d = this.opos[1],
              f = a.pageX,
              h = a.pageY;
            if (e > f) {
              var l = f;
              f = e;
              e = l;
            }
            d > h && ((l = h), (h = d), (d = l));
            this.helper.css({ left: e, top: d, width: f - e, height: h - d });
            this.selectees.each(function () {
              var p = b.data(this, "selectable-item"),
                l = !1;
              p &&
                p.element !== c.element[0] &&
                ("touch" === g.tolerance
                  ? (l = !(
                      p.left > f ||
                      p.right < e ||
                      p.top > h ||
                      p.bottom < d
                    ))
                  : "fit" === g.tolerance &&
                    (l =
                      p.left > e && p.right < f && p.top > d && p.bottom < h),
                l
                  ? (p.selected &&
                      (p.$element.removeClass("ui-selected"),
                      (p.selected = !1)),
                    p.unselecting &&
                      (p.$element.removeClass("ui-unselecting"),
                      (p.unselecting = !1)),
                    p.selecting ||
                      (p.$element.addClass("ui-selecting"),
                      (p.selecting = !0),
                      c._trigger("selecting", a, { selecting: p.element })))
                  : (p.selecting &&
                      ((a.metaKey || a.ctrlKey) && p.startselected
                        ? (p.$element.removeClass("ui-selecting"),
                          (p.selecting = !1),
                          p.$element.addClass("ui-selected"),
                          (p.selected = !0))
                        : (p.$element.removeClass("ui-selecting"),
                          (p.selecting = !1),
                          p.startselected &&
                            (p.$element.addClass("ui-unselecting"),
                            (p.unselecting = !0)),
                          c._trigger("unselecting", a, {
                            unselecting: p.element,
                          }))),
                    !p.selected ||
                      a.metaKey ||
                      a.ctrlKey ||
                      p.startselected ||
                      (p.$element.removeClass("ui-selected"),
                      (p.selected = !1),
                      p.$element.addClass("ui-unselecting"),
                      (p.unselecting = !0),
                      c._trigger("unselecting", a, {
                        unselecting: p.element,
                      }))));
            });
            return !1;
          }
        },
        _mouseStop: function (a) {
          var c = this;
          this.dragged = !1;
          b(".ui-unselecting", this.element[0]).each(function () {
            var g = b.data(this, "selectable-item");
            g.$element.removeClass("ui-unselecting");
            g.unselecting = !1;
            g.startselected = !1;
            c._trigger("unselected", a, { unselected: g.element });
          });
          b(".ui-selecting", this.element[0]).each(function () {
            var g = b.data(this, "selectable-item");
            g.$element.removeClass("ui-selecting").addClass("ui-selected");
            g.selecting = !1;
            g.selected = !0;
            g.startselected = !0;
            c._trigger("selected", a, { selected: g.element });
          });
          this._trigger("stop", a);
          this.helper.remove();
          return !1;
        },
      });
      b.widget("ui.sortable", b.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
          appendTo: "parent",
          axis: !1,
          connectWith: !1,
          containment: !1,
          cursor: "auto",
          cursorAt: !1,
          dropOnEmpty: !0,
          forcePlaceholderSize: !1,
          forceHelperSize: !1,
          grid: !1,
          handle: !1,
          helper: "original",
          items: "\x3e *",
          opacity: !1,
          placeholder: !1,
          revert: !1,
          scroll: !0,
          scrollSensitivity: 20,
          scrollSpeed: 20,
          scope: "default",
          tolerance: "intersect",
          zIndex: 1e3,
          activate: null,
          beforeStop: null,
          change: null,
          deactivate: null,
          out: null,
          over: null,
          receive: null,
          remove: null,
          sort: null,
          start: null,
          stop: null,
          update: null,
        },
        _isOverAxis: function (a, c, b) {
          return a >= c && a < c + b;
        },
        _isFloating: function (a) {
          return (
            /left|right/.test(a.css("float")) ||
            /inline|table-cell/.test(a.css("display"))
          );
        },
        _create: function () {
          this.containerCache = {};
          this.element.addClass("ui-sortable");
          this.refresh();
          this.offset = this.element.offset();
          this._mouseInit();
          this._setHandleClassName();
          this.ready = !0;
        },
        _setOption: function (a, c) {
          this._super(a, c);
          "handle" === a && this._setHandleClassName();
        },
        _setHandleClassName: function () {
          this.element
            .find(".ui-sortable-handle")
            .removeClass("ui-sortable-handle");
          b.each(this.items, function () {
            (this.instance.options.handle
              ? this.item.find(this.instance.options.handle)
              : this.item
            ).addClass("ui-sortable-handle");
          });
        },
        _destroy: function () {
          this.element
            .removeClass("ui-sortable ui-sortable-disabled")
            .find(".ui-sortable-handle")
            .removeClass("ui-sortable-handle");
          this._mouseDestroy();
          for (var a = this.items.length - 1; 0 <= a; a--)
            this.items[a].item.removeData(this.widgetName + "-item");
          return this;
        },
        _mouseCapture: function (a, c) {
          var g = null,
            e = !1,
            d = this;
          if (
            this.reverting ||
            this.options.disabled ||
            "static" === this.options.type
          )
            return !1;
          this._refreshItems(a);
          b(a.target)
            .parents()
            .each(function () {
              if (b.data(this, d.widgetName + "-item") === d)
                return (g = b(this)), !1;
            });
          b.data(a.target, d.widgetName + "-item") === d && (g = b(a.target));
          if (
            !g ||
            (this.options.handle &&
              !c &&
              (b(this.options.handle, g)
                .find("*")
                .addBack()
                .each(function () {
                  this === a.target && (e = !0);
                }),
              !e))
          )
            return !1;
          this.currentItem = g;
          this._removeCurrentsFromItems();
          return !0;
        },
        _mouseStart: function (a, c, g) {
          c = this.options;
          this.currentContainer = this;
          this.refreshPositions();
          this.helper = this._createHelper(a);
          this._cacheHelperProportions();
          this._cacheMargins();
          this.scrollParent = this.helper.scrollParent();
          this.offset = this.currentItem.offset();
          this.offset = {
            top: this.offset.top - this.margins.top,
            left: this.offset.left - this.margins.left,
          };
          b.extend(this.offset, {
            click: {
              left: a.pageX - this.offset.left,
              top: a.pageY - this.offset.top,
            },
            parent: this._getParentOffset(),
            relative: this._getRelativeOffset(),
          });
          this.helper.css("position", "absolute");
          this.cssPosition = this.helper.css("position");
          this.originalPosition = this._generatePosition(a);
          this.originalPageX = a.pageX;
          this.originalPageY = a.pageY;
          c.cursorAt && this._adjustOffsetFromHelper(c.cursorAt);
          this.domPosition = {
            prev: this.currentItem.prev()[0],
            parent: this.currentItem.parent()[0],
          };
          this.helper[0] !== this.currentItem[0] && this.currentItem.hide();
          this._createPlaceholder();
          c.containment && this._setContainment();
          if (c.cursor && "auto" !== c.cursor) {
            var e = this.document.find("body");
            this.storedCursor = e.css("cursor");
            e.css("cursor", c.cursor);
            this.storedStylesheet = b(
              "\x3cstyle\x3e*{ cursor: " +
                c.cursor +
                " !important; }\x3c/style\x3e"
            ).appendTo(e);
          }
          c.opacity &&
            (this.helper.css("opacity") &&
              (this._storedOpacity = this.helper.css("opacity")),
            this.helper.css("opacity", c.opacity));
          c.zIndex &&
            (this.helper.css("zIndex") &&
              (this._storedZIndex = this.helper.css("zIndex")),
            this.helper.css("zIndex", c.zIndex));
          this.scrollParent[0] !== this.document[0] &&
            "HTML" !== this.scrollParent[0].tagName &&
            (this.overflowOffset = this.scrollParent.offset());
          this._trigger("start", a, this._uiHash());
          this._preserveHelperProportions || this._cacheHelperProportions();
          if (!g)
            for (g = this.containers.length - 1; 0 <= g; g--)
              this.containers[g]._trigger("activate", a, this._uiHash(this));
          b.ui.ddmanager && (b.ui.ddmanager.current = this);
          b.ui.ddmanager &&
            !c.dropBehaviour &&
            b.ui.ddmanager.prepareOffsets(this, a);
          this.dragging = !0;
          this.helper.addClass("ui-sortable-helper");
          this._mouseDrag(a);
          return !0;
        },
        _mouseDrag: function (a) {
          var c;
          var g = this.options;
          var e = !1;
          this.position = this._generatePosition(a);
          this.positionAbs = this._convertPositionTo("absolute");
          this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs);
          this.options.scroll &&
            (this.scrollParent[0] !== this.document[0] &&
            "HTML" !== this.scrollParent[0].tagName
              ? (this.overflowOffset.top +
                  this.scrollParent[0].offsetHeight -
                  a.pageY <
                g.scrollSensitivity
                  ? (this.scrollParent[0].scrollTop = e =
                      this.scrollParent[0].scrollTop + g.scrollSpeed)
                  : a.pageY - this.overflowOffset.top < g.scrollSensitivity &&
                    (this.scrollParent[0].scrollTop = e =
                      this.scrollParent[0].scrollTop - g.scrollSpeed),
                this.overflowOffset.left +
                  this.scrollParent[0].offsetWidth -
                  a.pageX <
                g.scrollSensitivity
                  ? (this.scrollParent[0].scrollLeft = e =
                      this.scrollParent[0].scrollLeft + g.scrollSpeed)
                  : a.pageX - this.overflowOffset.left < g.scrollSensitivity &&
                    (this.scrollParent[0].scrollLeft = e =
                      this.scrollParent[0].scrollLeft - g.scrollSpeed))
              : (a.pageY - this.document.scrollTop() < g.scrollSensitivity
                  ? (e = this.document.scrollTop(
                      this.document.scrollTop() - g.scrollSpeed
                    ))
                  : this.window.height() -
                      (a.pageY - this.document.scrollTop()) <
                      g.scrollSensitivity &&
                    (e = this.document.scrollTop(
                      this.document.scrollTop() + g.scrollSpeed
                    )),
                a.pageX - this.document.scrollLeft() < g.scrollSensitivity
                  ? (e = this.document.scrollLeft(
                      this.document.scrollLeft() - g.scrollSpeed
                    ))
                  : this.window.width() -
                      (a.pageX - this.document.scrollLeft()) <
                      g.scrollSensitivity &&
                    (e = this.document.scrollLeft(
                      this.document.scrollLeft() + g.scrollSpeed
                    ))),
            !1 !== e &&
              b.ui.ddmanager &&
              !g.dropBehaviour &&
              b.ui.ddmanager.prepareOffsets(this, a));
          this.positionAbs = this._convertPositionTo("absolute");
          (this.options.axis && "y" === this.options.axis) ||
            (this.helper[0].style.left = this.position.left + "px");
          (this.options.axis && "x" === this.options.axis) ||
            (this.helper[0].style.top = this.position.top + "px");
          for (g = this.items.length - 1; 0 <= g; g--) {
            e = this.items[g];
            var d = e.item[0];
            if (
              (c = this._intersectsWithPointer(e)) &&
              e.instance === this.currentContainer &&
              d !== this.currentItem[0] &&
              this.placeholder[1 === c ? "next" : "prev"]()[0] !== d &&
              !b.contains(this.placeholder[0], d) &&
              ("semi-dynamic" === this.options.type
                ? !b.contains(this.element[0], d)
                : 1)
            ) {
              this.direction = 1 === c ? "down" : "up";
              if (
                "pointer" === this.options.tolerance ||
                this._intersectsWithSides(e)
              )
                this._rearrange(a, e);
              else break;
              this._trigger("change", a, this._uiHash());
              break;
            }
          }
          this._contactContainers(a);
          b.ui.ddmanager && b.ui.ddmanager.drag(this, a);
          this._trigger("sort", a, this._uiHash());
          this.lastPositionAbs = this.positionAbs;
          return !1;
        },
        _mouseStop: function (a, c) {
          if (a) {
            b.ui.ddmanager &&
              !this.options.dropBehaviour &&
              b.ui.ddmanager.drop(this, a);
            if (this.options.revert) {
              var g = this;
              c = this.placeholder.offset();
              var e = this.options.axis,
                d = {};
              (e && "x" !== e) ||
                (d.left =
                  c.left -
                  this.offset.parent.left -
                  this.margins.left +
                  (this.offsetParent[0] === this.document[0].body
                    ? 0
                    : this.offsetParent[0].scrollLeft));
              (e && "y" !== e) ||
                (d.top =
                  c.top -
                  this.offset.parent.top -
                  this.margins.top +
                  (this.offsetParent[0] === this.document[0].body
                    ? 0
                    : this.offsetParent[0].scrollTop));
              this.reverting = !0;
              b(this.helper).animate(
                d,
                parseInt(this.options.revert, 10) || 500,
                function () {
                  g._clear(a);
                }
              );
            } else this._clear(a, c);
            return !1;
          }
        },
        cancel: function () {
          if (this.dragging) {
            this._mouseUp({ target: null });
            "original" === this.options.helper
              ? this.currentItem
                  .css(this._storedCSS)
                  .removeClass("ui-sortable-helper")
              : this.currentItem.show();
            for (var a = this.containers.length - 1; 0 <= a; a--)
              this.containers[a]._trigger(
                "deactivate",
                null,
                this._uiHash(this)
              ),
                this.containers[a].containerCache.over &&
                  (this.containers[a]._trigger("out", null, this._uiHash(this)),
                  (this.containers[a].containerCache.over = 0));
          }
          this.placeholder &&
            (this.placeholder[0].parentNode &&
              this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            "original" !== this.options.helper &&
              this.helper &&
              this.helper[0].parentNode &&
              this.helper.remove(),
            b.extend(this, {
              helper: null,
              dragging: !1,
              reverting: !1,
              _noFinalSort: null,
            }),
            this.domPosition.prev
              ? b(this.domPosition.prev).after(this.currentItem)
              : b(this.domPosition.parent).prepend(this.currentItem));
          return this;
        },
        serialize: function (a) {
          var c = this._getItemsAsjQuery(a && a.connected),
            g = [];
          a = a || {};
          b(c).each(function () {
            var c = (b(a.item || this).attr(a.attribute || "id") || "").match(
              a.expression || /(.+)[\-=_](.+)/
            );
            c &&
              g.push(
                (a.key || c[1] + "[]") +
                  "\x3d" +
                  (a.key && a.expression ? c[1] : c[2])
              );
          });
          !g.length && a.key && g.push(a.key + "\x3d");
          return g.join("\x26");
        },
        toArray: function (a) {
          var c = this._getItemsAsjQuery(a && a.connected),
            g = [];
          a = a || {};
          c.each(function () {
            g.push(b(a.item || this).attr(a.attribute || "id") || "");
          });
          return g;
        },
        _intersectsWith: function (a) {
          var c = this.positionAbs.left,
            b = c + this.helperProportions.width,
            e = this.positionAbs.top,
            d = e + this.helperProportions.height,
            f = a.left,
            h = f + a.width,
            l = a.top,
            q = l + a.height,
            k = this.offset.click.top,
            u = this.offset.click.left;
          k = "x" === this.options.axis || (e + k > l && e + k < q);
          u = "y" === this.options.axis || (c + u > f && c + u < h);
          return "pointer" === this.options.tolerance ||
            this.options.forcePointerForContainers ||
            ("pointer" !== this.options.tolerance &&
              this.helperProportions[this.floating ? "width" : "height"] >
                a[this.floating ? "width" : "height"])
            ? k && u
            : f < c + this.helperProportions.width / 2 &&
                b - this.helperProportions.width / 2 < h &&
                l < e + this.helperProportions.height / 2 &&
                d - this.helperProportions.height / 2 < q;
        },
        _intersectsWithPointer: function (a) {
          var c =
            "x" === this.options.axis ||
            this._isOverAxis(
              this.positionAbs.top + this.offset.click.top,
              a.top,
              a.height
            );
          a =
            "y" === this.options.axis ||
            this._isOverAxis(
              this.positionAbs.left + this.offset.click.left,
              a.left,
              a.width
            );
          c = c && a;
          a = this._getDragVerticalDirection();
          var b = this._getDragHorizontalDirection();
          return c
            ? this.floating
              ? (b && "right" === b) || "down" === a
                ? 2
                : 1
              : a && ("down" === a ? 2 : 1)
            : !1;
        },
        _intersectsWithSides: function (a) {
          var c = this._isOverAxis(
            this.positionAbs.top + this.offset.click.top,
            a.top + a.height / 2,
            a.height
          );
          a = this._isOverAxis(
            this.positionAbs.left + this.offset.click.left,
            a.left + a.width / 2,
            a.width
          );
          var b = this._getDragVerticalDirection(),
            e = this._getDragHorizontalDirection();
          return this.floating && e
            ? ("right" === e && a) || ("left" === e && !a)
            : b && (("down" === b && c) || ("up" === b && !c));
        },
        _getDragVerticalDirection: function () {
          var a = this.positionAbs.top - this.lastPositionAbs.top;
          return 0 !== a && (0 < a ? "down" : "up");
        },
        _getDragHorizontalDirection: function () {
          var a = this.positionAbs.left - this.lastPositionAbs.left;
          return 0 !== a && (0 < a ? "right" : "left");
        },
        refresh: function (a) {
          this._refreshItems(a);
          this._setHandleClassName();
          this.refreshPositions();
          return this;
        },
        _connectWith: function () {
          var a = this.options;
          return a.connectWith.constructor === String
            ? [a.connectWith]
            : a.connectWith;
        },
        _getItemsAsjQuery: function (a) {
          function c() {
            d.push(this);
          }
          var g,
            e,
            d = [],
            f = [],
            h = this._connectWith();
          if (h && a)
            for (a = h.length - 1; 0 <= a; a--) {
              var l = b(h[a], this.document[0]);
              for (g = l.length - 1; 0 <= g; g--)
                (e = b.data(l[g], this.widgetFullName)) &&
                  e !== this &&
                  !e.options.disabled &&
                  f.push([
                    b.isFunction(e.options.items)
                      ? e.options.items.call(e.element)
                      : b(e.options.items, e.element)
                          .not(".ui-sortable-helper")
                          .not(".ui-sortable-placeholder"),
                    e,
                  ]);
            }
          f.push([
            b.isFunction(this.options.items)
              ? this.options.items.call(this.element, null, {
                  options: this.options,
                  item: this.currentItem,
                })
              : b(this.options.items, this.element)
                  .not(".ui-sortable-helper")
                  .not(".ui-sortable-placeholder"),
            this,
          ]);
          for (a = f.length - 1; 0 <= a; a--) f[a][0].each(c);
          return b(d);
        },
        _removeCurrentsFromItems: function () {
          var a = this.currentItem.find(":data(" + this.widgetName + "-item)");
          this.items = b.grep(this.items, function (c) {
            for (var b = 0; b < a.length; b++)
              if (a[b] === c.item[0]) return !1;
            return !0;
          });
        },
        _refreshItems: function (a) {
          this.items = [];
          this.containers = [this];
          var c,
            g,
            e,
            d,
            f = this.items,
            h = [
              [
                b.isFunction(this.options.items)
                  ? this.options.items.call(this.element[0], a, {
                      item: this.currentItem,
                    })
                  : b(this.options.items, this.element),
                this,
              ],
            ];
          if ((d = this._connectWith()) && this.ready)
            for (c = d.length - 1; 0 <= c; c--) {
              var l = b(d[c], this.document[0]);
              for (g = l.length - 1; 0 <= g; g--)
                (e = b.data(l[g], this.widgetFullName)) &&
                  e !== this &&
                  !e.options.disabled &&
                  (h.push([
                    b.isFunction(e.options.items)
                      ? e.options.items.call(e.element[0], a, {
                          item: this.currentItem,
                        })
                      : b(e.options.items, e.element),
                    e,
                  ]),
                  this.containers.push(e));
            }
          for (c = h.length - 1; 0 <= c; c--)
            for (a = h[c][1], l = h[c][0], g = 0, d = l.length; g < d; g++)
              (e = b(l[g])),
                e.data(this.widgetName + "-item", a),
                f.push({
                  item: e,
                  instance: a,
                  width: 0,
                  height: 0,
                  left: 0,
                  top: 0,
                });
        },
        refreshPositions: function (a) {
          this.floating = this.items.length
            ? "x" === this.options.axis || this._isFloating(this.items[0].item)
            : !1;
          this.offsetParent &&
            this.helper &&
            (this.offset.parent = this._getParentOffset());
          var c;
          for (c = this.items.length - 1; 0 <= c; c--) {
            var g = this.items[c];
            if (
              g.instance === this.currentContainer ||
              !this.currentContainer ||
              g.item[0] === this.currentItem[0]
            ) {
              var e = this.options.toleranceElement
                ? b(this.options.toleranceElement, g.item)
                : g.item;
              a || ((g.width = e.outerWidth()), (g.height = e.outerHeight()));
              e = e.offset();
              g.left = e.left;
              g.top = e.top;
            }
          }
          if (this.options.custom && this.options.custom.refreshContainers)
            this.options.custom.refreshContainers.call(this);
          else
            for (c = this.containers.length - 1; 0 <= c; c--)
              (e = this.containers[c].element.offset()),
                (this.containers[c].containerCache.left = e.left),
                (this.containers[c].containerCache.top = e.top),
                (this.containers[c].containerCache.width =
                  this.containers[c].element.outerWidth()),
                (this.containers[c].containerCache.height =
                  this.containers[c].element.outerHeight());
          return this;
        },
        _createPlaceholder: function (a) {
          a = a || this;
          var c = a.options;
          if (!c.placeholder || c.placeholder.constructor === String) {
            var g = c.placeholder;
            c.placeholder = {
              element: function () {
                var c = a.currentItem[0].nodeName.toLowerCase(),
                  e = b("\x3c" + c + "\x3e", a.document[0])
                    .addClass(
                      g ||
                        a.currentItem[0].className + " ui-sortable-placeholder"
                    )
                    .removeClass("ui-sortable-helper");
                "tbody" === c
                  ? a._createTrPlaceholder(
                      a.currentItem.find("tr").eq(0),
                      b("\x3ctr\x3e", a.document[0]).appendTo(e)
                    )
                  : "tr" === c
                  ? a._createTrPlaceholder(a.currentItem, e)
                  : "img" === c && e.attr("src", a.currentItem.attr("src"));
                g || e.css("visibility", "hidden");
                return e;
              },
              update: function (b, e) {
                if (!g || c.forcePlaceholderSize)
                  e.height() ||
                    e.height(
                      a.currentItem.innerHeight() -
                        parseInt(a.currentItem.css("paddingTop") || 0, 10) -
                        parseInt(a.currentItem.css("paddingBottom") || 0, 10)
                    ),
                    e.width() ||
                      e.width(
                        a.currentItem.innerWidth() -
                          parseInt(a.currentItem.css("paddingLeft") || 0, 10) -
                          parseInt(a.currentItem.css("paddingRight") || 0, 10)
                      );
              },
            };
          }
          a.placeholder = b(
            c.placeholder.element.call(a.element, a.currentItem)
          );
          a.currentItem.after(a.placeholder);
          c.placeholder.update(a, a.placeholder);
        },
        _createTrPlaceholder: function (a, c) {
          var g = this;
          a.children().each(function () {
            b("\x3ctd\x3e\x26#160;\x3c/td\x3e", g.document[0])
              .attr("colspan", b(this).attr("colspan") || 1)
              .appendTo(c);
          });
        },
        _contactContainers: function (a) {
          var c,
            g,
            e,
            d = (e = null);
          for (c = this.containers.length - 1; 0 <= c; c--)
            b.contains(this.currentItem[0], this.containers[c].element[0]) ||
              (this._intersectsWith(this.containers[c].containerCache)
                ? (e &&
                    b.contains(this.containers[c].element[0], e.element[0])) ||
                  ((e = this.containers[c]), (d = c))
                : this.containers[c].containerCache.over &&
                  (this.containers[c]._trigger("out", a, this._uiHash(this)),
                  (this.containers[c].containerCache.over = 0)));
          if (e)
            if (1 === this.containers.length)
              this.containers[d].containerCache.over ||
                (this.containers[d]._trigger("over", a, this._uiHash(this)),
                (this.containers[d].containerCache.over = 1));
            else {
              c = 1e4;
              var f = null;
              e = (g = e.floating || this._isFloating(this.currentItem))
                ? "left"
                : "top";
              var h = g ? "width" : "height";
              var l = g ? "clientX" : "clientY";
              for (g = this.items.length - 1; 0 <= g; g--)
                if (
                  b.contains(
                    this.containers[d].element[0],
                    this.items[g].item[0]
                  ) &&
                  this.items[g].item[0] !== this.currentItem[0]
                ) {
                  var q = this.items[g].item.offset()[e];
                  var k = !1;
                  a[l] - q > this.items[g][h] / 2 && (k = !0);
                  Math.abs(a[l] - q) < c &&
                    ((c = Math.abs(a[l] - q)),
                    (f = this.items[g]),
                    (this.direction = k ? "up" : "down"));
                }
              if (f || this.options.dropOnEmpty)
                this.currentContainer === this.containers[d]
                  ? this.currentContainer.containerCache.over ||
                    (this.containers[d]._trigger("over", a, this._uiHash()),
                    (this.currentContainer.containerCache.over = 1))
                  : (f
                      ? this._rearrange(a, f, null, !0)
                      : this._rearrange(
                          a,
                          null,
                          this.containers[d].element,
                          !0
                        ),
                    this._trigger("change", a, this._uiHash()),
                    this.containers[d]._trigger(
                      "change",
                      a,
                      this._uiHash(this)
                    ),
                    (this.currentContainer = this.containers[d]),
                    this.options.placeholder.update(
                      this.currentContainer,
                      this.placeholder
                    ),
                    this.containers[d]._trigger("over", a, this._uiHash(this)),
                    (this.containers[d].containerCache.over = 1));
            }
        },
        _createHelper: function (a) {
          var c = this.options;
          a = b.isFunction(c.helper)
            ? b(c.helper.apply(this.element[0], [a, this.currentItem]))
            : "clone" === c.helper
            ? this.currentItem.clone()
            : this.currentItem;
          a.parents("body").length ||
            b(
              "parent" !== c.appendTo
                ? c.appendTo
                : this.currentItem[0].parentNode
            )[0].appendChild(a[0]);
          a[0] === this.currentItem[0] &&
            (this._storedCSS = {
              width: this.currentItem[0].style.width,
              height: this.currentItem[0].style.height,
              position: this.currentItem.css("position"),
              top: this.currentItem.css("top"),
              left: this.currentItem.css("left"),
            });
          (a[0].style.width && !c.forceHelperSize) ||
            a.width(this.currentItem.width());
          (a[0].style.height && !c.forceHelperSize) ||
            a.height(this.currentItem.height());
          return a;
        },
        _adjustOffsetFromHelper: function (a) {
          "string" === typeof a && (a = a.split(" "));
          b.isArray(a) && (a = { left: +a[0], top: +a[1] || 0 });
          "left" in a && (this.offset.click.left = a.left + this.margins.left);
          "right" in a &&
            (this.offset.click.left =
              this.helperProportions.width - a.right + this.margins.left);
          "top" in a && (this.offset.click.top = a.top + this.margins.top);
          "bottom" in a &&
            (this.offset.click.top =
              this.helperProportions.height - a.bottom + this.margins.top);
        },
        _getParentOffset: function () {
          this.offsetParent = this.helper.offsetParent();
          var a = this.offsetParent.offset();
          "absolute" === this.cssPosition &&
            this.scrollParent[0] !== this.document[0] &&
            b.contains(this.scrollParent[0], this.offsetParent[0]) &&
            ((a.left += this.scrollParent.scrollLeft()),
            (a.top += this.scrollParent.scrollTop()));
          if (
            this.offsetParent[0] === this.document[0].body ||
            (this.offsetParent[0].tagName &&
              "html" === this.offsetParent[0].tagName.toLowerCase() &&
              b.ui.ie)
          )
            a = { top: 0, left: 0 };
          return {
            top:
              a.top +
              (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
            left:
              a.left +
              (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0),
          };
        },
        _getRelativeOffset: function () {
          if ("relative" === this.cssPosition) {
            var a = this.currentItem.position();
            return {
              top:
                a.top -
                (parseInt(this.helper.css("top"), 10) || 0) +
                this.scrollParent.scrollTop(),
              left:
                a.left -
                (parseInt(this.helper.css("left"), 10) || 0) +
                this.scrollParent.scrollLeft(),
            };
          }
          return { top: 0, left: 0 };
        },
        _cacheMargins: function () {
          this.margins = {
            left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
            top: parseInt(this.currentItem.css("marginTop"), 10) || 0,
          };
        },
        _cacheHelperProportions: function () {
          this.helperProportions = {
            width: this.helper.outerWidth(),
            height: this.helper.outerHeight(),
          };
        },
        _setContainment: function () {
          var a = this.options;
          "parent" === a.containment &&
            (a.containment = this.helper[0].parentNode);
          if ("document" === a.containment || "window" === a.containment)
            this.containment = [
              0 - this.offset.relative.left - this.offset.parent.left,
              0 - this.offset.relative.top - this.offset.parent.top,
              "document" === a.containment
                ? this.document.width()
                : this.window.width() -
                  this.helperProportions.width -
                  this.margins.left,
              ("document" === a.containment
                ? this.document.width()
                : this.window.height() ||
                  this.document[0].body.parentNode.scrollHeight) -
                this.helperProportions.height -
                this.margins.top,
            ];
          if (!/^(document|window|parent)$/.test(a.containment)) {
            var c = b(a.containment)[0];
            a = b(a.containment).offset();
            var g = "hidden" !== b(c).css("overflow");
            this.containment = [
              a.left +
                (parseInt(b(c).css("borderLeftWidth"), 10) || 0) +
                (parseInt(b(c).css("paddingLeft"), 10) || 0) -
                this.margins.left,
              a.top +
                (parseInt(b(c).css("borderTopWidth"), 10) || 0) +
                (parseInt(b(c).css("paddingTop"), 10) || 0) -
                this.margins.top,
              a.left +
                (g ? Math.max(c.scrollWidth, c.offsetWidth) : c.offsetWidth) -
                (parseInt(b(c).css("borderLeftWidth"), 10) || 0) -
                (parseInt(b(c).css("paddingRight"), 10) || 0) -
                this.helperProportions.width -
                this.margins.left,
              a.top +
                (g
                  ? Math.max(c.scrollHeight, c.offsetHeight)
                  : c.offsetHeight) -
                (parseInt(b(c).css("borderTopWidth"), 10) || 0) -
                (parseInt(b(c).css("paddingBottom"), 10) || 0) -
                this.helperProportions.height -
                this.margins.top,
            ];
          }
        },
        _convertPositionTo: function (a, c) {
          c || (c = this.position);
          a = "absolute" === a ? 1 : -1;
          var g =
              "absolute" !== this.cssPosition ||
              (this.scrollParent[0] !== this.document[0] &&
                b.contains(this.scrollParent[0], this.offsetParent[0]))
                ? this.scrollParent
                : this.offsetParent,
            e = /(html|body)/i.test(g[0].tagName);
          return {
            top:
              c.top +
              this.offset.relative.top * a +
              this.offset.parent.top * a -
              ("fixed" === this.cssPosition
                ? -this.scrollParent.scrollTop()
                : e
                ? 0
                : g.scrollTop()) *
                a,
            left:
              c.left +
              this.offset.relative.left * a +
              this.offset.parent.left * a -
              ("fixed" === this.cssPosition
                ? -this.scrollParent.scrollLeft()
                : e
                ? 0
                : g.scrollLeft()) *
                a,
          };
        },
        _generatePosition: function (a) {
          var c = this.options;
          var g = a.pageX;
          var e = a.pageY;
          var d =
              "absolute" !== this.cssPosition ||
              (this.scrollParent[0] !== this.document[0] &&
                b.contains(this.scrollParent[0], this.offsetParent[0]))
                ? this.scrollParent
                : this.offsetParent,
            f = /(html|body)/i.test(d[0].tagName);
          "relative" !== this.cssPosition ||
            (this.scrollParent[0] !== this.document[0] &&
              this.scrollParent[0] !== this.offsetParent[0]) ||
            (this.offset.relative = this._getRelativeOffset());
          this.originalPosition &&
            (this.containment &&
              (a.pageX - this.offset.click.left < this.containment[0] &&
                (g = this.containment[0] + this.offset.click.left),
              a.pageY - this.offset.click.top < this.containment[1] &&
                (e = this.containment[1] + this.offset.click.top),
              a.pageX - this.offset.click.left > this.containment[2] &&
                (g = this.containment[2] + this.offset.click.left),
              a.pageY - this.offset.click.top > this.containment[3] &&
                (e = this.containment[3] + this.offset.click.top)),
            c.grid &&
              ((e =
                this.originalPageY +
                Math.round((e - this.originalPageY) / c.grid[1]) * c.grid[1]),
              (e = this.containment
                ? e - this.offset.click.top >= this.containment[1] &&
                  e - this.offset.click.top <= this.containment[3]
                  ? e
                  : e - this.offset.click.top >= this.containment[1]
                  ? e - c.grid[1]
                  : e + c.grid[1]
                : e),
              (g =
                this.originalPageX +
                Math.round((g - this.originalPageX) / c.grid[0]) * c.grid[0]),
              (g = this.containment
                ? g - this.offset.click.left >= this.containment[0] &&
                  g - this.offset.click.left <= this.containment[2]
                  ? g
                  : g - this.offset.click.left >= this.containment[0]
                  ? g - c.grid[0]
                  : g + c.grid[0]
                : g)));
          return {
            top:
              e -
              this.offset.click.top -
              this.offset.relative.top -
              this.offset.parent.top +
              ("fixed" === this.cssPosition
                ? -this.scrollParent.scrollTop()
                : f
                ? 0
                : d.scrollTop()),
            left:
              g -
              this.offset.click.left -
              this.offset.relative.left -
              this.offset.parent.left +
              ("fixed" === this.cssPosition
                ? -this.scrollParent.scrollLeft()
                : f
                ? 0
                : d.scrollLeft()),
          };
        },
        _rearrange: function (a, c, b, e) {
          b
            ? b[0].appendChild(this.placeholder[0])
            : c.item[0].parentNode.insertBefore(
                this.placeholder[0],
                "down" === this.direction ? c.item[0] : c.item[0].nextSibling
              );
          var g = (this.counter = this.counter ? ++this.counter : 1);
          this._delay(function () {
            g === this.counter && this.refreshPositions(!e);
          });
        },
        _clear: function (a, c) {
          function b(a, c, b) {
            return function (g) {
              b._trigger(a, g, c._uiHash(c));
            };
          }
          this.reverting = !1;
          var e,
            d = [];
          !this._noFinalSort &&
            this.currentItem.parent().length &&
            this.placeholder.before(this.currentItem);
          this._noFinalSort = null;
          if (this.helper[0] === this.currentItem[0]) {
            for (e in this._storedCSS)
              if (
                "auto" === this._storedCSS[e] ||
                "static" === this._storedCSS[e]
              )
                this._storedCSS[e] = "";
            this.currentItem
              .css(this._storedCSS)
              .removeClass("ui-sortable-helper");
          } else this.currentItem.show();
          this.fromOutside &&
            !c &&
            d.push(function (a) {
              this._trigger("receive", a, this._uiHash(this.fromOutside));
            });
          (!this.fromOutside &&
            this.domPosition.prev ===
              this.currentItem.prev().not(".ui-sortable-helper")[0] &&
            this.domPosition.parent === this.currentItem.parent()[0]) ||
            c ||
            d.push(function (a) {
              this._trigger("update", a, this._uiHash());
            });
          this === this.currentContainer ||
            c ||
            (d.push(function (a) {
              this._trigger("remove", a, this._uiHash());
            }),
            d.push(
              function (a) {
                return function (c) {
                  a._trigger("receive", c, this._uiHash(this));
                };
              }.call(this, this.currentContainer)
            ),
            d.push(
              function (a) {
                return function (c) {
                  a._trigger("update", c, this._uiHash(this));
                };
              }.call(this, this.currentContainer)
            ));
          for (e = this.containers.length - 1; 0 <= e; e--)
            c || d.push(b("deactivate", this, this.containers[e])),
              this.containers[e].containerCache.over &&
                (d.push(b("out", this, this.containers[e])),
                (this.containers[e].containerCache.over = 0));
          this.storedCursor &&
            (this.document.find("body").css("cursor", this.storedCursor),
            this.storedStylesheet.remove());
          this._storedOpacity &&
            this.helper.css("opacity", this._storedOpacity);
          this._storedZIndex &&
            this.helper.css(
              "zIndex",
              "auto" === this._storedZIndex ? "" : this._storedZIndex
            );
          this.dragging = !1;
          c || this._trigger("beforeStop", a, this._uiHash());
          this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
          this.cancelHelperRemoval ||
            (this.helper[0] !== this.currentItem[0] && this.helper.remove(),
            (this.helper = null));
          if (!c) {
            for (e = 0; e < d.length; e++) d[e].call(this, a);
            this._trigger("stop", a, this._uiHash());
          }
          this.fromOutside = !1;
          return !this.cancelHelperRemoval;
        },
        _trigger: function () {
          !1 === b.Widget.prototype._trigger.apply(this, arguments) &&
            this.cancel();
        },
        _uiHash: function (a) {
          var c = a || this;
          return {
            helper: c.helper,
            placeholder: c.placeholder || b([]),
            position: c.position,
            originalPosition: c.originalPosition,
            offset: c.positionAbs,
            item: c.currentItem,
            sender: a ? a.element : null,
          };
        },
      });
      b.widget("ui.accordion", {
        version: "1.11.4",
        options: {
          active: 0,
          animate: {},
          collapsible: !1,
          event: "click",
          header: "\x3e li \x3e :first-child,\x3e :not(li):even",
          heightStyle: "auto",
          icons: {
            activeHeader: "ui-icon-triangle-1-s",
            header: "ui-icon-triangle-1-e",
          },
          activate: null,
          beforeActivate: null,
        },
        hideProps: {
          borderTopWidth: "hide",
          borderBottomWidth: "hide",
          paddingTop: "hide",
          paddingBottom: "hide",
          height: "hide",
        },
        showProps: {
          borderTopWidth: "show",
          borderBottomWidth: "show",
          paddingTop: "show",
          paddingBottom: "show",
          height: "show",
        },
        _create: function () {
          var a = this.options;
          this.prevShow = this.prevHide = b();
          this.element
            .addClass("ui-accordion ui-widget ui-helper-reset")
            .attr("role", "tablist");
          a.collapsible ||
            (!1 !== a.active && null != a.active) ||
            (a.active = 0);
          this._processPanels();
          0 > a.active && (a.active += this.headers.length);
          this._refresh();
        },
        _getCreateEventData: function () {
          return {
            header: this.active,
            panel: this.active.length ? this.active.next() : b(),
          };
        },
        _createIcons: function () {
          var a = this.options.icons;
          a &&
            (b("\x3cspan\x3e")
              .addClass("ui-accordion-header-icon ui-icon " + a.header)
              .prependTo(this.headers),
            this.active
              .children(".ui-accordion-header-icon")
              .removeClass(a.header)
              .addClass(a.activeHeader),
            this.headers.addClass("ui-accordion-icons"));
        },
        _destroyIcons: function () {
          this.headers
            .removeClass("ui-accordion-icons")
            .children(".ui-accordion-header-icon")
            .remove();
        },
        _destroy: function () {
          this.element
            .removeClass("ui-accordion ui-widget ui-helper-reset")
            .removeAttr("role");
          this.headers
            .removeClass(
              "ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top"
            )
            .removeAttr("role")
            .removeAttr("aria-expanded")
            .removeAttr("aria-selected")
            .removeAttr("aria-controls")
            .removeAttr("tabIndex")
            .removeUniqueId();
          this._destroyIcons();
          var a = this.headers
            .next()
            .removeClass(
              "ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled"
            )
            .css("display", "")
            .removeAttr("role")
            .removeAttr("aria-hidden")
            .removeAttr("aria-labelledby")
            .removeUniqueId();
          "content" !== this.options.heightStyle && a.css("height", "");
        },
        _setOption: function (a, c) {
          "active" === a
            ? this._activate(c)
            : ("event" === a &&
                (this.options.event &&
                  this._off(this.headers, this.options.event),
                this._setupEvents(c)),
              this._super(a, c),
              "collapsible" !== a ||
                c ||
                !1 !== this.options.active ||
                this._activate(0),
              "icons" === a && (this._destroyIcons(), c && this._createIcons()),
              "disabled" === a &&
                (this.element
                  .toggleClass("ui-state-disabled", !!c)
                  .attr("aria-disabled", c),
                this.headers
                  .add(this.headers.next())
                  .toggleClass("ui-state-disabled", !!c)));
        },
        _keydown: function (a) {
          if (!a.altKey && !a.ctrlKey) {
            var c = b.ui.keyCode,
              g = this.headers.length,
              e = this.headers.index(a.target),
              d = !1;
            switch (a.keyCode) {
              case c.RIGHT:
              case c.DOWN:
                d = this.headers[(e + 1) % g];
                break;
              case c.LEFT:
              case c.UP:
                d = this.headers[(e - 1 + g) % g];
                break;
              case c.SPACE:
              case c.ENTER:
                this._eventHandler(a);
                break;
              case c.HOME:
                d = this.headers[0];
                break;
              case c.END:
                d = this.headers[g - 1];
            }
            d &&
              (b(a.target).attr("tabIndex", -1),
              b(d).attr("tabIndex", 0),
              d.focus(),
              a.preventDefault());
          }
        },
        _panelKeyDown: function (a) {
          a.keyCode === b.ui.keyCode.UP &&
            a.ctrlKey &&
            b(a.currentTarget).prev().focus();
        },
        refresh: function () {
          var a = this.options;
          this._processPanels();
          (!1 === a.active && !0 === a.collapsible) || !this.headers.length
            ? ((a.active = !1), (this.active = b()))
            : !1 === a.active
            ? this._activate(0)
            : this.active.length && !b.contains(this.element[0], this.active[0])
            ? this.headers.length ===
              this.headers.find(".ui-state-disabled").length
              ? ((a.active = !1), (this.active = b()))
              : this._activate(Math.max(0, a.active - 1))
            : (a.active = this.headers.index(this.active));
          this._destroyIcons();
          this._refresh();
        },
        _processPanels: function () {
          var a = this.headers,
            c = this.panels;
          this.headers = this.element
            .find(this.options.header)
            .addClass("ui-accordion-header ui-state-default ui-corner-all");
          this.panels = this.headers
            .next()
            .addClass(
              "ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"
            )
            .filter(":not(.ui-accordion-content-active)")
            .hide();
          c && (this._off(a.not(this.headers)), this._off(c.not(this.panels)));
        },
        _refresh: function () {
          var a = this.options,
            c = a.heightStyle,
            g = this.element.parent();
          this.active = this._findActive(a.active)
            .addClass(
              "ui-accordion-header-active ui-state-active ui-corner-top"
            )
            .removeClass("ui-corner-all");
          this.active.next().addClass("ui-accordion-content-active").show();
          this.headers
            .attr("role", "tab")
            .each(function () {
              var a = b(this),
                c = a.uniqueId().attr("id"),
                g = a.next(),
                e = g.uniqueId().attr("id");
              a.attr("aria-controls", e);
              g.attr("aria-labelledby", c);
            })
            .next()
            .attr("role", "tabpanel");
          this.headers
            .not(this.active)
            .attr({
              "aria-selected": "false",
              "aria-expanded": "false",
              tabIndex: -1,
            })
            .next()
            .attr({ "aria-hidden": "true" })
            .hide();
          this.active.length
            ? this.active
                .attr({
                  "aria-selected": "true",
                  "aria-expanded": "true",
                  tabIndex: 0,
                })
                .next()
                .attr({ "aria-hidden": "false" })
            : this.headers.eq(0).attr("tabIndex", 0);
          this._createIcons();
          this._setupEvents(a.event);
          if ("fill" === c) {
            var e = g.height();
            this.element.siblings(":visible").each(function () {
              var a = b(this),
                c = a.css("position");
              "absolute" !== c && "fixed" !== c && (e -= a.outerHeight(!0));
            });
            this.headers.each(function () {
              e -= b(this).outerHeight(!0);
            });
            this.headers
              .next()
              .each(function () {
                b(this).height(
                  Math.max(0, e - b(this).innerHeight() + b(this).height())
                );
              })
              .css("overflow", "auto");
          } else
            "auto" === c &&
              ((e = 0),
              this.headers
                .next()
                .each(function () {
                  e = Math.max(e, b(this).css("height", "").height());
                })
                .height(e));
        },
        _activate: function (a) {
          a = this._findActive(a)[0];
          a !== this.active[0] &&
            ((a = a || this.active[0]),
            this._eventHandler({
              target: a,
              currentTarget: a,
              preventDefault: b.noop,
            }));
        },
        _findActive: function (a) {
          return "number" === typeof a ? this.headers.eq(a) : b();
        },
        _setupEvents: function (a) {
          var c = { keydown: "_keydown" };
          a &&
            b.each(a.split(" "), function (a, b) {
              c[b] = "_eventHandler";
            });
          this._off(this.headers.add(this.headers.next()));
          this._on(this.headers, c);
          this._on(this.headers.next(), { keydown: "_panelKeyDown" });
          this._hoverable(this.headers);
          this._focusable(this.headers);
        },
        _eventHandler: function (a) {
          var c = this.options,
            g = this.active,
            e = b(a.currentTarget),
            d = e[0] === g[0],
            f = d && c.collapsible,
            h = f ? b() : e.next(),
            l = g.next();
          h = {
            oldHeader: g,
            oldPanel: l,
            newHeader: f ? b() : e,
            newPanel: h,
          };
          a.preventDefault();
          (d && !c.collapsible) ||
            !1 === this._trigger("beforeActivate", a, h) ||
            ((c.active = f ? !1 : this.headers.index(e)),
            (this.active = d ? b() : e),
            this._toggle(h),
            g.removeClass("ui-accordion-header-active ui-state-active"),
            c.icons &&
              g
                .children(".ui-accordion-header-icon")
                .removeClass(c.icons.activeHeader)
                .addClass(c.icons.header),
            d ||
              (e
                .removeClass("ui-corner-all")
                .addClass(
                  "ui-accordion-header-active ui-state-active ui-corner-top"
                ),
              c.icons &&
                e
                  .children(".ui-accordion-header-icon")
                  .removeClass(c.icons.header)
                  .addClass(c.icons.activeHeader),
              e.next().addClass("ui-accordion-content-active")));
        },
        _toggle: function (a) {
          var c = a.newPanel,
            g = this.prevShow.length ? this.prevShow : a.oldPanel;
          this.prevShow.add(this.prevHide).stop(!0, !0);
          this.prevShow = c;
          this.prevHide = g;
          this.options.animate
            ? this._animate(c, g, a)
            : (g.hide(), c.show(), this._toggleComplete(a));
          g.attr({ "aria-hidden": "true" });
          g.prev().attr({ "aria-selected": "false", "aria-expanded": "false" });
          c.length && g.length
            ? g.prev().attr({ tabIndex: -1, "aria-expanded": "false" })
            : c.length &&
              this.headers
                .filter(function () {
                  return 0 === parseInt(b(this).attr("tabIndex"), 10);
                })
                .attr("tabIndex", -1);
          c.attr("aria-hidden", "false").prev().attr({
            "aria-selected": "true",
            "aria-expanded": "true",
            tabIndex: 0,
          });
        },
        _animate: function (a, c, b) {
          var g,
            e,
            d = this,
            f = 0,
            h = a.css("box-sizing"),
            l = a.length && (!c.length || a.index() < c.index()),
            q = this.options.animate || {};
          l = (l && q.down) || q;
          var k = function () {
            d._toggleComplete(b);
          };
          "number" === typeof l && (e = l);
          "string" === typeof l && (g = l);
          g = g || l.easing || q.easing;
          e = e || l.duration || q.duration;
          if (!c.length) return a.animate(this.showProps, e, g, k);
          if (!a.length) return c.animate(this.hideProps, e, g, k);
          var u = a.show().outerHeight();
          c.animate(this.hideProps, {
            duration: e,
            easing: g,
            step: function (a, c) {
              c.now = Math.round(a);
            },
          });
          a.hide().animate(this.showProps, {
            duration: e,
            easing: g,
            complete: k,
            step: function (a, b) {
              b.now = Math.round(a);
              "height" !== b.prop
                ? "content-box" === h && (f += b.now)
                : "content" !== d.options.heightStyle &&
                  ((b.now = Math.round(u - c.outerHeight() - f)), (f = 0));
            },
          });
        },
        _toggleComplete: function (a) {
          var c = a.oldPanel;
          c.removeClass("ui-accordion-content-active")
            .prev()
            .removeClass("ui-corner-top")
            .addClass("ui-corner-all");
          c.length && (c.parent()[0].className = c.parent()[0].className);
          this._trigger("activate", null, a);
        },
      });
      b.widget("ui.menu", {
        version: "1.11.4",
        defaultElement: "\x3cul\x3e",
        delay: 300,
        options: {
          icons: { submenu: "ui-icon-carat-1-e" },
          items: "\x3e *",
          menus: "ul",
          position: { my: "left-1 top", at: "right top" },
          role: "menu",
          blur: null,
          focus: null,
          select: null,
        },
        _create: function () {
          this.activeMenu = this.element;
          this.mouseHandled = !1;
          this.element
            .uniqueId()
            .addClass("ui-menu ui-widget ui-widget-content")
            .toggleClass(
              "ui-menu-icons",
              !!this.element.find(".ui-icon").length
            )
            .attr({ role: this.options.role, tabIndex: 0 });
          this.options.disabled &&
            this.element
              .addClass("ui-state-disabled")
              .attr("aria-disabled", "true");
          this._on({
            "mousedown .ui-menu-item": function (a) {
              a.preventDefault();
            },
            "click .ui-menu-item": function (a) {
              var c = b(a.target);
              !this.mouseHandled &&
                c.not(".ui-state-disabled").length &&
                (this.select(a),
                a.isPropagationStopped() || (this.mouseHandled = !0),
                c.has(".ui-menu").length
                  ? this.expand(a)
                  : !this.element.is(":focus") &&
                    b(this.document[0].activeElement).closest(".ui-menu")
                      .length &&
                    (this.element.trigger("focus", [!0]),
                    this.active &&
                      1 === this.active.parents(".ui-menu").length &&
                      clearTimeout(this.timer)));
            },
            "mouseenter .ui-menu-item": function (a) {
              if (!this.previousFilter) {
                var c = b(a.currentTarget);
                c.siblings(".ui-state-active").removeClass("ui-state-active");
                this.focus(a, c);
              }
            },
            mouseleave: "collapseAll",
            "mouseleave .ui-menu": "collapseAll",
            focus: function (a, c) {
              var b =
                this.active || this.element.find(this.options.items).eq(0);
              c || this.focus(a, b);
            },
            blur: function (a) {
              this._delay(function () {
                b.contains(this.element[0], this.document[0].activeElement) ||
                  this.collapseAll(a);
              });
            },
            keydown: "_keydown",
          });
          this.refresh();
          this._on(this.document, {
            click: function (a) {
              this._closeOnDocumentClick(a) && this.collapseAll(a);
              this.mouseHandled = !1;
            },
          });
        },
        _destroy: function () {
          this.element
            .removeAttr("aria-activedescendant")
            .find(".ui-menu")
            .addBack()
            .removeClass(
              "ui-menu ui-widget ui-widget-content ui-menu-icons ui-front"
            )
            .removeAttr("role")
            .removeAttr("tabIndex")
            .removeAttr("aria-labelledby")
            .removeAttr("aria-expanded")
            .removeAttr("aria-hidden")
            .removeAttr("aria-disabled")
            .removeUniqueId()
            .show();
          this.element
            .find(".ui-menu-item")
            .removeClass("ui-menu-item")
            .removeAttr("role")
            .removeAttr("aria-disabled")
            .removeUniqueId()
            .removeClass("ui-state-hover")
            .removeAttr("tabIndex")
            .removeAttr("role")
            .removeAttr("aria-haspopup")
            .children()
            .each(function () {
              var a = b(this);
              a.data("ui-menu-submenu-carat") && a.remove();
            });
          this.element
            .find(".ui-menu-divider")
            .removeClass("ui-menu-divider ui-widget-content");
        },
        _keydown: function (a) {
          var c = !0;
          switch (a.keyCode) {
            case b.ui.keyCode.PAGE_UP:
              this.previousPage(a);
              break;
            case b.ui.keyCode.PAGE_DOWN:
              this.nextPage(a);
              break;
            case b.ui.keyCode.HOME:
              this._move("first", "first", a);
              break;
            case b.ui.keyCode.END:
              this._move("last", "last", a);
              break;
            case b.ui.keyCode.UP:
              this.previous(a);
              break;
            case b.ui.keyCode.DOWN:
              this.next(a);
              break;
            case b.ui.keyCode.LEFT:
              this.collapse(a);
              break;
            case b.ui.keyCode.RIGHT:
              this.active &&
                !this.active.is(".ui-state-disabled") &&
                this.expand(a);
              break;
            case b.ui.keyCode.ENTER:
            case b.ui.keyCode.SPACE:
              this._activate(a);
              break;
            case b.ui.keyCode.ESCAPE:
              this.collapse(a);
              break;
            default:
              c = !1;
              var g = this.previousFilter || "";
              var e = String.fromCharCode(a.keyCode);
              var d = !1;
              clearTimeout(this.filterTimer);
              e === g ? (d = !0) : (e = g + e);
              g = this._filterMenuItems(e);
              g =
                d && -1 !== g.index(this.active.next())
                  ? this.active.nextAll(".ui-menu-item")
                  : g;
              g.length ||
                ((e = String.fromCharCode(a.keyCode)),
                (g = this._filterMenuItems(e)));
              g.length
                ? (this.focus(a, g),
                  (this.previousFilter = e),
                  (this.filterTimer = this._delay(function () {
                    delete this.previousFilter;
                  }, 1e3)))
                : delete this.previousFilter;
          }
          c && a.preventDefault();
        },
        _activate: function (a) {
          this.active.is(".ui-state-disabled") ||
            (this.active.is("[aria-haspopup\x3d'true']")
              ? this.expand(a)
              : this.select(a));
        },
        refresh: function () {
          var a = this,
            c = this.options.icons.submenu;
          var g = this.element.find(this.options.menus);
          this.element.toggleClass(
            "ui-menu-icons",
            !!this.element.find(".ui-icon").length
          );
          g.filter(":not(.ui-menu)")
            .addClass("ui-menu ui-widget ui-widget-content ui-front")
            .hide()
            .attr({
              role: this.options.role,
              "aria-hidden": "true",
              "aria-expanded": "false",
            })
            .each(function () {
              var a = b(this),
                g = a.parent(),
                e = b("\x3cspan\x3e")
                  .addClass("ui-menu-icon ui-icon " + c)
                  .data("ui-menu-submenu-carat", !0);
              g.attr("aria-haspopup", "true").prepend(e);
              a.attr("aria-labelledby", g.attr("id"));
            });
          g = g.add(this.element).find(this.options.items);
          g.not(".ui-menu-item").each(function () {
            var c = b(this);
            a._isDivider(c) && c.addClass("ui-widget-content ui-menu-divider");
          });
          g.not(".ui-menu-item, .ui-menu-divider")
            .addClass("ui-menu-item")
            .uniqueId()
            .attr({ tabIndex: -1, role: this._itemRole() });
          g.filter(".ui-state-disabled").attr("aria-disabled", "true");
          this.active &&
            !b.contains(this.element[0], this.active[0]) &&
            this.blur();
        },
        _itemRole: function () {
          return { menu: "menuitem", listbox: "option" }[this.options.role];
        },
        _setOption: function (a, c) {
          "icons" === a &&
            this.element
              .find(".ui-menu-icon")
              .removeClass(this.options.icons.submenu)
              .addClass(c.submenu);
          "disabled" === a &&
            this.element
              .toggleClass("ui-state-disabled", !!c)
              .attr("aria-disabled", c);
          this._super(a, c);
        },
        focus: function (a, c) {
          this.blur(a, a && "focus" === a.type);
          this._scrollIntoView(c);
          this.active = c.first();
          var b = this.active
            .addClass("ui-state-focus")
            .removeClass("ui-state-active");
          this.options.role &&
            this.element.attr("aria-activedescendant", b.attr("id"));
          this.active
            .parent()
            .closest(".ui-menu-item")
            .addClass("ui-state-active");
          a && "keydown" === a.type
            ? this._close()
            : (this.timer = this._delay(function () {
                this._close();
              }, this.delay));
          b = c.children(".ui-menu");
          b.length && a && /^mouse/.test(a.type) && this._startOpening(b);
          this.activeMenu = c.parent();
          this._trigger("focus", a, { item: c });
        },
        _scrollIntoView: function (a) {
          if (this._hasScroll()) {
            var c =
              parseFloat(b.css(this.activeMenu[0], "borderTopWidth")) || 0;
            var g = parseFloat(b.css(this.activeMenu[0], "paddingTop")) || 0;
            c = a.offset().top - this.activeMenu.offset().top - c - g;
            g = this.activeMenu.scrollTop();
            var e = this.activeMenu.height();
            a = a.outerHeight();
            0 > c
              ? this.activeMenu.scrollTop(g + c)
              : c + a > e && this.activeMenu.scrollTop(g + c - e + a);
          }
        },
        blur: function (a, c) {
          c || clearTimeout(this.timer);
          this.active &&
            (this.active.removeClass("ui-state-focus"),
            (this.active = null),
            this._trigger("blur", a, { item: this.active }));
        },
        _startOpening: function (a) {
          clearTimeout(this.timer);
          "true" === a.attr("aria-hidden") &&
            (this.timer = this._delay(function () {
              this._close();
              this._open(a);
            }, this.delay));
        },
        _open: function (a) {
          var c = b.extend({ of: this.active }, this.options.position);
          clearTimeout(this.timer);
          this.element
            .find(".ui-menu")
            .not(a.parents(".ui-menu"))
            .hide()
            .attr("aria-hidden", "true");
          a.show()
            .removeAttr("aria-hidden")
            .attr("aria-expanded", "true")
            .position(c);
        },
        collapseAll: function (a, c) {
          clearTimeout(this.timer);
          this.timer = this._delay(function () {
            var g = c
              ? this.element
              : b(a && a.target).closest(this.element.find(".ui-menu"));
            g.length || (g = this.element);
            this._close(g);
            this.blur(a);
            this.activeMenu = g;
          }, this.delay);
        },
        _close: function (a) {
          a || (a = this.active ? this.active.parent() : this.element);
          a.find(".ui-menu")
            .hide()
            .attr("aria-hidden", "true")
            .attr("aria-expanded", "false")
            .end()
            .find(".ui-state-active")
            .not(".ui-state-focus")
            .removeClass("ui-state-active");
        },
        _closeOnDocumentClick: function (a) {
          return !b(a.target).closest(".ui-menu").length;
        },
        _isDivider: function (a) {
          return !/[^\-\u2014\u2013\s]/.test(a.text());
        },
        collapse: function (a) {
          var c =
            this.active &&
            this.active.parent().closest(".ui-menu-item", this.element);
          c && c.length && (this._close(), this.focus(a, c));
        },
        expand: function (a) {
          var c =
            this.active &&
            this.active.children(".ui-menu ").find(this.options.items).first();
          c &&
            c.length &&
            (this._open(c.parent()),
            this._delay(function () {
              this.focus(a, c);
            }));
        },
        next: function (a) {
          this._move("next", "first", a);
        },
        previous: function (a) {
          this._move("prev", "last", a);
        },
        isFirstItem: function () {
          return this.active && !this.active.prevAll(".ui-menu-item").length;
        },
        isLastItem: function () {
          return this.active && !this.active.nextAll(".ui-menu-item").length;
        },
        _move: function (a, c, b) {
          var g;
          this.active &&
            (g =
              "first" === a || "last" === a
                ? this.active["first" === a ? "prevAll" : "nextAll"](
                    ".ui-menu-item"
                  ).eq(-1)
                : this.active[a + "All"](".ui-menu-item").eq(0));
          (g && g.length && this.active) ||
            (g = this.activeMenu.find(this.options.items)[c]());
          this.focus(b, g);
        },
        nextPage: function (a) {
          var c;
          if (!this.active) this.next(a);
          else if (!this.isLastItem())
            if (this._hasScroll()) {
              var g = this.active.offset().top;
              var e = this.element.height();
              this.active.nextAll(".ui-menu-item").each(function () {
                c = b(this);
                return 0 > c.offset().top - g - e;
              });
              this.focus(a, c);
            } else
              this.focus(
                a,
                this.activeMenu
                  .find(this.options.items)
                  [this.active ? "last" : "first"]()
              );
        },
        previousPage: function (a) {
          var c;
          if (!this.active) this.next(a);
          else if (!this.isFirstItem())
            if (this._hasScroll()) {
              var g = this.active.offset().top;
              var e = this.element.height();
              this.active.prevAll(".ui-menu-item").each(function () {
                c = b(this);
                return 0 < c.offset().top - g + e;
              });
              this.focus(a, c);
            } else
              this.focus(a, this.activeMenu.find(this.options.items).first());
        },
        _hasScroll: function () {
          return this.element.outerHeight() < this.element.prop("scrollHeight");
        },
        select: function (a) {
          this.active = this.active || b(a.target).closest(".ui-menu-item");
          var c = { item: this.active };
          this.active.has(".ui-menu").length || this.collapseAll(a, !0);
          this._trigger("select", a, c);
        },
        _filterMenuItems: function (a) {
          a = a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$\x26");
          var c = new RegExp("^" + a, "i");
          return this.activeMenu
            .find(this.options.items)
            .filter(".ui-menu-item")
            .filter(function () {
              return c.test(b.trim(b(this).text()));
            });
        },
      });
      b.widget("ui.autocomplete", {
        version: "1.11.4",
        defaultElement: "\x3cinput\x3e",
        options: {
          appendTo: null,
          autoFocus: !1,
          delay: 300,
          minLength: 1,
          position: { my: "left top", at: "left bottom", collision: "none" },
          source: null,
          change: null,
          close: null,
          focus: null,
          open: null,
          response: null,
          search: null,
          select: null,
        },
        requestIndex: 0,
        pending: 0,
        _create: function () {
          var a,
            c,
            g,
            e = this.element[0].nodeName.toLowerCase(),
            d = "textarea" === e;
          e = "input" === e;
          this.isMultiLine = d
            ? !0
            : e
            ? !1
            : this.element.prop("isContentEditable");
          this.valueMethod = this.element[d || e ? "val" : "text"];
          this.isNewMenu = !0;
          this.element
            .addClass("ui-autocomplete-input")
            .attr("autocomplete", "off");
          this._on(this.element, {
            keydown: function (e) {
              if (this.element.prop("readOnly")) c = g = a = !0;
              else {
                c = g = a = !1;
                var d = b.ui.keyCode;
                switch (e.keyCode) {
                  case d.PAGE_UP:
                    a = !0;
                    this._move("previousPage", e);
                    break;
                  case d.PAGE_DOWN:
                    a = !0;
                    this._move("nextPage", e);
                    break;
                  case d.UP:
                    a = !0;
                    this._keyEvent("previous", e);
                    break;
                  case d.DOWN:
                    a = !0;
                    this._keyEvent("next", e);
                    break;
                  case d.ENTER:
                    this.menu.active &&
                      ((a = !0), e.preventDefault(), this.menu.select(e));
                    break;
                  case d.TAB:
                    this.menu.active && this.menu.select(e);
                    break;
                  case d.ESCAPE:
                    this.menu.element.is(":visible") &&
                      (this.isMultiLine || this._value(this.term),
                      this.close(e),
                      e.preventDefault());
                    break;
                  default:
                    (c = !0), this._searchTimeout(e);
                }
              }
            },
            keypress: function (g) {
              if (a)
                (a = !1),
                  (this.isMultiLine && !this.menu.element.is(":visible")) ||
                    g.preventDefault();
              else if (!c) {
                var e = b.ui.keyCode;
                switch (g.keyCode) {
                  case e.PAGE_UP:
                    this._move("previousPage", g);
                    break;
                  case e.PAGE_DOWN:
                    this._move("nextPage", g);
                    break;
                  case e.UP:
                    this._keyEvent("previous", g);
                    break;
                  case e.DOWN:
                    this._keyEvent("next", g);
                }
              }
            },
            input: function (a) {
              g ? ((g = !1), a.preventDefault()) : this._searchTimeout(a);
            },
            focus: function () {
              this.selectedItem = null;
              this.previous = this._value();
            },
            blur: function (a) {
              this.cancelBlur
                ? delete this.cancelBlur
                : (clearTimeout(this.searching),
                  this.close(a),
                  this._change(a));
            },
          });
          this._initSource();
          this.menu = b("\x3cul\x3e")
            .addClass("ui-autocomplete ui-front")
            .appendTo(this._appendTo())
            .menu({ role: null })
            .hide()
            .menu("instance");
          this._on(this.menu.element, {
            mousedown: function (a) {
              a.preventDefault();
              this.cancelBlur = !0;
              this._delay(function () {
                delete this.cancelBlur;
              });
              var c = this.menu.element[0];
              b(a.target).closest(".ui-menu-item").length ||
                this._delay(function () {
                  var a = this;
                  this.document.one("mousedown", function (g) {
                    g.target === a.element[0] ||
                      g.target === c ||
                      b.contains(c, g.target) ||
                      a.close();
                  });
                });
            },
            menufocus: function (a, c) {
              if (
                this.isNewMenu &&
                ((this.isNewMenu = !1),
                a.originalEvent && /^mouse/.test(a.originalEvent.type))
              ) {
                this.menu.blur();
                this.document.one("mousemove", function () {
                  b(a.target).trigger(a.originalEvent);
                });
                return;
              }
              var g = c.item.data("ui-autocomplete-item");
              !1 !== this._trigger("focus", a, { item: g }) &&
                a.originalEvent &&
                /^key/.test(a.originalEvent.type) &&
                this._value(g.value);
              (c = c.item.attr("aria-label") || g.value) &&
                b.trim(c).length &&
                (this.liveRegion.children().hide(),
                b("\x3cdiv\x3e").text(c).appendTo(this.liveRegion));
            },
            menuselect: function (a, c) {
              var b = c.item.data("ui-autocomplete-item"),
                g = this.previous;
              this.element[0] !== this.document[0].activeElement &&
                (this.element.focus(),
                (this.previous = g),
                this._delay(function () {
                  this.previous = g;
                  this.selectedItem = b;
                }));
              !1 !== this._trigger("select", a, { item: b }) &&
                this._value(b.value);
              this.term = this._value();
              this.close(a);
              this.selectedItem = b;
            },
          });
          this.liveRegion = b("\x3cspan\x3e", {
            role: "status",
            "aria-live": "assertive",
            "aria-relevant": "additions",
          })
            .addClass("ui-helper-hidden-accessible")
            .appendTo(this.document[0].body);
          this._on(this.window, {
            beforeunload: function () {
              this.element.removeAttr("autocomplete");
            },
          });
        },
        _destroy: function () {
          clearTimeout(this.searching);
          this.element
            .removeClass("ui-autocomplete-input")
            .removeAttr("autocomplete");
          this.menu.element.remove();
          this.liveRegion.remove();
        },
        _setOption: function (a, c) {
          this._super(a, c);
          "source" === a && this._initSource();
          "appendTo" === a && this.menu.element.appendTo(this._appendTo());
          "disabled" === a && c && this.xhr && this.xhr.abort();
        },
        _appendTo: function () {
          var a = this.options.appendTo;
          a &&
            (a = a.jquery || a.nodeType ? b(a) : this.document.find(a).eq(0));
          (a && a[0]) || (a = this.element.closest(".ui-front"));
          a.length || (a = this.document[0].body);
          return a;
        },
        _initSource: function () {
          var a = this;
          if (b.isArray(this.options.source)) {
            var c = this.options.source;
            this.source = function (a, g) {
              g(b.ui.autocomplete.filter(c, a.term));
            };
          } else if ("string" === typeof this.options.source) {
            var g = this.options.source;
            this.source = function (c, e) {
              a.xhr && a.xhr.abort();
              a.xhr = b.ajax({
                url: g,
                data: c,
                dataType: "json",
                success: function (a) {
                  e(a);
                },
                error: function () {
                  e([]);
                },
              });
            };
          } else this.source = this.options.source;
        },
        _searchTimeout: function (a) {
          clearTimeout(this.searching);
          this.searching = this._delay(function () {
            var c = this.term === this._value(),
              b = this.menu.element.is(":visible"),
              e = a.altKey || a.ctrlKey || a.metaKey || a.shiftKey;
            if (!c || (c && !b && !e))
              (this.selectedItem = null), this.search(null, a);
          }, this.options.delay);
        },
        search: function (a, c) {
          a = null != a ? a : this._value();
          this.term = this._value();
          if (a.length < this.options.minLength) return this.close(c);
          if (!1 !== this._trigger("search", c)) return this._search(a);
        },
        _search: function (a) {
          this.pending++;
          this.element.addClass("ui-autocomplete-loading");
          this.cancelSearch = !1;
          this.source({ term: a }, this._response());
        },
        _response: function () {
          var a = ++this.requestIndex;
          return b.proxy(function (c) {
            a === this.requestIndex && this.__response(c);
            this.pending--;
            this.pending || this.element.removeClass("ui-autocomplete-loading");
          }, this);
        },
        __response: function (a) {
          a && (a = this._normalize(a));
          this._trigger("response", null, { content: a });
          !this.options.disabled && a && a.length && !this.cancelSearch
            ? (this._suggest(a), this._trigger("open"))
            : this._close();
        },
        close: function (a) {
          this.cancelSearch = !0;
          this._close(a);
        },
        _close: function (a) {
          this.menu.element.is(":visible") &&
            (this.menu.element.hide(),
            this.menu.blur(),
            (this.isNewMenu = !0),
            this._trigger("close", a));
        },
        _change: function (a) {
          this.previous !== this._value() &&
            this._trigger("change", a, { item: this.selectedItem });
        },
        _normalize: function (a) {
          return a.length && a[0].label && a[0].value
            ? a
            : b.map(a, function (a) {
                return "string" === typeof a
                  ? { label: a, value: a }
                  : b.extend({}, a, {
                      label: a.label || a.value,
                      value: a.value || a.label,
                    });
              });
        },
        _suggest: function (a) {
          var c = this.menu.element.empty();
          this._renderMenu(c, a);
          this.isNewMenu = !0;
          this.menu.refresh();
          c.show();
          this._resizeMenu();
          c.position(b.extend({ of: this.element }, this.options.position));
          this.options.autoFocus && this.menu.next();
        },
        _resizeMenu: function () {
          var a = this.menu.element;
          a.outerWidth(
            Math.max(a.width("").outerWidth() + 1, this.element.outerWidth())
          );
        },
        _renderMenu: function (a, c) {
          var g = this;
          b.each(c, function (c, b) {
            g._renderItemData(a, b);
          });
        },
        _renderItemData: function (a, c) {
          return this._renderItem(a, c).data("ui-autocomplete-item", c);
        },
        _renderItem: function (a, c) {
          return b("\x3cli\x3e").text(c.label).appendTo(a);
        },
        _move: function (a, c) {
          if (this.menu.element.is(":visible"))
            if (
              (this.menu.isFirstItem() && /^previous/.test(a)) ||
              (this.menu.isLastItem() && /^next/.test(a))
            )
              this.isMultiLine || this._value(this.term), this.menu.blur();
            else this.menu[a](c);
          else this.search(null, c);
        },
        widget: function () {
          return this.menu.element;
        },
        _value: function () {
          return this.valueMethod.apply(this.element, arguments);
        },
        _keyEvent: function (a, c) {
          if (!this.isMultiLine || this.menu.element.is(":visible"))
            this._move(a, c), c.preventDefault();
        },
      });
      b.extend(b.ui.autocomplete, {
        escapeRegex: function (a) {
          return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$\x26");
        },
        filter: function (a, c) {
          var g = new RegExp(b.ui.autocomplete.escapeRegex(c), "i");
          return b.grep(a, function (a) {
            return g.test(a.label || a.value || a);
          });
        },
      });
      b.widget("ui.autocomplete", b.ui.autocomplete, {
        options: {
          messages: {
            noResults: "No search results.",
            results: function (a) {
              return (
                a +
                (1 < a ? " results are" : " result is") +
                " available, use up and down arrow keys to navigate."
              );
            },
          },
        },
        __response: function (a) {
          this._superApply(arguments);
          if (!this.options.disabled && !this.cancelSearch) {
            var c =
              a && a.length
                ? this.options.messages.results(a.length)
                : this.options.messages.noResults;
            this.liveRegion.children().hide();
            b("\x3cdiv\x3e").text(c).appendTo(this.liveRegion);
          }
        },
      });
      var e,
        B = function () {
          var a = b(this);
          setTimeout(function () {
            a.find(":ui-button").button("refresh");
          }, 1);
        },
        z = function (a) {
          var c = a.name,
            g = a.form,
            e = b([]);
          c &&
            ((c = c.replace(/'/g, "\\'")),
            (e = g
              ? b(g).find("[name\x3d'" + c + "'][type\x3dradio]")
              : b(
                  "[name\x3d'" + c + "'][type\x3dradio]",
                  a.ownerDocument
                ).filter(function () {
                  return !this.form;
                })));
          return e;
        };
      b.widget("ui.button", {
        version: "1.11.4",
        defaultElement: "\x3cbutton\x3e",
        options: {
          disabled: null,
          text: !0,
          label: null,
          icons: { primary: null, secondary: null },
        },
        _create: function () {
          this.element
            .closest("form")
            .unbind("reset" + this.eventNamespace)
            .bind("reset" + this.eventNamespace, B);
          "boolean" !== typeof this.options.disabled
            ? (this.options.disabled = !!this.element.prop("disabled"))
            : this.element.prop("disabled", this.options.disabled);
          this._determineButtonType();
          this.hasTitle = !!this.buttonElement.attr("title");
          var a = this,
            c = this.options,
            g = "checkbox" === this.type || "radio" === this.type,
            d = g ? "" : "ui-state-active";
          null === c.label &&
            (c.label =
              "input" === this.type
                ? this.buttonElement.val()
                : this.buttonElement.html());
          this._hoverable(this.buttonElement);
          this.buttonElement
            .addClass("ui-button ui-widget ui-state-default ui-corner-all")
            .attr("role", "button")
            .bind("mouseenter" + this.eventNamespace, function () {
              c.disabled || (this === e && b(this).addClass("ui-state-active"));
            })
            .bind("mouseleave" + this.eventNamespace, function () {
              c.disabled || b(this).removeClass(d);
            })
            .bind("click" + this.eventNamespace, function (a) {
              c.disabled && (a.preventDefault(), a.stopImmediatePropagation());
            });
          this._on({
            focus: function () {
              this.buttonElement.addClass("ui-state-focus");
            },
            blur: function () {
              this.buttonElement.removeClass("ui-state-focus");
            },
          });
          g &&
            this.element.bind("change" + this.eventNamespace, function () {
              a.refresh();
            });
          "checkbox" === this.type
            ? this.buttonElement.bind(
                "click" + this.eventNamespace,
                function () {
                  if (c.disabled) return !1;
                }
              )
            : "radio" === this.type
            ? this.buttonElement.bind(
                "click" + this.eventNamespace,
                function () {
                  if (c.disabled) return !1;
                  b(this).addClass("ui-state-active");
                  a.buttonElement.attr("aria-pressed", "true");
                  var g = a.element[0];
                  z(g)
                    .not(g)
                    .map(function () {
                      return b(this).button("widget")[0];
                    })
                    .removeClass("ui-state-active")
                    .attr("aria-pressed", "false");
                }
              )
            : (this.buttonElement
                .bind("mousedown" + this.eventNamespace, function () {
                  if (c.disabled) return !1;
                  b(this).addClass("ui-state-active");
                  e = this;
                  a.document.one("mouseup", function () {
                    e = null;
                  });
                })
                .bind("mouseup" + this.eventNamespace, function () {
                  if (c.disabled) return !1;
                  b(this).removeClass("ui-state-active");
                })
                .bind("keydown" + this.eventNamespace, function (a) {
                  if (c.disabled) return !1;
                  (a.keyCode !== b.ui.keyCode.SPACE &&
                    a.keyCode !== b.ui.keyCode.ENTER) ||
                    b(this).addClass("ui-state-active");
                })
                .bind(
                  "keyup" + this.eventNamespace + " blur" + this.eventNamespace,
                  function () {
                    b(this).removeClass("ui-state-active");
                  }
                ),
              this.buttonElement.is("a") &&
                this.buttonElement.keyup(function (a) {
                  a.keyCode === b.ui.keyCode.SPACE && b(this).click();
                }));
          this._setOption("disabled", c.disabled);
          this._resetButton();
        },
        _determineButtonType: function () {
          this.element.is("[type\x3dcheckbox]")
            ? (this.type = "checkbox")
            : this.element.is("[type\x3dradio]")
            ? (this.type = "radio")
            : this.element.is("input")
            ? (this.type = "input")
            : (this.type = "button");
          if ("checkbox" === this.type || "radio" === this.type) {
            var a = this.element.parents().last();
            var c = "label[for\x3d'" + this.element.attr("id") + "']";
            this.buttonElement = a.find(c);
            this.buttonElement.length ||
              ((a = a.length ? a.siblings() : this.element.siblings()),
              (this.buttonElement = a.filter(c)),
              this.buttonElement.length || (this.buttonElement = a.find(c)));
            this.element.addClass("ui-helper-hidden-accessible");
            (a = this.element.is(":checked")) &&
              this.buttonElement.addClass("ui-state-active");
            this.buttonElement.prop("aria-pressed", a);
          } else this.buttonElement = this.element;
        },
        widget: function () {
          return this.buttonElement;
        },
        _destroy: function () {
          this.element.removeClass("ui-helper-hidden-accessible");
          this.buttonElement
            .removeClass(
              "ui-button ui-widget ui-state-default ui-corner-all ui-state-active ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"
            )
            .removeAttr("role")
            .removeAttr("aria-pressed")
            .html(this.buttonElement.find(".ui-button-text").html());
          this.hasTitle || this.buttonElement.removeAttr("title");
        },
        _setOption: function (a, c) {
          this._super(a, c);
          "disabled" === a
            ? (this.widget().toggleClass("ui-state-disabled", !!c),
              this.element.prop("disabled", !!c),
              c &&
                ("checkbox" === this.type || "radio" === this.type
                  ? this.buttonElement.removeClass("ui-state-focus")
                  : this.buttonElement.removeClass(
                      "ui-state-focus ui-state-active"
                    )))
            : this._resetButton();
        },
        refresh: function () {
          var a = this.element.is("input, button")
            ? this.element.is(":disabled")
            : this.element.hasClass("ui-button-disabled");
          a !== this.options.disabled && this._setOption("disabled", a);
          "radio" === this.type
            ? z(this.element[0]).each(function () {
                b(this).is(":checked")
                  ? b(this)
                      .button("widget")
                      .addClass("ui-state-active")
                      .attr("aria-pressed", "true")
                  : b(this)
                      .button("widget")
                      .removeClass("ui-state-active")
                      .attr("aria-pressed", "false");
              })
            : "checkbox" === this.type &&
              (this.element.is(":checked")
                ? this.buttonElement
                    .addClass("ui-state-active")
                    .attr("aria-pressed", "true")
                : this.buttonElement
                    .removeClass("ui-state-active")
                    .attr("aria-pressed", "false"));
        },
        _resetButton: function () {
          if ("input" === this.type)
            this.options.label && this.element.val(this.options.label);
          else {
            var a = this.buttonElement.removeClass(
                "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"
              ),
              c = b("\x3cspan\x3e\x3c/span\x3e", this.document[0])
                .addClass("ui-button-text")
                .html(this.options.label)
                .appendTo(a.empty())
                .text(),
              g = this.options.icons,
              e = g.primary && g.secondary,
              d = [];
            g.primary || g.secondary
              ? (this.options.text &&
                  d.push(
                    "ui-button-text-icon" +
                      (e ? "s" : g.primary ? "-primary" : "-secondary")
                  ),
                g.primary &&
                  a.prepend(
                    "\x3cspan class\x3d'ui-button-icon-primary ui-icon " +
                      g.primary +
                      "'\x3e\x3c/span\x3e"
                  ),
                g.secondary &&
                  a.append(
                    "\x3cspan class\x3d'ui-button-icon-secondary ui-icon " +
                      g.secondary +
                      "'\x3e\x3c/span\x3e"
                  ),
                this.options.text ||
                  (d.push(e ? "ui-button-icons-only" : "ui-button-icon-only"),
                  this.hasTitle || a.attr("title", b.trim(c))))
              : d.push("ui-button-text-only");
            a.addClass(d.join(" "));
          }
        },
      });
      b.widget("ui.buttonset", {
        version: "1.11.4",
        options: {
          items:
            "button, input[type\x3dbutton], input[type\x3dsubmit], input[type\x3dreset], input[type\x3dcheckbox], input[type\x3dradio], a, :data(ui-button)",
        },
        _create: function () {
          this.element.addClass("ui-buttonset");
        },
        _init: function () {
          this.refresh();
        },
        _setOption: function (a, c) {
          "disabled" === a && this.buttons.button("option", a, c);
          this._super(a, c);
        },
        refresh: function () {
          var a = "rtl" === this.element.css("direction"),
            c = this.element.find(this.options.items),
            g = c.filter(":ui-button");
          c.not(":ui-button").button();
          g.button("refresh");
          this.buttons = c
            .map(function () {
              return b(this).button("widget")[0];
            })
            .removeClass("ui-corner-all ui-corner-left ui-corner-right")
            .filter(":first")
            .addClass(a ? "ui-corner-right" : "ui-corner-left")
            .end()
            .filter(":last")
            .addClass(a ? "ui-corner-left" : "ui-corner-right")
            .end()
            .end();
        },
        _destroy: function () {
          this.element.removeClass("ui-buttonset");
          this.buttons
            .map(function () {
              return b(this).button("widget")[0];
            })
            .removeClass("ui-corner-left ui-corner-right")
            .end()
            .button("destroy");
        },
      });
      b.extend(b.ui, { datepicker: { version: "1.11.4" } });
      var x;
      b.extend(h.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function () {
          return this.dpDiv;
        },
        setDefaults: function (a) {
          w(this._defaults, a || {});
          return this;
        },
        _attachDatepicker: function (a, c) {
          var g = a.nodeName.toLowerCase();
          var e = "div" === g || "span" === g;
          a.id || ((this.uuid += 1), (a.id = "dp" + this.uuid));
          var d = this._newInst(b(a), e);
          d.settings = b.extend({}, c || {});
          "input" === g
            ? this._connectDatepicker(a, d)
            : e && this._inlineDatepicker(a, d);
        },
        _newInst: function (a, c) {
          return {
            id: a[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1"),
            input: a,
            selectedDay: 0,
            selectedMonth: 0,
            selectedYear: 0,
            drawMonth: 0,
            drawYear: 0,
            inline: c,
            dpDiv: c
              ? d(
                  b(
                    "\x3cdiv class\x3d'" +
                      this._inlineClass +
                      " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'\x3e\x3c/div\x3e"
                  )
                )
              : this.dpDiv,
          };
        },
        _connectDatepicker: function (a, c) {
          var g = b(a);
          c.append = b([]);
          c.trigger = b([]);
          g.hasClass(this.markerClassName) ||
            (this._attachments(g, c),
            g
              .addClass(this.markerClassName)
              .keydown(this._doKeyDown)
              .keypress(this._doKeyPress)
              .keyup(this._doKeyUp),
            this._autoSize(c),
            b.data(a, "datepicker", c),
            c.settings.disabled && this._disableDatepicker(a));
        },
        _attachments: function (a, c) {
          var g = this._get(c, "appendText");
          var e = this._get(c, "isRTL");
          c.append && c.append.remove();
          g &&
            ((c.append = b(
              "\x3cspan class\x3d'" +
                this._appendClass +
                "'\x3e" +
                g +
                "\x3c/span\x3e"
            )),
            a[e ? "before" : "after"](c.append));
          a.unbind("focus", this._showDatepicker);
          c.trigger && c.trigger.remove();
          g = this._get(c, "showOn");
          ("focus" !== g && "both" !== g) || a.focus(this._showDatepicker);
          if ("button" === g || "both" === g) {
            g = this._get(c, "buttonText");
            var d = this._get(c, "buttonImage");
            c.trigger = b(
              this._get(c, "buttonImageOnly")
                ? b("\x3cimg/\x3e")
                    .addClass(this._triggerClass)
                    .attr({ src: d, alt: g, title: g })
                : b("\x3cbutton type\x3d'button'\x3e\x3c/button\x3e")
                    .addClass(this._triggerClass)
                    .html(
                      d
                        ? b("\x3cimg/\x3e").attr({ src: d, alt: g, title: g })
                        : g
                    )
            );
            a[e ? "before" : "after"](c.trigger);
            c.trigger.click(function () {
              b.datepicker._datepickerShowing &&
              b.datepicker._lastInput === a[0]
                ? b.datepicker._hideDatepicker()
                : (b.datepicker._datepickerShowing &&
                    b.datepicker._lastInput !== a[0] &&
                    b.datepicker._hideDatepicker(),
                  b.datepicker._showDatepicker(a[0]));
              return !1;
            });
          }
        },
        _autoSize: function (a) {
          if (this._get(a, "autoSize") && !a.inline) {
            var c,
              b,
              e,
              d = new Date(2009, 11, 20),
              f = this._get(a, "dateFormat");
            if (f.match(/[DM]/)) {
              var h = function (a) {
                for (e = b = c = 0; e < a.length; e++)
                  a[e].length > c && ((c = a[e].length), (b = e));
                return b;
              };
              d.setMonth(
                h(
                  this._get(a, f.match(/MM/) ? "monthNames" : "monthNamesShort")
                )
              );
              d.setDate(
                h(this._get(a, f.match(/DD/) ? "dayNames" : "dayNamesShort")) +
                  20 -
                  d.getDay()
              );
            }
            a.input.attr("size", this._formatDate(a, d).length);
          }
        },
        _inlineDatepicker: function (a, c) {
          var g = b(a);
          g.hasClass(this.markerClassName) ||
            (g.addClass(this.markerClassName).append(c.dpDiv),
            b.data(a, "datepicker", c),
            this._setDate(c, this._getDefaultDate(c), !0),
            this._updateDatepicker(c),
            this._updateAlternate(c),
            c.settings.disabled && this._disableDatepicker(a),
            c.dpDiv.css("display", "block"));
        },
        _dialogDatepicker: function (a, c, g, e, d) {
          a = this._dialogInst;
          a ||
            ((this.uuid += 1),
            (a = "dp" + this.uuid),
            (this._dialogInput = b(
              "\x3cinput type\x3d'text' id\x3d'" +
                a +
                "' style\x3d'position: absolute; top: -100px; width: 0px;'/\x3e"
            )),
            this._dialogInput.keydown(this._doKeyDown),
            b("body").append(this._dialogInput),
            (a = this._dialogInst = this._newInst(this._dialogInput, !1)),
            (a.settings = {}),
            b.data(this._dialogInput[0], "datepicker", a));
          w(a.settings, e || {});
          c = c && c.constructor === Date ? this._formatDate(a, c) : c;
          this._dialogInput.val(c);
          this._pos = d ? (d.length ? d : [d.pageX, d.pageY]) : null;
          if (!this._pos) {
            c = document.documentElement.clientWidth;
            e = document.documentElement.clientHeight;
            d = document.documentElement.scrollLeft || document.body.scrollLeft;
            var f =
              document.documentElement.scrollTop || document.body.scrollTop;
            this._pos = [c / 2 - 100 + d, e / 2 - 150 + f];
          }
          this._dialogInput
            .css("left", this._pos[0] + 20 + "px")
            .css("top", this._pos[1] + "px");
          a.settings.onSelect = g;
          this._inDialog = !0;
          this.dpDiv.addClass(this._dialogClass);
          this._showDatepicker(this._dialogInput[0]);
          b.blockUI && b.blockUI(this.dpDiv);
          b.data(this._dialogInput[0], "datepicker", a);
          return this;
        },
        _destroyDatepicker: function (a) {
          var c = b(a),
            g = b.data(a, "datepicker");
          if (c.hasClass(this.markerClassName)) {
            var e = a.nodeName.toLowerCase();
            b.removeData(a, "datepicker");
            "input" === e
              ? (g.append.remove(),
                g.trigger.remove(),
                c
                  .removeClass(this.markerClassName)
                  .unbind("focus", this._showDatepicker)
                  .unbind("keydown", this._doKeyDown)
                  .unbind("keypress", this._doKeyPress)
                  .unbind("keyup", this._doKeyUp))
              : ("div" !== e && "span" !== e) ||
                c.removeClass(this.markerClassName).empty();
            x === g && (x = null);
          }
        },
        _enableDatepicker: function (a) {
          var c = b(a),
            g = b.data(a, "datepicker");
          if (c.hasClass(this.markerClassName)) {
            var e = a.nodeName.toLowerCase();
            if ("input" === e)
              (a.disabled = !1),
                g.trigger
                  .filter("button")
                  .each(function () {
                    this.disabled = !1;
                  })
                  .end()
                  .filter("img")
                  .css({ opacity: "1.0", cursor: "" });
            else if ("div" === e || "span" === e)
              (e = c.children("." + this._inlineClass)),
                e.children().removeClass("ui-state-disabled"),
                e
                  .find("select.ui-datepicker-month, select.ui-datepicker-year")
                  .prop("disabled", !1);
            this._disabledInputs = b.map(this._disabledInputs, function (c) {
              return c === a ? null : c;
            });
          }
        },
        _disableDatepicker: function (a) {
          var c = b(a),
            g = b.data(a, "datepicker");
          if (c.hasClass(this.markerClassName)) {
            var e = a.nodeName.toLowerCase();
            if ("input" === e)
              (a.disabled = !0),
                g.trigger
                  .filter("button")
                  .each(function () {
                    this.disabled = !0;
                  })
                  .end()
                  .filter("img")
                  .css({ opacity: "0.5", cursor: "default" });
            else if ("div" === e || "span" === e)
              (e = c.children("." + this._inlineClass)),
                e.children().addClass("ui-state-disabled"),
                e
                  .find("select.ui-datepicker-month, select.ui-datepicker-year")
                  .prop("disabled", !0);
            this._disabledInputs = b.map(this._disabledInputs, function (c) {
              return c === a ? null : c;
            });
            this._disabledInputs[this._disabledInputs.length] = a;
          }
        },
        _isDisabledDatepicker: function (a) {
          if (!a) return !1;
          for (var c = 0; c < this._disabledInputs.length; c++)
            if (this._disabledInputs[c] === a) return !0;
          return !1;
        },
        _getInst: function (a) {
          try {
            return b.data(a, "datepicker");
          } catch (c) {
            throw "Missing instance data for this datepicker";
          }
        },
        _optionDatepicker: function (a, c, g) {
          var e = this._getInst(a);
          if (2 === arguments.length && "string" === typeof c)
            return "defaults" === c
              ? b.extend({}, b.datepicker._defaults)
              : e
              ? "all" === c
                ? b.extend({}, e.settings)
                : this._get(e, c)
              : null;
          var d = c || {};
          "string" === typeof c && ((d = {}), (d[c] = g));
          if (e) {
            this._curInst === e && this._hideDatepicker();
            var f = this._getDateDatepicker(a, !0);
            var h = this._getMinMaxDate(e, "min");
            var l = this._getMinMaxDate(e, "max");
            w(e.settings, d);
            null !== h &&
              void 0 !== d.dateFormat &&
              void 0 === d.minDate &&
              (e.settings.minDate = this._formatDate(e, h));
            null !== l &&
              void 0 !== d.dateFormat &&
              void 0 === d.maxDate &&
              (e.settings.maxDate = this._formatDate(e, l));
            "disabled" in d &&
              (d.disabled
                ? this._disableDatepicker(a)
                : this._enableDatepicker(a));
            this._attachments(b(a), e);
            this._autoSize(e);
            this._setDate(e, f);
            this._updateAlternate(e);
            this._updateDatepicker(e);
          }
        },
        _changeDatepicker: function (a, c, b) {
          this._optionDatepicker(a, c, b);
        },
        _refreshDatepicker: function (a) {
          (a = this._getInst(a)) && this._updateDatepicker(a);
        },
        _setDateDatepicker: function (a, c) {
          if ((a = this._getInst(a)))
            this._setDate(a, c),
              this._updateDatepicker(a),
              this._updateAlternate(a);
        },
        _getDateDatepicker: function (a, c) {
          (a = this._getInst(a)) && !a.inline && this._setDateFromField(a, c);
          return a ? this._getDate(a) : null;
        },
        _doKeyDown: function (a) {
          var c = b.datepicker._getInst(a.target);
          var g = !0;
          var e = c.dpDiv.is(".ui-datepicker-rtl");
          c._keyEvent = !0;
          if (b.datepicker._datepickerShowing)
            switch (a.keyCode) {
              case 9:
                b.datepicker._hideDatepicker();
                g = !1;
                break;
              case 13:
                return (
                  (g = b(
                    "td." +
                      b.datepicker._dayOverClass +
                      ":not(." +
                      b.datepicker._currentClass +
                      ")",
                    c.dpDiv
                  )),
                  g[0] &&
                    b.datepicker._selectDay(
                      a.target,
                      c.selectedMonth,
                      c.selectedYear,
                      g[0]
                    ),
                  (a = b.datepicker._get(c, "onSelect"))
                    ? ((g = b.datepicker._formatDate(c)),
                      a.apply(c.input ? c.input[0] : null, [g, c]))
                    : b.datepicker._hideDatepicker(),
                  !1
                );
              case 27:
                b.datepicker._hideDatepicker();
                break;
              case 33:
                b.datepicker._adjustDate(
                  a.target,
                  a.ctrlKey
                    ? -b.datepicker._get(c, "stepBigMonths")
                    : -b.datepicker._get(c, "stepMonths"),
                  "M"
                );
                break;
              case 34:
                b.datepicker._adjustDate(
                  a.target,
                  a.ctrlKey
                    ? +b.datepicker._get(c, "stepBigMonths")
                    : +b.datepicker._get(c, "stepMonths"),
                  "M"
                );
                break;
              case 35:
                (a.ctrlKey || a.metaKey) && b.datepicker._clearDate(a.target);
                g = a.ctrlKey || a.metaKey;
                break;
              case 36:
                (a.ctrlKey || a.metaKey) && b.datepicker._gotoToday(a.target);
                g = a.ctrlKey || a.metaKey;
                break;
              case 37:
                (a.ctrlKey || a.metaKey) &&
                  b.datepicker._adjustDate(a.target, e ? 1 : -1, "D");
                g = a.ctrlKey || a.metaKey;
                a.originalEvent.altKey &&
                  b.datepicker._adjustDate(
                    a.target,
                    a.ctrlKey
                      ? -b.datepicker._get(c, "stepBigMonths")
                      : -b.datepicker._get(c, "stepMonths"),
                    "M"
                  );
                break;
              case 38:
                (a.ctrlKey || a.metaKey) &&
                  b.datepicker._adjustDate(a.target, -7, "D");
                g = a.ctrlKey || a.metaKey;
                break;
              case 39:
                (a.ctrlKey || a.metaKey) &&
                  b.datepicker._adjustDate(a.target, e ? -1 : 1, "D");
                g = a.ctrlKey || a.metaKey;
                a.originalEvent.altKey &&
                  b.datepicker._adjustDate(
                    a.target,
                    a.ctrlKey
                      ? +b.datepicker._get(c, "stepBigMonths")
                      : +b.datepicker._get(c, "stepMonths"),
                    "M"
                  );
                break;
              case 40:
                (a.ctrlKey || a.metaKey) &&
                  b.datepicker._adjustDate(a.target, 7, "D");
                g = a.ctrlKey || a.metaKey;
                break;
              default:
                g = !1;
            }
          else
            36 === a.keyCode && a.ctrlKey
              ? b.datepicker._showDatepicker(this)
              : (g = !1);
          g && (a.preventDefault(), a.stopPropagation());
        },
        _doKeyPress: function (a) {
          var c = b.datepicker._getInst(a.target);
          if (b.datepicker._get(c, "constrainInput")) {
            c = b.datepicker._possibleChars(b.datepicker._get(c, "dateFormat"));
            var g = String.fromCharCode(
              null == a.charCode ? a.keyCode : a.charCode
            );
            return a.ctrlKey || a.metaKey || " " > g || !c || -1 < c.indexOf(g);
          }
        },
        _doKeyUp: function (a) {
          var c;
          a = b.datepicker._getInst(a.target);
          if (a.input.val() !== a.lastVal)
            try {
              if (
                (c = b.datepicker.parseDate(
                  b.datepicker._get(a, "dateFormat"),
                  a.input ? a.input.val() : null,
                  b.datepicker._getFormatConfig(a)
                ))
              )
                b.datepicker._setDateFromField(a),
                  b.datepicker._updateAlternate(a),
                  b.datepicker._updateDatepicker(a);
            } catch (g) {}
          return !0;
        },
        _showDatepicker: function (a) {
          a = a.target || a;
          "input" !== a.nodeName.toLowerCase() &&
            (a = b("input", a.parentNode)[0]);
          if (
            !b.datepicker._isDisabledDatepicker(a) &&
            b.datepicker._lastInput !== a
          ) {
            var c = b.datepicker._getInst(a);
            b.datepicker._curInst &&
              b.datepicker._curInst !== c &&
              (b.datepicker._curInst.dpDiv.stop(!0, !0),
              c &&
                b.datepicker._datepickerShowing &&
                b.datepicker._hideDatepicker(b.datepicker._curInst.input[0]));
            var g = (g = b.datepicker._get(c, "beforeShow"))
              ? g.apply(a, [a, c])
              : {};
            if (!1 !== g) {
              w(c.settings, g);
              c.lastVal = null;
              b.datepicker._lastInput = a;
              b.datepicker._setDateFromField(c);
              b.datepicker._inDialog && (a.value = "");
              b.datepicker._pos ||
                ((b.datepicker._pos = b.datepicker._findPos(a)),
                (b.datepicker._pos[1] += a.offsetHeight));
              var e = !1;
              b(a)
                .parents()
                .each(function () {
                  e |= "fixed" === b(this).css("position");
                  return !e;
                });
              g = { left: b.datepicker._pos[0], top: b.datepicker._pos[1] };
              b.datepicker._pos = null;
              c.dpDiv.empty();
              c.dpDiv.css({
                position: "absolute",
                display: "block",
                top: "-1000px",
              });
              b.datepicker._updateDatepicker(c);
              g = b.datepicker._checkOffset(c, g, e);
              c.dpDiv.css({
                position:
                  b.datepicker._inDialog && b.blockUI
                    ? "static"
                    : e
                    ? "fixed"
                    : "absolute",
                display: "none",
                left: g.left + "px",
                top: g.top + "px",
              });
              if (!c.inline) {
                g = b.datepicker._get(c, "showAnim");
                var d = b.datepicker._get(c, "duration");
                c.dpDiv.css("z-index", r(b(a)) + 1);
                b.datepicker._datepickerShowing = !0;
                if (b.effects && b.effects.effect[g])
                  c.dpDiv.show(g, b.datepicker._get(c, "showOptions"), d);
                else c.dpDiv[g || "show"](g ? d : null);
                b.datepicker._shouldFocusInput(c) && c.input.focus();
                b.datepicker._curInst = c;
              }
            }
          }
        },
        _updateDatepicker: function (a) {
          this.maxRows = 4;
          x = a;
          a.dpDiv.empty().append(this._generateHTML(a));
          this._attachHandlers(a);
          var c = this._getNumberOfMonths(a),
            g = c[1],
            e = a.dpDiv.find("." + this._dayOverClass + " a");
          0 < e.length && l.apply(e.get(0));
          a.dpDiv
            .removeClass(
              "ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4"
            )
            .width("");
          1 < g &&
            a.dpDiv
              .addClass("ui-datepicker-multi-" + g)
              .css("width", 17 * g + "em");
          a.dpDiv[(1 !== c[0] || 1 !== c[1] ? "add" : "remove") + "Class"](
            "ui-datepicker-multi"
          );
          a.dpDiv[(this._get(a, "isRTL") ? "add" : "remove") + "Class"](
            "ui-datepicker-rtl"
          );
          a === b.datepicker._curInst &&
            b.datepicker._datepickerShowing &&
            b.datepicker._shouldFocusInput(a) &&
            a.input.focus();
          if (a.yearshtml) {
            var d = a.yearshtml;
            setTimeout(function () {
              d === a.yearshtml &&
                a.yearshtml &&
                a.dpDiv
                  .find("select.ui-datepicker-year:first")
                  .replaceWith(a.yearshtml);
              d = a.yearshtml = null;
            }, 0);
          }
        },
        _shouldFocusInput: function (a) {
          return (
            a.input &&
            a.input.is(":visible") &&
            !a.input.is(":disabled") &&
            !a.input.is(":focus")
          );
        },
        _checkOffset: function (a, c, g) {
          var e = a.dpDiv.outerWidth(),
            d = a.dpDiv.outerHeight(),
            f = a.input ? a.input.outerWidth() : 0,
            h = a.input ? a.input.outerHeight() : 0,
            l =
              document.documentElement.clientWidth +
              (g ? 0 : b(document).scrollLeft()),
            q =
              document.documentElement.clientHeight +
              (g ? 0 : b(document).scrollTop());
          c.left -= this._get(a, "isRTL") ? e - f : 0;
          c.left -=
            g && c.left === a.input.offset().left
              ? b(document).scrollLeft()
              : 0;
          c.top -=
            g && c.top === a.input.offset().top + h
              ? b(document).scrollTop()
              : 0;
          c.left -= Math.min(
            c.left,
            c.left + e > l && l > e ? Math.abs(c.left + e - l) : 0
          );
          c.top -= Math.min(
            c.top,
            c.top + d > q && q > d ? Math.abs(d + h) : 0
          );
          return c;
        },
        _findPos: function (a) {
          var c = this._getInst(a);
          for (
            c = this._get(c, "isRTL");
            a &&
            ("hidden" === a.type ||
              1 !== a.nodeType ||
              b.expr.filters.hidden(a));

          )
            a = a[c ? "previousSibling" : "nextSibling"];
          a = b(a).offset();
          return [a.left, a.top];
        },
        _hideDatepicker: function (a) {
          var c = this._curInst;
          if (
            c &&
            (!a || c === b.data(a, "datepicker")) &&
            this._datepickerShowing
          ) {
            a = this._get(c, "showAnim");
            var g = this._get(c, "duration");
            var e = function () {
              b.datepicker._tidyDialog(c);
            };
            if (b.effects && (b.effects.effect[a] || b.effects[a]))
              c.dpDiv.hide(a, b.datepicker._get(c, "showOptions"), g, e);
            else
              c.dpDiv[
                "slideDown" === a
                  ? "slideUp"
                  : "fadeIn" === a
                  ? "fadeOut"
                  : "hide"
              ](a ? g : null, e);
            a || e();
            this._datepickerShowing = !1;
            (a = this._get(c, "onClose")) &&
              a.apply(c.input ? c.input[0] : null, [
                c.input ? c.input.val() : "",
                c,
              ]);
            this._lastInput = null;
            this._inDialog &&
              (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px",
              }),
              b.blockUI && (b.unblockUI(), b("body").append(this.dpDiv)));
            this._inDialog = !1;
          }
        },
        _tidyDialog: function (a) {
          a.dpDiv
            .removeClass(this._dialogClass)
            .unbind(".ui-datepicker-calendar");
        },
        _checkExternalClick: function (a) {
          if (b.datepicker._curInst) {
            a = b(a.target);
            var c = b.datepicker._getInst(a[0]);
            (!(
              a[0].id === b.datepicker._mainDivId ||
              0 !== a.parents("#" + b.datepicker._mainDivId).length ||
              a.hasClass(b.datepicker.markerClassName) ||
              a.closest("." + b.datepicker._triggerClass).length ||
              !b.datepicker._datepickerShowing ||
              (b.datepicker._inDialog && b.blockUI)
            ) ||
              (a.hasClass(b.datepicker.markerClassName) &&
                b.datepicker._curInst !== c)) &&
              b.datepicker._hideDatepicker();
          }
        },
        _adjustDate: function (a, c, g) {
          a = b(a);
          var e = this._getInst(a[0]);
          this._isDisabledDatepicker(a[0]) ||
            (this._adjustInstDate(
              e,
              c + ("M" === g ? this._get(e, "showCurrentAtPos") : 0),
              g
            ),
            this._updateDatepicker(e));
        },
        _gotoToday: function (a) {
          var c = b(a),
            g = this._getInst(c[0]);
          this._get(g, "gotoCurrent") && g.currentDay
            ? ((g.selectedDay = g.currentDay),
              (g.drawMonth = g.selectedMonth = g.currentMonth),
              (g.drawYear = g.selectedYear = g.currentYear))
            : ((a = new Date()),
              (g.selectedDay = a.getDate()),
              (g.drawMonth = g.selectedMonth = a.getMonth()),
              (g.drawYear = g.selectedYear = a.getFullYear()));
          this._notifyChange(g);
          this._adjustDate(c);
        },
        _selectMonthYear: function (a, c, g) {
          a = b(a);
          var e = this._getInst(a[0]);
          e["selected" + ("M" === g ? "Month" : "Year")] = e[
            "draw" + ("M" === g ? "Month" : "Year")
          ] = parseInt(c.options[c.selectedIndex].value, 10);
          this._notifyChange(e);
          this._adjustDate(a);
        },
        _selectDay: function (a, c, g, e) {
          var d = b(a);
          b(e).hasClass(this._unselectableClass) ||
            this._isDisabledDatepicker(d[0]) ||
            ((d = this._getInst(d[0])),
            (d.selectedDay = d.currentDay = b("a", e).html()),
            (d.selectedMonth = d.currentMonth = c),
            (d.selectedYear = d.currentYear = g),
            this._selectDate(
              a,
              this._formatDate(d, d.currentDay, d.currentMonth, d.currentYear)
            ));
        },
        _clearDate: function (a) {
          a = b(a);
          this._selectDate(a, "");
        },
        _selectDate: function (a, c) {
          a = b(a);
          var g = this._getInst(a[0]);
          c = null != c ? c : this._formatDate(g);
          g.input && g.input.val(c);
          this._updateAlternate(g);
          (a = this._get(g, "onSelect"))
            ? a.apply(g.input ? g.input[0] : null, [c, g])
            : g.input && g.input.trigger("change");
          g.inline
            ? this._updateDatepicker(g)
            : (this._hideDatepicker(),
              (this._lastInput = g.input[0]),
              "object" !== typeof g.input[0] && g.input.focus(),
              (this._lastInput = null));
        },
        _updateAlternate: function (a) {
          var c = this._get(a, "altField");
          if (c) {
            var g = this._get(a, "altFormat") || this._get(a, "dateFormat");
            var e = this._getDate(a);
            var d = this.formatDate(g, e, this._getFormatConfig(a));
            b(c).each(function () {
              b(this).val(d);
            });
          }
        },
        noWeekends: function (a) {
          a = a.getDay();
          return [0 < a && 6 > a, ""];
        },
        iso8601Week: function (a) {
          var c = new Date(a.getTime());
          c.setDate(c.getDate() + 4 - (c.getDay() || 7));
          a = c.getTime();
          c.setMonth(0);
          c.setDate(1);
          return Math.floor(Math.round((a - c) / 864e5) / 7) + 1;
        },
        parseDate: function (a, c, g) {
          if (null == a || null == c) throw "Invalid arguments";
          c = "object" === typeof c ? c.toString() : c + "";
          if ("" === c) return null;
          var e,
            d = 0;
          var f =
            (g ? g.shortYearCutoff : null) || this._defaults.shortYearCutoff;
          f =
            "string" !== typeof f
              ? f
              : (new Date().getFullYear() % 100) + parseInt(f, 10);
          var h = (g ? g.dayNamesShort : null) || this._defaults.dayNamesShort;
          var l = (g ? g.dayNames : null) || this._defaults.dayNames,
            q =
              (g ? g.monthNamesShort : null) || this._defaults.monthNamesShort,
            k = (g ? g.monthNames : null) || this._defaults.monthNames,
            u = (g = -1),
            v = -1,
            r = -1,
            y = !1,
            n = function (c) {
              (c = e + 1 < a.length && a.charAt(e + 1) === c) && e++;
              return c;
            },
            B = function (a) {
              var b = n(a);
              b =
                "@" === a
                  ? 14
                  : "!" === a
                  ? 20
                  : "y" === a && b
                  ? 4
                  : "o" === a
                  ? 3
                  : 2;
              a = new RegExp("^\\d{" + ("y" === a ? b : 1) + "," + b + "}");
              a = c.substring(d).match(a);
              if (!a) throw "Missing number at position " + d;
              d += a[0].length;
              return parseInt(a[0], 10);
            },
            z = function (a, g, e) {
              var f = -1;
              a = b
                .map(n(a) ? e : g, function (a, c) {
                  return [[c, a]];
                })
                .sort(function (a, c) {
                  return -(a[1].length - c[1].length);
                });
              b.each(a, function (a, b) {
                a = b[1];
                if (c.substr(d, a.length).toLowerCase() === a.toLowerCase())
                  return (f = b[0]), (d += a.length), !1;
              });
              if (-1 !== f) return f + 1;
              throw "Unknown name at position " + d;
            },
            w = function () {
              if (c.charAt(d) !== a.charAt(e))
                throw "Unexpected literal at position " + d;
              d++;
            };
          for (e = 0; e < a.length; e++)
            if (y) "'" !== a.charAt(e) || n("'") ? w() : (y = !1);
            else
              switch (a.charAt(e)) {
                case "d":
                  v = B("d");
                  break;
                case "D":
                  z("D", h, l);
                  break;
                case "o":
                  r = B("o");
                  break;
                case "m":
                  u = B("m");
                  break;
                case "M":
                  u = z("M", q, k);
                  break;
                case "y":
                  g = B("y");
                  break;
                case "@":
                  var x = new Date(B("@"));
                  g = x.getFullYear();
                  u = x.getMonth() + 1;
                  v = x.getDate();
                  break;
                case "!":
                  x = new Date((B("!") - this._ticksTo1970) / 1e4);
                  g = x.getFullYear();
                  u = x.getMonth() + 1;
                  v = x.getDate();
                  break;
                case "'":
                  n("'") ? w() : (y = !0);
                  break;
                default:
                  w();
              }
          if (d < c.length && ((h = c.substr(d)), !/^\s+/.test(h)))
            throw "Extra/unparsed characters found in date: " + h;
          -1 === g
            ? (g = new Date().getFullYear())
            : 100 > g &&
              (g +=
                new Date().getFullYear() -
                (new Date().getFullYear() % 100) +
                (g <= f ? 0 : -100));
          if (-1 < r) {
            u = 1;
            v = r;
            do {
              f = this._getDaysInMonth(g, u - 1);
              if (v <= f) break;
              u++;
              v -= f;
            } while (1);
          }
          x = this._daylightSavingAdjust(new Date(g, u - 1, v));
          if (
            x.getFullYear() !== g ||
            x.getMonth() + 1 !== u ||
            x.getDate() !== v
          )
            throw "Invalid date";
          return x;
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: 62135596800 * 1e7,
        formatDate: function (a, c, b) {
          if (!c) return "";
          var g,
            e = (b ? b.dayNamesShort : null) || this._defaults.dayNamesShort,
            d = (b ? b.dayNames : null) || this._defaults.dayNames,
            f =
              (b ? b.monthNamesShort : null) || this._defaults.monthNamesShort;
          b = (b ? b.monthNames : null) || this._defaults.monthNames;
          var h = function (c) {
              (c = g + 1 < a.length && a.charAt(g + 1) === c) && g++;
              return c;
            },
            l = function (a, c, b) {
              c = "" + c;
              if (h(a)) for (; c.length < b; ) c = "0" + c;
              return c;
            },
            q = function (a, c, b, g) {
              return h(a) ? g[c] : b[c];
            },
            k = "",
            u = !1;
          if (c)
            for (g = 0; g < a.length; g++)
              if (u)
                "'" !== a.charAt(g) || h("'") ? (k += a.charAt(g)) : (u = !1);
              else
                switch (a.charAt(g)) {
                  case "d":
                    k += l("d", c.getDate(), 2);
                    break;
                  case "D":
                    k += q("D", c.getDay(), e, d);
                    break;
                  case "o":
                    k += l(
                      "o",
                      Math.round(
                        (new Date(
                          c.getFullYear(),
                          c.getMonth(),
                          c.getDate()
                        ).getTime() -
                          new Date(c.getFullYear(), 0, 0).getTime()) /
                          864e5
                      ),
                      3
                    );
                    break;
                  case "m":
                    k += l("m", c.getMonth() + 1, 2);
                    break;
                  case "M":
                    k += q("M", c.getMonth(), f, b);
                    break;
                  case "y":
                    k += h("y")
                      ? c.getFullYear()
                      : (10 > c.getYear() % 100 ? "0" : "") +
                        (c.getYear() % 100);
                    break;
                  case "@":
                    k += c.getTime();
                    break;
                  case "!":
                    k += 1e4 * c.getTime() + this._ticksTo1970;
                    break;
                  case "'":
                    h("'") ? (k += "'") : (u = !0);
                    break;
                  default:
                    k += a.charAt(g);
                }
          return k;
        },
        _possibleChars: function (a) {
          var c,
            b = "",
            e = !1,
            d = function (b) {
              (b = c + 1 < a.length && a.charAt(c + 1) === b) && c++;
              return b;
            };
          for (c = 0; c < a.length; c++)
            if (e)
              "'" !== a.charAt(c) || d("'") ? (b += a.charAt(c)) : (e = !1);
            else
              switch (a.charAt(c)) {
                case "d":
                case "m":
                case "y":
                case "@":
                  b += "0123456789";
                  break;
                case "D":
                case "M":
                  return null;
                case "'":
                  d("'") ? (b += "'") : (e = !0);
                  break;
                default:
                  b += a.charAt(c);
              }
          return b;
        },
        _get: function (a, c) {
          return void 0 !== a.settings[c] ? a.settings[c] : this._defaults[c];
        },
        _setDateFromField: function (a, c) {
          if (a.input.val() !== a.lastVal) {
            var b = this._get(a, "dateFormat"),
              e = (a.lastVal = a.input ? a.input.val() : null),
              d = this._getDefaultDate(a),
              f = d,
              h = this._getFormatConfig(a);
            try {
              f = this.parseDate(b, e, h) || d;
            } catch (H) {
              e = c ? "" : e;
            }
            a.selectedDay = f.getDate();
            a.drawMonth = a.selectedMonth = f.getMonth();
            a.drawYear = a.selectedYear = f.getFullYear();
            a.currentDay = e ? f.getDate() : 0;
            a.currentMonth = e ? f.getMonth() : 0;
            a.currentYear = e ? f.getFullYear() : 0;
            this._adjustInstDate(a);
          }
        },
        _getDefaultDate: function (a) {
          return this._restrictMinMax(
            a,
            this._determineDate(a, this._get(a, "defaultDate"), new Date())
          );
        },
        _determineDate: function (a, c, e) {
          var g = function (a) {
              var c = new Date();
              c.setDate(c.getDate() + a);
              return c;
            },
            d = function (c) {
              try {
                return b.datepicker.parseDate(
                  b.datepicker._get(a, "dateFormat"),
                  c,
                  b.datepicker._getFormatConfig(a)
                );
              } catch (W) {}
              var e =
                  (c.toLowerCase().match(/^c/)
                    ? b.datepicker._getDate(a)
                    : null) || new Date(),
                g = e.getFullYear(),
                d = e.getMonth();
              e = e.getDate();
              for (
                var f = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, h = f.exec(c);
                h;

              ) {
                switch (h[2] || "d") {
                  case "d":
                  case "D":
                    e += parseInt(h[1], 10);
                    break;
                  case "w":
                  case "W":
                    e += 7 * parseInt(h[1], 10);
                    break;
                  case "m":
                  case "M":
                    d += parseInt(h[1], 10);
                    e = Math.min(e, b.datepicker._getDaysInMonth(g, d));
                    break;
                  case "y":
                  case "Y":
                    (g += parseInt(h[1], 10)),
                      (e = Math.min(e, b.datepicker._getDaysInMonth(g, d)));
                }
                h = f.exec(c);
              }
              return new Date(g, d, e);
            };
          if (
            (c =
              (c =
                null == c || "" === c
                  ? e
                  : "string" === typeof c
                  ? d(c)
                  : "number" === typeof c
                  ? isNaN(c)
                    ? e
                    : g(c)
                  : new Date(c.getTime())) && "Invalid Date" === c.toString()
                ? e
                : c)
          )
            c.setHours(0),
              c.setMinutes(0),
              c.setSeconds(0),
              c.setMilliseconds(0);
          return this._daylightSavingAdjust(c);
        },
        _daylightSavingAdjust: function (a) {
          if (!a) return null;
          a.setHours(12 < a.getHours() ? a.getHours() + 2 : 0);
          return a;
        },
        _setDate: function (a, c, b) {
          var e = !c,
            g = a.selectedMonth,
            d = a.selectedYear;
          c = this._restrictMinMax(a, this._determineDate(a, c, new Date()));
          a.selectedDay = a.currentDay = c.getDate();
          a.drawMonth = a.selectedMonth = a.currentMonth = c.getMonth();
          a.drawYear = a.selectedYear = a.currentYear = c.getFullYear();
          (g === a.selectedMonth && d === a.selectedYear) ||
            b ||
            this._notifyChange(a);
          this._adjustInstDate(a);
          a.input && a.input.val(e ? "" : this._formatDate(a));
        },
        _getDate: function (a) {
          return !a.currentYear || (a.input && "" === a.input.val())
            ? null
            : this._daylightSavingAdjust(
                new Date(a.currentYear, a.currentMonth, a.currentDay)
              );
        },
        _attachHandlers: function (a) {
          var c = this._get(a, "stepMonths"),
            e = "#" + a.id.replace(/\\\\/g, "\\");
          a.dpDiv.find("[data-handler]").map(function () {
            b(this).bind(
              this.getAttribute("data-event"),
              {
                prev: function () {
                  b.datepicker._adjustDate(e, -c, "M");
                },
                next: function () {
                  b.datepicker._adjustDate(e, +c, "M");
                },
                hide: function () {
                  b.datepicker._hideDatepicker();
                },
                today: function () {
                  b.datepicker._gotoToday(e);
                },
                selectDay: function () {
                  b.datepicker._selectDay(
                    e,
                    +this.getAttribute("data-month"),
                    +this.getAttribute("data-year"),
                    this
                  );
                  return !1;
                },
                selectMonth: function () {
                  b.datepicker._selectMonthYear(e, this, "M");
                  return !1;
                },
                selectYear: function () {
                  b.datepicker._selectMonthYear(e, this, "Y");
                  return !1;
                },
              }[this.getAttribute("data-handler")]
            );
          });
        },
        _generateHTML: function (a) {
          var c,
            b,
            e,
            d,
            f = new Date();
          f = this._daylightSavingAdjust(
            new Date(f.getFullYear(), f.getMonth(), f.getDate())
          );
          var h = this._get(a, "isRTL");
          var l = this._get(a, "showButtonPanel");
          var q = this._get(a, "hideIfNoPrevNext");
          var k = this._get(a, "navigationAsDateFormat");
          var u = this._getNumberOfMonths(a),
            v = this._get(a, "showCurrentAtPos");
          var r = this._get(a, "stepMonths");
          var y = 1 !== u[0] || 1 !== u[1],
            n = this._daylightSavingAdjust(
              a.currentDay
                ? new Date(a.currentYear, a.currentMonth, a.currentDay)
                : new Date(9999, 9, 9)
            ),
            B = this._getMinMaxDate(a, "min"),
            z = this._getMinMaxDate(a, "max");
          v = a.drawMonth - v;
          var w = a.drawYear;
          0 > v && ((v += 12), w--);
          if (z) {
            var x = this._daylightSavingAdjust(
              new Date(
                z.getFullYear(),
                z.getMonth() - u[0] * u[1] + 1,
                z.getDate()
              )
            );
            for (
              x = B && x < B ? B : x;
              this._daylightSavingAdjust(new Date(w, v, 1)) > x;

            )
              v--, 0 > v && ((v = 11), w--);
          }
          a.drawMonth = v;
          a.drawYear = w;
          x = this._get(a, "prevText");
          x = k
            ? this.formatDate(
                x,
                this._daylightSavingAdjust(new Date(w, v - r, 1)),
                this._getFormatConfig(a)
              )
            : x;
          x = this._canAdjustMonth(a, -1, w, v)
            ? "\x3ca class\x3d'ui-datepicker-prev ui-corner-all' data-handler\x3d'prev' data-event\x3d'click' title\x3d'" +
              x +
              "'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-" +
              (h ? "e" : "w") +
              "'\x3e" +
              x +
              "\x3c/span\x3e\x3c/a\x3e"
            : q
            ? ""
            : "\x3ca class\x3d'ui-datepicker-prev ui-corner-all ui-state-disabled' title\x3d'" +
              x +
              "'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-" +
              (h ? "e" : "w") +
              "'\x3e" +
              x +
              "\x3c/span\x3e\x3c/a\x3e";
          var Y = this._get(a, "nextText");
          Y = k
            ? this.formatDate(
                Y,
                this._daylightSavingAdjust(new Date(w, v + r, 1)),
                this._getFormatConfig(a)
              )
            : Y;
          q = this._canAdjustMonth(a, 1, w, v)
            ? "\x3ca class\x3d'ui-datepicker-next ui-corner-all' data-handler\x3d'next' data-event\x3d'click' title\x3d'" +
              Y +
              "'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-" +
              (h ? "w" : "e") +
              "'\x3e" +
              Y +
              "\x3c/span\x3e\x3c/a\x3e"
            : q
            ? ""
            : "\x3ca class\x3d'ui-datepicker-next ui-corner-all ui-state-disabled' title\x3d'" +
              Y +
              "'\x3e\x3cspan class\x3d'ui-icon ui-icon-circle-triangle-" +
              (h ? "w" : "e") +
              "'\x3e" +
              Y +
              "\x3c/span\x3e\x3c/a\x3e";
          r = this._get(a, "currentText");
          Y = this._get(a, "gotoCurrent") && a.currentDay ? n : f;
          r = k ? this.formatDate(r, Y, this._getFormatConfig(a)) : r;
          k = a.inline
            ? ""
            : "\x3cbutton type\x3d'button' class\x3d'ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler\x3d'hide' data-event\x3d'click'\x3e" +
              this._get(a, "closeText") +
              "\x3c/button\x3e";
          l = l
            ? "\x3cdiv class\x3d'ui-datepicker-buttonpane ui-widget-content'\x3e" +
              (h ? k : "") +
              (this._isInRange(a, Y)
                ? "\x3cbutton type\x3d'button' class\x3d'ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler\x3d'today' data-event\x3d'click'\x3e" +
                  r +
                  "\x3c/button\x3e"
                : "") +
              (h ? "" : k) +
              "\x3c/div\x3e"
            : "";
          k = parseInt(this._get(a, "firstDay"), 10);
          k = isNaN(k) ? 0 : k;
          r = this._get(a, "showWeek");
          Y = this._get(a, "dayNames");
          var da = this._get(a, "dayNamesMin");
          var ua = this._get(a, "monthNames");
          var ya = this._get(a, "monthNamesShort");
          var Z = this._get(a, "beforeShowDay");
          var ea = this._get(a, "showOtherMonths");
          var la = this._get(a, "selectOtherMonths");
          var ja = this._getDefaultDate(a);
          var ma = "";
          N;
          for (c = 0; c < u[0]; c++) {
            var oa = "";
            this.maxRows = 4;
            for (b = 0; b < u[1]; b++) {
              var pa = this._daylightSavingAdjust(
                new Date(w, v, a.selectedDay)
              );
              var N = " ui-corner-all";
              var D = "";
              if (y) {
                D += "\x3cdiv class\x3d'ui-datepicker-group";
                if (1 < u[1])
                  switch (b) {
                    case 0:
                      D += " ui-datepicker-group-first";
                      N = " ui-corner-" + (h ? "right" : "left");
                      break;
                    case u[1] - 1:
                      D += " ui-datepicker-group-last";
                      N = " ui-corner-" + (h ? "left" : "right");
                      break;
                    default:
                      (D += " ui-datepicker-group-middle"), (N = "");
                  }
                D += "'\x3e";
              }
              D +=
                "\x3cdiv class\x3d'ui-datepicker-header ui-widget-header ui-helper-clearfix" +
                N +
                "'\x3e" +
                (/all|left/.test(N) && 0 === c ? (h ? q : x) : "") +
                (/all|right/.test(N) && 0 === c ? (h ? x : q) : "") +
                this._generateMonthYearHeader(
                  a,
                  v,
                  w,
                  B,
                  z,
                  0 < c || 0 < b,
                  ua,
                  ya
                ) +
                "\x3c/div\x3e\x3ctable class\x3d'ui-datepicker-calendar'\x3e\x3cthead\x3e\x3ctr\x3e";
              var Q = r
                ? "\x3cth class\x3d'ui-datepicker-week-col'\x3e" +
                  this._get(a, "weekHeader") +
                  "\x3c/th\x3e"
                : "";
              for (N = 0; 7 > N; N++) {
                var J = (N + k) % 7;
                Q +=
                  "\x3cth scope\x3d'col'" +
                  (5 <= (N + k + 6) % 7
                    ? " class\x3d'ui-datepicker-week-end'"
                    : "") +
                  "\x3e\x3cspan title\x3d'" +
                  Y[J] +
                  "'\x3e" +
                  da[J] +
                  "\x3c/span\x3e\x3c/th\x3e";
              }
              D += Q + "\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e";
              Q = this._getDaysInMonth(w, v);
              w === a.selectedYear &&
                v === a.selectedMonth &&
                (a.selectedDay = Math.min(a.selectedDay, Q));
              N = (this._getFirstDayOfMonth(w, v) - k + 7) % 7;
              Q = Math.ceil((N + Q) / 7);
              this.maxRows = Q = y ? (this.maxRows > Q ? this.maxRows : Q) : Q;
              J = this._daylightSavingAdjust(new Date(w, v, 1 - N));
              for (e = 0; e < Q; e++) {
                D += "\x3ctr\x3e";
                var qa = r
                  ? "\x3ctd class\x3d'ui-datepicker-week-col'\x3e" +
                    this._get(a, "calculateWeek")(J) +
                    "\x3c/td\x3e"
                  : "";
                for (N = 0; 7 > N; N++) {
                  var fa = Z
                    ? Z.apply(a.input ? a.input[0] : null, [J])
                    : [!0, ""];
                  var ka =
                    ((d = J.getMonth() !== v) && !la) ||
                    !fa[0] ||
                    (B && J < B) ||
                    (z && J > z);
                  qa +=
                    "\x3ctd class\x3d'" +
                    (5 <= (N + k + 6) % 7 ? " ui-datepicker-week-end" : "") +
                    (d ? " ui-datepicker-other-month" : "") +
                    ((J.getTime() === pa.getTime() &&
                      v === a.selectedMonth &&
                      a._keyEvent) ||
                    (ja.getTime() === J.getTime() &&
                      ja.getTime() === pa.getTime())
                      ? " " + this._dayOverClass
                      : "") +
                    (ka
                      ? " " + this._unselectableClass + " ui-state-disabled"
                      : "") +
                    (d && !ea
                      ? ""
                      : " " +
                        fa[1] +
                        (J.getTime() === n.getTime()
                          ? " " + this._currentClass
                          : "") +
                        (J.getTime() === f.getTime()
                          ? " ui-datepicker-today"
                          : "")) +
                    "'" +
                    ((d && !ea) || !fa[2]
                      ? ""
                      : " title\x3d'" + fa[2].replace(/'/g, "\x26#39;") + "'") +
                    (ka
                      ? ""
                      : " data-handler\x3d'selectDay' data-event\x3d'click' data-month\x3d'" +
                        J.getMonth() +
                        "' data-year\x3d'" +
                        J.getFullYear() +
                        "'") +
                    "\x3e" +
                    (d && !ea
                      ? "\x26#xa0;"
                      : ka
                      ? "\x3cspan class\x3d'ui-state-default'\x3e" +
                        J.getDate() +
                        "\x3c/span\x3e"
                      : "\x3ca class\x3d'ui-state-default" +
                        (J.getTime() === f.getTime()
                          ? " ui-state-highlight"
                          : "") +
                        (J.getTime() === n.getTime()
                          ? " ui-state-active"
                          : "") +
                        (d ? " ui-priority-secondary" : "") +
                        "' href\x3d'#'\x3e" +
                        J.getDate() +
                        "\x3c/a\x3e") +
                    "\x3c/td\x3e";
                  J.setDate(J.getDate() + 1);
                  J = this._daylightSavingAdjust(J);
                }
                D += qa + "\x3c/tr\x3e";
              }
              v++;
              11 < v && ((v = 0), w++);
              D +=
                "\x3c/tbody\x3e\x3c/table\x3e" +
                (y
                  ? "\x3c/div\x3e" +
                    (0 < u[0] && b === u[1] - 1
                      ? "\x3cdiv class\x3d'ui-datepicker-row-break'\x3e\x3c/div\x3e"
                      : "")
                  : "");
              oa += D;
            }
            ma += oa;
          }
          a._keyEvent = !1;
          return ma + l;
        },
        _generateMonthYearHeader: function (a, c, b, e, d, f, h, l) {
          var g,
            q = this._get(a, "changeMonth"),
            k = this._get(a, "changeYear"),
            p = this._get(a, "showMonthAfterYear"),
            u = "\x3cdiv class\x3d'ui-datepicker-title'\x3e",
            v = "";
          if (f || !q)
            v +=
              "\x3cspan class\x3d'ui-datepicker-month'\x3e" +
              h[c] +
              "\x3c/span\x3e";
          else {
            h = e && e.getFullYear() === b;
            var r = d && d.getFullYear() === b;
            v +=
              "\x3cselect class\x3d'ui-datepicker-month' data-handler\x3d'selectMonth' data-event\x3d'change'\x3e";
            for (g = 0; 12 > g; g++)
              (!h || g >= e.getMonth()) &&
                (!r || g <= d.getMonth()) &&
                (v +=
                  "\x3coption value\x3d'" +
                  g +
                  "'" +
                  (g === c ? " selected\x3d'selected'" : "") +
                  "\x3e" +
                  l[g] +
                  "\x3c/option\x3e");
            v += "\x3c/select\x3e";
          }
          p || (u += v + (!f && q && k ? "" : "\x26#xa0;"));
          if (!a.yearshtml)
            if (((a.yearshtml = ""), f || !k))
              u +=
                "\x3cspan class\x3d'ui-datepicker-year'\x3e" +
                b +
                "\x3c/span\x3e";
            else {
              l = this._get(a, "yearRange").split(":");
              var y = new Date().getFullYear();
              h = function (a) {
                a = a.match(/c[+\-].*/)
                  ? b + parseInt(a.substring(1), 10)
                  : a.match(/[+\-].*/)
                  ? y + parseInt(a, 10)
                  : parseInt(a, 10);
                return isNaN(a) ? y : a;
              };
              c = h(l[0]);
              l = Math.max(c, h(l[1] || ""));
              c = e ? Math.max(c, e.getFullYear()) : c;
              l = d ? Math.min(l, d.getFullYear()) : l;
              for (
                a.yearshtml +=
                  "\x3cselect class\x3d'ui-datepicker-year' data-handler\x3d'selectYear' data-event\x3d'change'\x3e";
                c <= l;
                c++
              )
                a.yearshtml +=
                  "\x3coption value\x3d'" +
                  c +
                  "'" +
                  (c === b ? " selected\x3d'selected'" : "") +
                  "\x3e" +
                  c +
                  "\x3c/option\x3e";
              a.yearshtml += "\x3c/select\x3e";
              u += a.yearshtml;
              a.yearshtml = null;
            }
          u += this._get(a, "yearSuffix");
          p && (u += (!f && q && k ? "" : "\x26#xa0;") + v);
          return u + "\x3c/div\x3e";
        },
        _adjustInstDate: function (a, c, b) {
          var e = a.drawYear + ("Y" === b ? c : 0),
            g = a.drawMonth + ("M" === b ? c : 0);
          c =
            Math.min(a.selectedDay, this._getDaysInMonth(e, g)) +
            ("D" === b ? c : 0);
          e = this._restrictMinMax(
            a,
            this._daylightSavingAdjust(new Date(e, g, c))
          );
          a.selectedDay = e.getDate();
          a.drawMonth = a.selectedMonth = e.getMonth();
          a.drawYear = a.selectedYear = e.getFullYear();
          ("M" !== b && "Y" !== b) || this._notifyChange(a);
        },
        _restrictMinMax: function (a, c) {
          var b = this._getMinMaxDate(a, "min");
          a = this._getMinMaxDate(a, "max");
          c = b && c < b ? b : c;
          return a && c > a ? a : c;
        },
        _notifyChange: function (a) {
          var c = this._get(a, "onChangeMonthYear");
          c &&
            c.apply(a.input ? a.input[0] : null, [
              a.selectedYear,
              a.selectedMonth + 1,
              a,
            ]);
        },
        _getNumberOfMonths: function (a) {
          a = this._get(a, "numberOfMonths");
          return null == a ? [1, 1] : "number" === typeof a ? [1, a] : a;
        },
        _getMinMaxDate: function (a, c) {
          return this._determineDate(a, this._get(a, c + "Date"), null);
        },
        _getDaysInMonth: function (a, c) {
          return 32 - this._daylightSavingAdjust(new Date(a, c, 32)).getDate();
        },
        _getFirstDayOfMonth: function (a, c) {
          return new Date(a, c, 1).getDay();
        },
        _canAdjustMonth: function (a, c, b, e) {
          var g = this._getNumberOfMonths(a);
          b = this._daylightSavingAdjust(
            new Date(b, e + (0 > c ? c : g[0] * g[1]), 1)
          );
          0 > c &&
            b.setDate(this._getDaysInMonth(b.getFullYear(), b.getMonth()));
          return this._isInRange(a, b);
        },
        _isInRange: function (a, c) {
          var b = this._getMinMaxDate(a, "min"),
            e = this._getMinMaxDate(a, "max"),
            d = null,
            f = null;
          if ((a = this._get(a, "yearRange"))) {
            a = a.split(":");
            var h = new Date().getFullYear();
            d = parseInt(a[0], 10);
            f = parseInt(a[1], 10);
            a[0].match(/[+\-].*/) && (d += h);
            a[1].match(/[+\-].*/) && (f += h);
          }
          return (
            (!b || c.getTime() >= b.getTime()) &&
            (!e || c.getTime() <= e.getTime()) &&
            (!d || c.getFullYear() >= d) &&
            (!f || c.getFullYear() <= f)
          );
        },
        _getFormatConfig: function (a) {
          var c = this._get(a, "shortYearCutoff");
          c =
            "string" !== typeof c
              ? c
              : (new Date().getFullYear() % 100) + parseInt(c, 10);
          return {
            shortYearCutoff: c,
            dayNamesShort: this._get(a, "dayNamesShort"),
            dayNames: this._get(a, "dayNames"),
            monthNamesShort: this._get(a, "monthNamesShort"),
            monthNames: this._get(a, "monthNames"),
          };
        },
        _formatDate: function (a, c, b, e) {
          c ||
            ((a.currentDay = a.selectedDay),
            (a.currentMonth = a.selectedMonth),
            (a.currentYear = a.selectedYear));
          c = c
            ? "object" === typeof c
              ? c
              : this._daylightSavingAdjust(new Date(e, b, c))
            : this._daylightSavingAdjust(
                new Date(a.currentYear, a.currentMonth, a.currentDay)
              );
          return this.formatDate(
            this._get(a, "dateFormat"),
            c,
            this._getFormatConfig(a)
          );
        },
      });
      b.fn.datepicker = function (a) {
        if (!this.length) return this;
        b.datepicker.initialized ||
          (b(document).mousedown(b.datepicker._checkExternalClick),
          (b.datepicker.initialized = !0));
        0 === b("#" + b.datepicker._mainDivId).length &&
          b("body").append(b.datepicker.dpDiv);
        var c = Array.prototype.slice.call(arguments, 1);
        return ("string" === typeof a &&
          ("isDisabled" === a || "getDate" === a || "widget" === a)) ||
          ("option" === a &&
            2 === arguments.length &&
            "string" === typeof arguments[1])
          ? b.datepicker["_" + a + "Datepicker"].apply(
              b.datepicker,
              [this[0]].concat(c)
            )
          : this.each(function () {
              "string" === typeof a
                ? b.datepicker["_" + a + "Datepicker"].apply(
                    b.datepicker,
                    [this].concat(c)
                  )
                : b.datepicker._attachDatepicker(this, a);
            });
      };
      b.datepicker = new h();
      b.datepicker.initialized = !1;
      b.datepicker.uuid = new Date().getTime();
      b.datepicker.version = "1.11.4";
      b.widget("ui.dialog", {
        version: "1.11.4",
        options: {
          appendTo: "body",
          autoOpen: !0,
          buttons: [],
          closeOnEscape: !0,
          closeText: "Close",
          dialogClass: "",
          draggable: !0,
          hide: null,
          height: "auto",
          maxHeight: null,
          maxWidth: null,
          minHeight: 150,
          minWidth: 150,
          modal: !1,
          position: {
            my: "center",
            at: "center",
            of: window,
            collision: "fit",
            using: function (a) {
              var c = b(this).css(a).offset().top;
              0 > c && b(this).css("top", a.top - c);
            },
          },
          resizable: !0,
          show: null,
          title: null,
          width: 300,
          beforeClose: null,
          close: null,
          drag: null,
          dragStart: null,
          dragStop: null,
          focus: null,
          open: null,
          resize: null,
          resizeStart: null,
          resizeStop: null,
        },
        sizeRelatedOptions: {
          buttons: !0,
          height: !0,
          maxHeight: !0,
          maxWidth: !0,
          minHeight: !0,
          minWidth: !0,
          width: !0,
        },
        resizableRelatedOptions: {
          maxHeight: !0,
          maxWidth: !0,
          minHeight: !0,
          minWidth: !0,
        },
        _create: function () {
          this.originalCss = {
            display: this.element[0].style.display,
            width: this.element[0].style.width,
            minHeight: this.element[0].style.minHeight,
            maxHeight: this.element[0].style.maxHeight,
            height: this.element[0].style.height,
          };
          this.originalPosition = {
            parent: this.element.parent(),
            index: this.element.parent().children().index(this.element),
          };
          this.originalTitle = this.element.attr("title");
          this.options.title = this.options.title || this.originalTitle;
          this._createWrapper();
          this.element
            .show()
            .removeAttr("title")
            .addClass("ui-dialog-content ui-widget-content")
            .appendTo(this.uiDialog);
          this._createTitlebar();
          this._createButtonPane();
          this.options.draggable && b.fn.draggable && this._makeDraggable();
          this.options.resizable && b.fn.resizable && this._makeResizable();
          this._isOpen = !1;
          this._trackFocus();
        },
        _init: function () {
          this.options.autoOpen && this.open();
        },
        _appendTo: function () {
          var a = this.options.appendTo;
          return a && (a.jquery || a.nodeType)
            ? b(a)
            : this.document.find(a || "body").eq(0);
        },
        _destroy: function () {
          var a = this.originalPosition;
          this._untrackInstance();
          this._destroyOverlay();
          this.element
            .removeUniqueId()
            .removeClass("ui-dialog-content ui-widget-content")
            .css(this.originalCss)
            .detach();
          this.uiDialog.stop(!0, !0).remove();
          this.originalTitle && this.element.attr("title", this.originalTitle);
          var c = a.parent.children().eq(a.index);
          c.length && c[0] !== this.element[0]
            ? c.before(this.element)
            : a.parent.append(this.element);
        },
        widget: function () {
          return this.uiDialog;
        },
        disable: b.noop,
        enable: b.noop,
        close: function (a) {
          var c,
            e = this;
          if (this._isOpen && !1 !== this._trigger("beforeClose", a)) {
            this._isOpen = !1;
            this._focusedElement = null;
            this._destroyOverlay();
            this._untrackInstance();
            if (!this.opener.filter(":focusable").focus().length)
              try {
                (c = this.document[0].activeElement) &&
                  "body" !== c.nodeName.toLowerCase() &&
                  b(c).blur();
              } catch (p) {}
            this._hide(this.uiDialog, this.options.hide, function () {
              e._trigger("close", a);
            });
          }
        },
        isOpen: function () {
          return this._isOpen;
        },
        moveToTop: function () {
          this._moveToTop();
        },
        _moveToTop: function (a, c) {
          var e = !1,
            d = this.uiDialog
              .siblings(".ui-front:visible")
              .map(function () {
                return +b(this).css("z-index");
              })
              .get();
          d = Math.max.apply(null, d);
          d >= +this.uiDialog.css("z-index") &&
            (this.uiDialog.css("z-index", d + 1), (e = !0));
          e && !c && this._trigger("focus", a);
          return e;
        },
        open: function () {
          var a = this;
          this._isOpen
            ? this._moveToTop() && this._focusTabbable()
            : ((this._isOpen = !0),
              (this.opener = b(this.document[0].activeElement)),
              this._size(),
              this._position(),
              this._createOverlay(),
              this._moveToTop(null, !0),
              this.overlay &&
                this.overlay.css("z-index", this.uiDialog.css("z-index") - 1),
              this._show(this.uiDialog, this.options.show, function () {
                a._focusTabbable();
                a._trigger("focus");
              }),
              this._makeFocusTarget(),
              this._trigger("open"));
        },
        _focusTabbable: function () {
          var a = this._focusedElement;
          a || (a = this.element.find("[autofocus]"));
          a.length || (a = this.element.find(":tabbable"));
          a.length || (a = this.uiDialogButtonPane.find(":tabbable"));
          a.length || (a = this.uiDialogTitlebarClose.filter(":tabbable"));
          a.length || (a = this.uiDialog);
          a.eq(0).focus();
        },
        _keepFocus: function (a) {
          function c() {
            var a = this.document[0].activeElement;
            this.uiDialog[0] === a ||
              b.contains(this.uiDialog[0], a) ||
              this._focusTabbable();
          }
          a.preventDefault();
          c.call(this);
          this._delay(c);
        },
        _createWrapper: function () {
          this.uiDialog = b("\x3cdiv\x3e")
            .addClass(
              "ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " +
                this.options.dialogClass
            )
            .hide()
            .attr({ tabIndex: -1, role: "dialog" })
            .appendTo(this._appendTo());
          this._on(this.uiDialog, {
            keydown: function (a) {
              if (
                this.options.closeOnEscape &&
                !a.isDefaultPrevented() &&
                a.keyCode &&
                a.keyCode === b.ui.keyCode.ESCAPE
              )
                a.preventDefault(), this.close(a);
              else if (
                a.keyCode === b.ui.keyCode.TAB &&
                !a.isDefaultPrevented()
              ) {
                var c = this.uiDialog.find(":tabbable"),
                  e = c.filter(":first"),
                  d = c.filter(":last");
                (a.target !== d[0] && a.target !== this.uiDialog[0]) ||
                a.shiftKey
                  ? (a.target !== e[0] && a.target !== this.uiDialog[0]) ||
                    !a.shiftKey ||
                    (this._delay(function () {
                      d.focus();
                    }),
                    a.preventDefault())
                  : (this._delay(function () {
                      e.focus();
                    }),
                    a.preventDefault());
              }
            },
            mousedown: function (a) {
              this._moveToTop(a) && this._focusTabbable();
            },
          });
          this.element.find("[aria-describedby]").length ||
            this.uiDialog.attr({
              "aria-describedby": this.element.uniqueId().attr("id"),
            });
        },
        _createTitlebar: function () {
          this.uiDialogTitlebar = b("\x3cdiv\x3e")
            .addClass(
              "ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"
            )
            .prependTo(this.uiDialog);
          this._on(this.uiDialogTitlebar, {
            mousedown: function (a) {
              b(a.target).closest(".ui-dialog-titlebar-close") ||
                this.uiDialog.focus();
            },
          });
          this.uiDialogTitlebarClose = b(
            "\x3cbutton type\x3d'button'\x3e\x3c/button\x3e"
          )
            .button({
              label: this.options.closeText,
              icons: { primary: "ui-icon-closethick" },
              text: !1,
            })
            .addClass("ui-dialog-titlebar-close")
            .appendTo(this.uiDialogTitlebar);
          this._on(this.uiDialogTitlebarClose, {
            click: function (a) {
              a.preventDefault();
              this.close(a);
            },
          });
          var a = b("\x3cspan\x3e")
            .uniqueId()
            .addClass("ui-dialog-title")
            .prependTo(this.uiDialogTitlebar);
          this._title(a);
          this.uiDialog.attr({ "aria-labelledby": a.attr("id") });
        },
        _title: function (a) {
          this.options.title || a.html("\x26#160;");
          a.text(this.options.title);
        },
        _createButtonPane: function () {
          this.uiDialogButtonPane = b("\x3cdiv\x3e").addClass(
            "ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"
          );
          this.uiButtonSet = b("\x3cdiv\x3e")
            .addClass("ui-dialog-buttonset")
            .appendTo(this.uiDialogButtonPane);
          this._createButtons();
        },
        _createButtons: function () {
          var a = this,
            c = this.options.buttons;
          this.uiDialogButtonPane.remove();
          this.uiButtonSet.empty();
          b.isEmptyObject(c) || (b.isArray(c) && !c.length)
            ? this.uiDialog.removeClass("ui-dialog-buttons")
            : (b.each(c, function (c, e) {
                e = b.isFunction(e) ? { click: e, text: c } : e;
                e = b.extend({ type: "button" }, e);
                var g = e.click;
                e.click = function () {
                  g.apply(a.element[0], arguments);
                };
                c = { icons: e.icons, text: e.showText };
                delete e.icons;
                delete e.showText;
                b("\x3cbutton\x3e\x3c/button\x3e", e)
                  .button(c)
                  .appendTo(a.uiButtonSet);
              }),
              this.uiDialog.addClass("ui-dialog-buttons"),
              this.uiDialogButtonPane.appendTo(this.uiDialog));
        },
        _makeDraggable: function () {
          function a(a) {
            return { position: a.position, offset: a.offset };
          }
          var c = this,
            e = this.options;
          this.uiDialog.draggable({
            cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
            handle: ".ui-dialog-titlebar",
            containment: "document",
            start: function (e, g) {
              b(this).addClass("ui-dialog-dragging");
              c._blockFrames();
              c._trigger("dragStart", e, a(g));
            },
            drag: function (b, e) {
              c._trigger("drag", b, a(e));
            },
            stop: function (g, d) {
              var f = d.offset.left - c.document.scrollLeft(),
                h = d.offset.top - c.document.scrollTop();
              e.position = {
                my: "left top",
                at:
                  "left" +
                  (0 <= f ? "+" : "") +
                  f +
                  " top" +
                  (0 <= h ? "+" : "") +
                  h,
                of: c.window,
              };
              b(this).removeClass("ui-dialog-dragging");
              c._unblockFrames();
              c._trigger("dragStop", g, a(d));
            },
          });
        },
        _makeResizable: function () {
          function a(a) {
            return {
              originalPosition: a.originalPosition,
              originalSize: a.originalSize,
              position: a.position,
              size: a.size,
            };
          }
          var c = this,
            e = this.options,
            d = e.resizable,
            f = this.uiDialog.css("position");
          d = "string" === typeof d ? d : "n,e,s,w,se,sw,ne,nw";
          this.uiDialog
            .resizable({
              cancel: ".ui-dialog-content",
              containment: "document",
              alsoResize: this.element,
              maxWidth: e.maxWidth,
              maxHeight: e.maxHeight,
              minWidth: e.minWidth,
              minHeight: this._minHeight(),
              handles: d,
              start: function (e, g) {
                b(this).addClass("ui-dialog-resizing");
                c._blockFrames();
                c._trigger("resizeStart", e, a(g));
              },
              resize: function (b, e) {
                c._trigger("resize", b, a(e));
              },
              stop: function (g, d) {
                var f = c.uiDialog.offset(),
                  h = f.left - c.document.scrollLeft();
                f = f.top - c.document.scrollTop();
                e.height = c.uiDialog.height();
                e.width = c.uiDialog.width();
                e.position = {
                  my: "left top",
                  at:
                    "left" +
                    (0 <= h ? "+" : "") +
                    h +
                    " top" +
                    (0 <= f ? "+" : "") +
                    f,
                  of: c.window,
                };
                b(this).removeClass("ui-dialog-resizing");
                c._unblockFrames();
                c._trigger("resizeStop", g, a(d));
              },
            })
            .css("position", f);
        },
        _trackFocus: function () {
          this._on(this.widget(), {
            focusin: function (a) {
              this._makeFocusTarget();
              this._focusedElement = b(a.target);
            },
          });
        },
        _makeFocusTarget: function () {
          this._untrackInstance();
          this._trackingInstances().unshift(this);
        },
        _untrackInstance: function () {
          var a = this._trackingInstances(),
            c = b.inArray(this, a);
          -1 !== c && a.splice(c, 1);
        },
        _trackingInstances: function () {
          var a = this.document.data("ui-dialog-instances");
          a || ((a = []), this.document.data("ui-dialog-instances", a));
          return a;
        },
        _minHeight: function () {
          var a = this.options;
          return "auto" === a.height
            ? a.minHeight
            : Math.min(a.minHeight, a.height);
        },
        _position: function () {
          var a = this.uiDialog.is(":visible");
          a || this.uiDialog.show();
          this.uiDialog.position(this.options.position);
          a || this.uiDialog.hide();
        },
        _setOptions: function (a) {
          var c = this,
            e = !1,
            d = {};
          b.each(a, function (a, b) {
            c._setOption(a, b);
            a in c.sizeRelatedOptions && (e = !0);
            a in c.resizableRelatedOptions && (d[a] = b);
          });
          e && (this._size(), this._position());
          this.uiDialog.is(":data(ui-resizable)") &&
            this.uiDialog.resizable("option", d);
        },
        _setOption: function (a, c) {
          var b,
            e = this.uiDialog;
          "dialogClass" === a &&
            e.removeClass(this.options.dialogClass).addClass(c);
          "disabled" !== a &&
            (this._super(a, c),
            "appendTo" === a && this.uiDialog.appendTo(this._appendTo()),
            "buttons" === a && this._createButtons(),
            "closeText" === a &&
              this.uiDialogTitlebarClose.button({ label: "" + c }),
            "draggable" === a &&
              ((b = e.is(":data(ui-draggable)")) &&
                !c &&
                e.draggable("destroy"),
              !b && c && this._makeDraggable()),
            "position" === a && this._position(),
            "resizable" === a &&
              ((b = e.is(":data(ui-resizable)")) &&
                !c &&
                e.resizable("destroy"),
              b && "string" === typeof c && e.resizable("option", "handles", c),
              b || !1 === c || this._makeResizable()),
            "title" === a &&
              this._title(this.uiDialogTitlebar.find(".ui-dialog-title")));
        },
        _size: function () {
          var a = this.options;
          this.element
            .show()
            .css({ width: "auto", minHeight: 0, maxHeight: "none", height: 0 });
          a.minWidth > a.width && (a.width = a.minWidth);
          var c = this.uiDialog
            .css({ height: "auto", width: a.width })
            .outerHeight();
          var b = Math.max(0, a.minHeight - c);
          var e =
            "number" === typeof a.maxHeight
              ? Math.max(0, a.maxHeight - c)
              : "none";
          "auto" === a.height
            ? this.element.css({ minHeight: b, maxHeight: e, height: "auto" })
            : this.element.height(Math.max(0, a.height - c));
          this.uiDialog.is(":data(ui-resizable)") &&
            this.uiDialog.resizable("option", "minHeight", this._minHeight());
        },
        _blockFrames: function () {
          this.iframeBlocks = this.document.find("iframe").map(function () {
            var a = b(this);
            return b("\x3cdiv\x3e")
              .css({
                position: "absolute",
                width: a.outerWidth(),
                height: a.outerHeight(),
              })
              .appendTo(a.parent())
              .offset(a.offset())[0];
          });
        },
        _unblockFrames: function () {
          this.iframeBlocks &&
            (this.iframeBlocks.remove(), delete this.iframeBlocks);
        },
        _allowInteraction: function (a) {
          return b(a.target).closest(".ui-dialog").length
            ? !0
            : !!b(a.target).closest(".ui-datepicker").length;
        },
        _createOverlay: function () {
          if (this.options.modal) {
            var a = !0;
            this._delay(function () {
              a = !1;
            });
            this.document.data("ui-dialog-overlays") ||
              this._on(this.document, {
                focusin: function (c) {
                  a ||
                    this._allowInteraction(c) ||
                    (c.preventDefault(),
                    this._trackingInstances()[0]._focusTabbable());
                },
              });
            this.overlay = b("\x3cdiv\x3e")
              .addClass("ui-widget-overlay ui-front")
              .appendTo(this._appendTo());
            this._on(this.overlay, { mousedown: "_keepFocus" });
            this.document.data(
              "ui-dialog-overlays",
              (this.document.data("ui-dialog-overlays") || 0) + 1
            );
          }
        },
        _destroyOverlay: function () {
          if (this.options.modal && this.overlay) {
            var a = this.document.data("ui-dialog-overlays") - 1;
            a
              ? this.document.data("ui-dialog-overlays", a)
              : this.document
                  .unbind("focusin")
                  .removeData("ui-dialog-overlays");
            this.overlay.remove();
            this.overlay = null;
          }
        },
      });
      b.widget("ui.progressbar", {
        version: "1.11.4",
        options: { max: 100, value: 0, change: null, complete: null },
        min: 0,
        _create: function () {
          this.oldValue = this.options.value = this._constrainedValue();
          this.element
            .addClass(
              "ui-progressbar ui-widget ui-widget-content ui-corner-all"
            )
            .attr({ role: "progressbar", "aria-valuemin": this.min });
          this.valueDiv = b(
            "\x3cdiv class\x3d'ui-progressbar-value ui-widget-header ui-corner-left'\x3e\x3c/div\x3e"
          ).appendTo(this.element);
          this._refreshValue();
        },
        _destroy: function () {
          this.element
            .removeClass(
              "ui-progressbar ui-widget ui-widget-content ui-corner-all"
            )
            .removeAttr("role")
            .removeAttr("aria-valuemin")
            .removeAttr("aria-valuemax")
            .removeAttr("aria-valuenow");
          this.valueDiv.remove();
        },
        value: function (a) {
          if (void 0 === a) return this.options.value;
          this.options.value = this._constrainedValue(a);
          this._refreshValue();
        },
        _constrainedValue: function (a) {
          void 0 === a && (a = this.options.value);
          this.indeterminate = !1 === a;
          "number" !== typeof a && (a = 0);
          return this.indeterminate
            ? !1
            : Math.min(this.options.max, Math.max(this.min, a));
        },
        _setOptions: function (a) {
          var c = a.value;
          delete a.value;
          this._super(a);
          this.options.value = this._constrainedValue(c);
          this._refreshValue();
        },
        _setOption: function (a, c) {
          "max" === a && (c = Math.max(this.min, c));
          "disabled" === a &&
            this.element
              .toggleClass("ui-state-disabled", !!c)
              .attr("aria-disabled", c);
          this._super(a, c);
        },
        _percentage: function () {
          return this.indeterminate
            ? 100
            : (100 * (this.options.value - this.min)) /
                (this.options.max - this.min);
        },
        _refreshValue: function () {
          var a = this.options.value,
            c = this._percentage();
          this.valueDiv
            .toggle(this.indeterminate || a > this.min)
            .toggleClass("ui-corner-right", a === this.options.max)
            .width(c.toFixed(0) + "%");
          this.element.toggleClass(
            "ui-progressbar-indeterminate",
            this.indeterminate
          );
          this.indeterminate
            ? (this.element.removeAttr("aria-valuenow"),
              this.overlayDiv ||
                (this.overlayDiv = b(
                  "\x3cdiv class\x3d'ui-progressbar-overlay'\x3e\x3c/div\x3e"
                ).appendTo(this.valueDiv)))
            : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": a,
              }),
              this.overlayDiv &&
                (this.overlayDiv.remove(), (this.overlayDiv = null)));
          this.oldValue !== a && ((this.oldValue = a), this._trigger("change"));
          a === this.options.max && this._trigger("complete");
        },
      });
      b.widget("ui.selectmenu", {
        version: "1.11.4",
        defaultElement: "\x3cselect\x3e",
        options: {
          appendTo: null,
          disabled: null,
          icons: { button: "ui-icon-triangle-1-s" },
          position: { my: "left top", at: "left bottom", collision: "none" },
          width: null,
          change: null,
          close: null,
          focus: null,
          open: null,
          select: null,
        },
        _create: function () {
          var a = this.element.uniqueId().attr("id");
          this.ids = { element: a, button: a + "-button", menu: a + "-menu" };
          this._drawButton();
          this._drawMenu();
          this.options.disabled && this.disable();
        },
        _drawButton: function () {
          var a = this;
          this.label = b("label[for\x3d'" + this.ids.element + "']").attr(
            "for",
            this.ids.button
          );
          this._on(this.label, {
            click: function (a) {
              this.button.focus();
              a.preventDefault();
            },
          });
          this.element.hide();
          this.button = b("\x3cspan\x3e", {
            class:
              "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
            tabindex: this.options.disabled ? -1 : 0,
            id: this.ids.button,
            role: "combobox",
            "aria-expanded": "false",
            "aria-autocomplete": "list",
            "aria-owns": this.ids.menu,
            "aria-haspopup": "true",
          }).insertAfter(this.element);
          b("\x3cspan\x3e", {
            class: "ui-icon " + this.options.icons.button,
          }).prependTo(this.button);
          this.buttonText = b("\x3cspan\x3e", {
            class: "ui-selectmenu-text",
          }).appendTo(this.button);
          this._setText(
            this.buttonText,
            this.element.find("option:selected").text()
          );
          this._resizeButton();
          this._on(this.button, this._buttonEvents);
          this.button.one("focusin", function () {
            a.menuItems || a._refreshMenu();
          });
          this._hoverable(this.button);
          this._focusable(this.button);
        },
        _drawMenu: function () {
          var a = this;
          this.menu = b("\x3cul\x3e", {
            "aria-hidden": "true",
            "aria-labelledby": this.ids.button,
            id: this.ids.menu,
          });
          this.menuWrap = b("\x3cdiv\x3e", {
            class: "ui-selectmenu-menu ui-front",
          })
            .append(this.menu)
            .appendTo(this._appendTo());
          this.menuInstance = this.menu
            .menu({
              role: "listbox",
              select: function (c, b) {
                c.preventDefault();
                a._setSelection();
                a._select(b.item.data("ui-selectmenu-item"), c);
              },
              focus: function (c, b) {
                b = b.item.data("ui-selectmenu-item");
                null != a.focusIndex &&
                  b.index !== a.focusIndex &&
                  (a._trigger("focus", c, { item: b }),
                  a.isOpen || a._select(b, c));
                a.focusIndex = b.index;
                a.button.attr(
                  "aria-activedescendant",
                  a.menuItems.eq(b.index).attr("id")
                );
              },
            })
            .menu("instance");
          this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all");
          this.menuInstance._off(this.menu, "mouseleave");
          this.menuInstance._closeOnDocumentClick = function () {
            return !1;
          };
          this.menuInstance._isDivider = function () {
            return !1;
          };
        },
        refresh: function () {
          this._refreshMenu();
          this._setText(this.buttonText, this._getSelectedItem().text());
          this.options.width || this._resizeButton();
        },
        _refreshMenu: function () {
          this.menu.empty();
          var a = this.element.find("option");
          a.length &&
            (this._parseOptions(a),
            this._renderMenu(this.menu, this.items),
            this.menuInstance.refresh(),
            (this.menuItems = this.menu
              .find("li")
              .not(".ui-selectmenu-optgroup")),
            (a = this._getSelectedItem()),
            this.menuInstance.focus(null, a),
            this._setAria(a.data("ui-selectmenu-item")),
            this._setOption("disabled", this.element.prop("disabled")));
        },
        open: function (a) {
          this.options.disabled ||
            (this.menuItems
              ? (this.menu
                  .find(".ui-state-focus")
                  .removeClass("ui-state-focus"),
                this.menuInstance.focus(null, this._getSelectedItem()))
              : this._refreshMenu(),
            (this.isOpen = !0),
            this._toggleAttr(),
            this._resizeMenu(),
            this._position(),
            this._on(this.document, this._documentClick),
            this._trigger("open", a));
        },
        _position: function () {
          this.menuWrap.position(
            b.extend({ of: this.button }, this.options.position)
          );
        },
        close: function (a) {
          this.isOpen &&
            ((this.isOpen = !1),
            this._toggleAttr(),
            (this.range = null),
            this._off(this.document),
            this._trigger("close", a));
        },
        widget: function () {
          return this.button;
        },
        menuWidget: function () {
          return this.menu;
        },
        _renderMenu: function (a, c) {
          var e = this,
            d = "";
          b.each(c, function (c, g) {
            g.optgroup !== d &&
              (b("\x3cli\x3e", {
                class:
                  "ui-selectmenu-optgroup ui-menu-divider" +
                  (g.element.parent("optgroup").prop("disabled")
                    ? " ui-state-disabled"
                    : ""),
                text: g.optgroup,
              }).appendTo(a),
              (d = g.optgroup));
            e._renderItemData(a, g);
          });
        },
        _renderItemData: function (a, c) {
          return this._renderItem(a, c).data("ui-selectmenu-item", c);
        },
        _renderItem: function (a, c) {
          var e = b("\x3cli\x3e");
          c.disabled && e.addClass("ui-state-disabled");
          this._setText(e, c.label);
          return e.appendTo(a);
        },
        _setText: function (a, c) {
          c ? a.text(c) : a.html("\x26#160;");
        },
        _move: function (a, c) {
          var b = ".ui-menu-item";
          if (this.isOpen) var e = this.menuItems.eq(this.focusIndex);
          else
            (e = this.menuItems.eq(this.element[0].selectedIndex)),
              (b += ":not(.ui-state-disabled)");
          a =
            "first" === a || "last" === a
              ? e["first" === a ? "prevAll" : "nextAll"](b).eq(-1)
              : e[a + "All"](b).eq(0);
          a.length && this.menuInstance.focus(c, a);
        },
        _getSelectedItem: function () {
          return this.menuItems.eq(this.element[0].selectedIndex);
        },
        _toggle: function (a) {
          this[this.isOpen ? "close" : "open"](a);
        },
        _setSelection: function () {
          if (this.range) {
            if (window.getSelection) {
              var a = window.getSelection();
              a.removeAllRanges();
              a.addRange(this.range);
            } else this.range.select();
            this.button.focus();
          }
        },
        _documentClick: {
          mousedown: function (a) {
            this.isOpen &&
              (b(a.target).closest(".ui-selectmenu-menu, #" + this.ids.button)
                .length ||
                this.close(a));
          },
        },
        _buttonEvents: {
          mousedown: function () {
            if (window.getSelection) {
              var a = window.getSelection();
              a.rangeCount && (this.range = a.getRangeAt(0));
            } else this.range = document.selection.createRange();
          },
          click: function (a) {
            this._setSelection();
            this._toggle(a);
          },
          keydown: function (a) {
            var c = !0;
            switch (a.keyCode) {
              case b.ui.keyCode.TAB:
              case b.ui.keyCode.ESCAPE:
                this.close(a);
                c = !1;
                break;
              case b.ui.keyCode.ENTER:
                this.isOpen && this._selectFocusedItem(a);
                break;
              case b.ui.keyCode.UP:
                a.altKey ? this._toggle(a) : this._move("prev", a);
                break;
              case b.ui.keyCode.DOWN:
                a.altKey ? this._toggle(a) : this._move("next", a);
                break;
              case b.ui.keyCode.SPACE:
                this.isOpen ? this._selectFocusedItem(a) : this._toggle(a);
                break;
              case b.ui.keyCode.LEFT:
                this._move("prev", a);
                break;
              case b.ui.keyCode.RIGHT:
                this._move("next", a);
                break;
              case b.ui.keyCode.HOME:
              case b.ui.keyCode.PAGE_UP:
                this._move("first", a);
                break;
              case b.ui.keyCode.END:
              case b.ui.keyCode.PAGE_DOWN:
                this._move("last", a);
                break;
              default:
                this.menu.trigger(a), (c = !1);
            }
            c && a.preventDefault();
          },
        },
        _selectFocusedItem: function (a) {
          var c = this.menuItems.eq(this.focusIndex);
          c.hasClass("ui-state-disabled") ||
            this._select(c.data("ui-selectmenu-item"), a);
        },
        _select: function (a, c) {
          var b = this.element[0].selectedIndex;
          this.element[0].selectedIndex = a.index;
          this._setText(this.buttonText, a.label);
          this._setAria(a);
          this._trigger("select", c, { item: a });
          a.index !== b && this._trigger("change", c, { item: a });
          this.close(c);
        },
        _setAria: function (a) {
          a = this.menuItems.eq(a.index).attr("id");
          this.button.attr({
            "aria-labelledby": a,
            "aria-activedescendant": a,
          });
          this.menu.attr("aria-activedescendant", a);
        },
        _setOption: function (a, c) {
          "icons" === a &&
            this.button
              .find("span.ui-icon")
              .removeClass(this.options.icons.button)
              .addClass(c.button);
          this._super(a, c);
          "appendTo" === a && this.menuWrap.appendTo(this._appendTo());
          "disabled" === a &&
            (this.menuInstance.option("disabled", c),
            this.button
              .toggleClass("ui-state-disabled", c)
              .attr("aria-disabled", c),
            this.element.prop("disabled", c),
            c
              ? (this.button.attr("tabindex", -1), this.close())
              : this.button.attr("tabindex", 0));
          "width" === a && this._resizeButton();
        },
        _appendTo: function () {
          var a = this.options.appendTo;
          a &&
            (a = a.jquery || a.nodeType ? b(a) : this.document.find(a).eq(0));
          (a && a[0]) || (a = this.element.closest(".ui-front"));
          a.length || (a = this.document[0].body);
          return a;
        },
        _toggleAttr: function () {
          this.button
            .toggleClass("ui-corner-top", this.isOpen)
            .toggleClass("ui-corner-all", !this.isOpen)
            .attr("aria-expanded", this.isOpen);
          this.menuWrap.toggleClass("ui-selectmenu-open", this.isOpen);
          this.menu.attr("aria-hidden", !this.isOpen);
        },
        _resizeButton: function () {
          var a = this.options.width;
          a || ((a = this.element.show().outerWidth()), this.element.hide());
          this.button.outerWidth(a);
        },
        _resizeMenu: function () {
          this.menu.outerWidth(
            Math.max(
              this.button.outerWidth(),
              this.menu.width("").outerWidth() + 1
            )
          );
        },
        _getCreateOptions: function () {
          return { disabled: this.element.prop("disabled") };
        },
        _parseOptions: function (a) {
          var c = [];
          a.each(function (a, e) {
            e = b(e);
            var g = e.parent("optgroup");
            c.push({
              element: e,
              index: a,
              value: e.val(),
              label: e.text(),
              optgroup: g.attr("label") || "",
              disabled: g.prop("disabled") || e.prop("disabled"),
            });
          });
          this.items = c;
        },
        _destroy: function () {
          this.menuWrap.remove();
          this.button.remove();
          this.element.show();
          this.element.removeUniqueId();
          this.label.attr("for", this.ids.element);
        },
      });
      b.widget("ui.slider", b.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "slide",
        options: {
          animate: !1,
          distance: 0,
          max: 100,
          min: 0,
          orientation: "horizontal",
          range: !1,
          step: 1,
          value: 0,
          values: null,
          change: null,
          slide: null,
          start: null,
          stop: null,
        },
        numPages: 5,
        _create: function () {
          this._mouseSliding = this._keySliding = !1;
          this._animateOff = !0;
          this._handleIndex = null;
          this._detectOrientation();
          this._mouseInit();
          this._calculateNewMax();
          this.element.addClass(
            "ui-slider ui-slider-" +
              this.orientation +
              " ui-widget ui-widget-content ui-corner-all"
          );
          this._refresh();
          this._setOption("disabled", this.options.disabled);
          this._animateOff = !1;
        },
        _refresh: function () {
          this._createRange();
          this._createHandles();
          this._setupEvents();
          this._refreshValue();
        },
        _createHandles: function () {
          var a = this.options;
          var c = this.element
              .find(".ui-slider-handle")
              .addClass("ui-state-default ui-corner-all"),
            e = [];
          var d = (a.values && a.values.length) || 1;
          c.length > d && (c.slice(d).remove(), (c = c.slice(0, d)));
          for (a = c.length; a < d; a++)
            e.push(
              "\x3cspan class\x3d'ui-slider-handle ui-state-default ui-corner-all' tabindex\x3d'0'\x3e\x3c/span\x3e"
            );
          this.handles = c.add(b(e.join("")).appendTo(this.element));
          this.handle = this.handles.eq(0);
          this.handles.each(function (a) {
            b(this).data("ui-slider-handle-index", a);
          });
        },
        _createRange: function () {
          var a = this.options,
            c = "";
          a.range
            ? (!0 === a.range &&
                (a.values
                  ? a.values.length && 2 !== a.values.length
                    ? (a.values = [a.values[0], a.values[0]])
                    : b.isArray(a.values) && (a.values = a.values.slice(0))
                  : (a.values = [this._valueMin(), this._valueMin()])),
              this.range && this.range.length
                ? this.range
                    .removeClass("ui-slider-range-min ui-slider-range-max")
                    .css({ left: "", bottom: "" })
                : ((this.range = b("\x3cdiv\x3e\x3c/div\x3e").appendTo(
                    this.element
                  )),
                  (c = "ui-slider-range ui-widget-header ui-corner-all")),
              this.range.addClass(
                c +
                  ("min" === a.range || "max" === a.range
                    ? " ui-slider-range-" + a.range
                    : "")
              ))
            : (this.range && this.range.remove(), (this.range = null));
        },
        _setupEvents: function () {
          this._off(this.handles);
          this._on(this.handles, this._handleEvents);
          this._hoverable(this.handles);
          this._focusable(this.handles);
        },
        _destroy: function () {
          this.handles.remove();
          this.range && this.range.remove();
          this.element.removeClass(
            "ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"
          );
          this._mouseDestroy();
        },
        _mouseCapture: function (a) {
          var c,
            e,
            d = this,
            f = this.options;
          if (f.disabled) return !1;
          this.elementSize = {
            width: this.element.outerWidth(),
            height: this.element.outerHeight(),
          };
          this.elementOffset = this.element.offset();
          var h = this._normValueFromMouse({ x: a.pageX, y: a.pageY });
          var l = this._valueMax() - this._valueMin() + 1;
          this.handles.each(function (a) {
            var g = Math.abs(h - d.values(a));
            if (
              l > g ||
              (l === g && (a === d._lastChangedValue || d.values(a) === f.min))
            )
              (l = g), (c = b(this)), (e = a);
          });
          if (!1 === this._start(a, e)) return !1;
          this._mouseSliding = !0;
          this._handleIndex = e;
          c.addClass("ui-state-active").focus();
          var q = c.offset();
          this._clickOffset = b(a.target)
            .parents()
            .addBack()
            .is(".ui-slider-handle")
            ? {
                left: a.pageX - q.left - c.width() / 2,
                top:
                  a.pageY -
                  q.top -
                  c.height() / 2 -
                  (parseInt(c.css("borderTopWidth"), 10) || 0) -
                  (parseInt(c.css("borderBottomWidth"), 10) || 0) +
                  (parseInt(c.css("marginTop"), 10) || 0),
              }
            : { left: 0, top: 0 };
          this.handles.hasClass("ui-state-hover") || this._slide(a, e, h);
          return (this._animateOff = !0);
        },
        _mouseStart: function () {
          return !0;
        },
        _mouseDrag: function (a) {
          var c = this._normValueFromMouse({ x: a.pageX, y: a.pageY });
          this._slide(a, this._handleIndex, c);
          return !1;
        },
        _mouseStop: function (a) {
          this.handles.removeClass("ui-state-active");
          this._mouseSliding = !1;
          this._stop(a, this._handleIndex);
          this._change(a, this._handleIndex);
          this._clickOffset = this._handleIndex = null;
          return (this._animateOff = !1);
        },
        _detectOrientation: function () {
          this.orientation =
            "vertical" === this.options.orientation ? "vertical" : "horizontal";
        },
        _normValueFromMouse: function (a) {
          if ("horizontal" === this.orientation) {
            var c = this.elementSize.width;
            a =
              a.x -
              this.elementOffset.left -
              (this._clickOffset ? this._clickOffset.left : 0);
          } else
            (c = this.elementSize.height),
              (a =
                a.y -
                this.elementOffset.top -
                (this._clickOffset ? this._clickOffset.top : 0));
          c = a / c;
          1 < c && (c = 1);
          0 > c && (c = 0);
          "vertical" === this.orientation && (c = 1 - c);
          a = this._valueMax() - this._valueMin();
          c = this._valueMin() + c * a;
          return this._trimAlignValue(c);
        },
        _start: function (a, c) {
          var b = { handle: this.handles[c], value: this.value() };
          this.options.values &&
            this.options.values.length &&
            ((b.value = this.values(c)), (b.values = this.values()));
          return this._trigger("start", a, b);
        },
        _slide: function (a, c, b) {
          if (this.options.values && this.options.values.length) {
            var e = this.values(c ? 0 : 1);
            2 === this.options.values.length &&
              !0 === this.options.range &&
              ((0 === c && b > e) || (1 === c && b < e)) &&
              (b = e);
            b !== this.values(c) &&
              ((e = this.values()),
              (e[c] = b),
              (a = this._trigger("slide", a, {
                handle: this.handles[c],
                value: b,
                values: e,
              })),
              this.values(c ? 0 : 1),
              !1 !== a && this.values(c, b));
          } else
            b !== this.value() &&
              ((a = this._trigger("slide", a, {
                handle: this.handles[c],
                value: b,
              })),
              !1 !== a && this.value(b));
        },
        _stop: function (a, c) {
          var b = { handle: this.handles[c], value: this.value() };
          this.options.values &&
            this.options.values.length &&
            ((b.value = this.values(c)), (b.values = this.values()));
          this._trigger("stop", a, b);
        },
        _change: function (a, c) {
          if (!this._keySliding && !this._mouseSliding) {
            var b = { handle: this.handles[c], value: this.value() };
            this.options.values &&
              this.options.values.length &&
              ((b.value = this.values(c)), (b.values = this.values()));
            this._lastChangedValue = c;
            this._trigger("change", a, b);
          }
        },
        value: function (a) {
          if (arguments.length)
            (this.options.value = this._trimAlignValue(a)),
              this._refreshValue(),
              this._change(null, 0);
          else return this._value();
        },
        values: function (a, c) {
          var e;
          if (1 < arguments.length)
            (this.options.values[a] = this._trimAlignValue(c)),
              this._refreshValue(),
              this._change(null, a);
          else if (arguments.length)
            if (b.isArray(arguments[0])) {
              var d = this.options.values;
              var f = arguments[0];
              for (e = 0; e < d.length; e += 1)
                (d[e] = this._trimAlignValue(f[e])), this._change(null, e);
              this._refreshValue();
            } else
              return this.options.values && this.options.values.length
                ? this._values(a)
                : this.value();
          else return this._values();
        },
        _setOption: function (a, c) {
          var e = 0;
          "range" === a &&
            !0 === this.options.range &&
            ("min" === c
              ? ((this.options.value = this._values(0)),
                (this.options.values = null))
              : "max" === c &&
                ((this.options.value = this._values(
                  this.options.values.length - 1
                )),
                (this.options.values = null)));
          b.isArray(this.options.values) && (e = this.options.values.length);
          "disabled" === a &&
            this.element.toggleClass("ui-state-disabled", !!c);
          this._super(a, c);
          switch (a) {
            case "orientation":
              this._detectOrientation();
              this.element
                .removeClass("ui-slider-horizontal ui-slider-vertical")
                .addClass("ui-slider-" + this.orientation);
              this._refreshValue();
              this.handles.css("horizontal" === c ? "bottom" : "left", "");
              break;
            case "value":
              this._animateOff = !0;
              this._refreshValue();
              this._change(null, 0);
              this._animateOff = !1;
              break;
            case "values":
              this._animateOff = !0;
              this._refreshValue();
              for (a = 0; a < e; a += 1) this._change(null, a);
              this._animateOff = !1;
              break;
            case "step":
            case "min":
            case "max":
              this._animateOff = !0;
              this._calculateNewMax();
              this._refreshValue();
              this._animateOff = !1;
              break;
            case "range":
              (this._animateOff = !0), this._refresh(), (this._animateOff = !1);
          }
        },
        _value: function () {
          var a = this.options.value;
          return (a = this._trimAlignValue(a));
        },
        _values: function (a) {
          var c;
          if (arguments.length) {
            var b = this.options.values[a];
            return (b = this._trimAlignValue(b));
          }
          if (this.options.values && this.options.values.length) {
            b = this.options.values.slice();
            for (c = 0; c < b.length; c += 1) b[c] = this._trimAlignValue(b[c]);
            return b;
          }
          return [];
        },
        _trimAlignValue: function (a) {
          if (a <= this._valueMin()) return this._valueMin();
          if (a >= this._valueMax()) return this._valueMax();
          var c = 0 < this.options.step ? this.options.step : 1,
            b = (a - this._valueMin()) % c;
          a -= b;
          2 * Math.abs(b) >= c && (a += 0 < b ? c : -c);
          return parseFloat(a.toFixed(5));
        },
        _calculateNewMax: function () {
          var a = this.options.max,
            c = this._valueMin(),
            b = this.options.step;
          a = Math.floor(+(a - c).toFixed(this._precision()) / b) * b;
          this.max = parseFloat((a + c).toFixed(this._precision()));
        },
        _precision: function () {
          var a = this._precisionOf(this.options.step);
          null !== this.options.min &&
            (a = Math.max(a, this._precisionOf(this.options.min)));
          return a;
        },
        _precisionOf: function (a) {
          a = a.toString();
          var c = a.indexOf(".");
          return -1 === c ? 0 : a.length - c - 1;
        },
        _valueMin: function () {
          return this.options.min;
        },
        _valueMax: function () {
          return this.max;
        },
        _refreshValue: function () {
          var a,
            c = this.options.range,
            e = this.options,
            d = this,
            f = this._animateOff ? !1 : e.animate,
            h = {};
          if (this.options.values && this.options.values.length)
            this.handles.each(function (c) {
              u =
                ((d.values(c) - d._valueMin()) /
                  (d._valueMax() - d._valueMin())) *
                100;
              h["horizontal" === d.orientation ? "left" : "bottom"] = u + "%";
              b(this).stop(1, 1)[f ? "animate" : "css"](h, e.animate);
              if (!0 === d.options.range)
                if ("horizontal" === d.orientation) {
                  if (0 === c)
                    d.range
                      .stop(1, 1)
                      [f ? "animate" : "css"]({ left: u + "%" }, e.animate);
                  if (1 === c)
                    d.range[f ? "animate" : "css"](
                      { width: u - a + "%" },
                      { queue: !1, duration: e.animate }
                    );
                } else {
                  if (0 === c)
                    d.range
                      .stop(1, 1)
                      [f ? "animate" : "css"]({ bottom: u + "%" }, e.animate);
                  if (1 === c)
                    d.range[f ? "animate" : "css"](
                      { height: u - a + "%" },
                      { queue: !1, duration: e.animate }
                    );
                }
              a = u;
            });
          else {
            var l = this.value();
            var q = this._valueMin();
            var k = this._valueMax();
            var u = k !== q ? ((l - q) / (k - q)) * 100 : 0;
            h["horizontal" === this.orientation ? "left" : "bottom"] = u + "%";
            this.handle.stop(1, 1)[f ? "animate" : "css"](h, e.animate);
            if ("min" === c && "horizontal" === this.orientation)
              this.range
                .stop(1, 1)
                [f ? "animate" : "css"]({ width: u + "%" }, e.animate);
            if ("max" === c && "horizontal" === this.orientation)
              this.range[f ? "animate" : "css"](
                { width: 100 - u + "%" },
                { queue: !1, duration: e.animate }
              );
            if ("min" === c && "vertical" === this.orientation)
              this.range
                .stop(1, 1)
                [f ? "animate" : "css"]({ height: u + "%" }, e.animate);
            if ("max" === c && "vertical" === this.orientation)
              this.range[f ? "animate" : "css"](
                { height: 100 - u + "%" },
                { queue: !1, duration: e.animate }
              );
          }
        },
        _handleEvents: {
          keydown: function (a) {
            var c,
              e = b(a.target).data("ui-slider-handle-index");
            switch (a.keyCode) {
              case b.ui.keyCode.HOME:
              case b.ui.keyCode.END:
              case b.ui.keyCode.PAGE_UP:
              case b.ui.keyCode.PAGE_DOWN:
              case b.ui.keyCode.UP:
              case b.ui.keyCode.RIGHT:
              case b.ui.keyCode.DOWN:
              case b.ui.keyCode.LEFT:
                if ((a.preventDefault(), !this._keySliding)) {
                  this._keySliding = !0;
                  b(a.target).addClass("ui-state-active");
                  var d = this._start(a, e);
                  if (!1 === d) return;
                }
            }
            var f = this.options.step;
            d =
              this.options.values && this.options.values.length
                ? (c = this.values(e))
                : (c = this.value());
            switch (a.keyCode) {
              case b.ui.keyCode.HOME:
                c = this._valueMin();
                break;
              case b.ui.keyCode.END:
                c = this._valueMax();
                break;
              case b.ui.keyCode.PAGE_UP:
                c = this._trimAlignValue(
                  d + (this._valueMax() - this._valueMin()) / this.numPages
                );
                break;
              case b.ui.keyCode.PAGE_DOWN:
                c = this._trimAlignValue(
                  d - (this._valueMax() - this._valueMin()) / this.numPages
                );
                break;
              case b.ui.keyCode.UP:
              case b.ui.keyCode.RIGHT:
                if (d === this._valueMax()) return;
                c = this._trimAlignValue(d + f);
                break;
              case b.ui.keyCode.DOWN:
              case b.ui.keyCode.LEFT:
                if (d === this._valueMin()) return;
                c = this._trimAlignValue(d - f);
            }
            this._slide(a, e, c);
          },
          keyup: function (a) {
            var c = b(a.target).data("ui-slider-handle-index");
            this._keySliding &&
              ((this._keySliding = !1),
              this._stop(a, c),
              this._change(a, c),
              b(a.target).removeClass("ui-state-active"));
          },
        },
      });
      b.widget("ui.spinner", {
        version: "1.11.4",
        defaultElement: "\x3cinput\x3e",
        widgetEventPrefix: "spin",
        options: {
          culture: null,
          icons: { down: "ui-icon-triangle-1-s", up: "ui-icon-triangle-1-n" },
          incremental: !0,
          max: null,
          min: null,
          numberFormat: null,
          page: 10,
          step: 1,
          change: null,
          spin: null,
          start: null,
          stop: null,
        },
        _create: function () {
          this._setOption("max", this.options.max);
          this._setOption("min", this.options.min);
          this._setOption("step", this.options.step);
          "" !== this.value() && this._value(this.element.val(), !0);
          this._draw();
          this._on(this._events);
          this._refresh();
          this._on(this.window, {
            beforeunload: function () {
              this.element.removeAttr("autocomplete");
            },
          });
        },
        _getCreateOptions: function () {
          var a = {},
            c = this.element;
          b.each(["min", "max", "step"], function (b, e) {
            b = c.attr(e);
            void 0 !== b && b.length && (a[e] = b);
          });
          return a;
        },
        _events: {
          keydown: function (a) {
            this._start(a) && this._keydown(a) && a.preventDefault();
          },
          keyup: "_stop",
          focus: function () {
            this.previous = this.element.val();
          },
          blur: function (a) {
            this.cancelBlur
              ? delete this.cancelBlur
              : (this._stop(),
                this._refresh(),
                this.previous !== this.element.val() &&
                  this._trigger("change", a));
          },
          mousewheel: function (a, c) {
            if (c) {
              if (!this.spinning && !this._start(a)) return !1;
              this._spin((0 < c ? 1 : -1) * this.options.step, a);
              clearTimeout(this.mousewheelTimer);
              this.mousewheelTimer = this._delay(function () {
                this.spinning && this._stop(a);
              }, 100);
              a.preventDefault();
            }
          },
          "mousedown .ui-spinner-button": function (a) {
            function c() {
              this.element[0] !== this.document[0].activeElement &&
                (this.element.focus(),
                (this.previous = e),
                this._delay(function () {
                  this.previous = e;
                }));
            }
            var e =
              this.element[0] === this.document[0].activeElement
                ? this.previous
                : this.element.val();
            a.preventDefault();
            c.call(this);
            this.cancelBlur = !0;
            this._delay(function () {
              delete this.cancelBlur;
              c.call(this);
            });
            !1 !== this._start(a) &&
              this._repeat(
                null,
                b(a.currentTarget).hasClass("ui-spinner-up") ? 1 : -1,
                a
              );
          },
          "mouseup .ui-spinner-button": "_stop",
          "mouseenter .ui-spinner-button": function (a) {
            if (b(a.currentTarget).hasClass("ui-state-active")) {
              if (!1 === this._start(a)) return !1;
              this._repeat(
                null,
                b(a.currentTarget).hasClass("ui-spinner-up") ? 1 : -1,
                a
              );
            }
          },
          "mouseleave .ui-spinner-button": "_stop",
        },
        _draw: function () {
          var a = (this.uiSpinner = this.element
            .addClass("ui-spinner-input")
            .attr("autocomplete", "off")
            .wrap(this._uiSpinnerHtml())
            .parent()
            .append(this._buttonHtml()));
          this.element.attr("role", "spinbutton");
          this.buttons = a
            .find(".ui-spinner-button")
            .attr("tabIndex", -1)
            .button()
            .removeClass("ui-corner-all");
          this.buttons.height() > Math.ceil(0.5 * a.height()) &&
            0 < a.height() &&
            a.height(a.height());
          this.options.disabled && this.disable();
        },
        _keydown: function (a) {
          var c = this.options,
            e = b.ui.keyCode;
          switch (a.keyCode) {
            case e.UP:
              return this._repeat(null, 1, a), !0;
            case e.DOWN:
              return this._repeat(null, -1, a), !0;
            case e.PAGE_UP:
              return this._repeat(null, c.page, a), !0;
            case e.PAGE_DOWN:
              return this._repeat(null, -c.page, a), !0;
          }
          return !1;
        },
        _uiSpinnerHtml: function () {
          return "\x3cspan class\x3d'ui-spinner ui-widget ui-widget-content ui-corner-all'\x3e\x3c/span\x3e";
        },
        _buttonHtml: function () {
          return (
            "\x3ca class\x3d'ui-spinner-button ui-spinner-up ui-corner-tr'\x3e\x3cspan class\x3d'ui-icon " +
            this.options.icons.up +
            "'\x3e\x26#9650;\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d'ui-spinner-button ui-spinner-down ui-corner-br'\x3e\x3cspan class\x3d'ui-icon " +
            this.options.icons.down +
            "'\x3e\x26#9660;\x3c/span\x3e\x3c/a\x3e"
          );
        },
        _start: function (a) {
          if (!this.spinning && !1 === this._trigger("start", a)) return !1;
          this.counter || (this.counter = 1);
          return (this.spinning = !0);
        },
        _repeat: function (a, c, b) {
          a = a || 500;
          clearTimeout(this.timer);
          this.timer = this._delay(function () {
            this._repeat(40, c, b);
          }, a);
          this._spin(c * this.options.step, b);
        },
        _spin: function (a, c) {
          var b = this.value() || 0;
          this.counter || (this.counter = 1);
          b = this._adjustValue(b + a * this._increment(this.counter));
          (this.spinning && !1 === this._trigger("spin", c, { value: b })) ||
            (this._value(b), this.counter++);
        },
        _increment: function (a) {
          var c = this.options.incremental;
          return c
            ? b.isFunction(c)
              ? c(a)
              : Math.floor(
                  (a * a * a) / 5e4 - (a * a) / 500 + (17 * a) / 200 + 1
                )
            : 1;
        },
        _precision: function () {
          var a = this._precisionOf(this.options.step);
          null !== this.options.min &&
            (a = Math.max(a, this._precisionOf(this.options.min)));
          return a;
        },
        _precisionOf: function (a) {
          a = a.toString();
          var c = a.indexOf(".");
          return -1 === c ? 0 : a.length - c - 1;
        },
        _adjustValue: function (a) {
          var c = this.options;
          var b = null !== c.min ? c.min : 0;
          a = b + Math.round((a - b) / c.step) * c.step;
          a = parseFloat(a.toFixed(this._precision()));
          return null !== c.max && a > c.max
            ? c.max
            : null !== c.min && a < c.min
            ? c.min
            : a;
        },
        _stop: function (a) {
          this.spinning &&
            (clearTimeout(this.timer),
            clearTimeout(this.mousewheelTimer),
            (this.counter = 0),
            (this.spinning = !1),
            this._trigger("stop", a));
        },
        _setOption: function (a, c) {
          if ("culture" === a || "numberFormat" === a) {
            var b = this._parse(this.element.val());
            this.options[a] = c;
            this.element.val(this._format(b));
          } else
            ("max" !== a && "min" !== a && "step" !== a) ||
              "string" !== typeof c ||
              (c = this._parse(c)),
              "icons" === a &&
                (this.buttons
                  .first()
                  .find(".ui-icon")
                  .removeClass(this.options.icons.up)
                  .addClass(c.up),
                this.buttons
                  .last()
                  .find(".ui-icon")
                  .removeClass(this.options.icons.down)
                  .addClass(c.down)),
              this._super(a, c),
              "disabled" === a &&
                (this.widget().toggleClass("ui-state-disabled", !!c),
                this.element.prop("disabled", !!c),
                this.buttons.button(c ? "disable" : "enable"));
        },
        _setOptions: u(function (a) {
          this._super(a);
        }),
        _parse: function (a) {
          "string" === typeof a &&
            "" !== a &&
            (a =
              window.Globalize && this.options.numberFormat
                ? Globalize.parseFloat(a, 10, this.options.culture)
                : +a);
          return "" === a || isNaN(a) ? null : a;
        },
        _format: function (a) {
          return "" === a
            ? ""
            : window.Globalize && this.options.numberFormat
            ? Globalize.format(
                a,
                this.options.numberFormat,
                this.options.culture
              )
            : a;
        },
        _refresh: function () {
          this.element.attr({
            "aria-valuemin": this.options.min,
            "aria-valuemax": this.options.max,
            "aria-valuenow": this._parse(this.element.val()),
          });
        },
        isValid: function () {
          var a = this.value();
          return null === a ? !1 : a === this._adjustValue(a);
        },
        _value: function (a, c) {
          if ("" !== a) {
            var b = this._parse(a);
            null !== b &&
              (c || (b = this._adjustValue(b)), (a = this._format(b)));
          }
          this.element.val(a);
          this._refresh();
        },
        _destroy: function () {
          this.element
            .removeClass("ui-spinner-input")
            .prop("disabled", !1)
            .removeAttr("autocomplete")
            .removeAttr("role")
            .removeAttr("aria-valuemin")
            .removeAttr("aria-valuemax")
            .removeAttr("aria-valuenow");
          this.uiSpinner.replaceWith(this.element);
        },
        stepUp: u(function (a) {
          this._stepUp(a);
        }),
        _stepUp: function (a) {
          this._start() &&
            (this._spin((a || 1) * this.options.step), this._stop());
        },
        stepDown: u(function (a) {
          this._stepDown(a);
        }),
        _stepDown: function (a) {
          this._start() &&
            (this._spin((a || 1) * -this.options.step), this._stop());
        },
        pageUp: u(function (a) {
          this._stepUp((a || 1) * this.options.page);
        }),
        pageDown: u(function (a) {
          this._stepDown((a || 1) * this.options.page);
        }),
        value: function (a) {
          if (!arguments.length) return this._parse(this.element.val());
          u(this._value).call(this, a);
        },
        widget: function () {
          return this.uiSpinner;
        },
      });
      b.widget("ui.tabs", {
        version: "1.11.4",
        delay: 300,
        options: {
          active: null,
          collapsible: !1,
          event: "click",
          heightStyle: "content",
          hide: null,
          show: null,
          activate: null,
          beforeActivate: null,
          beforeLoad: null,
          load: null,
        },
        _isLocal: (function () {
          var a = /#.*$/;
          return function (c) {
            c = c.cloneNode(!1);
            var b = c.href.replace(a, "");
            var e = location.href.replace(a, "");
            try {
              b = decodeURIComponent(b);
            } catch (C) {}
            try {
              e = decodeURIComponent(e);
            } catch (C) {}
            return 1 < c.hash.length && b === e;
          };
        })(),
        _create: function () {
          var a = this,
            c = this.options;
          this.running = !1;
          this.element
            .addClass("ui-tabs ui-widget ui-widget-content ui-corner-all")
            .toggleClass("ui-tabs-collapsible", c.collapsible);
          this._processTabs();
          c.active = this._initialActive();
          b.isArray(c.disabled) &&
            (c.disabled = b
              .unique(
                c.disabled.concat(
                  b.map(this.tabs.filter(".ui-state-disabled"), function (c) {
                    return a.tabs.index(c);
                  })
                )
              )
              .sort());
          this.active =
            !1 !== this.options.active && this.anchors.length
              ? this._findActive(c.active)
              : b();
          this._refresh();
          this.active.length && this.load(c.active);
        },
        _initialActive: function () {
          var a = this.options.active,
            c = this.options.collapsible,
            e = location.hash.substring(1);
          null === a &&
            (e &&
              this.tabs.each(function (c, g) {
                if (b(g).attr("aria-controls") === e) return (a = c), !1;
              }),
            null === a &&
              (a = this.tabs.index(this.tabs.filter(".ui-tabs-active"))),
            null === a || -1 === a) &&
            (a = this.tabs.length ? 0 : !1);
          !1 !== a &&
            ((a = this.tabs.index(this.tabs.eq(a))),
            -1 === a && (a = c ? !1 : 0));
          !c && !1 === a && this.anchors.length && (a = 0);
          return a;
        },
        _getCreateEventData: function () {
          return {
            tab: this.active,
            panel: this.active.length ? this._getPanelForTab(this.active) : b(),
          };
        },
        _tabKeydown: function (a) {
          var c = b(this.document[0].activeElement).closest("li"),
            e = this.tabs.index(c),
            d = !0;
          if (!this._handlePageNav(a)) {
            switch (a.keyCode) {
              case b.ui.keyCode.RIGHT:
              case b.ui.keyCode.DOWN:
                e++;
                break;
              case b.ui.keyCode.UP:
              case b.ui.keyCode.LEFT:
                d = !1;
                e--;
                break;
              case b.ui.keyCode.END:
                e = this.anchors.length - 1;
                break;
              case b.ui.keyCode.HOME:
                e = 0;
                break;
              case b.ui.keyCode.SPACE:
                a.preventDefault();
                clearTimeout(this.activating);
                this._activate(e);
                return;
              case b.ui.keyCode.ENTER:
                a.preventDefault();
                clearTimeout(this.activating);
                this._activate(e === this.options.active ? !1 : e);
                return;
              default:
                return;
            }
            a.preventDefault();
            clearTimeout(this.activating);
            e = this._focusNextTab(e, d);
            a.ctrlKey ||
              a.metaKey ||
              (c.attr("aria-selected", "false"),
              this.tabs.eq(e).attr("aria-selected", "true"),
              (this.activating = this._delay(function () {
                this.option("active", e);
              }, this.delay)));
          }
        },
        _panelKeydown: function (a) {
          !this._handlePageNav(a) &&
            a.ctrlKey &&
            a.keyCode === b.ui.keyCode.UP &&
            (a.preventDefault(), this.active.focus());
        },
        _handlePageNav: function (a) {
          if (a.altKey && a.keyCode === b.ui.keyCode.PAGE_UP)
            return (
              this._activate(this._focusNextTab(this.options.active - 1, !1)),
              !0
            );
          if (a.altKey && a.keyCode === b.ui.keyCode.PAGE_DOWN)
            return (
              this._activate(this._focusNextTab(this.options.active + 1, !0)),
              !0
            );
        },
        _findNextTab: function (a, c) {
          function e() {
            a > d && (a = 0);
            0 > a && (a = d);
            return a;
          }
          for (
            var d = this.tabs.length - 1;
            -1 !== b.inArray(e(), this.options.disabled);

          )
            a = c ? a + 1 : a - 1;
          return a;
        },
        _focusNextTab: function (a, c) {
          a = this._findNextTab(a, c);
          this.tabs.eq(a).focus();
          return a;
        },
        _setOption: function (a, c) {
          "active" === a
            ? this._activate(c)
            : "disabled" === a
            ? this._setupDisabled(c)
            : (this._super(a, c),
              "collapsible" === a &&
                (this.element.toggleClass("ui-tabs-collapsible", c),
                c || !1 !== this.options.active || this._activate(0)),
              "event" === a && this._setupEvents(c),
              "heightStyle" === a && this._setupHeightStyle(c));
        },
        _sanitizeSelector: function (a) {
          return a
            ? a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$\x26")
            : "";
        },
        refresh: function () {
          var a = this.options,
            c = this.tablist.children(":has(a[href])");
          a.disabled = b.map(c.filter(".ui-state-disabled"), function (a) {
            return c.index(a);
          });
          this._processTabs();
          !1 !== a.active && this.anchors.length
            ? this.active.length && !b.contains(this.tablist[0], this.active[0])
              ? this.tabs.length === a.disabled.length
                ? ((a.active = !1), (this.active = b()))
                : this._activate(
                    this._findNextTab(Math.max(0, a.active - 1), !1)
                  )
              : (a.active = this.tabs.index(this.active))
            : ((a.active = !1), (this.active = b()));
          this._refresh();
        },
        _refresh: function () {
          this._setupDisabled(this.options.disabled);
          this._setupEvents(this.options.event);
          this._setupHeightStyle(this.options.heightStyle);
          this.tabs.not(this.active).attr({
            "aria-selected": "false",
            "aria-expanded": "false",
            tabIndex: -1,
          });
          this.panels
            .not(this._getPanelForTab(this.active))
            .hide()
            .attr({ "aria-hidden": "true" });
          this.active.length
            ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0,
              }),
              this._getPanelForTab(this.active)
                .show()
                .attr({ "aria-hidden": "false" }))
            : this.tabs.eq(0).attr("tabIndex", 0);
        },
        _processTabs: function () {
          var a = this,
            c = this.tabs,
            e = this.anchors,
            d = this.panels;
          this.tablist = this._getList()
            .addClass(
              "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"
            )
            .attr("role", "tablist")
            .delegate(
              "\x3e li",
              "mousedown" + this.eventNamespace,
              function (a) {
                b(this).is(".ui-state-disabled") && a.preventDefault();
              }
            )
            .delegate(
              ".ui-tabs-anchor",
              "focus" + this.eventNamespace,
              function () {
                b(this).closest("li").is(".ui-state-disabled") && this.blur();
              }
            );
          this.tabs = this.tablist
            .find("\x3e li:has(a[href])")
            .addClass("ui-state-default ui-corner-top")
            .attr({ role: "tab", tabIndex: -1 });
          this.anchors = this.tabs
            .map(function () {
              return b("a", this)[0];
            })
            .addClass("ui-tabs-anchor")
            .attr({ role: "presentation", tabIndex: -1 });
          this.panels = b();
          this.anchors.each(function (c, e) {
            var g = b(e).uniqueId().attr("id"),
              d = b(e).closest("li"),
              f = d.attr("aria-controls");
            if (a._isLocal(e)) {
              c = e.hash;
              e = c.substring(1);
              var h = a.element.find(a._sanitizeSelector(c));
            } else (e = d.attr("aria-controls") || b({}).uniqueId()[0].id), (h = a.element.find("#" + e)), h.length || ((h = a._createPanel(e)), h.insertAfter(a.panels[c - 1] || a.tablist)), h.attr("aria-live", "polite");
            h.length && (a.panels = a.panels.add(h));
            f && d.data("ui-tabs-aria-controls", f);
            d.attr({ "aria-controls": e, "aria-labelledby": g });
            h.attr("aria-labelledby", g);
          });
          this.panels
            .addClass("ui-tabs-panel ui-widget-content ui-corner-bottom")
            .attr("role", "tabpanel");
          c &&
            (this._off(c.not(this.tabs)),
            this._off(e.not(this.anchors)),
            this._off(d.not(this.panels)));
        },
        _getList: function () {
          return this.tablist || this.element.find("ol,ul").eq(0);
        },
        _createPanel: function (a) {
          return b("\x3cdiv\x3e")
            .attr("id", a)
            .addClass("ui-tabs-panel ui-widget-content ui-corner-bottom")
            .data("ui-tabs-destroy", !0);
        },
        _setupDisabled: function (a) {
          b.isArray(a) &&
            (a.length
              ? a.length === this.anchors.length && (a = !0)
              : (a = !1));
          for (var c = 0, e; (e = this.tabs[c]); c++)
            !0 === a || -1 !== b.inArray(c, a)
              ? b(e).addClass("ui-state-disabled").attr("aria-disabled", "true")
              : b(e)
                  .removeClass("ui-state-disabled")
                  .removeAttr("aria-disabled");
          this.options.disabled = a;
        },
        _setupEvents: function (a) {
          var c = {};
          a &&
            b.each(a.split(" "), function (a, b) {
              c[b] = "_eventHandler";
            });
          this._off(this.anchors.add(this.tabs).add(this.panels));
          this._on(!0, this.anchors, {
            click: function (a) {
              a.preventDefault();
            },
          });
          this._on(this.anchors, c);
          this._on(this.tabs, { keydown: "_tabKeydown" });
          this._on(this.panels, { keydown: "_panelKeydown" });
          this._focusable(this.tabs);
          this._hoverable(this.tabs);
        },
        _setupHeightStyle: function (a) {
          var c = this.element.parent();
          if ("fill" === a) {
            var e = c.height();
            e -= this.element.outerHeight() - this.element.height();
            this.element.siblings(":visible").each(function () {
              var a = b(this),
                c = a.css("position");
              "absolute" !== c && "fixed" !== c && (e -= a.outerHeight(!0));
            });
            this.element
              .children()
              .not(this.panels)
              .each(function () {
                e -= b(this).outerHeight(!0);
              });
            this.panels
              .each(function () {
                b(this).height(
                  Math.max(0, e - b(this).innerHeight() + b(this).height())
                );
              })
              .css("overflow", "auto");
          } else
            "auto" === a &&
              ((e = 0),
              this.panels
                .each(function () {
                  e = Math.max(e, b(this).height("").height());
                })
                .height(e));
        },
        _eventHandler: function (a) {
          var c = this.options,
            e = this.active,
            d = b(a.currentTarget).closest("li"),
            f = d[0] === e[0],
            h = f && c.collapsible,
            l = h ? b() : this._getPanelForTab(d),
            q = e.length ? this._getPanelForTab(e) : b();
          e = { oldTab: e, oldPanel: q, newTab: h ? b() : d, newPanel: l };
          a.preventDefault();
          d.hasClass("ui-state-disabled") ||
            d.hasClass("ui-tabs-loading") ||
            this.running ||
            (f && !c.collapsible) ||
            !1 === this._trigger("beforeActivate", a, e) ||
            ((c.active = h ? !1 : this.tabs.index(d)),
            (this.active = f ? b() : d),
            this.xhr && this.xhr.abort(),
            q.length ||
              l.length ||
              b.error("jQuery UI Tabs: Mismatching fragment identifier."),
            l.length && this.load(this.tabs.index(d), a),
            this._toggle(a, e));
        },
        _toggle: function (a, c) {
          function e() {
            f.running = !1;
            f._trigger("activate", a, c);
          }
          function d() {
            c.newTab.closest("li").addClass("ui-tabs-active ui-state-active");
            h.length && f.options.show
              ? f._show(h, f.options.show, e)
              : (h.show(), e());
          }
          var f = this,
            h = c.newPanel,
            l = c.oldPanel;
          this.running = !0;
          l.length && this.options.hide
            ? this._hide(l, this.options.hide, function () {
                c.oldTab
                  .closest("li")
                  .removeClass("ui-tabs-active ui-state-active");
                d();
              })
            : (c.oldTab
                .closest("li")
                .removeClass("ui-tabs-active ui-state-active"),
              l.hide(),
              d());
          l.attr("aria-hidden", "true");
          c.oldTab.attr({ "aria-selected": "false", "aria-expanded": "false" });
          h.length && l.length
            ? c.oldTab.attr("tabIndex", -1)
            : h.length &&
              this.tabs
                .filter(function () {
                  return 0 === b(this).attr("tabIndex");
                })
                .attr("tabIndex", -1);
          h.attr("aria-hidden", "false");
          c.newTab.attr({
            "aria-selected": "true",
            "aria-expanded": "true",
            tabIndex: 0,
          });
        },
        _activate: function (a) {
          a = this._findActive(a);
          a[0] !== this.active[0] &&
            (a.length || (a = this.active),
            (a = a.find(".ui-tabs-anchor")[0]),
            this._eventHandler({
              target: a,
              currentTarget: a,
              preventDefault: b.noop,
            }));
        },
        _findActive: function (a) {
          return !1 === a ? b() : this.tabs.eq(a);
        },
        _getIndex: function (a) {
          "string" === typeof a &&
            (a = this.anchors.index(
              this.anchors.filter("[href$\x3d'" + a + "']")
            ));
          return a;
        },
        _destroy: function () {
          this.xhr && this.xhr.abort();
          this.element.removeClass(
            "ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"
          );
          this.tablist
            .removeClass(
              "ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"
            )
            .removeAttr("role");
          this.anchors
            .removeClass("ui-tabs-anchor")
            .removeAttr("role")
            .removeAttr("tabIndex")
            .removeUniqueId();
          this.tablist.unbind(this.eventNamespace);
          this.tabs.add(this.panels).each(function () {
            b.data(this, "ui-tabs-destroy")
              ? b(this).remove()
              : b(this)
                  .removeClass(
                    "ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel"
                  )
                  .removeAttr("tabIndex")
                  .removeAttr("aria-live")
                  .removeAttr("aria-busy")
                  .removeAttr("aria-selected")
                  .removeAttr("aria-labelledby")
                  .removeAttr("aria-hidden")
                  .removeAttr("aria-expanded")
                  .removeAttr("role");
          });
          this.tabs.each(function () {
            var a = b(this),
              c = a.data("ui-tabs-aria-controls");
            c
              ? a.attr("aria-controls", c).removeData("ui-tabs-aria-controls")
              : a.removeAttr("aria-controls");
          });
          this.panels.show();
          "content" !== this.options.heightStyle &&
            this.panels.css("height", "");
        },
        enable: function (a) {
          var c = this.options.disabled;
          !1 !== c &&
            (void 0 === a
              ? (c = !1)
              : ((a = this._getIndex(a)),
                (c = b.isArray(c)
                  ? b.map(c, function (c) {
                      return c !== a ? c : null;
                    })
                  : b.map(this.tabs, function (c, b) {
                      return b !== a ? b : null;
                    }))),
            this._setupDisabled(c));
        },
        disable: function (a) {
          var c = this.options.disabled;
          if (!0 !== c) {
            if (void 0 === a) c = !0;
            else {
              a = this._getIndex(a);
              if (-1 !== b.inArray(a, c)) return;
              c = b.isArray(c) ? b.merge([a], c).sort() : [a];
            }
            this._setupDisabled(c);
          }
        },
        load: function (a, c) {
          a = this._getIndex(a);
          var e = this,
            d = this.tabs.eq(a);
          a = d.find(".ui-tabs-anchor");
          var f = this._getPanelForTab(d),
            h = { tab: d, panel: f },
            l = function (a, c) {
              "abort" === c && e.panels.stop(!1, !0);
              d.removeClass("ui-tabs-loading");
              f.removeAttr("aria-busy");
              a === e.xhr && delete e.xhr;
            };
          this._isLocal(a[0]) ||
            ((this.xhr = b.ajax(this._ajaxSettings(a, c, h))) &&
              "canceled" !== this.xhr.statusText &&
              (d.addClass("ui-tabs-loading"),
              f.attr("aria-busy", "true"),
              this.xhr
                .done(function (a, b, g) {
                  setTimeout(function () {
                    f.html(a);
                    e._trigger("load", c, h);
                    l(g, b);
                  }, 1);
                })
                .fail(function (a, c) {
                  setTimeout(function () {
                    l(a, c);
                  }, 1);
                })));
        },
        _ajaxSettings: function (a, c, e) {
          var g = this;
          return {
            url: a.attr("href"),
            beforeSend: function (a, d) {
              return g._trigger(
                "beforeLoad",
                c,
                b.extend({ jqXHR: a, ajaxSettings: d }, e)
              );
            },
          };
        },
        _getPanelForTab: function (a) {
          a = b(a).attr("aria-controls");
          return this.element.find(this._sanitizeSelector("#" + a));
        },
      });
      b.widget("ui.tooltip", {
        version: "1.11.4",
        options: {
          content: function () {
            var a = b(this).attr("title") || "";
            return b("\x3ca\x3e").text(a).html();
          },
          hide: !0,
          items: "[title]:not([disabled])",
          position: {
            my: "left top+15",
            at: "left bottom",
            collision: "flipfit flip",
          },
          show: !0,
          tooltipClass: null,
          track: !1,
          close: null,
          open: null,
        },
        _addDescribedBy: function (a, c) {
          var e = (a.attr("aria-describedby") || "").split(/\s+/);
          e.push(c);
          a.data("ui-tooltip-id", c).attr(
            "aria-describedby",
            b.trim(e.join(" "))
          );
        },
        _removeDescribedBy: function (a) {
          var c = a.data("ui-tooltip-id"),
            e = (a.attr("aria-describedby") || "").split(/\s+/);
          c = b.inArray(c, e);
          -1 !== c && e.splice(c, 1);
          a.removeData("ui-tooltip-id");
          (e = b.trim(e.join(" ")))
            ? a.attr("aria-describedby", e)
            : a.removeAttr("aria-describedby");
        },
        _create: function () {
          this._on({ mouseover: "open", focusin: "open" });
          this.tooltips = {};
          this.parents = {};
          this.options.disabled && this._disable();
          this.liveRegion = b("\x3cdiv\x3e")
            .attr({
              role: "log",
              "aria-live": "assertive",
              "aria-relevant": "additions",
            })
            .addClass("ui-helper-hidden-accessible")
            .appendTo(this.document[0].body);
        },
        _setOption: function (a, c) {
          var e = this;
          "disabled" === a
            ? (this[c ? "_disable" : "_enable"](), (this.options[a] = c))
            : (this._super(a, c),
              "content" === a &&
                b.each(this.tooltips, function (a, c) {
                  e._updateContent(c.element);
                }));
        },
        _disable: function () {
          var a = this;
          b.each(this.tooltips, function (c, e) {
            c = b.Event("blur");
            c.target = c.currentTarget = e.element[0];
            a.close(c, !0);
          });
          this.element
            .find(this.options.items)
            .addBack()
            .each(function () {
              var a = b(this);
              a.is("[title]") &&
                a.data("ui-tooltip-title", a.attr("title")).removeAttr("title");
            });
        },
        _enable: function () {
          this.element
            .find(this.options.items)
            .addBack()
            .each(function () {
              var a = b(this);
              a.data("ui-tooltip-title") &&
                a.attr("title", a.data("ui-tooltip-title"));
            });
        },
        open: function (a) {
          var c = this,
            e = b(a ? a.target : this.element).closest(this.options.items);
          e.length &&
            !e.data("ui-tooltip-id") &&
            (e.attr("title") && e.data("ui-tooltip-title", e.attr("title")),
            e.data("ui-tooltip-open", !0),
            a &&
              "mouseover" === a.type &&
              e.parents().each(function () {
                var a = b(this);
                if (a.data("ui-tooltip-open")) {
                  var e = b.Event("blur");
                  e.target = e.currentTarget = this;
                  c.close(e, !0);
                }
                a.attr("title") &&
                  (a.uniqueId(),
                  (c.parents[this.id] = {
                    element: this,
                    title: a.attr("title"),
                  }),
                  a.attr("title", ""));
              }),
            this._registerCloseHandlers(a, e),
            this._updateContent(e, a));
        },
        _updateContent: function (a, c) {
          var b = this.options.content;
          var e = this,
            d = c ? c.type : null;
          if ("string" === typeof b) return this._open(c, a, b);
          (b = b.call(a[0], function (b) {
            e._delay(function () {
              a.data("ui-tooltip-open") &&
                (c && (c.type = d), this._open(c, a, b));
            });
          })) && this._open(c, a, b);
        },
        _open: function (a, c, e) {
          function g(a) {
            f.of = a;
            h.is(":hidden") || h.position(f);
          }
          var d,
            f = b.extend({}, this.options.position);
          if (e)
            if ((d = this._find(c)))
              d.tooltip.find(".ui-tooltip-content").html(e);
            else {
              c.is("[title]") &&
                (a && "mouseover" === a.type
                  ? c.attr("title", "")
                  : c.removeAttr("title"));
              d = this._tooltip(c);
              var h = d.tooltip;
              this._addDescribedBy(c, h.attr("id"));
              h.find(".ui-tooltip-content").html(e);
              this.liveRegion.children().hide();
              e.clone &&
                ((e = e.clone()),
                e.removeAttr("id").find("[id]").removeAttr("id"));
              b("\x3cdiv\x3e").html(e).appendTo(this.liveRegion);
              this.options.track && a && /^mouse/.test(a.type)
                ? (this._on(this.document, { mousemove: g }), g(a))
                : h.position(b.extend({ of: c }, this.options.position));
              h.hide();
              this._show(h, this.options.show);
              if (this.options.show && this.options.show.delay)
                var l = (this.delayedShow = setInterval(function () {
                  h.is(":visible") && (g(f.of), clearInterval(l));
                }, b.fx.interval));
              this._trigger("open", a, { tooltip: h });
            }
        },
        _registerCloseHandlers: function (a, c) {
          var e = {
            keyup: function (a) {
              a.keyCode === b.ui.keyCode.ESCAPE &&
                ((a = b.Event(a)), (a.currentTarget = c[0]), this.close(a, !0));
            },
          };
          c[0] !== this.element[0] &&
            (e.remove = function () {
              this._removeTooltip(this._find(c).tooltip);
            });
          (a && "mouseover" !== a.type) || (e.mouseleave = "close");
          (a && "focusin" !== a.type) || (e.focusout = "close");
          this._on(!0, c, e);
        },
        close: function (a) {
          var c = this,
            e = b(a ? a.currentTarget : this.element),
            d = this._find(e);
          if (d) {
            var f = d.tooltip;
            d.closing ||
              (clearInterval(this.delayedShow),
              e.data("ui-tooltip-title") &&
                !e.attr("title") &&
                e.attr("title", e.data("ui-tooltip-title")),
              this._removeDescribedBy(e),
              (d.hiding = !0),
              f.stop(!0),
              this._hide(f, this.options.hide, function () {
                c._removeTooltip(b(this));
              }),
              e.removeData("ui-tooltip-open"),
              this._off(e, "mouseleave focusout keyup"),
              e[0] !== this.element[0] && this._off(e, "remove"),
              this._off(this.document, "mousemove"),
              a &&
                "mouseleave" === a.type &&
                b.each(this.parents, function (a, e) {
                  b(e.element).attr("title", e.title);
                  delete c.parents[a];
                }),
              (d.closing = !0),
              this._trigger("close", a, { tooltip: f }),
              d.hiding || (d.closing = !1));
          } else e.removeData("ui-tooltip-open");
        },
        _tooltip: function (a) {
          var c = b("\x3cdiv\x3e")
              .attr("role", "tooltip")
              .addClass(
                "ui-tooltip ui-widget ui-corner-all ui-widget-content " +
                  (this.options.tooltipClass || "")
              ),
            e = c.uniqueId().attr("id");
          b("\x3cdiv\x3e").addClass("ui-tooltip-content").appendTo(c);
          c.appendTo(this.document[0].body);
          return (this.tooltips[e] = { element: a, tooltip: c });
        },
        _find: function (a) {
          return (a = a.data("ui-tooltip-id")) ? this.tooltips[a] : null;
        },
        _removeTooltip: function (a) {
          a.remove();
          delete this.tooltips[a.attr("id")];
        },
        _destroy: function () {
          var a = this;
          b.each(this.tooltips, function (c, e) {
            var g = b.Event("blur");
            e = e.element;
            g.target = g.currentTarget = e[0];
            a.close(g, !0);
            b("#" + c).remove();
            e.data("ui-tooltip-title") &&
              (e.attr("title") || e.attr("title", e.data("ui-tooltip-title")),
              e.removeData("ui-tooltip-title"));
          });
          this.liveRegion.remove();
        },
      });
    });
  })(ChemDoodle.lib.jQuery);
  (function (k) {
    k.fn.simpleColor = function (b) {
      var n = this,
        f =
          "990033 ff3366 cc0033 ff0033 ff9999 cc3366 ffccff cc6699 993366 660033 cc3399 ff99cc ff66cc ff99ff ff6699 cc0066 ff0066 ff3399 ff0099 ff33cc ff00cc ff66ff ff33ff ff00ff cc0099 990066 cc66cc cc33cc cc99ff cc66ff cc33ff 993399 cc00cc cc00ff 9900cc 990099 cc99cc 996699 663366 660099 9933cc 660066 9900ff 9933ff 9966cc 330033 663399 6633cc 6600cc 9966ff 330066 6600ff 6633ff ccccff 9999ff 9999cc 6666cc 6666ff 666699 333366 333399 330099 3300cc 3300ff 3333ff 3333cc 0066ff 0033ff 3366ff 3366cc 000066 000033 0000ff 000099 0033cc 0000cc 336699 0066cc 99ccff 6699ff 003366 6699cc 006699 3399cc 0099cc 66ccff 3399ff 003399 0099ff 33ccff 00ccff 99ffff 66ffff 33ffff 00ffff 00cccc 009999 669999 99cccc ccffff 33cccc 66cccc 339999 336666 006666 003333 00ffcc 33ffcc 33cc99 00cc99 66ffcc 99ffcc 00ff99 339966 006633 336633 669966 66cc66 99ff99 66ff66 339933 99cc99 66ff99 33ff99 33cc66 00cc66 66cc99 009966 009933 33ff66 00ff66 ccffcc ccff99 99ff66 99ff33 00ff33 33ff33 00cc33 33cc33 66ff33 00ff00 66cc33 006600 003300 009900 33ff00 66ff00 99ff00 66cc00 00cc00 33cc00 339900 99cc66 669933 99cc33 336600 669900 99cc00 ccff66 ccff33 ccff00 999900 cccc00 cccc33 333300 666600 999933 cccc66 666633 999966 cccc99 ffffcc ffff99 ffff66 ffff33 ffff00 ffcc00 ffcc66 ffcc33 cc9933 996600 cc9900 ff9900 cc6600 993300 cc6633 663300 ff9966 ff6633 ff9933 ff6600 cc3300 996633 330000 663333 996666 cc9999 993333 cc6666 ffcccc ff3333 cc3333 ff6666 660000 990000 cc0000 ff0000 ff3300 cc9966 ffcc99 ffffff cccccc 999999 666666 333333 000000 000000 000000 000000 000000 000000 000000 000000 000000".split(
            " "
          );
      b = k.extend(
        {
          defaultColor: this.attr("defaultColor") || "#FFF",
          cellWidth: this.attr("cellWidth") || 10,
          cellHeight: this.attr("cellHeight") || 10,
          cellMargin: this.attr("cellMargin") || 1,
          boxWidth: this.attr("boxWidth") || "115px",
          boxHeight: this.attr("boxHeight") || "20px",
          columns: this.attr("columns") || 16,
          insert: this.attr("insert") || "after",
          colors: this.attr("colors") || f,
          displayColorCode: this.attr("displayColorCode") || !1,
          colorCodeAlign: this.attr("colorCodeAlign") || "center",
          colorCodeColor: this.attr("colorCodeColor") || "#FFF",
          onSelect: null,
          onCellEnter: null,
          onClose: null,
          livePreview: !1,
        },
        b || {}
      );
      b.totalWidth = b.columns * (b.cellWidth + 2 * b.cellMargin);
      b.chooserCSS = k.extend(
        {
          border: "1px solid #000",
          margin: "0 0 0 5px",
          width: b.totalWidth,
          height: b.totalHeight,
          top: 0,
          left: b.boxWidth,
          position: "absolute",
          "background-color": "#fff",
        },
        b.chooserCSS || {}
      );
      b.displayCSS = k.extend(
        {
          "background-color": b.defaultColor,
          border: "1px solid #000",
          width: b.boxWidth,
          height: b.boxHeight,
          "line-height": b.boxHeight + "px",
          cursor: "pointer",
        },
        b.displayCSS || {}
      );
      this.hide();
      -1 != navigator.userAgent.indexOf("MSIE") && (b.totalWidth += 2);
      b.totalHeight =
        Math.ceil(b.colors.length / b.columns) *
        (b.cellHeight + 2 * b.cellMargin);
      k.simpleColorOptions = b;
      this.each(function (f) {
        b = k.simpleColorOptions;
        f = k("\x3cdiv class\x3d'simpleColorContainer' /\x3e");
        f.css("position", "relative");
        var h = this.value && "" != this.value ? this.value : b.defaultColor,
          d = k("\x3cdiv class\x3d'simpleColorDisplay' /\x3e");
        d.css(k.extend(b.displayCSS, { "background-color": h }));
        d.data("color", h);
        f.append(d);
        b.displayColorCode &&
          (d.data("displayColorCode", !0),
          d.text(this.value),
          d.css({ color: b.colorCodeColor, textAlign: b.colorCodeAlign }));
        d.bind(
          "click",
          { input: this, container: f, displayBox: d },
          function (f) {
            k("html").bind("click.simpleColorDisplay", function (h) {
              k("html").unbind("click.simpleColorDisplay");
              k(".simpleColorChooser").hide();
              h = k(h.target);
              if (
                !1 === h.is(".simpleColorCell") ||
                !1 ===
                  k.contains(
                    k(f.target).closest(".simpleColorContainer")[0],
                    h[0]
                  )
              )
                d.css("background-color", d.data("color")),
                  b.displayColorCode && d.text(d.data("color"));
              if (b.onClose) b.onClose(n);
            });
            if (f.data.container.chooser) f.data.container.chooser.toggle();
            else {
              var h = k("\x3cdiv class\x3d'simpleColorChooser'/\x3e");
              h.css(b.chooserCSS);
              f.data.container.chooser = h;
              f.data.container.append(h);
              for (var l = 0; l < b.colors.length; l++) {
                var v = k(
                  "\x3cdiv class\x3d'simpleColorCell' id\x3d'" +
                    b.colors[l] +
                    "'/\x3e"
                );
                v.css({
                  width: b.cellWidth + "px",
                  height: b.cellHeight + "px",
                  margin: b.cellMargin + "px",
                  cursor: "pointer",
                  lineHeight: b.cellHeight + "px",
                  fontSize: "1px",
                  float: "left",
                  "background-color": "#" + b.colors[l],
                });
                h.append(v);
                (b.onCellEnter || b.livePreview) &&
                  v.bind("mouseenter", function (f) {
                    if (b.onCellEnter) b.onCellEnter(this.id, n);
                    b.livePreview &&
                      (d.css("background-color", "#" + this.id),
                      b.displayColorCode && d.text("#" + this.id));
                  });
                v.bind(
                  "click",
                  { input: f.data.input, chooser: h, displayBox: d },
                  function (d) {
                    var f = "#" + this.id;
                    d.data.input.value = f;
                    k(d.data.input).change();
                    k(d.data.displayBox).data("color", f);
                    d.data.displayBox.css("background-color", f);
                    d.data.chooser.hide();
                    b.displayColorCode && d.data.displayBox.text(f);
                    if (b.onSelect) b.onSelect(f, n);
                  }
                );
              }
            }
          }
        );
        k(this).after(f);
        k(this).data("container", f);
      });
      k(".simpleColorDisplay").each(function () {
        k(this).click(function (b) {
          b.stopPropagation();
        });
      });
      return this;
    };
    k.fn.closeChooser = function () {
      this.each(function (b) {
        k(this).data("container").find(".simpleColorChooser").hide();
      });
      return this;
    };
    k.fn.setColor = function (b) {
      this.each(function (n) {
        n = k(this).data("container").find(".simpleColorDisplay");
        n.css("background-color", b).data("color", b);
        !0 === n.data("displayColorCode") && n.text(b);
      });
      return this;
    };
  })(ChemDoodle.lib.jQuery);
  (function (k) {
    function b(b, f) {
      if (!(1 < b.originalEvent.touches.length)) {
        b.preventDefault();
        var d = b.originalEvent.changedTouches[0],
          h = document.createEvent("MouseEvents");
        h.initMouseEvent(
          f,
          !0,
          !0,
          window,
          1,
          d.screenX,
          d.screenY,
          d.clientX,
          d.clientY,
          !1,
          !1,
          !1,
          !1,
          0,
          null
        );
        b.target.dispatchEvent(h);
      }
    }
    k.support.touch = "ontouchend" in document;
    if (k.support.touch) {
      var n = k.ui.mouse.prototype,
        f = n._mouseInit,
        r = n._mouseDestroy,
        h;
      n._touchStart = function (d) {
        !h &&
          this._mouseCapture(d.originalEvent.changedTouches[0]) &&
          ((h = !0),
          (this._touchMoved = !1),
          b(d, "mouseover"),
          b(d, "mousemove"),
          b(d, "mousedown"),
          (this.psave = {
            x: d.originalEvent.changedTouches
              ? d.originalEvent.changedTouches[0].pageX
              : d.pageX,
            y: d.originalEvent.changedTouches
              ? d.originalEvent.changedTouches[0].pageY
              : d.pageY,
          }));
      };
      n._touchMove = function (d) {
        var f = d.pageX,
          k = d.pageY;
        d.originalEvent.changedTouches &&
          ((f = d.originalEvent.changedTouches[0].pageX),
          (k = d.originalEvent.changedTouches[0].pageY));
        (4 > f - this.psave.x && 4 > k - this.psave.y) ||
          !h ||
          ((this._touchMoved = !0), b(d, "mousemove"));
      };
      n._touchEnd = function (d) {
        this.psave = void 0;
        h &&
          (b(d, "mouseup"),
          b(d, "mouseout"),
          this._touchMoved || b(d, "click"),
          (h = !1));
      };
      n._mouseInit = function () {
        this.element.bind({
          touchstart: k.proxy(this, "_touchStart"),
          touchmove: k.proxy(this, "_touchMove"),
          touchend: k.proxy(this, "_touchEnd"),
        });
        f.call(this);
      };
      n._mouseDestroy = function () {
        this.element.unbind({
          touchstart: k.proxy(this, "_touchStart"),
          touchmove: k.proxy(this, "_touchMove"),
          touchend: k.proxy(this, "_touchEnd"),
        });
        r.call(this);
      };
    }
  })(ChemDoodle.lib.jQuery);
  ChemDoodle.uis = (function (k, b, n) {
    k.INFO.v_jQuery = b.fn.jquery;
    k.INFO.v_jQuery_ui = b.ui.version;
    k = { actions: {}, gui: {} };
    k.gui.desktop = {};
    k.gui.mobile = {};
    k.states = {};
    k.tools = {};
    return k;
  })(ChemDoodle.iChemLabs, ChemDoodle.lib.jQuery);
  (function (k, b) {
    k._Action = function () {};
    k = k._Action.prototype;
    k.forward = function (b) {
      this.innerForward();
      this.checks(b);
    };
    k.reverse = function (b) {
      this.innerReverse();
      this.checks(b);
    };
    k.checks = function (b) {
      if (b) {
        for (let f = 0, k = b.molecules.length; f < k; f++)
          b.molecules[f].check();
        b.lasso && b.lasso.isActive() && b.lasso.setBounds();
        b.checksOnAction();
        b.repaint();
      }
    };
  })(ChemDoodle.uis.actions);
  (function (k, b, n, f) {
    n.AddAction = function (b, f, d, l) {
      this.sketcher = b;
      this.a = f;
      this.as = d;
      this.bs = l;
    };
    n = n.AddAction.prototype = new n._Action();
    n.innerForward = function () {
      let f = this.sketcher.getMoleculeByAtom(this.a);
      f || ((f = new b.Molecule()), this.sketcher.molecules.push(f));
      if (this.as)
        for (let b = 0, d = this.as.length; b < d; b++)
          f.atoms.push(this.as[b]);
      if (this.bs) {
        let b = [];
        for (let l = 0, k = this.bs.length; l < k; l++) {
          var h = this.bs[l];
          if (-1 === f.atoms.indexOf(h.a1)) {
            var d = this.sketcher.getMoleculeByAtom(h.a1);
            -1 === b.indexOf(d) && b.push(d);
          }
          -1 === f.atoms.indexOf(h.a2) &&
            ((d = this.sketcher.getMoleculeByAtom(h.a2)),
            -1 === b.indexOf(d) && b.push(d));
          f.bonds.push(h);
        }
        for (let d = 0, l = b.length; d < l; d++)
          (h = b[d]),
            this.sketcher.removeMolecule(h),
            (f.atoms = f.atoms.concat(h.atoms)),
            (f.bonds = f.bonds.concat(h.bonds));
      }
    };
    n.innerReverse = function () {
      let b = this.sketcher.getMoleculeByAtom(this.a);
      if (this.as) {
        var f = [];
        for (let d = 0, h = b.atoms.length; d < h; d++)
          -1 === this.as.indexOf(b.atoms[d]) && f.push(b.atoms[d]);
        b.atoms = f;
      }
      if (this.bs) {
        f = [];
        for (let d = 0, h = b.bonds.length; d < h; d++)
          -1 === this.bs.indexOf(b.bonds[d]) && f.push(b.bonds[d]);
        b.bonds = f;
      }
      if (0 === b.atoms.length) this.sketcher.removeMolecule(b);
      else if (((f = new k.Splitter().split(b)), 1 < f.length)) {
        this.sketcher.removeMolecule(b);
        for (let b = 0, h = f.length; b < h; b++)
          this.sketcher.molecules.push(f[b]);
      }
    };
  })(ChemDoodle.informatics, ChemDoodle.structures, ChemDoodle.uis.actions);
  (function (k, b) {
    k.AddContentAction = function (b, f, k) {
      this.sketcher = b;
      this.mols = f;
      this.shapes = k;
    };
    k = k.AddContentAction.prototype = new k._Action();
    k.innerForward = function () {
      this.sketcher.molecules = this.sketcher.molecules.concat(this.mols);
      this.sketcher.shapes = this.sketcher.shapes.concat(this.shapes);
    };
    k.innerReverse = function () {
      for (let b = 0, f = this.mols.length; b < f; b++)
        this.sketcher.removeMolecule(this.mols[b]);
      for (let b = 0, f = this.shapes.length; b < f; b++)
        this.sketcher.removeShape(this.shapes[b]);
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.AddShapeAction = function (b, f) {
      this.sketcher = b;
      this.s = f;
    };
    k = k.AddShapeAction.prototype = new k._Action();
    k.innerForward = function () {
      this.sketcher.shapes.push(this.s);
    };
    k.innerReverse = function () {
      this.sketcher.removeShape(this.s);
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.AddVAPAttachementAction = function (b, f, k) {
      this.vap = b;
      this.a = f;
      this.substituent = k;
    };
    k = k.AddVAPAttachementAction.prototype = new k._Action();
    k.innerForward = function () {
      this.substituent
        ? (this.vap.substituent = this.a)
        : this.vap.attachments.push(this.a);
    };
    k.innerReverse = function () {
      this.substituent
        ? (this.vap.substituent = b)
        : this.vap.attachments.pop();
    };
  })(ChemDoodle.uis.actions);
  (function (k, b, n, f) {
    k.ChangeBondAction = function (k, h, d) {
      k &&
        ((this.b = k),
        (this.orderBefore = k.bondOrder),
        (this.stereoBefore = k.stereo),
        h === f
          ? ((this.orderAfter = n.floor(k.bondOrder + 1)),
            3 < this.orderAfter && (this.orderAfter = 1),
            (this.stereoAfter = b.STEREO_NONE))
          : ((this.orderAfter = h), (this.stereoAfter = d)));
    };
    k = k.ChangeBondAction.prototype = new k._Action();
    k.innerForward = function () {
      this.b.bondOrder = this.orderAfter;
      this.b.stereo = this.stereoAfter;
    };
    k.innerReverse = function () {
      this.b.bondOrder = this.orderBefore;
      this.b.stereo = this.stereoBefore;
    };
  })(ChemDoodle.uis.actions, ChemDoodle.structures.Bond, Math);
  (function (k, b, n) {
    k.ChangeRepeatUnitAttributeAction = function (b, k) {
      this.s = b;
      this.type = k;
    };
    k = k.ChangeRepeatUnitAttributeAction.prototype = new k._Action();
    k.innerForward = function () {
      let f = 0 < this.type ? 1 : -1;
      switch (b.abs(this.type)) {
        case 1:
          this.s.n1 += f;
          break;
        case 2:
          this.s.n2 += f;
      }
    };
    k.innerReverse = function () {
      let f = 0 < this.type ? -1 : 1;
      switch (b.abs(this.type)) {
        case 1:
          this.s.n1 += f;
          break;
        case 2:
          this.s.n2 += f;
      }
    };
  })(ChemDoodle.uis.actions, Math);
  (function (k, b, n) {
    k.ChangeBracketAttributeAction = function (b, k) {
      this.s = b;
      this.type = k;
    };
    k = k.ChangeBracketAttributeAction.prototype = new k._Action();
    k.innerForward = function () {
      let f = 0 < this.type ? 1 : -1;
      switch (b.abs(this.type)) {
        case 1:
          this.s.charge += f;
          break;
        case 2:
          this.s.repeat += f;
          break;
        case 3:
          this.s.mult += f;
      }
    };
    k.innerReverse = function () {
      let f = 0 < this.type ? -1 : 1;
      switch (b.abs(this.type)) {
        case 1:
          this.s.charge += f;
          break;
        case 2:
          this.s.repeat += f;
          break;
        case 3:
          this.s.mult += f;
      }
    };
  })(ChemDoodle.uis.actions, Math);
  (function (k, b) {
    k.ChangeChargeAction = function (b, f) {
      this.a = b;
      this.delta = f;
    };
    k = k.ChangeChargeAction.prototype = new k._Action();
    k.innerForward = function () {
      this.a.charge += this.delta;
    };
    k.innerReverse = function () {
      this.a.charge -= this.delta;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.ChangeCoordinatesAction = function (b, f) {
      this.as = b;
      this.recs = [];
      for (let b = 0, h = this.as.length; b < h; b++)
        this.recs[b] = {
          xo: this.as[b].x,
          yo: this.as[b].y,
          xn: f[b].x,
          yn: f[b].y,
        };
    };
    k = k.ChangeCoordinatesAction.prototype = new k._Action();
    k.innerForward = function () {
      for (let b = 0, f = this.as.length; b < f; b++)
        (this.as[b].x = this.recs[b].xn), (this.as[b].y = this.recs[b].yn);
    };
    k.innerReverse = function () {
      for (let b = 0, f = this.as.length; b < f; b++)
        (this.as[b].x = this.recs[b].xo), (this.as[b].y = this.recs[b].yo);
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.ChangeEnhancedStereoAction = function (b, f, k) {
      this.a = b;
      this.oldType = b.enhancedStereo.type;
      this.oldGroup = b.enhancedStereo.group;
      this.type = f;
      this.group = k;
    };
    k = k.ChangeEnhancedStereoAction.prototype = new k._Action();
    k.innerForward = function () {
      this.a.enhancedStereo.type = this.type;
      this.a.enhancedStereo.group = this.group;
    };
    k.innerReverse = function () {
      this.a.enhancedStereo.type = this.oldType;
      this.a.enhancedStereo.group = this.oldGroup;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.ChangeLabelAction = function (b, f) {
      this.a = b;
      this.before = b.label;
      this.after = f;
    };
    k = k.ChangeLabelAction.prototype = new k._Action();
    k.innerForward = function () {
      this.a.label = this.after;
    };
    k.innerReverse = function () {
      this.a.label = this.before;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.ChangeLonePairAction = function (b, f) {
      this.a = b;
      this.delta = f;
    };
    k = k.ChangeLonePairAction.prototype = new k._Action();
    k.innerForward = function () {
      this.a.numLonePair += this.delta;
    };
    k.innerReverse = function () {
      this.a.numLonePair -= this.delta;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.ChangeQueryAction = function (b, f) {
      this.o = b;
      this.before = b.query;
      this.after = f;
    };
    k = k.ChangeQueryAction.prototype = new k._Action();
    k.innerForward = function () {
      this.o.query = this.after;
    };
    k.innerReverse = function () {
      this.o.query = this.before;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.ChangeRadicalAction = function (b, f) {
      this.a = b;
      this.delta = f;
    };
    k = k.ChangeRadicalAction.prototype = new k._Action();
    k.innerForward = function () {
      this.a.numRadical += this.delta;
    };
    k.innerReverse = function () {
      this.a.numRadical -= this.delta;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.ChangeImplicitHydrogenAction = function (b, f) {
      this.a = b;
      this.old = b.implicitH;
      this.val = f;
    };
    k = k.ChangeImplicitHydrogenAction.prototype = new k._Action();
    k.innerForward = function () {
      this.a.implicitH = this.val;
    };
    k.innerReverse = function () {
      this.a.implicitH = this.old;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.ChangeIsotopeAction = function (b, f) {
      this.a = b;
      this.old = b.mass;
      this.val = f;
    };
    k = k.ChangeIsotopeAction.prototype = new k._Action();
    k.innerForward = function () {
      this.a.mass = this.val;
    };
    k.innerReverse = function () {
      this.a.mass = this.old;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b, n, f) {
    k.ChangeVAPOrderAction = function (b, f) {
      this.vap = b;
      this.orderBefore = b.bondType;
      this.orderAfter = f;
    };
    k = k.ChangeVAPOrderAction.prototype = new k._Action();
    k.innerForward = function () {
      this.vap.bondType = this.orderAfter;
    };
    k.innerReverse = function () {
      this.vap.bondType = this.orderBefore;
    };
  })(ChemDoodle.uis.actions, ChemDoodle.structures.Bond, Math);
  (function (k, b, n, f) {
    k.ChangeVAPSubstituentAction = function (b, f) {
      this.vap = b;
      this.nsub = f;
      this.orderBefore = b.bondType;
      this.osub = b.substituent;
    };
    k = k.ChangeVAPSubstituentAction.prototype = new k._Action();
    k.innerForward = function () {
      this.vap.bondType = 1;
      this.vap.substituent = this.nsub;
      this.vap.attachments.splice(this.vap.attachments.indexOf(this.nsub), 1);
      this.osub && this.vap.attachments.push(this.osub);
    };
    k.innerReverse = function () {
      this.vap.bondType = this.orderBefore;
      (this.vap.substituent = this.osub) && this.vap.attachments.pop();
      this.vap.attachments.push(this.nsub);
    };
  })(ChemDoodle.uis.actions, ChemDoodle.structures.Bond, Math);
  (function (k, b, n) {
    b.ClearAction = function (b) {
      this.sketcher = b;
      this.beforeMols = this.sketcher.molecules;
      this.beforeShapes = this.sketcher.shapes;
      this.sketcher.clear();
      this.sketcher.oneMolecule &&
        !this.sketcher.setupScene &&
        ((this.afterMol = new k.Molecule()),
        this.afterMol.atoms.push(new k.Atom()),
        this.sketcher.molecules.push(this.afterMol),
        this.sketcher.center(),
        this.sketcher.repaint());
    };
    b = b.ClearAction.prototype = new b._Action();
    b.innerForward = function () {
      this.sketcher.molecules = [];
      this.sketcher.shapes = [];
      this.sketcher.oneMolecule &&
        !this.sketcher.setupScene &&
        this.sketcher.molecules.push(this.afterMol);
    };
    b.innerReverse = function () {
      this.sketcher.molecules = this.beforeMols;
      this.sketcher.shapes = this.beforeShapes;
    };
  })(ChemDoodle.structures, ChemDoodle.uis.actions);
  (function (k, b) {
    k.DeleteAction = function (b, f, k, h) {
      this.sketcher = b;
      this.a = f;
      this.as = k;
      this.bs = h;
      this.ss = [];
    };
    b = k.DeleteAction.prototype = new k._Action();
    b.innerForwardAReverse = k.AddAction.prototype.innerReverse;
    b.innerReverseAForward = k.AddAction.prototype.innerForward;
    b.innerForward = function () {
      this.innerForwardAReverse();
      for (let b = 0, f = this.ss.length; b < f; b++)
        this.sketcher.removeShape(this.ss[b]);
    };
    b.innerReverse = function () {
      this.innerReverseAForward();
      0 < this.ss.length &&
        (this.sketcher.shapes = this.sketcher.shapes.concat(this.ss));
    };
  })(ChemDoodle.uis.actions);
  (function (k, b, n) {
    b.DeleteContentAction = function (b, k, h) {
      this.sketcher = b;
      this.as = k;
      this.ss = h;
      this.bs = [];
      for (let d = 0, f = this.sketcher.molecules.length; d < f; d++) {
        b = this.sketcher.molecules[d];
        for (let d = 0, f = b.bonds.length; d < f; d++)
          (k = b.bonds[d]),
            (k.a1.isLassoed || k.a2.isLassoed) && this.bs.push(k);
      }
    };
    b = b.DeleteContentAction.prototype = new b._Action();
    b.innerForward = function () {
      for (let b = 0, f = this.ss.length; b < f; b++)
        this.sketcher.removeShape(this.ss[b]);
      let b = [],
        r = [];
      for (let d = 0, f = this.sketcher.molecules.length; d < f; d++) {
        let f = this.sketcher.molecules[d];
        for (let d = 0, l = f.atoms.length; d < l; d++) {
          var h = f.atoms[d];
          -1 === this.as.indexOf(h) && b.push(h);
        }
        for (let b = 0, d = f.bonds.length; b < d; b++)
          (h = f.bonds[b]), -1 === this.bs.indexOf(h) && r.push(h);
      }
      this.sketcher.molecules = new k.Splitter().split({ atoms: b, bonds: r });
    };
    b.innerReverse = function () {
      this.sketcher.shapes = this.sketcher.shapes.concat(this.ss);
      let b = [],
        r = [];
      for (let f = 0, d = this.sketcher.molecules.length; f < d; f++) {
        let d = this.sketcher.molecules[f];
        b = b.concat(d.atoms);
        r = r.concat(d.bonds);
      }
      this.sketcher.molecules = new k.Splitter().split({
        atoms: b.concat(this.as),
        bonds: r.concat(this.bs),
      });
    };
  })(ChemDoodle.informatics, ChemDoodle.uis.actions);
  (function (k, b) {
    k.DeleteShapeAction = function (b, f) {
      this.sketcher = b;
      this.s = f;
    };
    b = k.DeleteShapeAction.prototype = new k._Action();
    b.innerForward = k.AddShapeAction.prototype.innerReverse;
    b.innerReverse = k.AddShapeAction.prototype.innerForward;
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.DeleteVAPConnectionAction = function (b, f) {
      this.vap = b;
      this.connection = f;
      this.substituent = b.substituent === f;
    };
    k = k.DeleteVAPConnectionAction.prototype = new k._Action();
    k.innerForward = function () {
      this.substituent
        ? (this.vap.substituent = b)
        : this.vap.attachments.splice(
            this.vap.attachments.indexOf(this.connection),
            1
          );
    };
    k.innerReverse = function () {
      this.substituent
        ? (this.vap.substituent = this.connection)
        : this.vap.attachments.push(this.connection);
    };
  })(ChemDoodle.uis.actions);
  (function (k, b, n, f) {
    b.FlipAction = function (b, f, d) {
      this.ps = b;
      this.bs = f;
      f = b = Infinity;
      let h = -Infinity,
        r = -Infinity;
      for (let d = 0, l = this.ps.length; d < l; d++)
        (b = n.min(this.ps[d].x, b)),
          (f = n.min(this.ps[d].y, f)),
          (h = n.max(this.ps[d].x, h)),
          (r = n.max(this.ps[d].y, r));
      this.center = new k.Point((h + b) / 2, (r + f) / 2);
      this.horizontal = d;
    };
    b = b.FlipAction.prototype = new b._Action();
    b.innerForward = b.innerReverse = function () {
      for (let f = 0, d = this.ps.length; f < d; f++) {
        var b = this.ps[f];
        this.horizontal
          ? (b.x += 2 * (this.center.x - b.x))
          : (b.y += 2 * (this.center.y - b.y));
      }
      for (let f = 0, d = this.bs.length; f < d; f++)
        (b = this.bs[f]),
          b.stereo === k.Bond.STEREO_PROTRUDING
            ? (b.stereo = k.Bond.STEREO_RECESSED)
            : b.stereo === k.Bond.STEREO_RECESSED &&
              (b.stereo = k.Bond.STEREO_PROTRUDING);
    };
  })(ChemDoodle.structures, ChemDoodle.uis.actions, Math);
  (function (k, b) {
    k.FlipBondAction = function (b) {
      this.b = b;
    };
    k = k.FlipBondAction.prototype = new k._Action();
    k.innerForward = function () {
      let b = this.b.a1;
      this.b.a1 = this.b.a2;
      this.b.a2 = b;
    };
    k.innerReverse = function () {
      this.innerForward();
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.FlipRepeatUnitAction = function (b) {
      this.b = b;
    };
    k = k.FlipRepeatUnitAction.prototype = new k._Action();
    k.innerReverse = k.innerForward = function () {
      this.b.flip = !this.b.flip;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.MoveAction = function (b, f) {
      this.ps = b;
      this.dif = f;
    };
    k = k.MoveAction.prototype = new k._Action();
    k.innerForward = function () {
      for (let b = 0, f = this.ps.length; b < f; b++) this.ps[b].add(this.dif);
    };
    k.innerReverse = function () {
      for (let b = 0, f = this.ps.length; b < f; b++) this.ps[b].sub(this.dif);
    };
  })(ChemDoodle.uis.actions);
  (function (k, b, n) {
    b.NewMoleculeAction = function (b, k, h) {
      this.sketcher = b;
      this.as = k;
      this.bs = h;
    };
    b = b.NewMoleculeAction.prototype = new b._Action();
    b.innerForward = function () {
      let b = new k.Molecule();
      b.atoms = b.atoms.concat(this.as);
      b.bonds = b.bonds.concat(this.bs);
      b.check();
      this.sketcher.addMolecule(b);
    };
    b.innerReverse = function () {
      this.sketcher.removeMolecule(this.sketcher.getMoleculeByAtom(this.as[0]));
    };
  })(ChemDoodle.structures, ChemDoodle.uis.actions);
  (function (k, b, n) {
    k.RotateAction = function (b, k, h) {
      this.ps = b;
      this.dif = k;
      this.center = h;
    };
    k = k.RotateAction.prototype = new k._Action();
    k.innerForward = function () {
      for (let f = 0, k = this.ps.length; f < k; f++) {
        let h = this.ps[f],
          d = this.center.distance(h),
          l = this.center.angle(h) + this.dif;
        h.x = this.center.x + d * b.cos(l);
        h.y = this.center.y - d * b.sin(l);
      }
    };
    k.innerReverse = function () {
      for (let f = 0, k = this.ps.length; f < k; f++) {
        let h = this.ps[f],
          d = this.center.distance(h),
          l = this.center.angle(h) - this.dif;
        h.x = this.center.x + d * b.cos(l);
        h.y = this.center.y - d * b.sin(l);
      }
    };
  })(ChemDoodle.uis.actions, Math);
  (function (k, b) {
    k.SwitchContentAction = function (b, f, k) {
      this.sketcher = b;
      this.beforeMols = this.sketcher.molecules;
      this.beforeShapes = this.sketcher.shapes;
      this.molsA = f;
      this.shapesA = k;
    };
    k = k.SwitchContentAction.prototype = new k._Action();
    k.innerForward = function () {
      this.sketcher.loadContent(this.molsA, this.shapesA);
    };
    k.innerReverse = function () {
      this.sketcher.molecules = this.beforeMols;
      this.sketcher.shapes = this.beforeShapes;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.SwitchMoleculeAction = function (b, f) {
      this.sketcher = b;
      this.beforeMols = this.sketcher.molecules;
      this.beforeShapes = this.sketcher.shapes;
      this.molA = f;
    };
    k = k.SwitchMoleculeAction.prototype = new k._Action();
    k.innerForward = function () {
      this.sketcher.loadMolecule(this.molA);
    };
    k.innerReverse = function () {
      this.sketcher.molecules = this.beforeMols;
      this.sketcher.shapes = this.beforeShapes;
    };
  })(ChemDoodle.uis.actions);
  (function (k, b) {
    k.HistoryManager = function (b) {
      this.sketcher = b;
      this.undoStack = [];
      this.redoStack = [];
    };
    k = k.HistoryManager.prototype;
    k.undo = function () {
      if (0 !== this.undoStack.length) {
        this.sketcher.lasso &&
          this.sketcher.lasso.isActive() &&
          this.sketcher.lasso.empty();
        let b = this.undoStack.pop();
        b.reverse(this.sketcher);
        this.redoStack.push(b);
        0 === this.undoStack.length &&
          this.sketcher.toolbarManager.buttonUndo.disable();
        this.sketcher.toolbarManager.buttonRedo.enable();
      }
    };
    k.redo = function () {
      if (0 !== this.redoStack.length) {
        this.sketcher.lasso &&
          this.sketcher.lasso.isActive() &&
          this.sketcher.lasso.empty();
        let b = this.redoStack.pop();
        b.forward(this.sketcher);
        this.undoStack.push(b);
        this.sketcher.toolbarManager.buttonUndo.enable();
        0 === this.redoStack.length &&
          this.sketcher.toolbarManager.buttonRedo.disable();
      }
    };
    k.pushUndo = function (b) {
      b.forward(this.sketcher);
      this.undoStack.push(b);
      0 !== this.redoStack.length && (this.redoStack = []);
      this.sketcher.toolbarManager.buttonUndo.enable();
      this.sketcher.toolbarManager.buttonRedo.disable();
    };
    k.clear = function () {
      0 !== this.undoStack.length &&
        ((this.undoStack = []),
        this.sketcher.toolbarManager.buttonUndo.disable());
      0 !== this.redoStack.length &&
        ((this.redoStack = []),
        this.sketcher.toolbarManager.buttonRedo.disable());
    };
  })(ChemDoodle.uis.actions);
  (function (k, b, n, f, r, h, d, l, w, u, v) {
    f._State = function () {};
    let q = f._State.prototype;
    q.setup = function (b) {
      this.sketcher = b;
    };
    q.clearHover = function () {
      this.sketcher.hovering &&
        ((this.sketcher.hovering.isHover = !1),
        (this.sketcher.hovering.isSelected = !1),
        (this.sketcher.hovering = v));
    };
    q.findHoveredObject = function (b, e, l, q) {
      this.clearHover();
      var u = Infinity;
      let a,
        c = 10;
      this.sketcher.isMobile || (c /= this.sketcher.styles.scale);
      if (e)
        for (let d = 0, f = this.sketcher.molecules.length; d < f; d++) {
          e = this.sketcher.molecules[d];
          for (let d = 0, f = e.atoms.length; d < f; d++) {
            var g = e.atoms[d];
            g.isHover = !1;
            let f = b.p.distance(g);
            f < c && f < u && ((u = f), (a = g));
          }
        }
      if (l)
        for (let d = 0, f = this.sketcher.molecules.length; d < f; d++) {
          l = this.sketcher.molecules[d];
          for (let d = 0, f = l.bonds.length; d < f; d++)
            (e = l.bonds[d]),
              (e.isHover = !1),
              (g = k.distanceFromPointToLineInclusive(b.p, e.a1, e.a2, c / 2)),
              -1 !== g && g < c && g < u && ((u = g), (a = e));
        }
      if (q) {
        for (let k = 0, y = this.sketcher.shapes.length; k < y; k++)
          if (
            ((q = this.sketcher.shapes[k]),
            (q.isHover = !1),
            (q.hoverPoint = v),
            !(this instanceof f.RepeatUnitState) ||
              (q instanceof d.RepeatUnit && q.contents.flippable))
          ) {
            l = q.getPoints();
            for (let d = 0, f = l.length; d < f; d++)
              (e = l[d]),
                (g = b.p.distance(e)),
                g < c && g < u && ((u = g), (a = q), (q.hoverPoint = e));
            if (this instanceof f.EraseState && q instanceof d.VAP) {
              q.hoverBond = v;
              q.substituent &&
                ((l = q.substituent),
                (e = b.p.distance(
                  new h.Point(
                    (q.asterisk.x + l.x) / 2,
                    (q.asterisk.y + l.y) / 2
                  )
                )),
                e < c && e < u && ((u = e), (q.hoverBond = l), (a = q)));
              for (let g = 0, d = q.attachments.length; g < d; g++)
                (l = q.attachments[g]),
                  (e = b.p.distance(
                    new h.Point(
                      (q.asterisk.x + l.x) / 2,
                      (q.asterisk.y + l.y) / 2
                    )
                  )),
                  e < c && e < u && ((u = e), (q.hoverBond = l), (a = q));
            }
          }
        if (!a)
          for (let e = 0, g = this.sketcher.shapes.length; e < g; e++)
            (u = this.sketcher.shapes[e]), u.isOver(b.p, c) && (a = u);
      }
      a && ((a.isHover = !0), (this.sketcher.hovering = a));
    };
    q.getOptimumAngle = function (b, e) {
      let d = this.sketcher.getMoleculeByAtom(b),
        f = d.getAngles(b),
        h = 0;
      if (0 === f.length) h = w.PI / 6;
      else if (1 === f.length) {
        let a;
        for (let c = 0, b = d.bonds.length; c < b; c++)
          d.bonds[c].contains(this.sketcher.hovering) && (a = d.bonds[c]);
        3 <= a.bondOrder || 3 <= e
          ? (h = f[0] + w.PI)
          : ((b = (f[0] % w.PI) * 2),
            (h =
              k.isBetween(b, 0, w.PI / 2) ||
              k.isBetween(b, w.PI, (3 * w.PI) / 2)
                ? f[0] + (2 * w.PI) / 3
                : f[0] - (2 * w.PI) / 3));
      } else {
        let a;
        for (let c = 0, g = d.rings.length; c < g; c++)
          (e = d.rings[c]),
            -1 !== e.atoms.indexOf(b) &&
              (f.push(b.angle(e.getCenter())), (a = !0));
        a &&
          f.sort(function (a, b) {
            return a - b;
          });
        h = k.angleBetweenLargest(f).angle;
      }
      return h;
    };
    q.removeStartAtom = function () {
      this.sketcher.startAtom &&
        ((this.sketcher.startAtom.x = -10),
        (this.sketcher.startAtom.y = -10),
        this.sketcher.repaint());
    };
    q.placeRequiredAtom = function (b) {
      let e = new h.Atom("C", b.p.x, b.p.y);
      this.sketcher.hovering = e;
      this.sketcher.hovering.isHover = !0;
      this.sketcher.historyManager.pushUndo(
        new n.NewMoleculeAction(this.sketcher, [e], [])
      );
      this.innermousedown(b);
    };
    q.enter = function () {
      this.sketcher.cursorManager.setCursor(r.CursorManager.CROSSHAIR);
      this.innerenter && this.innerenter();
    };
    q.exit = function () {
      this.innerexit && this.innerexit();
    };
    q.click = function (b) {
      this.innerclick && this.innerclick(b);
    };
    q.rightclick = function (b) {
      this.innerrightclick && this.innerrightclick(b);
    };
    q.dblclick = function (b) {
      this.innerdblclick && this.innerdblclick(b);
      !this.sketcher.hovering &&
        this.sketcher.oneMolecule &&
        this.sketcher.toolbarManager.buttonCenter.func();
    };
    q.mousedown = function (b) {
      this.sketcher.lastPoint = b.p;
      this.sketcher.isHelp ||
      (this.sketcher.isMobile &&
        10 > b.op.distance(new h.Point(this.sketcher.width - 20, 20)))
        ? this.sketcher.isHelp || (this.sketcher.doEventDefault = !0)
        : this.innermousedown && this.innermousedown(b);
    };
    q.rightmousedown = function (b) {
      this.innerrightmousedown && this.innerrightmousedown(b);
    };
    q.mousemove = function (b) {
      this.sketcher.lastMousePos = b.p;
      this.innermousemove && this.innermousemove(b);
      this.sketcher.isHelp
        ? this.sketcher.cursorManager.setCursor(r.CursorManager.POINTER)
        : this.sketcher.cursorManager.getCurrentCursor() ===
            r.CursorManager.POINTER &&
          this.sketcher.cursorManager.setPreviousCursor();
      this.sketcher.repaint();
    };
    q.mouseout = function (d) {
      this.sketcher.lastMousePos = v;
      this.innermouseout && this.innermouseout(d);
      this.sketcher.isHelp &&
        ((this.sketcher.isHelp = !1), this.sketcher.repaint());
      this.sketcher.hovering &&
        b.CANVAS_DRAGGING != this.sketcher &&
        ((this.sketcher.hovering = v), this.sketcher.repaint());
    };
    q.mouseover = function (b) {
      this.innermouseover && this.innermouseover(b);
    };
    q.mouseup = function (b) {
      this.parentAction = v;
      this.sketcher.isHelp ||
      (this.sketcher.isMobile &&
        this.sketcher.doEventDefault &&
        10 > b.op.distance(new h.Point(this.sketcher.width - 20, 20)))
        ? ((this.sketcher.isHelp = !1),
          (this.sketcher.lastPoint = v),
          this.sketcher.repaint(),
          u.open("https://web.chemdoodle.com/demos/2d-sketcher", "_blank"),
          (this.sketcher.doEventDefault = !1))
        : this.innermouseup && this.innermouseup(b);
    };
    q.rightmouseup = function (b) {
      this.innerrightmouseup && this.innerrightmouseup(b);
    };
    q.mousewheel = function (b, e) {
      this.innermousewheel && this.innermousewheel(b);
      this.sketcher.styles.scale += e / 50;
      this.sketcher.checkScale();
      this.sketcher.repaint();
    };
    q.drag = function (d) {
      this.innerdrag && this.innerdrag(d);
      if (!this.sketcher.hovering && !this.dontTranslateOnDrag) {
        if (b.SHIFT)
          if (this.parentAction) {
            var e = this.parentAction.center,
              f = e.angle(this.sketcher.lastPoint);
            f = e.angle(d.p) - f;
            this.parentAction.dif += f;
            for (let b = 0, d = this.parentAction.ps.length; b < d; b++) {
              let a = this.parentAction.ps[b],
                c = e.distance(a),
                g = e.angle(a) + f;
              a.x = e.x + c * w.cos(g);
              a.y = e.y - c * w.sin(g);
            }
            for (let b = 0, e = this.sketcher.molecules.length; b < e; b++)
              this.sketcher.molecules[b].check();
          } else
            (e = new h.Point(
              this.sketcher.width / 2,
              this.sketcher.height / 2
            )),
              (f = e.angle(this.sketcher.lastPoint)),
              (f = e.angle(d.p) - f),
              (this.parentAction = new n.RotateAction(
                this.sketcher.getAllPoints(),
                f,
                e
              )),
              this.sketcher.historyManager.pushUndo(this.parentAction);
        else {
          if (!this.sketcher.lastPoint) return;
          e = new h.Point(d.p.x, d.p.y);
          e.sub(this.sketcher.lastPoint);
          if (this.parentAction) {
            this.parentAction.dif.add(e);
            for (let b = 0, d = this.parentAction.ps.length; b < d; b++)
              this.parentAction.ps[b].add(e);
            this.sketcher.lasso &&
              this.sketcher.lasso.isActive() &&
              ((this.sketcher.lasso.bounds.minX += e.x),
              (this.sketcher.lasso.bounds.maxX += e.x),
              (this.sketcher.lasso.bounds.minY += e.y),
              (this.sketcher.lasso.bounds.maxY += e.y));
            for (let b = 0, e = this.sketcher.molecules.length; b < e; b++)
              this.sketcher.molecules[b].check();
          } else
            (this.parentAction = new n.MoveAction(
              this.sketcher.getAllPoints(),
              e
            )),
              this.sketcher.historyManager.pushUndo(this.parentAction);
        }
        this.sketcher.repaint();
      }
      this.sketcher.lastPoint = d.p;
    };
    q.keydown = function (d) {
      if (b.CANVAS_DRAGGING === this.sketcher)
        this.sketcher.lastPoint &&
          ((d.p = new h.Point(
            this.sketcher.lastPoint.x,
            this.sketcher.lastPoint.y
          )),
          this.drag(d));
      else if (b.META)
        90 === d.which
          ? this.sketcher.historyManager.undo()
          : 89 === d.which
          ? this.sketcher.historyManager.redo()
          : 83 === d.which
          ? this.sketcher.toolbarManager.buttonSave.func()
          : 79 === d.which
          ? this.sketcher.toolbarManager.buttonOpen.func()
          : 78 === d.which
          ? this.sketcher.toolbarManager.buttonClear.func()
          : 187 === d.which || 61 === d.which
          ? this.sketcher.toolbarManager.buttonScalePlus.func()
          : 189 === d.which || 109 === d.which
          ? this.sketcher.toolbarManager.buttonScaleMinus.func()
          : 65 === d.which
          ? this.sketcher.oneMolecule ||
            (this.sketcher.toolbarManager.buttonLasso.select(),
            this.sketcher.toolbarManager.buttonLasso.getElement().click(),
            this.sketcher.lasso.select(
              this.sketcher.getAllAtoms(),
              this.sketcher.shapes
            ))
          : 88 === d.which
          ? this.sketcher.copyPasteManager.copy(!0)
          : 67 === d.which
          ? this.sketcher.copyPasteManager.copy(!1)
          : 86 === d.which && this.sketcher.copyPasteManager.paste();
      else if (9 === d.which)
        this.sketcher.oneMolecule ||
          ((this.sketcher.lasso.block = !0),
          this.sketcher.toolbarManager.buttonLasso.select(),
          this.sketcher.toolbarManager.buttonLasso.getElement().click(),
          (this.sketcher.lasso.block = !1),
          b.SHIFT
            ? this.sketcher.lasso.selectNextShape()
            : this.sketcher.lasso.selectNextMolecule());
      else if (32 === d.which)
        this.sketcher.lasso && this.sketcher.lasso.empty(),
          this.sketcher.hovering instanceof h.Atom
            ? r.TextInput &&
              this.sketcher.stateManager.STATE_TEXT_INPUT.innerclick(d)
            : this.sketcher.stateManager.getCurrentState() ===
                this.sketcher.stateManager.STATE_LASSO &&
              (this.sketcher.floatDrawTools
                ? (this.sketcher.toolbarManager.buttonBond
                    .getLabelElement()
                    .click(),
                  this.sketcher.toolbarManager.buttonBond.getElement().click())
                : this.sketcher.toolbarManager.buttonSingle
                    .getElement()
                    .click());
      else if (13 === d.which)
        this.sketcher.hovering instanceof h.Atom &&
          this.sketcher.stateManager.STATE_TEXT_INPUT.lastLabel &&
          this.sketcher.stateManager.STATE_TEXT_INPUT.lastLabel !==
            this.sketcher.hovering.label &&
          this.sketcher.historyManager.pushUndo(
            new n.ChangeLabelAction(
              this.sketcher.hovering,
              this.sketcher.stateManager.STATE_TEXT_INPUT.lastLabel
            )
          );
      else if (37 <= d.which && 40 >= d.which) {
        var e = new h.Point();
        switch (d.which) {
          case 37:
            e.x = -10;
            break;
          case 38:
            e.y = -10;
            break;
          case 39:
            e.x = 10;
            break;
          case 40:
            e.y = 10;
        }
        this.sketcher.historyManager.pushUndo(
          new n.MoveAction(
            this.sketcher.lasso && this.sketcher.lasso.isActive()
              ? this.sketcher.lasso.getAllPoints()
              : this.sketcher.getAllPoints(),
            e
          )
        );
      } else if (
        187 === d.which ||
        189 === d.which ||
        61 === d.which ||
        109 === d.which
      )
        this.sketcher.hovering &&
          this.sketcher.hovering instanceof h.Atom &&
          this.sketcher.historyManager.pushUndo(
            new n.ChangeChargeAction(
              this.sketcher.hovering,
              187 === d.which || 61 === d.which ? 1 : -1
            )
          );
      else if (8 === d.which || 46 === d.which)
        this.sketcher.stateManager.STATE_ERASE.handleDelete();
      else if (48 <= d.which && 57 >= d.which) {
        if (this.sketcher.hovering) {
          var f = d.which - 48,
            q = [],
            u = [];
          if (this.sketcher.hovering instanceof h.Atom)
            if (((e = this.sketcher.hovering), b.SHIFT)) {
              if (2 < f && 9 > f) {
                var a = this.sketcher.getMoleculeByAtom(this.sketcher.hovering),
                  c = a.getAngles(this.sketcher.hovering),
                  g = (3 * w.PI) / 2;
                0 !== c.length && (g = k.angleBetweenLargest(c).angle);
                f = this.sketcher.stateManager.STATE_NEW_RING.getRing(
                  this.sketcher.hovering,
                  f,
                  this.sketcher.styles.bondLength_2D,
                  g,
                  !1
                );
                -1 === a.atoms.indexOf(f[0]) && q.push(f[0]);
                this.sketcher.bondExists(this.sketcher.hovering, f[0]) ||
                  u.push(new h.Bond(this.sketcher.hovering, f[0]));
                for (let c = 1, b = f.length; c < b; c++)
                  -1 === a.atoms.indexOf(f[c]) && q.push(f[c]),
                    this.sketcher.bondExists(f[c - 1], f[c]) ||
                      u.push(new h.Bond(f[c - 1], f[c]));
                this.sketcher.bondExists(
                  f[f.length - 1],
                  this.sketcher.hovering
                ) ||
                  u.push(new h.Bond(f[f.length - 1], this.sketcher.hovering));
              }
            } else {
              0 === f && (f = 10);
              c = new h.Point(
                this.sketcher.hovering.x,
                this.sketcher.hovering.y
              );
              g = this.getOptimumAngle(this.sketcher.hovering);
              let b = this.sketcher.hovering;
              for (let e = 0; e < f; e++) {
                var v = g + (1 === e % 2 ? w.PI / 3 : 0);
                c.x += this.sketcher.styles.bondLength_2D * w.cos(v);
                c.y -= this.sketcher.styles.bondLength_2D * w.sin(v);
                v = new h.Atom("C", c.x, c.y);
                let d = Infinity;
                for (
                  let c = 0, b = this.sketcher.molecules.length;
                  c < b;
                  c++
                ) {
                  let b = this.sketcher.molecules[c];
                  for (let c = 0, e = b.atoms.length; c < e; c++) {
                    let e = b.atoms[c],
                      g = e.distance(v);
                    g < d && ((d = g), (a = e));
                  }
                }
                5 > d ? (v = a) : q.push(v);
                this.sketcher.bondExists(b, v) || u.push(new h.Bond(b, v));
                b = v;
              }
            }
          else if (this.sketcher.hovering instanceof h.Bond)
            if (((e = this.sketcher.hovering.a1), b.SHIFT)) {
              if (2 < f && 9 > f) {
                f = this.sketcher.stateManager.STATE_NEW_RING.getOptimalRing(
                  this.sketcher.hovering,
                  f
                );
                a = this.sketcher.hovering.a2;
                c = this.sketcher.hovering.a1;
                g = this.sketcher.getMoleculeByAtom(a);
                f[0] === this.sketcher.hovering.a1 &&
                  ((a = this.sketcher.hovering.a1),
                  (c = this.sketcher.hovering.a2));
                -1 === g.atoms.indexOf(f[1]) && q.push(f[1]);
                this.sketcher.bondExists(a, f[1]) ||
                  u.push(new h.Bond(a, f[1]));
                for (let a = 2, c = f.length; a < c; a++)
                  -1 === g.atoms.indexOf(f[a]) && q.push(f[a]),
                    this.sketcher.bondExists(f[a - 1], f[a]) ||
                      u.push(new h.Bond(f[a - 1], f[a]));
                this.sketcher.bondExists(f[f.length - 1], c) ||
                  u.push(new h.Bond(f[f.length - 1], c));
              }
            } else if (0 < f && 4 > f && this.sketcher.hovering.bondOrder !== f)
              this.sketcher.historyManager.pushUndo(
                new n.ChangeBondAction(
                  this.sketcher.hovering,
                  f,
                  h.Bond.STEREO_NONE
                )
              );
            else if (7 === f || 8 === f)
              (a = h.Bond.STEREO_RECESSED),
                7 === f && (a = h.Bond.STEREO_PROTRUDING),
                this.sketcher.historyManager.pushUndo(
                  new n.ChangeBondAction(this.sketcher.hovering, 1, a)
                );
          (0 === q.length && 0 === u.length) ||
            this.sketcher.historyManager.pushUndo(
              new n.AddAction(this.sketcher, e, q, u)
            );
        }
      } else if (65 <= d.which && 90 >= d.which && this.sketcher.hovering)
        if (this.sketcher.hovering instanceof h.Atom) {
          e = String.fromCharCode(d.which);
          f = !1;
          for (let a = 0, c = l.length; a < c; a++)
            if (this.sketcher.hovering.label.charAt(0) === e)
              l[a] === this.sketcher.hovering.label
                ? (f = !0)
                : l[a].charAt(0) === e &&
                  (f && !u ? (u = l[a]) : q || (q = l[a]));
            else if (l[a].charAt(0) === e) {
              q = l[a];
              break;
            }
          e = "C";
          u ? (e = u) : q && (e = q);
          e !== this.sketcher.hovering.label &&
            this.sketcher.historyManager.pushUndo(
              new n.ChangeLabelAction(this.sketcher.hovering, e)
            );
        } else
          this.sketcher.hovering instanceof h.Bond &&
            70 === d.which &&
            this.sketcher.historyManager.pushUndo(
              new n.FlipBondAction(this.sketcher.hovering)
            );
      this.innerkeydown && this.innerkeydown(d);
    };
    q.keypress = function (b) {
      this.innerkeypress && this.innerkeypress(b);
    };
    q.keyup = function (d) {
      b.CANVAS_DRAGGING === this.sketcher &&
        this.sketcher.lastPoint &&
        ((d.p = new h.Point(
          this.sketcher.lastPoint.x,
          this.sketcher.lastPoint.y
        )),
        this.sketcher.drag(d));
      this.innerkeyup && this.innerkeyup(d);
    };
  })(
    ChemDoodle.math,
    ChemDoodle.monitor,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    ChemDoodle.SYMBOLS,
    Math,
    window
  );
  (function (k, b, n) {
    b.AttributeInputState = function (b) {
      this.setup(b);
    };
    k = b.AttributeInputState.prototype = new b._State();
    k.innerclick = function (b) {
      this.mobileHover && (this.sketcher.hovering = this.mobileHover);
      if (this.sketcher.hovering) {
        let f = this.sketcher.dialogManager.isotopePopup;
        1 === this.type
          ? (f = this.sketcher.dialogManager.implicitHydrogenPopup)
          : 2 === this.type &&
            (f = this.sketcher.dialogManager.enhancedStereoPopup);
        f.populate(this.sketcher.hovering);
        f.show(b);
      }
    };
    k.innermouseup = function (b) {
      this.sketcher.isMobile &&
        this.sketcher.hovering &&
        (this.mobileHover = this.sketcher.hovering);
    };
    k.innermousemove = function (b) {
      this.findHoveredObject(b, !0, !1);
    };
  })(ChemDoodle.uis.actions, ChemDoodle.uis.states);
  (function (k, b, n) {
    b.ChargeState = function (b) {
      this.setup(b);
    };
    b = b.ChargeState.prototype = new b._State();
    b.delta = 1;
    b.innermouseup = function (b) {
      this.sketcher.hovering &&
        this.sketcher.historyManager.pushUndo(
          new k.ChangeChargeAction(this.sketcher.hovering, this.delta)
        );
    };
    b.innermousemove = function (b) {
      this.findHoveredObject(b, !0, !1);
    };
  })(ChemDoodle.uis.actions, ChemDoodle.uis.states);
  (function (k, b, n, f, r, h, d, l) {
    function w(b, f, h, l, e, k) {
      e &&
        d.abs(e.t) === k &&
        ((b.fillStyle = f.colorHover),
        b.beginPath(),
        0 < e.t
          ? (b.moveTo(h, l), b.lineTo(h + 4, l - 4), b.lineTo(h + 8, l))
          : (b.moveTo(h, l + 4),
            b.lineTo(h + 4, l + 8),
            b.lineTo(h + 8, l + 4)),
        b.closePath(),
        b.fill());
      b.strokeStyle = "blue";
      b.beginPath();
      b.moveTo(h, l);
      b.lineTo(h + 4, l - 4);
      b.lineTo(h + 8, l);
      b.moveTo(h, l + 4);
      b.lineTo(h + 4, l + 8);
      b.lineTo(h + 8, l + 4);
      b.stroke();
    }
    h.RepeatUnitState = function (b) {
      this.setup(b);
      this.dontTranslateOnDrag = !0;
    };
    h = h.RepeatUnitState.prototype = new h._State();
    h.superDoubleClick = h.dblclick;
    h.dblclick = function (b) {
      this.control || this.superDoubleClick(b);
    };
    h.innermousedown = function (b) {
      if (this.control) {
        b = !0;
        var f = 0 < this.control.t ? 1 : -1;
        switch (d.abs(this.control.t)) {
          case 1:
            f = this.control.s.n1 + f;
            if (0 > f || f > this.control.s.n2) b = !1;
            break;
          case 2:
            if (((f = this.control.s.n2 + f), 20 < f || f < this.control.s.n1))
              b = !1;
        }
        b &&
          (this.sketcher.historyManager.pushUndo(
            new r.ChangeRepeatUnitAttributeAction(
              this.control.s,
              this.control.t
            )
          ),
          this.sketcher.repaint());
      } else
        this.sketcher.hovering &&
        this.start !== this.sketcher.hovering &&
        this.sketcher.hovering instanceof n.Bond
          ? this.start || (this.start = this.sketcher.hovering)
          : ((this.end = this.start = l), this.sketcher.repaint());
    };
    h.innerdrag = function (b) {
      this.control = l;
      this.start &&
        ((this.end = new n.Point(b.p.x, b.p.y)),
        this.findHoveredObject(b, !1, !0),
        this.sketcher.repaint());
    };
    h.innermouseup = function (b) {
      if (
        this.start &&
        this.sketcher.hovering &&
        this.sketcher.hovering !== this.start
      ) {
        b = !1;
        for (let h = 0, l = this.sketcher.shapes.length; h < l; h++) {
          let e = this.sketcher.shapes[h];
          if (
            e instanceof f.RepeatUnit &&
            ((e.b1 === this.start && e.b2 === this.sketcher.hovering) ||
              (e.b2 === this.start && e.b1 === this.sketcher.hovering))
          ) {
            var d = e;
            b = !0;
          }
        }
        d
          ? (b &&
              this.sketcher.historyManager.pushUndo(
                new r.DeleteShapeAction(this.sketcher, d)
              ),
            (this.end = this.start = l),
            this.sketcher.repaint())
          : ((d = new f.RepeatUnit(this.start, this.sketcher.hovering)),
            (this.end = this.start = l),
            this.sketcher.historyManager.pushUndo(
              new r.AddShapeAction(this.sketcher, d)
            ));
      } else
        this.sketcher.hovering instanceof f.RepeatUnit &&
          this.sketcher.historyManager.pushUndo(
            new r.FlipRepeatUnitAction(this.sketcher.hovering)
          );
    };
    h.innermousemove = function (d) {
      this.control = l;
      if (this.start) this.end = new n.Point(d.p.x, d.p.y);
      else
        for (let h = 0, l = this.sketcher.shapes.length; h < l; h++) {
          let l = this.sketcher.shapes[h];
          if (l instanceof f.RepeatUnit && !l.error) {
            let e = [];
            e.push({ x: l.textPos.x - 1, y: l.textPos.y + 6, v: 1 });
            e.push({ x: l.textPos.x + 13, y: l.textPos.y + 6, v: 2 });
            for (let f = 0, h = e.length; f < h; f++) {
              let h = e[f];
              if (
                b.isBetween(d.p.x, h.x, h.x + 8) &&
                b.isBetween(d.p.y, h.y - 4, h.y + 3)
              ) {
                this.control = { s: l, t: h.v };
                break;
              } else if (
                b.isBetween(d.p.x, h.x, h.x + 8) &&
                b.isBetween(d.p.y, h.y + 4 - 2, h.y + 8 + 3)
              ) {
                this.control = { s: l, t: -1 * h.v };
                break;
              }
            }
            if (this.control) break;
          }
        }
      this.control
        ? this.clearHover()
        : (this.findHoveredObject(d, !1, !0, !0),
          this.sketcher.hovering &&
            this.sketcher.hovering instanceof f._Shape &&
            !(this.sketcher.hovering instanceof f.RepeatUnit) &&
            this.clearHover());
      this.sketcher.repaint();
    };
    h.draw = function (b, d) {
      if (this.start && this.end) {
        b.strokeStyle = d.colorPreview;
        b.fillStyle = d.colorPreview;
        b.lineWidth = 1;
        d = this.start.getCenter();
        var h = this.end;
        this.sketcher.hovering &&
          this.sketcher.hovering !== this.start &&
          (h = this.sketcher.hovering.getCenter());
        b.beginPath();
        b.moveTo(d.x, d.y);
        b.lineTo(h.x, h.y);
        b.setLineDash([2]);
        b.stroke();
        b.setLineDash([]);
      } else {
        b.lineWidth = 2;
        b.lineJoin = "miter";
        b.lineCap = "butt";
        for (let q = 0, e = this.sketcher.shapes.length; q < e; q++)
          if (
            ((h = this.sketcher.shapes[q]),
            h instanceof f.RepeatUnit && !h.error)
          ) {
            let e = this.control && this.control.s === h ? this.control : l;
            w(b, d, h.textPos.x - 1, h.textPos.y + 6, e, 1);
            w(b, d, h.textPos.x + 13, h.textPos.y + 6, e, 2);
          }
        this.sketcher.hovering &&
          this.sketcher.hovering instanceof f.RepeatUnit &&
          this.sketcher.hovering.contents.flippable &&
          ((h = this.sketcher.hovering),
          (b.font = k.getFontString(
            d.text_font_size,
            d.text_font_families,
            d.text_font_bold,
            d.text_font_italic
          )),
          (b.fillStyle = d.colorPreview),
          (b.textAlign = "left"),
          (b.textBaseline = "bottom"),
          b.fillText("flip?", h.textPos.x + (h.error ? 0 : 20), h.textPos.y));
      }
    };
  })(
    ChemDoodle.extensions,
    ChemDoodle.math,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    Math
  );
  (function (k, b, n, f, r, h) {
    b.EraseState = function (b) {
      this.setup(b);
    };
    b = b.EraseState.prototype = new b._State();
    b.innerenter = function (b) {
      this.sketcher.cursorManager.setCursor(n.CursorManager.ERASER);
    };
    b.handleDelete = function () {
      if (this.sketcher.lasso && this.sketcher.lasso.isActive()) {
        var b = new k.DeleteContentAction(
          this.sketcher,
          this.sketcher.lasso.atoms,
          this.sketcher.lasso.shapes
        );
        this.sketcher.lasso.empty();
      } else if (this.sketcher.hovering) {
        if (this.sketcher.hovering instanceof f.Atom)
          if (this.sketcher.oneMolecule) {
            b = this.sketcher.molecules[0];
            for (let e = 0, d = b.atoms.length; e < d; e++)
              b.atoms[e].visited = !1;
            var l = [],
              n = [];
            this.sketcher.hovering.visited = !0;
            for (let e = 0, d = b.bonds.length; e < d; e++) {
              var u = b.bonds[e];
              if (u.contains(this.sketcher.hovering)) {
                var v = [],
                  q = [],
                  y = new f.Queue();
                for (
                  y.enqueue(u.getNeighbor(this.sketcher.hovering));
                  !y.isEmpty();

                )
                  if (((u = y.dequeue()), !u.visited)) {
                    u.visited = !0;
                    v.push(u);
                    for (let e = 0, a = b.bonds.length; e < a; e++) {
                      let a = b.bonds[e];
                      a.contains(u) &&
                        !a.getNeighbor(u).visited &&
                        (y.enqueue(a.getNeighbor(u)), q.push(a));
                    }
                  }
                l.push(v);
                n.push(q);
              }
            }
            v = q = -1;
            for (let b = 0, e = l.length; b < e; b++)
              l[b].length > q && ((v = b), (q = l[b].length));
            if (-1 < v) {
              q = [];
              y = [];
              var e;
              for (let d = 0, f = b.atoms.length; d < f; d++)
                (u = b.atoms[d]),
                  -1 === l[v].indexOf(u) ? q.push(u) : e || (e = u);
              for (let e = 0, d = b.bonds.length; e < d; e++)
                (l = b.bonds[e]), -1 === n[v].indexOf(l) && y.push(l);
              b = new k.DeleteAction(this.sketcher, e, q, y);
            } else b = new k.ClearAction(this.sketcher);
          } else
            (e = this.sketcher.getMoleculeByAtom(this.sketcher.hovering)),
              (b = new k.DeleteAction(
                this.sketcher,
                e.atoms[0],
                [this.sketcher.hovering],
                e.getBonds(this.sketcher.hovering)
              ));
        else if (this.sketcher.hovering instanceof f.Bond) {
          if (!this.sketcher.oneMolecule || this.sketcher.hovering.ring)
            b = new k.DeleteAction(
              this.sketcher,
              this.sketcher.hovering.a1,
              h,
              [this.sketcher.hovering]
            );
        } else
          this.sketcher.hovering instanceof r._Shape &&
            ((e = this.sketcher.hovering),
            (b = e.hoverBond
              ? new k.DeleteVAPConnectionAction(e, e.hoverBond)
              : new k.DeleteShapeAction(this.sketcher, e)));
        this.sketcher.hovering.isHover = !1;
        this.sketcher.hovering = h;
        this.sketcher.repaint();
      }
      if (b) {
        this.sketcher.historyManager.pushUndo(b);
        for (e = this.sketcher.shapes.length - 1; 0 <= e; e--) {
          n = this.sketcher.shapes[e];
          if (n instanceof r.Pusher || n instanceof r.AtomMapping) {
            v = l = !1;
            for (let b = 0, e = this.sketcher.molecules.length; b < e; b++) {
              q = this.sketcher.molecules[b];
              for (let b = 0, a = q.atoms.length; b < a; b++)
                (y = q.atoms[b]),
                  y === n.o1 ? (l = !0) : y === n.o2 && (v = !0);
              for (let b = 0, a = q.bonds.length; b < a; b++)
                (y = q.bonds[b]),
                  y === n.o1 ? (l = !0) : y === n.o2 && (v = !0);
            }
            (l && v) || (b.ss.push(n), this.sketcher.removeShape(n));
          }
          if (n instanceof r.RepeatUnit) {
            v = l = !1;
            for (let b = 0, e = this.sketcher.molecules.length; b < e; b++) {
              q = this.sketcher.molecules[b];
              for (let b = 0, a = q.bonds.length; b < a; b++)
                (y = q.bonds[b]),
                  y === n.b1 ? (l = !0) : y === n.b2 && (v = !0);
            }
            (l && v) || (b.ss.push(n), this.sketcher.removeShape(n));
          }
          if (n instanceof r.VAP) {
            l = !1;
            for (let b = 0, e = this.sketcher.molecules.length; b < e; b++) {
              v = this.sketcher.molecules[b];
              for (let b = 0, a = v.atoms.length; b < a; b++)
                v.atoms[b].present = !0;
            }
            n.substituent && !n.substituent.present && (l = !0);
            if (!l)
              for (let b = 0, e = n.attachments.length; b < e; b++)
                if (!n.attachments[b].present) {
                  l = !0;
                  break;
                }
            for (let b = 0, e = this.sketcher.molecules.length; b < e; b++) {
              v = this.sketcher.molecules[b];
              for (let b = 0, a = v.atoms.length; b < a; b++)
                v.atoms[b].present = h;
            }
            l && (b.ss.push(n), this.sketcher.removeShape(n));
          }
        }
        this.sketcher.checksOnAction();
        this.sketcher.repaint();
      }
    };
    b.innermouseup = function (b) {
      this.handleDelete();
    };
    b.innermousemove = function (b) {
      this.findHoveredObject(b, !0, !0, !0);
    };
  })(
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.structures,
    ChemDoodle.structures.d2
  );
  (function (k, b, n, f, r, h) {
    f.LabelState = function (b) {
      this.setup(b);
    };
    f = f.LabelState.prototype = new f._State();
    f.label = "C";
    f.innermousedown = function (b) {
      this.downPoint = b.p;
      this.newMolAllowed = !0;
      this.sketcher.hovering &&
        ((this.sketcher.hovering.isHover = !1),
        (this.sketcher.hovering.isSelected = !0),
        this.sketcher.repaint());
    };
    f.innermouseup = function (d) {
      this.downPoint = h;
      if (this.sketcher.hovering)
        if (
          ((this.sketcher.hovering.isSelected = !1), this.sketcher.tempAtom)
        ) {
          let d = new b.Bond(this.sketcher.hovering, this.sketcher.tempAtom);
          this.sketcher.historyManager.pushUndo(
            new n.AddAction(this.sketcher, d.a1, [d.a2], [d])
          );
          this.sketcher.tempAtom = h;
        } else
          this.label !== this.sketcher.hovering.label &&
            this.sketcher.historyManager.pushUndo(
              new n.ChangeLabelAction(this.sketcher.hovering, this.label)
            );
      else
        !this.sketcher.oneMolecule &&
          this.newMolAllowed &&
          this.sketcher.historyManager.pushUndo(
            new n.NewMoleculeAction(
              this.sketcher,
              [new b.Atom(this.label, d.p.x, d.p.y)],
              []
            )
          );
      this.sketcher.isMobile || this.mousemove(d);
    };
    f.innermousemove = function (b) {
      this.findHoveredObject(b, !0, !1);
    };
    f.innerdrag = function (d) {
      this.downPoint &&
        3 < this.downPoint.distance(d.p) &&
        (this.newMolAllowed = !1);
      if (this.sketcher.hovering) {
        if (9 > this.sketcher.hovering.distance(d.p))
          this.sketcher.tempAtom = h;
        else if (15 > d.p.distance(this.sketcher.hovering)) {
          d = this.getOptimumAngle(this.sketcher.hovering);
          var f =
            this.sketcher.hovering.x +
            this.sketcher.styles.bondLength_2D * r.cos(d);
          d =
            this.sketcher.hovering.y -
            this.sketcher.styles.bondLength_2D * r.sin(d);
          this.sketcher.tempAtom = new b.Atom(this.label, f, d, 0);
        } else
          k.ALT && k.SHIFT
            ? (this.sketcher.tempAtom = new b.Atom(this.label, d.p.x, d.p.y, 0))
            : ((f = this.sketcher.hovering.angle(d.p)),
              (d = this.sketcher.hovering.distance(d.p)),
              k.SHIFT || (d = this.sketcher.styles.bondLength_2D),
              k.ALT || (f = (r.floor((f + r.PI / 12) / (r.PI / 6)) * r.PI) / 6),
              (this.sketcher.tempAtom = new b.Atom(
                this.label,
                this.sketcher.hovering.x + d * r.cos(f),
                this.sketcher.hovering.y - d * r.sin(f),
                0
              )));
        this.sketcher.repaint();
      }
    };
  })(
    ChemDoodle.monitor,
    ChemDoodle.structures,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    Math
  );
  (function (k, b, n, f, r, h, d, l, w, u) {
    let v = u,
      q = !1;
    h.LassoState = function (b) {
      this.setup(b);
      this.dontTranslateOnDrag = !0;
    };
    h = h.LassoState.prototype = new h._State();
    h.innerdrag = function (d) {
      this.inDrag = !0;
      if (this.sketcher.lasso.isActive() && v) {
        if (this.sketcher.lastPoint)
          if (1 === v) {
            var e = new n.Point(d.p.x, d.p.y);
            e.sub(this.sketcher.lastPoint);
            if (this.parentAction) {
              this.parentAction.dif.add(e);
              for (let b = 0, d = this.parentAction.ps.length; b < d; b++)
                this.parentAction.ps[b].add(e);
              this.parentAction.checks(this.sketcher);
            } else
              (this.parentAction = new r.MoveAction(
                this.sketcher.lasso.getAllPoints(),
                e
              )),
                this.sketcher.historyManager.pushUndo(this.parentAction);
          } else if (2 === v)
            if (this.parentAction) {
              e = this.parentAction.center;
              var h = e.angle(this.sketcher.lastPoint);
              d = e.angle(d.p) - h;
              this.parentAction.dif += d;
              for (let b = 0, f = this.parentAction.ps.length; b < f; b++) {
                h = this.parentAction.ps[b];
                let a = e.distance(h),
                  c = e.angle(h) + d;
                h.x = e.x + a * w.cos(c);
                h.y = e.y - a * w.sin(c);
              }
              this.parentAction.checks(this.sketcher);
            } else
              (e = new n.Point(
                (this.sketcher.lasso.bounds.minX +
                  this.sketcher.lasso.bounds.maxX) /
                  2,
                (this.sketcher.lasso.bounds.minY +
                  this.sketcher.lasso.bounds.maxY) /
                  2
              )),
                (h = e.angle(this.sketcher.lastPoint)),
                (d = e.angle(d.p) - h),
                (this.parentAction = new r.RotateAction(
                  this.sketcher.lasso.getAllPoints(),
                  d,
                  e
                )),
                this.sketcher.historyManager.pushUndo(this.parentAction);
      } else if (this.sketcher.hovering) {
        if (this.sketcher.lastPoint)
          if (
            ((d = new n.Point(d.p.x, d.p.y)),
            d.sub(this.sketcher.lastPoint),
            this.parentAction)
          ) {
            this.parentAction.dif.add(d);
            for (let b = 0, e = this.parentAction.ps.length; b < e; b++)
              this.parentAction.ps[b].add(d);
            this.parentAction.checks(this.sketcher);
          } else
            this.sketcher.hovering instanceof n.Atom
              ? (e = b.SHIFT
                  ? [this.sketcher.hovering]
                  : this.sketcher.getMoleculeByAtom(this.sketcher.hovering)
                      .atoms)
              : this.sketcher.hovering instanceof n.Bond
              ? (e = [this.sketcher.hovering.a1, this.sketcher.hovering.a2])
              : this.sketcher.hovering instanceof f._Shape &&
                (e = this.sketcher.hovering.hoverPoint
                  ? [this.sketcher.hovering.hoverPoint]
                  : this.sketcher.hovering.getPoints()),
              (this.parentAction = new r.MoveAction(e, d)),
              this.sketcher.historyManager.pushUndo(this.parentAction);
      } else this.sketcher.lasso.addPoint(d.p), this.sketcher.repaint();
    };
    h.innermousedown = function (d) {
      this.inDrag = !1;
      v = u;
      let e = this.sketcher.cursorManager.getCurrentCursor();
      if (this.sketcher.lasso.isActive() && !b.SHIFT) {
        let b = 25 / this.sketcher.styles.scale;
        k.isBetween(
          d.p.x,
          this.sketcher.lasso.bounds.minX,
          this.sketcher.lasso.bounds.maxX
        ) &&
        k.isBetween(
          d.p.y,
          this.sketcher.lasso.bounds.minY,
          this.sketcher.lasso.bounds.maxY
        )
          ? ((v = 1), (e = l.CursorManager.HAND_CLOSE))
          : k.isBetween(
              d.p.x,
              this.sketcher.lasso.bounds.minX - b,
              this.sketcher.lasso.bounds.maxX + b
            ) &&
            k.isBetween(
              d.p.y,
              this.sketcher.lasso.bounds.minY - b,
              this.sketcher.lasso.bounds.maxY + b
            ) &&
            (v = 2);
      } else
        this.sketcher.hovering
          ? (e = l.CursorManager.HAND_CLOSE)
          : (this.sketcher.lasso.addPoint(d.p), this.sketcher.repaint());
      this.sketcher.cursorManager.setCursor(e);
    };
    h.innermouseup = function (b) {
      v || this.sketcher.hovering || this.sketcher.lasso.select();
      this.innermousemove(b);
    };
    h.innerclick = function (b) {
      if (!v && !this.inDrag)
        if (this.sketcher.hovering) {
          b = [];
          let e = [];
          this.sketcher.hovering instanceof n.Atom
            ? b.push(this.sketcher.hovering)
            : this.sketcher.hovering instanceof n.Bond
            ? (b.push(this.sketcher.hovering.a1),
              b.push(this.sketcher.hovering.a2))
            : this.sketcher.hovering instanceof f._Shape &&
              e.push(this.sketcher.hovering);
          this.sketcher.lasso.select(b, e);
        } else this.sketcher.lasso.isActive() && this.sketcher.lasso.empty();
      v = u;
    };
    h.innermousemove = function (f) {
      let e = l.CursorManager.CROSSHAIR;
      if (!this.sketcher.lasso.isActive()) {
        var h = this.sketcher.lasso.mode !== d.Lasso.MODE_LASSO_SHAPES;
        this.findHoveredObject(f, h, h, !0);
        this.sketcher.hovering && (e = l.CursorManager.HAND_OPEN);
      } else if (!b.SHIFT) {
        h = !1;
        let b = 25 / this.sketcher.styles.scale,
          d =
            k.isBetween(
              f.p.x,
              this.sketcher.lasso.bounds.minX,
              this.sketcher.lasso.bounds.maxX
            ) &&
            k.isBetween(
              f.p.y,
              this.sketcher.lasso.bounds.minY,
              this.sketcher.lasso.bounds.maxY
            );
        !d &&
          k.isBetween(
            f.p.x,
            this.sketcher.lasso.bounds.minX - b,
            this.sketcher.lasso.bounds.maxX + b
          ) &&
          k.isBetween(
            f.p.y,
            this.sketcher.lasso.bounds.minY - b,
            this.sketcher.lasso.bounds.maxY + b
          ) &&
          (h = !0);
        h !== q && ((q = h), this.sketcher.repaint());
        d ? (e = l.CursorManager.HAND_OPEN) : q && (e = l.CursorManager.ROTATE);
      }
      this.sketcher.cursorManager.setCursor(e);
    };
    h.innerdblclick = function (b) {
      this.sketcher.lasso.isActive() && this.sketcher.lasso.empty();
    };
    h.draw = function (b, e) {
      if (q && this.sketcher.lasso.bounds) {
        b.fillStyle = e.colorSelect;
        b.globalAlpha = 0.1;
        e = 25 / this.sketcher.styles.scale;
        let d = this.sketcher.lasso.bounds;
        b.beginPath();
        b.rect(d.minX - e, d.minY - e, d.maxX - d.minX + 2 * e, e);
        b.rect(d.minX - e, d.maxY, d.maxX - d.minX + 2 * e, e);
        b.rect(d.minX - e, d.minY, e, d.maxY - d.minY);
        b.rect(d.maxX, d.minY, e, d.maxY - d.minY);
        b.fill();
        b.globalAlpha = 1;
      }
    };
  })(
    ChemDoodle.math,
    ChemDoodle.monitor,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.uis.tools,
    ChemDoodle.uis.gui.desktop,
    Math
  );
  (function (k, b, n) {
    b.LonePairState = function (b) {
      this.setup(b);
    };
    b = b.LonePairState.prototype = new b._State();
    b.delta = 1;
    b.innermouseup = function (b) {
      (0 > this.delta && 1 > this.sketcher.hovering.numLonePair) ||
        (this.sketcher.hovering &&
          this.sketcher.historyManager.pushUndo(
            new k.ChangeLonePairAction(this.sketcher.hovering, this.delta)
          ));
    };
    b.innermousemove = function (b) {
      this.findHoveredObject(b, !0, !1);
    };
  })(ChemDoodle.uis.actions, ChemDoodle.uis.states);
  (function (k, b, n, f, r) {
    b.MoveState = function (b) {
      this.setup(b);
    };
    b = b.MoveState.prototype = new b._State();
    b.action = r;
    b.innerdrag = function (b) {
      if (this.sketcher.hovering)
        if (this.action) {
          var d = new f.Point(b.p.x, b.p.y);
          d.sub(this.sketcher.lastPoint);
          this.action.dif.add(d);
          for (let b = 0, f = this.action.ps.length; b < f; b++)
            this.action.ps[b].add(d);
          for (let b = 0, d = this.sketcher.molecules.length; b < d; b++)
            this.sketcher.molecules[b].check();
          this.sketcher.repaint();
        } else
          (d = []),
            (b = new f.Point(b.p.x, b.p.y)),
            this.sketcher.hovering instanceof f.Atom
              ? (b.sub(this.sketcher.hovering), (d[0] = this.sketcher.hovering))
              : this.sketcher.hovering instanceof f.Bond &&
                (b.sub(this.sketcher.lastPoint),
                (d[0] = this.sketcher.hovering.a1),
                (d[1] = this.sketcher.hovering.a2)),
            (this.action = new k.MoveAction(d, b)),
            this.sketcher.historyManager.pushUndo(this.action);
    };
    b.innermousemove = function (b) {
      this.findHoveredObject(b, !0, !0);
      this.sketcher.hovering
        ? this.sketcher.cursorManager.setCursor(n.CursorManager.HAND_OPEN)
        : this.sketcher.cursorManager.setCursor(n.CursorManager.CROSSHAIR);
    };
    b.innermousedown = function (b) {
      this.findHoveredObject(b, !0, !0);
      this.sketcher.hovering &&
        this.sketcher.cursorManager.setCursor(n.CursorManager.HAND_CLOSE);
    };
    b.innermouseup = function (b) {
      this.action = r;
      this.sketcher.hovering
        ? this.sketcher.cursorManager.setCursor(n.CursorManager.HAND_OPEN)
        : this.sketcher.cursorManager.setCursor(n.CursorManager.CROSSHAIR);
    };
  })(
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.structures
  );
  (function (k, b, n, f, r, h) {
    n.NewBondState = function (b) {
      this.setup(b);
    };
    n = n.NewBondState.prototype = new n._State();
    n.bondOrder = 1;
    n.stereo = f.Bond.STEREO_NONE;
    n.incrementBondOrder = function (d) {
      this.newMolAllowed = !1;
      1 === this.bondOrder && this.stereo === f.Bond.STEREO_NONE
        ? this.sketcher.historyManager.pushUndo(new b.ChangeBondAction(d))
        : d.bondOrder === this.bondOrder && d.stereo === this.stereo
        ? ((1 >= d.bondOrder && d.stereo !== f.Bond.STEREO_NONE) ||
            (2 === d.bondOrder && d.stereo === f.Bond.STEREO_NONE)) &&
          this.sketcher.historyManager.pushUndo(new b.FlipBondAction(d))
        : this.sketcher.historyManager.pushUndo(
            new b.ChangeBondAction(d, this.bondOrder, this.stereo)
          );
    };
    n.innerexit = function () {
      this.removeStartAtom();
    };
    n.innerdrag = function (b) {
      this.newMolAllowed = !1;
      this.removeStartAtom();
      if (this.sketcher.hovering instanceof f.Atom) {
        if (15 > b.p.distance(this.sketcher.hovering)) {
          var d = this.getOptimumAngle(this.sketcher.hovering, this.bondOrder);
          b =
            this.sketcher.hovering.x +
            this.sketcher.styles.bondLength_2D * r.cos(d);
          d =
            this.sketcher.hovering.y -
            this.sketcher.styles.bondLength_2D * r.sin(d);
          this.sketcher.tempAtom = new f.Atom("C", b, d, 0);
        } else {
          let h = 1e3;
          for (let f = 0, l = this.sketcher.molecules.length; f < l; f++) {
            let l = this.sketcher.molecules[f];
            for (let f = 0, e = l.atoms.length; f < e; f++) {
              let e = l.atoms[f],
                q = e.distance(b.p);
              5 > q && (!d || q < h) && ((d = e), (h = q));
            }
          }
          d
            ? (this.sketcher.tempAtom = new f.Atom("C", d.x, d.y, 0))
            : k.ALT && k.SHIFT
            ? (this.sketcher.tempAtom = new f.Atom("C", b.p.x, b.p.y, 0))
            : ((d = this.sketcher.hovering.angle(b.p)),
              (b = this.sketcher.hovering.distance(b.p)),
              k.SHIFT || (b = this.sketcher.styles.bondLength_2D),
              k.ALT || (d = (r.floor((d + r.PI / 12) / (r.PI / 6)) * r.PI) / 6),
              (this.sketcher.tempAtom = new f.Atom(
                "C",
                this.sketcher.hovering.x + b * r.cos(d),
                this.sketcher.hovering.y - b * r.sin(d),
                0
              )));
        }
        for (let f = 0, h = this.sketcher.molecules.length; f < h; f++) {
          b = this.sketcher.molecules[f];
          for (let f = 0, h = b.atoms.length; f < h; f++)
            (d = b.atoms[f]),
              5 > d.distance(this.sketcher.tempAtom) &&
                ((this.sketcher.tempAtom.x = d.x),
                (this.sketcher.tempAtom.y = d.y),
                (this.sketcher.tempAtom.isOverlap = !0));
        }
        this.sketcher.repaint();
      }
    };
    n.innerclick = function (d) {
      this.sketcher.hovering ||
        this.sketcher.oneMolecule ||
        !this.newMolAllowed ||
        (this.sketcher.historyManager.pushUndo(
          new b.NewMoleculeAction(
            this.sketcher,
            [new f.Atom("C", d.p.x, d.p.y)],
            []
          )
        ),
        this.sketcher.isMobile || this.mousemove(d),
        (this.newMolAllowed = !1));
    };
    n.innermousedown = function (b) {
      this.newMolAllowed = !0;
      if (this.sketcher.hovering instanceof f.Atom)
        (this.sketcher.hovering.isHover = !1),
          (this.sketcher.hovering.isSelected = !0),
          this.drag(b);
      else if (this.sketcher.hovering instanceof f.Bond) {
        this.sketcher.hovering.isHover = !1;
        this.incrementBondOrder(this.sketcher.hovering);
        for (let b = 0, d = this.sketcher.molecules.length; b < d; b++)
          this.sketcher.molecules[b].check();
        this.sketcher.repaint();
      } else
        this.sketcher.hovering ||
          this.sketcher.requireStartingAtom ||
          this.placeRequiredAtom(b);
    };
    n.innermouseup = function (d) {
      if (this.sketcher.tempAtom && this.sketcher.hovering) {
        let d = [],
          h = [],
          k = !0;
        if (this.sketcher.tempAtom.isOverlap) {
          for (let b = 0, d = this.sketcher.molecules.length; b < d; b++) {
            var l = this.sketcher.molecules[b];
            for (let b = 0, d = l.atoms.length; b < d; b++) {
              let e = l.atoms[b];
              5 > e.distance(this.sketcher.tempAtom) &&
                (this.sketcher.tempAtom = e);
            }
          }
          if (
            (l = this.sketcher.getBond(
              this.sketcher.hovering,
              this.sketcher.tempAtom
            ))
          )
            this.incrementBondOrder(l), (k = !1);
        } else d.push(this.sketcher.tempAtom);
        k &&
          ((h[0] = new f.Bond(
            this.sketcher.hovering,
            this.sketcher.tempAtom,
            this.bondOrder
          )),
          (h[0].stereo = this.stereo),
          this.sketcher.historyManager.pushUndo(
            new b.AddAction(this.sketcher, h[0].a1, d, h)
          ));
      }
      this.sketcher.tempAtom = h;
      this.sketcher.isMobile || this.mousemove(d);
    };
    n.innermousemove = function (b) {
      this.sketcher.tempAtom ||
        (this.findHoveredObject(b, !0, !0),
        this.sketcher.startAtom &&
          (this.sketcher.hovering
            ? ((this.sketcher.startAtom.x = -10),
              (this.sketcher.startAtom.y = -10))
            : ((this.sketcher.startAtom.x = b.p.x),
              (this.sketcher.startAtom.y = b.p.y))));
    };
    n.innermouseout = function (b) {
      this.removeStartAtom();
    };
  })(
    ChemDoodle.monitor,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.structures,
    Math
  );
  (function (k, b, n, f, r, h, d) {
    f.NewChainState = function (b) {
      this.setup(b);
    };
    k = f.NewChainState.prototype = new f._State();
    k.getChain = function (d, f) {
      if (b.SHIFT) {
        var l = f.x - d.x,
          k = f.y - d.y;
        h.abs(l) > h.abs(k)
          ? ((f.x = d.x + l), (f.y = d.y))
          : ((f.x = d.x), (f.y = d.y + k));
      }
      l = [];
      var q = d;
      k = 2 * h.PI - d.angle(f);
      b.SHIFT || b.ALT || (k -= k % (h.PI / 24));
      var n = this.sketcher.styles.bondLength_2D;
      d = h.floor(d.distance(f) / (n * h.cos(h.PI / 6)));
      (f = 1 == h.round(k / (h.PI / 24)) % 2) && (k -= h.PI / 24);
      this.flipOverride && (f = !f);
      for (let b = 0; b < d; b++) {
        let e = (h.PI / 6) * (f ? 1 : -1);
        1 == (b & 1) && (e *= -1);
        let d = q.x + n * h.cos(k + e);
        q = q.y + n * h.sin(k + e);
        q = new r.Atom("C", d, q);
        l.push(q);
      }
      k = this.sketcher.getAllAtoms();
      for (let b = 0, d = k.length; b < d; b++) k[b].isOverlap = !1;
      for (let b = 0, d = l.length; b < d; b++) {
        n = Infinity;
        let e;
        for (let d = 0, a = k.length; d < a; d++)
          (q = k[d].distance(l[b])), q < n && ((n = q), (e = k[d]));
        5 > n && ((l[b] = e), (e.isOverlap = !0));
      }
      return l;
    };
    k.innerexit = function () {
      this.removeStartAtom();
    };
    k.innerdrag = function (b) {
      this.newMolAllowed = !1;
      this.removeStartAtom();
      this.sketcher.hovering &&
        ((this.sketcher.tempChain = this.getChain(
          this.sketcher.hovering,
          new r.Point(b.p.x, b.p.y)
        )),
        this.sketcher.repaint());
    };
    k.innerclick = function (b) {
      this.sketcher.hovering ||
        this.sketcher.oneMolecule ||
        !this.newMolAllowed ||
        (this.sketcher.historyManager.pushUndo(
          new n.NewMoleculeAction(
            this.sketcher,
            [new r.Atom("C", b.p.x, b.p.y)],
            []
          )
        ),
        this.sketcher.isMobile || this.mousemove(b),
        (this.newMolAllowed = !1));
    };
    k.innermousedown = function (b) {
      this.newMolAllowed = !0;
      this.sketcher.hovering
        ? ((this.sketcher.hovering.isHover = !1),
          (this.sketcher.hovering.isSelected = !0),
          this.drag(b))
        : this.sketcher.requireStartingAtom || this.placeRequiredAtom(b);
    };
    k.innermouseup = function (b) {
      if (
        this.sketcher.tempChain &&
        this.sketcher.hovering &&
        0 !== this.sketcher.tempChain.length
      ) {
        let b = [],
          d = [],
          f = this.sketcher.getAllAtoms();
        for (let h = 0, l = this.sketcher.tempChain.length; h < l; h++)
          -1 === f.indexOf(this.sketcher.tempChain[h]) &&
            b.push(this.sketcher.tempChain[h]),
            0 == h ||
              this.sketcher.bondExists(
                this.sketcher.tempChain[h - 1],
                this.sketcher.tempChain[h]
              ) ||
              d.push(
                new r.Bond(
                  this.sketcher.tempChain[h - 1],
                  this.sketcher.tempChain[h]
                )
              );
        this.sketcher.bondExists(
          this.sketcher.tempChain[0],
          this.sketcher.hovering
        ) ||
          d.push(
            new r.Bond(this.sketcher.tempChain[0], this.sketcher.hovering)
          );
        (0 === b.length && 0 === d.length) ||
          this.sketcher.historyManager.pushUndo(
            new n.AddAction(this.sketcher, this.sketcher.hovering, b, d)
          );
        for (let b = 0, d = f.length; b < d; b++) f[b].isOverlap = !1;
      }
      this.sketcher.tempChain = d;
      this.sketcher.isMobile || this.mousemove(b);
    };
    k.innermousemove = function (b) {
      this.sketcher.tempAtom ||
        (this.findHoveredObject(b, !0),
        this.sketcher.startAtom &&
          (this.sketcher.hovering
            ? ((this.sketcher.startAtom.x = -10),
              (this.sketcher.startAtom.y = -10))
            : ((this.sketcher.startAtom.x = b.p.x),
              (this.sketcher.startAtom.y = b.p.y))));
    };
    k.innermouseout = function (b) {
      this.removeStartAtom();
    };
  })(
    ChemDoodle.math,
    ChemDoodle.monitor,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.structures,
    Math
  );
  (function (k, b, n, f, r, h, d) {
    f.NewRingState = function (b) {
      this.setup(b);
    };
    f = f.NewRingState.prototype = new f._State();
    f.numSides = 6;
    f.unsaturated = !1;
    f.getRing = function (b, d, f, k, q) {
      let l = h.PI - (2 * h.PI) / d;
      k += l / 2;
      let e = [];
      for (let q = 0; q < d - 1; q++) {
        let d =
          0 === q
            ? new r.Atom("C", b.x, b.y)
            : new r.Atom("C", e[e.length - 1].x, e[e.length - 1].y);
        d.x += f * h.cos(k);
        d.y -= f * h.sin(k);
        e.push(d);
        k += h.PI + l;
      }
      for (let e = 0, d = this.sketcher.molecules.length; e < d; e++) {
        b = this.sketcher.molecules[e];
        for (let e = 0, a = b.atoms.length; e < a; e++)
          b.atoms[e].isOverlap = !1;
      }
      for (let h = 0, l = e.length; h < l; h++) {
        b = Infinity;
        let l;
        for (let a = 0, c = this.sketcher.molecules.length; a < c; a++) {
          d = this.sketcher.molecules[a];
          for (let a = 0, c = d.atoms.length; a < c; a++)
            (f = d.atoms[a].distance(e[h])),
              f < b && ((b = f), (l = d.atoms[a]));
        }
        5 > b && ((e[h] = l), q && (l.isOverlap = !0));
      }
      return e;
    };
    f.getOptimalRing = function (b, d) {
      var f = h.PI / 2 - h.PI / d,
        l = b.a1.distance(b.a2);
      let k = this.getRing(b.a1, d, l, b.a1.angle(b.a2) - f, !1);
      b = this.getRing(b.a2, d, l, b.a2.angle(b.a1) - f, !1);
      f = d = 0;
      for (let q = 1, e = k.length; q < e; q++)
        for (let e = 0, v = this.sketcher.molecules.length; e < v; e++) {
          l = this.sketcher.molecules[e];
          for (let e = 0, a = l.atoms.length; e < a; e++) {
            let a = l.atoms[e].distance(k[q]),
              g = l.atoms[e].distance(b[q]);
            d += h.min(1e8, 1 / (a * a));
            f += h.min(1e8, 1 / (g * g));
          }
        }
      return d < f ? k : b;
    };
    f.innerexit = function () {
      this.removeStartAtom();
    };
    f.innerdrag = function (d) {
      function f(b, d, f) {
        var e = h.PI / b;
        f = f / 2 / h.sin(e);
        e = f * h.cos(e);
        return 1 == b % 2 ? e + f : d ? 2 * e : 2 * f;
      }
      this.newMolAllowed = !1;
      this.removeStartAtom();
      if (this.sketcher.hovering instanceof r.Atom) {
        var l = 0,
          v = 0,
          q = this.numSides;
        if (-1 === q) {
          l = this.sketcher.hovering.angle(d.p);
          v = this.sketcher.styles.bondLength_2D;
          q = 3;
          for (d = this.sketcher.hovering.distance(d.p); d > f(q + 1, !1, v); )
            q++;
          b.ALT || (l = (h.floor((l + h.PI / 12) / (h.PI / 6)) * h.PI) / 6);
        } else
          15 > d.p.distance(this.sketcher.hovering)
            ? ((d = this.sketcher
                .getMoleculeByAtom(this.sketcher.hovering)
                .getAngles(this.sketcher.hovering)),
              (l =
                0 === d.length
                  ? (3 * h.PI) / 2
                  : k.angleBetweenLargest(d).angle),
              (v = this.sketcher.styles.bondLength_2D))
            : ((l = this.sketcher.hovering.angle(d.p)),
              (v = this.sketcher.hovering.distance(d.p)),
              (b.ALT && b.SHIFT) ||
                (b.SHIFT || (v = this.sketcher.styles.bondLength_2D),
                b.ALT ||
                  (l = (h.floor((l + h.PI / 12) / (h.PI / 6)) * h.PI) / 6)));
        this.sketcher.tempRing = this.getRing(
          this.sketcher.hovering,
          q,
          v,
          l,
          !0
        );
        this.sketcher.repaint();
      } else if (this.sketcher.hovering instanceof r.Bond) {
        q = k.distanceFromPointToLineInclusive(
          d.p,
          this.sketcher.hovering.a1,
          this.sketcher.hovering.a2
        );
        l = this.numSides;
        if (-1 === l) {
          l = 3;
          v = this.sketcher.hovering.getCenter().distance(d.p);
          for (
            var n = this.sketcher.hovering.a1.distance(
              this.sketcher.hovering.a2
            );
            v > f(l + 1, !0, n);

          )
            l++;
        }
        if (-1 !== q && 7 >= q)
          l = this.getOptimalRing(this.sketcher.hovering, l);
        else {
          v = h.PI / 2 - h.PI / l;
          n = this.sketcher.hovering.a1.distance(this.sketcher.hovering.a2);
          q = this.getRing(
            this.sketcher.hovering.a1,
            l,
            n,
            this.sketcher.hovering.a1.angle(this.sketcher.hovering.a2) - v,
            !1
          );
          l = this.getRing(
            this.sketcher.hovering.a2,
            l,
            n,
            this.sketcher.hovering.a2.angle(this.sketcher.hovering.a1) - v,
            !1
          );
          v = new r.Point();
          n = new r.Point();
          for (let b = 1, d = q.length; b < d; b++) v.add(q[b]), n.add(l[b]);
          v.x /= q.length - 1;
          v.y /= q.length - 1;
          n.x /= l.length - 1;
          n.y /= l.length - 1;
          v = v.distance(d.p);
          d = n.distance(d.p);
          v < d && (l = q);
        }
        for (let b = 1, d = l.length; b < d; b++)
          -1 !== this.sketcher.getAllAtoms().indexOf(l[b]) &&
            (l[b].isOverlap = !0);
        this.sketcher.tempRing = l;
        this.sketcher.repaint();
      }
    };
    f.innerclick = function (b) {
      this.sketcher.hovering ||
        this.sketcher.oneMolecule ||
        !this.newMolAllowed ||
        (this.sketcher.historyManager.pushUndo(
          new n.NewMoleculeAction(
            this.sketcher,
            [new r.Atom("C", b.p.x, b.p.y)],
            []
          )
        ),
        this.sketcher.isMobile || this.mousemove(b),
        (this.newMolAllowed = !1));
    };
    f.innermousedown = function (b) {
      this.newMolAllowed = !0;
      this.sketcher.hovering
        ? ((this.sketcher.hovering.isHover = !1),
          (this.sketcher.hovering.isSelected = !0),
          this.drag(b))
        : this.sketcher.requireStartingAtom || this.placeRequiredAtom(b);
    };
    f.innermouseup = function (f) {
      if (this.sketcher.tempRing && this.sketcher.hovering) {
        let d = [],
          f = [],
          k = this.sketcher.getAllAtoms(),
          e = this.unsaturated || (-1 === this.numSides && b.SHIFT);
        if (this.sketcher.hovering instanceof r.Atom) {
          -1 === k.indexOf(this.sketcher.tempRing[0]) &&
            d.push(this.sketcher.tempRing[0]);
          this.sketcher.bondExists(
            this.sketcher.hovering,
            this.sketcher.tempRing[0]
          ) ||
            f.push(
              new r.Bond(this.sketcher.hovering, this.sketcher.tempRing[0])
            );
          for (let b = 1, q = this.sketcher.tempRing.length; b < q; b++) {
            var h = this.sketcher.tempRing[b],
              l = this.sketcher.tempRing[b - 1];
            -1 === k.indexOf(h) && d.push(h);
            this.sketcher.bondExists(l, h) ||
              f.push(
                new r.Bond(
                  l,
                  h,
                  e &&
                  1 === b % 2 &&
                  1 < h.getImplicitHydrogenCount() &&
                  1 < l.getImplicitHydrogenCount()
                    ? 2
                    : 1
                )
              );
          }
          this.sketcher.bondExists(
            this.sketcher.tempRing[this.sketcher.tempRing.length - 1],
            this.sketcher.hovering
          ) ||
            f.push(
              new r.Bond(
                this.sketcher.tempRing[this.sketcher.tempRing.length - 1],
                this.sketcher.hovering,
                e &&
                1 === this.sketcher.tempRing.length % 2 &&
                1 <
                  this.sketcher.tempRing[
                    this.sketcher.tempRing.length - 1
                  ].getImplicitHydrogenCount() &&
                1 < this.sketcher.hovering.getImplicitHydrogenCount()
                  ? 2
                  : 1
              )
            );
        } else if (this.sketcher.hovering instanceof r.Bond) {
          l = this.sketcher.hovering.a2;
          h = this.sketcher.hovering.a1;
          this.sketcher.tempRing[0] === this.sketcher.hovering.a1 &&
            ((l = this.sketcher.hovering.a1), (h = this.sketcher.hovering.a2));
          -1 === k.indexOf(this.sketcher.tempRing[1]) &&
            d.push(this.sketcher.tempRing[1]);
          this.sketcher.bondExists(l, this.sketcher.tempRing[1]) ||
            f.push(new r.Bond(l, this.sketcher.tempRing[1]));
          for (let b = 2, h = this.sketcher.tempRing.length; b < h; b++) {
            l = this.sketcher.tempRing[b];
            let h = this.sketcher.tempRing[b - 1];
            -1 === k.indexOf(l) && d.push(l);
            this.sketcher.bondExists(h, l) ||
              f.push(
                new r.Bond(
                  h,
                  l,
                  e &&
                  0 === b % 2 &&
                  1 < l.getImplicitHydrogenCount() &&
                  1 < h.getImplicitHydrogenCount()
                    ? 2
                    : 1
                )
              );
          }
          this.sketcher.bondExists(
            this.sketcher.tempRing[this.sketcher.tempRing.length - 1],
            h
          ) ||
            f.push(
              new r.Bond(
                this.sketcher.tempRing[this.sketcher.tempRing.length - 1],
                h,
                e &&
                0 === this.sketcher.tempRing.length % 2 &&
                1 <
                  this.sketcher.tempRing[
                    this.sketcher.tempRing.length - 1
                  ].getImplicitHydrogenCount() &&
                1 < h.getImplicitHydrogenCount()
                  ? 2
                  : 1
              )
            );
        }
        (0 === d.length && 0 === f.length) ||
          this.sketcher.historyManager.pushUndo(
            new n.AddAction(this.sketcher, f[0].a1, d, f)
          );
        for (let b = 0, e = k.length; b < e; b++) k[b].isOverlap = !1;
      }
      this.sketcher.tempRing = d;
      this.sketcher.isMobile || this.mousemove(f);
    };
    f.innermousemove = function (b) {
      this.sketcher.tempAtom ||
        (this.findHoveredObject(b, !0, !0),
        this.sketcher.startAtom &&
          (this.sketcher.hovering
            ? ((this.sketcher.startAtom.x = -10),
              (this.sketcher.startAtom.y = -10))
            : ((this.sketcher.startAtom.x = b.p.x),
              (this.sketcher.startAtom.y = b.p.y))));
    };
    f.innermouseout = function (b) {
      this.removeStartAtom();
    };
  })(
    ChemDoodle.math,
    ChemDoodle.monitor,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.structures,
    Math
  );
  (function (k, b, n, f, r, h, d, l) {
    let w = new r.JSONInterpreter();
    f.NewTemplateState = function (b) {
      this.setup(b);
      this.template = {
        a: [
          { x: 270, i: "a0", y: 105 },
          { x: 252.6795, i: "a1", y: 115 },
          { x: 252.6795, i: "a2", y: 135 },
          { x: 270, i: "a3", y: 145 },
          { x: 287.3205, i: "a4", y: 135 },
          { x: 287.3205, i: "a5", y: 115 },
          { x: 270, i: "a6", y: 85 },
          { x: 287.3205, i: "a7", y: 75 },
          { x: 270, i: "a8", y: 165, l: "O" },
          { x: 252.6795, i: "a9", y: 175 },
          { x: 252.6795, i: "a10", y: 195 },
          { x: 252.6795, i: "a11", y: 215 },
          { x: 252.6795, i: "a12", y: 235, l: "Si" },
          { x: 272.6795, i: "a13", y: 235 },
          { x: 232.6795, i: "a14", y: 235 },
          { x: 252.6795, i: "a15", y: 255 },
        ],
        b: [
          { b: 0, e: 1, i: "b0", o: 2 },
          { b: 1, e: 2, i: "b1" },
          { b: 2, e: 3, i: "b2", o: 2 },
          { b: 3, e: 4, i: "b3" },
          { b: 4, e: 5, i: "b4", o: 2 },
          { b: 5, e: 0, i: "b5" },
          { b: 0, e: 6, i: "b6" },
          { b: 6, e: 7, i: "b7", o: 2 },
          { b: 3, e: 8, i: "b8" },
          { b: 8, e: 9, i: "b9" },
          { b: 9, e: 10, i: "b10" },
          { b: 10, e: 11, i: "b11", o: 3 },
          { b: 11, e: 12, i: "b12" },
          { b: 12, e: 13, i: "b13" },
          { b: 12, e: 14, i: "b14" },
          { b: 12, e: 15, i: "b15" },
        ],
      };
      this.attachPos = 0;
    };
    f = f.NewTemplateState.prototype = new f._State();
    f.getTemplate = function (f) {
      var h = this.sketcher.hovering;
      let l = w.molFrom(this.template);
      l.scaleToAverageBondLength(this.sketcher.styles.bondLength_2D);
      let u = l.atoms[this.attachPos];
      var e = h.angle(f),
        r = !0;
      if (!b.ALT)
        if (15 > h.distance(f)) {
          var n = this.sketcher
            .getMoleculeByAtom(this.sketcher.hovering)
            .getAngles(this.sketcher.hovering);
          0 === n.length
            ? ((e = 0), (r = !1))
            : (e =
                1 === n.length ? n[0] + d.PI : k.angleBetweenLargest(n).angle);
          var x = l.getAngles(u);
          e =
            1 === x.length
              ? e - (x[0] + (1 === n.length ? d.PI / 3 : 0))
              : e - (k.angleBetweenLargest(x).angle + d.PI);
        } else e = (d.round(e / (d.PI / 6)) * d.PI) / 6;
      n = h.x - u.x;
      x = h.y - u.y;
      for (let c = 0, b = l.atoms.length; c < b; c++) {
        var a = l.atoms[c];
        a.x += n;
        a.y += x;
      }
      if (r)
        for (let a = 0, g = l.atoms.length; a < g; a++)
          (r = l.atoms[a]),
            (n = r.angle(h) + e),
            (x = u.distance(r)),
            b.SHIFT &&
              (x *= h.distance(f) / this.sketcher.styles.bondLength_2D),
            (r.x = h.x - d.cos(n) * x),
            (r.y = h.y + d.sin(n) * x);
      f = this.sketcher.getAllAtoms();
      h = this.sketcher.getAllBonds();
      for (let b = 0, d = f.length; b < d; b++) {
        e = f[b];
        e.isOverlap = !1;
        r = [];
        for (let a = 0, b = l.atoms.length; a < b; a++)
          5 > e.distance(l.atoms[a]) && r.push(a);
        n = -1;
        for (let a = 0, b = r.length; a < b; a++)
          if (
            ((x = r[a]),
            -1 === n || e.distance(l.atoms[x]) < e.distance(l.atoms[n]))
          )
            n = x;
        if (-1 !== n) {
          r = l.atoms[n];
          l.atoms.splice(n, 1);
          if (e.x !== u.x || e.y !== u.y) e.isOverlap = !0;
          for (let b = 0, c = l.bonds.length; b < c; b++)
            if (
              ((n = l.bonds[b]),
              n.a1 === r
                ? ((n.a1 = e), (n.tmpreplace1 = !0))
                : n.a2 === r && ((n.a2 = e), (n.tmpreplace2 = !0)),
              n.tmpreplace1 && n.tmpreplace2)
            ) {
              x = !1;
              for (let b = 0, c = h.length; b < c; b++)
                if (
                  ((a = h[b]),
                  (n.a1 === a.a1 && n.a2 === a.a2) ||
                    (n.a2 === a.a1 && n.a1 === a.a2))
                ) {
                  x = !0;
                  break;
                }
              x && (l.bonds.splice(b--, 1), c--);
            }
        }
      }
      l.check();
      l.check(!0);
      return l;
    };
    f.innerexit = function () {
      this.removeStartAtom();
    };
    f.innerdrag = function (b) {
      this.newMolAllowed = !1;
      this.removeStartAtom();
      this.sketcher.hovering &&
        ((this.sketcher.tempTemplate = this.getTemplate(b.p)),
        this.sketcher.repaint());
    };
    f.innerclick = function (b) {
      this.sketcher.hovering ||
        this.sketcher.oneMolecule ||
        !this.newMolAllowed ||
        (this.sketcher.historyManager.pushUndo(
          new n.NewMoleculeAction(
            this.sketcher,
            [new h.Atom("C", b.p.x, b.p.y)],
            []
          )
        ),
        this.sketcher.isMobile || this.mousemove(b),
        (this.newMolAllowed = !1));
    };
    f.innermousedown = function (b) {
      this.newMolAllowed = !0;
      this.sketcher.hovering
        ? ((this.sketcher.hovering.isHover = !1),
          (this.sketcher.hovering.isSelected = !0),
          this.drag(b))
        : this.sketcher.requireStartingAtom || this.placeRequiredAtom(b);
    };
    f.innermouseup = function (b) {
      if (this.sketcher.hovering && this.sketcher.tempTemplate) {
        0 !== this.sketcher.tempTemplate.atoms.length &&
          this.sketcher.historyManager.pushUndo(
            new n.AddAction(
              this.sketcher,
              this.sketcher.hovering,
              this.sketcher.tempTemplate.atoms,
              this.sketcher.tempTemplate.bonds
            )
          );
        let b = this.sketcher.getAllAtoms();
        for (let d = 0, f = b.length; d < f; d++) b[d].isOverlap = !1;
        this.sketcher.tempTemplate = l;
      }
      this.sketcher.isMobile || this.mousemove(b);
    };
    f.innermousemove = function (b) {
      this.sketcher.tempAtom ||
        (this.findHoveredObject(b, !0),
        this.sketcher.startAtom &&
          (this.sketcher.hovering
            ? ((this.sketcher.startAtom.x = -10),
              (this.sketcher.startAtom.y = -10))
            : ((this.sketcher.startAtom.x = b.p.x),
              (this.sketcher.startAtom.y = b.p.y))));
    };
    f.innermouseout = function (b) {
      this.removeStartAtom();
    };
  })(
    ChemDoodle.math,
    ChemDoodle.monitor,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.io,
    ChemDoodle.structures,
    Math
  );
  (function (k, b, n, f, r) {
    f.PusherState = function (b) {
      this.setup(b);
      this.dontTranslateOnDrag = !0;
    };
    f = f.PusherState.prototype = new f._State();
    f.numElectron = 1;
    f.innermousedown = function (b) {
      this.sketcher.hovering && this.start !== this.sketcher.hovering
        ? this.start || (this.start = this.sketcher.hovering)
        : ((this.end = this.start = r), this.sketcher.repaint());
    };
    f.innerdrag = function (b) {
      this.start &&
        ((this.end = new k.Point(b.p.x, b.p.y)),
        this.findHoveredObject(b, !0, -10 != this.numElectron),
        this.sketcher.repaint());
    };
    f.innermouseup = function (f) {
      if (
        this.start &&
        this.sketcher.hovering &&
        this.sketcher.hovering !== this.start
      ) {
        f = !1;
        for (let h = 0, k = this.sketcher.shapes.length; h < k; h++) {
          let l = this.sketcher.shapes[h];
          if (l instanceof b.Pusher)
            if (l.o1 === this.start && l.o2 === this.sketcher.hovering)
              var d = l;
            else
              l.o2 === this.start &&
                l.o1 === this.sketcher.hovering &&
                ((d = l), (f = !0));
          else
            l instanceof b.AtomMapping &&
              ((l.o1 === this.start && l.o2 === this.sketcher.hovering) ||
                (l.o2 === this.start && l.o1 === this.sketcher.hovering)) &&
              ((d = l), (f = !0));
        }
        d
          ? (f &&
              this.sketcher.historyManager.pushUndo(
                new n.DeleteShapeAction(this.sketcher, d)
              ),
            (this.end = this.start = r),
            this.sketcher.repaint())
          : ((d =
              -10 == this.numElectron
                ? new b.AtomMapping(this.start, this.sketcher.hovering)
                : new b.Pusher(
                    this.start,
                    this.sketcher.hovering,
                    this.numElectron
                  )),
            (this.end = this.start = r),
            this.sketcher.historyManager.pushUndo(
              new n.AddShapeAction(this.sketcher, d)
            ));
      }
    };
    f.innermousemove = function (b) {
      this.start && (this.end = new k.Point(b.p.x, b.p.y));
      this.findHoveredObject(b, !0, -10 != this.numElectron);
      this.sketcher.repaint();
    };
    f.draw = function (b, d) {
      if (this.start && this.end) {
        b.strokeStyle = d.colorPreview;
        b.fillStyle = d.colorPreview;
        b.lineWidth = 1;
        d = this.start instanceof k.Atom ? this.start : this.start.getCenter();
        let f = this.end;
        this.sketcher.hovering &&
          this.sketcher.hovering !== this.start &&
          (f =
            this.sketcher.hovering instanceof k.Atom
              ? this.sketcher.hovering
              : this.sketcher.hovering.getCenter());
        b.beginPath();
        b.moveTo(d.x, d.y);
        b.lineTo(f.x, f.y);
        b.setLineDash([2]);
        b.stroke();
        b.setLineDash([]);
      }
    };
  })(
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states
  );
  (function (k, b, n, f, r) {
    b.QueryState = function (b) {
      this.setup(b);
    };
    k = b.QueryState.prototype = new b._State();
    k.innermouseup = function (b) {
      this.sketcher.hovering &&
        (this.sketcher.hovering instanceof n.Atom
          ? (this.sketcher.dialogManager.atomQueryDialog.setAtom(
              this.sketcher.hovering
            ),
            this.sketcher.dialogManager.atomQueryDialog.open())
          : this.sketcher.hovering instanceof n.Bond &&
            (this.sketcher.dialogManager.bondQueryDialog.setBond(
              this.sketcher.hovering
            ),
            this.sketcher.dialogManager.bondQueryDialog.open()));
    };
    k.innermousemove = function (b) {
      this.findHoveredObject(b, !0, !0, !1);
    };
  })(
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.structures,
    ChemDoodle.structures.d2
  );
  (function (k, b, n) {
    b.RadicalState = function (b) {
      this.setup(b);
    };
    b = b.RadicalState.prototype = new b._State();
    b.delta = 1;
    b.innermouseup = function (b) {
      (0 > this.delta && 1 > this.sketcher.hovering.numRadical) ||
        (this.sketcher.hovering &&
          this.sketcher.historyManager.pushUndo(
            new k.ChangeRadicalAction(this.sketcher.hovering, this.delta)
          ));
    };
    b.innermousemove = function (b) {
      this.findHoveredObject(b, !0, !1);
    };
  })(ChemDoodle.uis.actions, ChemDoodle.uis.states);
  (function (k, b, n, f, r, h, d, l) {
    function w(b, f, h, e, l, k) {
      l &&
        d.abs(l.t) === k &&
        ((b.fillStyle = f.colorHover),
        b.beginPath(),
        0 < l.t
          ? (b.moveTo(h, e), b.lineTo(h + 6, e - 6), b.lineTo(h + 12, e))
          : (b.moveTo(h, e + 6),
            b.lineTo(h + 6, e + 12),
            b.lineTo(h + 12, e + 6)),
        b.closePath(),
        b.fill());
      b.strokeStyle = "blue";
      b.beginPath();
      b.moveTo(h, e);
      b.lineTo(h + 6, e - 6);
      b.lineTo(h + 12, e);
      b.moveTo(h, e + 6);
      b.lineTo(h + 6, e + 12);
      b.lineTo(h + 12, e + 6);
      b.stroke();
    }
    h.ShapeState = function (b) {
      this.setup(b);
      this.dontTranslateOnDrag = !0;
    };
    let u = (h.ShapeState.prototype = new h._State());
    u.shapeType = h.ShapeState.LINE;
    u.superDoubleClick = u.dblclick;
    u.dblclick = function (b) {
      this.control || this.superDoubleClick(b);
    };
    u.innerexit = function (b) {
      this.shapeType = h.ShapeState.LINE;
      this.sketcher.repaint();
    };
    u.innermousemove = function (b) {
      this.control = l;
      if (this.shapeType === h.ShapeState.BRACKET) {
        for (let h = 0, e = this.sketcher.shapes.length; h < e; h++) {
          let e = this.sketcher.shapes[h];
          if (e instanceof f.Bracket) {
            var q = d.min(e.p1.x, e.p2.x);
            let f = d.max(e.p1.x, e.p2.x),
              h = d.min(e.p1.y, e.p2.y),
              a = d.max(e.p1.y, e.p2.y),
              c = [];
            c.push({ x: f + 5, y: h + 15, v: 1 });
            c.push({ x: f + 5, y: a + 15, v: 2 });
            c.push({ x: q - 17, y: (h + a) / 2 + 15, v: 3 });
            for (let a = 0, d = c.length; a < d; a++)
              if (
                ((q = c[a]),
                k.isBetween(b.p.x, q.x, q.x + 12) &&
                  k.isBetween(b.p.y, q.y - 6, q.y))
              ) {
                this.control = { s: e, t: q.v };
                break;
              } else if (
                k.isBetween(b.p.x, q.x, q.x + 12) &&
                k.isBetween(b.p.y, q.y + 6, q.y + 12)
              ) {
                this.control = { s: e, t: -1 * q.v };
                break;
              }
            if (this.control) break;
          }
        }
        this.sketcher.repaint();
      }
    };
    u.innermousedown = function (b) {
      this.control
        ? (this.sketcher.historyManager.pushUndo(
            new r.ChangeBracketAttributeAction(this.control.s, this.control.t)
          ),
          this.sketcher.repaint())
        : (this.end = this.start = new n.Point(b.p.x, b.p.y));
    };
    u.innerdrag = function (f) {
      this.end = new n.Point(f.p.x, f.p.y);
      if (this.shapeType === h.ShapeState.BRACKET) {
        if (b.SHIFT) {
          f = this.end.x - this.start.x;
          var l = this.end.y - this.start.y;
          0 > f && 0 < l ? (l *= -1) : 0 < f && 0 > l && (f *= -1);
          let b = l;
          d.abs(f) < d.abs(l) && (b = f);
          this.end.x = this.start.x + b;
          this.end.y = this.start.y + b;
        }
      } else
        b.ALT ||
          ((f = this.start.angle(this.end)),
          (l = this.start.distance(this.end)),
          b.ALT || (f = (d.floor((f + d.PI / 12) / (d.PI / 6)) * d.PI) / 6),
          (this.end.x = this.start.x + l * d.cos(f)),
          (this.end.y = this.start.y - l * d.sin(f)));
      this.sketcher.repaint();
    };
    u.innermouseup = function (b) {
      if (this.start && this.end) {
        let b;
        5 < this.start.distance(this.end) &&
          (this.shapeType >= h.ShapeState.LINE &&
          this.shapeType <= h.ShapeState.ARROW_EQUILIBRIUM
            ? ((b = new f.Line(this.start, this.end)),
              this.shapeType === h.ShapeState.ARROW_SYNTHETIC
                ? (b.arrowType = f.Line.ARROW_SYNTHETIC)
                : this.shapeType === h.ShapeState.ARROW_RETROSYNTHETIC
                ? (b.arrowType = f.Line.ARROW_RETROSYNTHETIC)
                : this.shapeType === h.ShapeState.ARROW_RESONANCE
                ? (b.arrowType = f.Line.ARROW_RESONANCE)
                : this.shapeType === h.ShapeState.ARROW_EQUILIBRIUM &&
                  (b.arrowType = f.Line.ARROW_EQUILIBRIUM))
            : this.shapeType === h.ShapeState.BRACKET &&
              (b = new f.Bracket(this.start, this.end)));
        this.end = this.start = l;
        b &&
          this.sketcher.historyManager.pushUndo(
            new r.AddShapeAction(this.sketcher, b)
          );
      }
    };
    u.draw = function (b, k) {
      if (this.start && this.end)
        (b.strokeStyle = k.colorPreview),
          (b.fillStyle = k.colorPreview),
          (b.lineWidth = 1),
          b.beginPath(),
          b.moveTo(this.start.x, this.start.y),
          this.shapeType === h.ShapeState.BRACKET
            ? (b.lineTo(this.end.x, this.start.y),
              b.lineTo(this.end.x, this.end.y),
              b.lineTo(this.start.x, this.end.y),
              b.lineTo(this.start.x, this.start.y))
            : b.lineTo(this.end.x, this.end.y),
          b.setLineDash([2]),
          b.stroke(),
          b.setLineDash([]);
      else if (this.shapeType === h.ShapeState.BRACKET) {
        b.lineWidth = 2;
        b.lineJoin = "miter";
        b.lineCap = "butt";
        for (let e = 0, h = this.sketcher.shapes.length; e < h; e++) {
          var q = this.sketcher.shapes[e];
          if (q instanceof f.Bracket) {
            let e = d.min(q.p1.x, q.p2.x),
              f = d.max(q.p1.x, q.p2.x),
              a = d.min(q.p1.y, q.p2.y),
              c = d.max(q.p1.y, q.p2.y);
            q = this.control && this.control.s === q ? this.control : l;
            w(b, k, f + 5, a + 15, q, 1);
            w(b, k, f + 5, c + 15, q, 2);
            w(b, k, e - 17, (a + c) / 2 + 15, q, 3);
          }
        }
      }
    };
    h.ShapeState.LINE = 1;
    h.ShapeState.ARROW_SYNTHETIC = 2;
    h.ShapeState.ARROW_RETROSYNTHETIC = 3;
    h.ShapeState.ARROW_RESONANCE = 4;
    h.ShapeState.ARROW_EQUILIBRIUM = 5;
    h.ShapeState.BRACKET = 10;
  })(
    ChemDoodle.math,
    ChemDoodle.monitor,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    Math
  );
  (function (k, b, n, f, r, h) {
    r.VAPState = function (b) {
      this.setup(b);
      this.dontTranslateOnDrag = !0;
    };
    r = r.VAPState.prototype = new r._State();
    r.innermousedown = function (b) {
      if (this.sketcher.hovering || (this.start && this.start instanceof n.VAP))
        if (this.sketcher.hovering && this.start !== this.sketcher.hovering)
          if (this.sketcher.hovering.hoverBond)
            if (((b = this.sketcher.hovering), b.hoverBond === b.substituent)) {
              var d = 1;
              1 === b.bondType || 2 === b.bondType
                ? (d = b.bondType + 1)
                : 3 === b.bondType && (d = 0.5);
              this.sketcher.historyManager.pushUndo(
                new f.ChangeVAPOrderAction(b, d)
              );
            } else
              this.sketcher.historyManager.pushUndo(
                new f.ChangeVAPSubstituentAction(
                  b,
                  this.sketcher.hovering.hoverBond
                )
              );
          else this.start || (this.start = this.sketcher.hovering);
        else (this.end = this.start = h), this.sketcher.repaint();
      else {
        d = !0;
        for (let f = 0, h = this.sketcher.shapes.length; f < h; f++) {
          let h = this.sketcher.shapes[f];
          h instanceof n.VAP && 30 > h.asterisk.distance(b.p) && (d = !1);
        }
        d &&
          ((b = new n.VAP(b.p.x, b.p.y)),
          this.sketcher.isMobile ||
            ((b.isHover = !0), (this.sketcher.hovering = b)),
          this.sketcher.historyManager.pushUndo(
            new f.AddShapeAction(this.sketcher, b)
          ));
      }
    };
    r.innerdrag = function (d) {
      this.start &&
        ((this.end = new b.Point(d.p.x, d.p.y)),
        this.findHoveredObject(
          d,
          this.start instanceof n.VAP,
          !1,
          this.start instanceof b.Atom
        ),
        this.sketcher.repaint());
    };
    r.innermouseup = function (b) {
      if (
        this.start &&
        this.sketcher.hovering &&
        this.sketcher.hovering !== this.start
      ) {
        b = this.sketcher.hovering;
        let d = this.start;
        if (d instanceof n.VAP) {
          let f = b;
          b = d;
          d = f;
        }
        b.substituent !== d &&
          -1 === b.attachments.indexOf(d) &&
          this.sketcher.historyManager.pushUndo(
            new f.AddVAPAttachementAction(b, d, b.substituent === h)
          );
        this.end = this.start = h;
        this.sketcher.repaint();
      }
    };
    r.innermousemove = function (d) {
      this.start
        ? ((this.end = new b.Point(d.p.x, d.p.y)),
          this.findHoveredObject(
            d,
            this.start instanceof n.VAP,
            !1,
            this.start instanceof b.Atom
          ))
        : this.findHoveredObject(d, !0, !0, !0);
      this.sketcher.repaint();
    };
    r.draw = function (b, f) {
      if (this.start && this.end) {
        b.strokeStyle = f.colorPreview;
        b.fillStyle = f.colorPreview;
        b.lineWidth = 1;
        f = this.start;
        let d = this.end;
        this.sketcher.hovering && (d = this.sketcher.hovering);
        f instanceof n.VAP && (f = f.asterisk);
        d instanceof n.VAP && (d = d.asterisk);
        b.beginPath();
        b.moveTo(f.x, f.y);
        b.lineTo(d.x, d.y);
        b.setLineDash([2]);
        b.stroke();
        b.setLineDash([]);
      }
    };
    r.findHoveredObject = function (b, f, r, u) {
      this.clearHover();
      let d = Infinity,
        l,
        y = 10;
      this.sketcher.isMobile || (y /= this.sketcher.styles.scale);
      if (f)
        for (let h = 0, k = this.sketcher.molecules.length; h < k; h++) {
          f = this.sketcher.molecules[h];
          for (let h = 0, a = f.atoms.length; h < a; h++) {
            var e = f.atoms[h];
            e.isHover = !1;
            let a = b.p.distance(e);
            a < y && a < d && ((d = a), (l = e));
          }
        }
      if (r)
        for (let q = 0, u = this.sketcher.shapes.length; q < u; q++)
          if (((r = this.sketcher.shapes[q]), r instanceof n.VAP)) {
            r.hoverBond = h;
            r.substituent &&
              ((f = r.substituent),
              (e = k.distanceFromPointToLineInclusive(
                b.p,
                r.asterisk,
                f,
                y / 2
              )),
              -1 !== e &&
                e < y &&
                e < d &&
                ((d = e), (r.hoverBond = f), (l = r)));
            for (let h = 0, a = r.attachments.length; h < a; h++)
              (f = r.attachments[h]),
                (e = k.distanceFromPointToLineInclusive(
                  b.p,
                  r.asterisk,
                  f,
                  y / 2
                )),
                -1 !== e &&
                  e < y &&
                  e < d &&
                  ((d = e), (r.hoverBond = f), (l = r));
          }
      if (u)
        for (let e = 0, f = this.sketcher.shapes.length; e < f; e++)
          (u = this.sketcher.shapes[e]),
            u instanceof n.VAP &&
              ((u.isHover = !1),
              (r = b.p.distance(u.asterisk)),
              r < y && r < d && ((d = r), (l = u)));
      l && ((l.isHover = !0), (this.sketcher.hovering = l));
    };
  })(
    ChemDoodle.math,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states
  );
  (function (k, b, n) {
    k.StateManager = function (f) {
      this.STATE_NEW_BOND = new k.NewBondState(f);
      this.STATE_NEW_RING = new k.NewRingState(f);
      this.STATE_NEW_CHAIN = new k.NewChainState(f);
      this.STATE_NEW_TEMPLATE = new k.NewTemplateState(f);
      k.TextInputState && (this.STATE_TEXT_INPUT = new k.TextInputState(f));
      this.STATE_CHARGE = new k.ChargeState(f);
      this.STATE_LONE_PAIR = new k.LonePairState(f);
      this.STATE_RADICAL = new k.RadicalState(f);
      this.STATE_ATTRIBUTE_INPUT = new k.AttributeInputState(f);
      this.STATE_MOVE = new k.MoveState(f);
      this.STATE_ERASE = new k.EraseState(f);
      this.STATE_LABEL = new k.LabelState(f);
      this.STATE_LASSO = new k.LassoState(f);
      this.STATE_SHAPE = new k.ShapeState(f);
      this.STATE_PUSHER = new k.PusherState(f);
      this.STATE_REPEAT_UNIT = new k.RepeatUnitState(f);
      this.STATE_VAP = new k.VAPState(f);
      this.STATE_QUERY = new k.QueryState(f);
      let r = this.STATE_NEW_BOND;
      r.enter();
      this.setState = function (h) {
        h !== r && (r.exit(), (r = h), r.enter());
        f.openTray &&
          "false" ===
            b("#" + f.openTray.dummy.id + "_label").attr("aria-pressed") &&
          f.openTray.close();
      };
      this.getCurrentState = function () {
        return r;
      };
    };
  })(ChemDoodle.uis.states, ChemDoodle.lib.jQuery);
  ChemDoodle.uis.gui.imageDepot = (function (k, b) {
    return {
      getURI: function (b) {
        return "data:image/svg+xml;base64," + b;
      },
      ADD_LONE_PAIR:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGNpcmNsZSByPSIyIiBjeD0iNiIgY3k9IjEwIiBzdHJva2U9Im5vbmUiICAgICAgLz48Y2lyY2xlIHI9IjIiIGN4PSIxNCIgY3k9IjEwIiBzdHJva2U9Im5vbmUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      ADD_RADICAL:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGNpcmNsZSByPSIyIiBjeD0iMTAiIGN5PSIxMCIgc3Ryb2tlPSJub25lIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      ANGLE:
        "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIzLjAuMywgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNOS41LDQuNQoJYy00Ljk3MSwwLTksNC4wMjktOSw5djJoMTh2LTJDMTguNSw4LjUyOSwxNC40NzEsNC41LDkuNSw0LjV6IE0zLjU4MywxMi41YzAuNDc4LTIuODM0LDIuOTQ5LTUsNS45MTctNXM1LjQzOSwyLjE2Niw1LjkxNyw1SDMuNTgzegoJIi8+CjxnPgoJCgkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjkuNSIgeTE9IjQuNSIgeDI9IjkuNSIgeTI9IjUuOTI1Ii8+CjwvZz4KPGc+CgkKCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iNi40MjIiIHkxPSI1LjA0MyIgeDI9IjYuOTA5IiB5Mj0iNi4zODIiLz4KPC9nPgo8Zz4KCQoJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIzLjcxNSIgeTE9IjYuNjA2IiB4Mj0iNC42MzEiIHkyPSI3LjY5NyIvPgo8L2c+CjxnPgoJCgkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjEuNzA2IiB5MT0iOSIgeDI9IjIuOTQiIHkyPSI5LjcxMyIvPgo8L2c+CjxnPgoJCgkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjAuNjM3IiB5MT0iMTEuOTM3IiB4Mj0iMi4wNCIgeTI9IjEyLjE4NSIvPgo8L2c+CjxnPgoJCgkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjE2Ljg3NiIgeTE9IjEyLjE5OSIgeDI9IjE4LjM2MyIgeTI9IjExLjkzNyIvPgo8L2c+CjxnPgoJCgkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjE1Ljk4NyIgeTE9IjkuNzU1IiB4Mj0iMTcuMjk0IiB5Mj0iOSIvPgo8L2c+CjxnPgoJCgkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjE0LjMxNSIgeTE9IjcuNzYyIiB4Mj0iMTUuMjg1IiB5Mj0iNi42MDYiLz4KPC9nPgo8Zz4KCQoJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIxMi4wNjIiIHkxPSI2LjQ2MSIgeDI9IjEyLjU3OCIgeTI9IjUuMDQzIi8+CjwvZz4KPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjIuNSIgeTE9IjE1LjUiIHgyPSIyLjUiIHkyPSIxNC41Ii8+CjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSI0LjUiIHkxPSIxNS41IiB4Mj0iNC41IiB5Mj0iMTQuNSIvPgo8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iNi41IiB5MT0iMTUuNSIgeDI9IjYuNSIgeTI9IjE0LjUiLz4KPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjguNSIgeTE9IjE1LjUiIHgyPSI4LjUiIHkyPSIxNC41Ii8+CjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIxMC41IiB5MT0iMTUuNSIgeDI9IjEwLjUiIHkyPSIxNC41Ii8+CjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIxMi41IiB5MT0iMTUuNSIgeDI9IjEyLjUiIHkyPSIxNC41Ii8+CjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIxNC41IiB5MT0iMTUuNSIgeDI9IjE0LjUiIHkyPSIxNC41Ii8+CjxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIxNi41IiB5MT0iMTUuNSIgeDI9IjE2LjUiIHkyPSIxNC41Ii8+Cjwvc3ZnPgo\x3d",
      ANIMATION:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IjE1LjUsOS41IAkJMTQuNSw5LjUgMTQuNSwxMi41IDE1LjUsMTIuNSAxOC41LDE0LjUgMTguNSw3LjUgCSIvPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMi41LDguNXY2CQljMCwwLjU1MiwwLjQ0OCwxLDEsMWgxMGMwLjU1MiwwLDEtMC40NDgsMS0xdi02YzAtMC41NTItMC40NDgtMS0xLTFoLTEwQzIuOTQ4LDcuNSwyLjUsNy45NDgsMi41LDguNXoiLz4JCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iNi41IiB5MT0iMTUuNSIgeDI9IjQuNSIgeTI9IjE5LjUiLz4JCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMTAuNSIgeTE9IjE1LjUiIHgyPSIxMi41IiB5Mj0iMTkuNSIvPgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSI4LjUiIHkxPSIxNS41IiB4Mj0iOC41IiB5Mj0iMTkuNSIvPgkJCTxjaXJjbGUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjUuNSIgY3k9IjQiIHI9IjIuNSIvPgkJCTxjaXJjbGUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjExLjUiIGN5PSI0IiByPSIyLjUiLz4JPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50cz0iNi41LDkuNSAJCTYuNSwxMy41IDEwLjUsMTEuNSA2LjUsOS41IAkiLz48L2c+PC9zdmc+",
      ARROW_DOWN:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHZpZXdCb3g9IjAgMCA5IDIwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA5IDIwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBvbHlnb24gc3R5bGU9InN0cm9rZTojMDAwMDAwO3N0cm9rZS1taXRlcmxpbWl0OjEwOyIgcG9pbnRzPSIxLjI3OCw3LjY5NSA3LjcyMiw3LjY5NSA0LjYwNSwxMi4zMDUgIi8+PC9zdmc+",
      ARROW_EQUILIBRIUM:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCIgICAgPjxsaW5lIHkyPSI4LjUiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMTkiIHkxPSI4LjUiICAgICAgLz48bGluZSB5Mj0iMTEuNSIgZmlsbD0ibm9uZSIgeDE9IjEiIHgyPSIxOSIgeTE9IjExLjUiICAgICAgLz48cGF0aCBkPSJNMSAxMS41IEw2Ljc1NyAxMy4xOTA0IEM2Ljc1NyAxMy4xOTA0IDUuNjA1NiAxMi44NTIzIDUuNjA1NiAxMS41IFoiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZT0ibm9uZSIgICAgICAvPjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0xIDExLjUgTDYuNzU3IDEzLjE5MDQgQzYuNzU3IDEzLjE5MDQgNS42MDU2IDEyLjg1MjMgNS42MDU2IDExLjUgWiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgICAgICAvPjxwYXRoIGQ9Ik0xOSA4LjUgTDEzLjI0MyA2LjgwOTYgQzEzLjI0MyA2LjgwOTYgMTQuMzk0NCA3LjE0NzcgMTQuMzk0NCA4LjUgWiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlPSJub25lIiAgICAgIC8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTE5IDguNSBMMTMuMjQzIDYuODA5NiBDMTMuMjQzIDYuODA5NiAxNC4zOTQ0IDcuMTQ3NyAxNC4zOTQ0IDguNSBaIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      ARROW_RESONANCE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjEwIiBmaWxsPSJub25lIiB4MT0iMiIgeDI9IjE4IiB5MT0iMTAiICAgICAgLz48cGF0aCBkPSJNMTkgMTAgTDE0LjIwMjUgMTEuNDA4NyBDMTQuMjAyNSAxMS40MDg3IDE1LjE2MiAxMS4xMjY5IDE1LjE2MiAxMCBDMTUuMTYyIDguODczMSAxNC4yMDI1IDguNTkxMyAxNC4yMDI1IDguNTkxMyBaIiBzdHJva2U9Im5vbmUiICAgICAgLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMTkgMTAgTDE0LjIwMjUgMTEuNDA4NyBDMTQuMjAyNSAxMS40MDg3IDE1LjE2MiAxMS4xMjY5IDE1LjE2MiAxMCBDMTUuMTYyIDguODczMSAxNC4yMDI1IDguNTkxMyAxNC4yMDI1IDguNTkxMyBaIiAgICAgIC8+PHBhdGggZD0iTTEgMTAgTDUuNzk3NSA4LjU5MTMgQzUuNzk3NSA4LjU5MTMgNC44MzggOC44NzMxIDQuODM4IDEwIEM0LjgzOCAxMS4xMjY5IDUuNzk3NSAxMS40MDg3IDUuNzk3NSAxMS40MDg3IFoiIHN0cm9rZT0ibm9uZSIgICAgICAvPjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0xIDEwIEw1Ljc5NzUgOC41OTEzIEM1Ljc5NzUgOC41OTEzIDQuODM4IDguODczMSA0LjgzOCAxMCBDNC44MzggMTEuMTI2OSA1Ljc5NzUgMTEuNDA4NyA1Ljc5NzUgMTEuNDA4NyBaIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      ARROW_RETROSYNTHETIC:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCIgICAgPjxsaW5lIHkyPSIxMi41IiBmaWxsPSJub25lIiB4MT0iMSIgeDI9IjE2LjUiIHkxPSIxMi41IiAgICAgIC8+PGxpbmUgeTI9IjcuNSIgZmlsbD0ibm9uZSIgeDE9IjEiIHgyPSIxNi41IiB5MT0iNy41IiAgICAgIC8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTExLjkyODkgMTcuMDcxMSBMMTkgMTAgTDExLjkyODkgMi45Mjg5IiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      ARROW_SYNTHETIC:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjEwIiBmaWxsPSJub25lIiB4MT0iMSIgeDI9IjE4IiB5MT0iMTAiICAgICAgLz48cGF0aCBkPSJNMTkgMTAgTDEzLjI5MzcgMTEuODU0MSBDMTMuMjkzNyAxMS44NTQxIDE0LjQzNDkgMTEuNDgzMyAxNC40MzQ5IDEwIEMxNC40MzQ5IDguNTE2NyAxMy4yOTM3IDguMTQ1OSAxMy4yOTM3IDguMTQ1OSBaIiBzdHJva2U9Im5vbmUiICAgICAgLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMTkgMTAgTDEzLjI5MzcgMTEuODU0MSBDMTMuMjkzNyAxMS44NTQxIDE0LjQzNDkgMTEuNDgzMyAxNC40MzQ5IDEwIEMxNC40MzQ5IDguNTE2NyAxMy4yOTM3IDguMTQ1OSAxMy4yOTM3IDguMTQ1OSBaIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      ATOM_REACTION_MAP:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjE2IiBmaWxsPSJub25lIiB4MT0iMSIgeDI9IjE4IiB5MT0iMTYiICAgICAgLz48cGF0aCBkPSJNMTkgMTYgTDEzLjI5MzcgMTcuODU0MSBDMTMuMjkzNyAxNy44NTQxIDE0LjQzNDkgMTcuNDgzMyAxNC40MzQ5IDE2IEMxNC40MzQ5IDE0LjUxNjcgMTMuMjkzNyAxNC4xNDU5IDEzLjI5MzcgMTQuMTQ1OSBaIiBzdHJva2U9Im5vbmUiICAgICAgLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMTkgMTYgTDEzLjI5MzcgMTcuODU0MSBDMTMuMjkzNyAxNy44NTQxIDE0LjQzNDkgMTcuNDgzMyAxNC40MzQ5IDE2IEMxNC40MzQ5IDE0LjUxNjcgMTMuMjkzNyAxNC4xNDU5IDEzLjI5MzcgMTQuMTQ1OSBaIiAgICAgIC8+PHJlY3QgZmlsbD0iZ3JheSIgeD0iMSIgd2lkdGg9IjYiIGhlaWdodD0iOCIgeT0iNCIgc3Ryb2tlPSJub25lIiAgICAgIC8+PHJlY3QgZmlsbD0iZ3JheSIgeD0iMTMiIHdpZHRoPSI2IiBoZWlnaHQ9IjgiIHk9IjQiIHN0cm9rZT0ibm9uZSIgICAgLz48L2cgICAgPjxnIGZvbnQtc2l6ZT0iOHB4IiBmaWxsPSJ3aGl0ZSIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgZm9udC1mYW1pbHk9IidMdWNpZGEgR3JhbmRlJyIgc3Ryb2tlPSJ3aGl0ZSIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiAgICA+PHBhdGggZD0iTTIuNzAzMSAxMSBMMi43MDMxIDEwLjQyMTkgTDMuODU5NCAxMC40MjE5IEwzLjg1OTQgNS44NTk0IEwyLjcwMzEgNi4xNDg0IEwyLjcwMzEgNS41NTQ3IEw0LjYzMjggNS4wNzQyIEw0LjYzMjggMTAuNDIxOSBMNS43ODkxIDEwLjQyMTkgTDUuNzg5MSAxMSBaIiBzdHJva2U9Im5vbmUiICAgICAgLz48cGF0aCBkPSJNMTQuNzAzMSAxMSBMMTQuNzAzMSAxMC40MjE5IEwxNS44NTk0IDEwLjQyMTkgTDE1Ljg1OTQgNS44NTk0IEwxNC43MDMxIDYuMTQ4NCBMMTQuNzAzMSA1LjU1NDcgTDE2LjYzMjggNS4wNzQyIEwxNi42MzI4IDEwLjQyMTkgTDE3Ljc4OTEgMTAuNDIxOSBMMTcuNzg5MSAxMSBaIiBzdHJva2U9Im5vbmUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      BENZENE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAsMTApIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48bGluZSB5Mj0iNS41IiBmaWxsPSJub25lIiB4MT0iLTQuNzYzMSIgeDI9Ii0wIiB5MT0iMi43NSIgICAgICAvPjxsaW5lIHkyPSItMi43NSIgZmlsbD0ibm9uZSIgeDE9IjQuNzYzMSIgeDI9IjQuNzYzMSIgeTE9IjIuNzUiICAgICAgLz48bGluZSB5Mj0iLTIuNzUiIGZpbGw9Im5vbmUiIHgxPSIwIiB4Mj0iLTQuNzYzMSIgeTE9Ii01LjUiICAgICAgLz48bGluZSB5Mj0iOC41IiBmaWxsPSJub25lIiB4MT0iLTcuMzYxMiIgeDI9Ii0wIiB5MT0iNC4yNSIgICAgICAvPjxsaW5lIHkyPSI0LjI1IiBmaWxsPSJub25lIiB4MT0iLTAiIHgyPSI3LjM2MTIiIHkxPSI4LjUiICAgICAgLz48bGluZSB5Mj0iLTQuMjUiIGZpbGw9Im5vbmUiIHgxPSI3LjM2MTIiIHgyPSI3LjM2MTIiIHkxPSI0LjI1IiAgICAgIC8+PGxpbmUgeTI9Ii04LjUiIGZpbGw9Im5vbmUiIHgxPSI3LjM2MTIiIHgyPSIwIiB5MT0iLTQuMjUiICAgICAgLz48bGluZSB5Mj0iLTQuMjUiIGZpbGw9Im5vbmUiIHgxPSIwIiB4Mj0iLTcuMzYxMiIgeTE9Ii04LjUiICAgICAgLz48bGluZSB5Mj0iNC4yNSIgZmlsbD0ibm9uZSIgeDE9Ii03LjM2MTIiIHgyPSItNy4zNjEyIiB5MT0iLTQuMjUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      BOND_ANY:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGRlZnMgaWQ9ImRlZnMxIiAgICA+PGNsaXBQYXRoIGNsaXBQYXRoVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBpZD0iY2xpcFBhdGgxIiAgICAgID48cGF0aCBkPSJNMCAwIEwwIDIwIEwyMCAyMCBMMjAgMTQgTDEgMTQgTDEgNyBMMjAgNyBMMjAgMCBaIiAgICAgIC8+PC9jbGlwUGF0aCAgICAgID48Y2xpcFBhdGggY2xpcFBhdGhVbml0cz0idXNlclNwYWNlT25Vc2UiIGlkPSJjbGlwUGF0aDIiICAgICAgPjxwYXRoIGQ9Ik0wIDAgTDIwIDAgTDIwIDIwIEwwIDIwIEwwIDAgWiIgICAgICAvPjwvY2xpcFBhdGggICAgPjwvZGVmcyAgICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSI4cHgiIGZvbnQtZmFtaWx5PSInTHVjaWRhIEdyYW5kZSciIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCIgICAgPjxsaW5lIHkyPSIyIiBmaWxsPSJub25lIiB4MT0iMiIgY2xpcC1wYXRoPSJ1cmwoI2NsaXBQYXRoMSkiIHgyPSIxOCIgeTE9IjE4IiAgICAgIC8+PHBhdGggZD0iTTUuNjc1OCAxMS43ODkxIEw0LjY5MTQgOS4yOTY5IEwzLjcwMzEgMTEuNzg5MSBaTTYuNTQzIDE0IEw1LjkxNDEgMTIuMzk4NCBMMy40NjQ4IDEyLjM5ODQgTDIuODI4MSAxNCBMMi4wNjY0IDE0IEw0LjM1OTQgOC4yMTg4IEw1LjE3MTkgOC4yMTg4IEw3LjQyOTcgMTQgWk04Ljc0NjEgMTQgTDguNzQ2MSA4LjIxODggTDkuNTUwOCA4LjIxODggTDEyLjQ2MDkgMTIuNjgzNiBMMTIuNDYwOSA4LjIxODggTDEzLjE2NDEgOC4yMTg4IEwxMy4xNjQxIDE0IEwxMi4zNjMzIDE0IEw5LjQ0OTIgOS41MzUyIEw5LjQ0OTIgMTQgWk0xNS45OTYxIDE0IEwxNS45OTYxIDExLjU4NTkgTDE0LjA2NjQgOC4yMTg4IEwxNS4wMDM5IDguMjE4OCBMMTYuNTAzOSAxMC44MjgxIEwxOC4xMjExIDguMjE4OCBMMTguODgyOCA4LjIxODggTDE2LjgxNjQgMTEuNTcwMyBMMTYuODE2NCAxNCBaIiBjbGlwLXBhdGg9InVybCgjY2xpcFBhdGgyKSIgc3Ryb2tlPSJub25lIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      BOND_DATIVE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjIiIGZpbGw9Im5vbmUiIHgxPSIyIiB4Mj0iMTgiIHkxPSIxOCIgICAgICAvPjxwb2x5Z29uIHBvaW50cz0iIDE4IDIgMTIgNSAxNiA4IiBzdHJva2U9Im5vbmUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      BOND_DOUBLE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjEiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMTciIHkxPSIxNyIgICAgICAvPjxsaW5lIHkyPSIzIiBmaWxsPSJub25lIiB4MT0iMyIgeDI9IjE5IiB5MT0iMTkiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      BOND_DOUBLE_AMBIGUOUS:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjMiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMTkiIHkxPSIxNyIgICAgICAvPjxsaW5lIHkyPSIxIiBmaWxsPSJub25lIiB4MT0iMyIgeDI9IjE3IiB5MT0iMTkiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      BOND_HALF:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgc3Ryb2tlLWRhc2hvZmZzZXQ9IjEiIHRleHQtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIHN0cm9rZS1saW5lam9pbj0iYmV2ZWwiIHN0cm9rZS1kYXNoYXJyYXk9IjEsMSw0LDQsNCw0LDQsNCw0LDEiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgc3Ryb2tlLW1pdGVybGltaXQ9IjEiICAgID48bGluZSB5Mj0iMiIgZmlsbD0ibm9uZSIgeDE9IjIiIHgyPSIxOCIgeTE9IjE4IiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      BOND_PROTRUDING:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PHBvbHlnb24gcG9pbnRzPSIgMiAxOCAxNiAwIDIwIDQiIHN0cm9rZT0ibm9uZSIgICAgLz48L2cgID48L2c+PC9zdmc+",
      BOND_QUADRUPLE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjEiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMTMiIHkxPSIxMyIgICAgICAvPjxsaW5lIHkyPSI3IiBmaWxsPSJub25lIiB4MT0iNyIgeDI9IjE5IiB5MT0iMTkiICAgICAgLz48bGluZSB5Mj0iMyIgZmlsbD0ibm9uZSIgeDE9IjMiIHgyPSIxNSIgeTE9IjE1IiAgICAgIC8+PGxpbmUgeTI9IjUiIGZpbGw9Im5vbmUiIHgxPSI1IiB4Mj0iMTciIHkxPSIxNyIgICAgLz48L2cgID48L2c+PC9zdmc+",
      BOND_QUINTUPLE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjEiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMTEiIHkxPSIxMSIgICAgICAvPjxsaW5lIHkyPSI5IiBmaWxsPSJub25lIiB4MT0iOSIgeDI9IjE5IiB5MT0iMTkiICAgICAgLz48bGluZSB5Mj0iMyIgZmlsbD0ibm9uZSIgeDE9IjMiIHgyPSIxMyIgeTE9IjEzIiAgICAgIC8+PGxpbmUgeTI9IjciIGZpbGw9Im5vbmUiIHgxPSI3IiB4Mj0iMTciIHkxPSIxNyIgICAgICAvPjxsaW5lIHkyPSI1IiBmaWxsPSJub25lIiB4MT0iNSIgeDI9IjE1IiB5MT0iMTUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      BOND_RECESSED:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGRlZnMgaWQ9ImRlZnMxIiAgICA+PGNsaXBQYXRoIGNsaXBQYXRoVW5pdHM9InVzZXJTcGFjZU9uVXNlIiBpZD0iY2xpcFBhdGgxIiAgICAgID48cGF0aCBkPSJNMiAxOCBMMTYgMCBMMjAgNCBaIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiICAgICAgLz48L2NsaXBQYXRoICAgID48L2RlZnMgICAgPjxnIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtZGFzaG9mZnNldD0iMS4yMSIgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgc3Ryb2tlLWxpbmVqb2luPSJiZXZlbCIgc3Ryb2tlLWRhc2hhcnJheT0iMS4yMSwzIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIHN0cm9rZS13aWR0aD0iNi4yIiBzdHJva2UtbWl0ZXJsaW1pdD0iMSIgICAgPjxsaW5lIHkyPSIyIiBmaWxsPSJub25lIiB4MT0iMiIgY2xpcC1wYXRoPSJ1cmwoI2NsaXBQYXRoMSkiIHgyPSIxOCIgeTE9IjE4IiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      BOND_RESONANCE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjEiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMTciIHkxPSIxNyIgICAgLz48L2cgICAgPjxnIHN0cm9rZS1kYXNob2Zmc2V0PSIxIiB0ZXh0LXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBzdHJva2UtbGluZWpvaW49ImJldmVsIiBzdHJva2UtZGFzaGFycmF5PSIxLDEsNCw0LDQsNCw0LDQsNCwxIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIHN0cm9rZS1taXRlcmxpbWl0PSIxIiAgICA+PGxpbmUgeTI9IjMiIGZpbGw9Im5vbmUiIHgxPSIzIiB4Mj0iMTkiIHkxPSIxOSIgICAgLz48L2cgID48L2c+PC9zdmc+",
      BOND_SEXTUPLE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjEiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iOSIgeTE9IjkiICAgICAgLz48bGluZSB5Mj0iMTEiIGZpbGw9Im5vbmUiIHgxPSIxMSIgeDI9IjE5IiB5MT0iMTkiICAgICAgLz48bGluZSB5Mj0iMyIgZmlsbD0ibm9uZSIgeDE9IjMiIHgyPSIxMSIgeTE9IjExIiAgICAgIC8+PGxpbmUgeTI9IjkiIGZpbGw9Im5vbmUiIHgxPSI5IiB4Mj0iMTciIHkxPSIxNyIgICAgICAvPjxsaW5lIHkyPSI1IiBmaWxsPSJub25lIiB4MT0iNSIgeDI9IjEzIiB5MT0iMTMiICAgICAgLz48bGluZSB5Mj0iNyIgZmlsbD0ibm9uZSIgeDE9IjciIHgyPSIxNSIgeTE9IjE1IiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      BOND_SINGLE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjIiIGZpbGw9Im5vbmUiIHgxPSIyIiB4Mj0iMTgiIHkxPSIxOCIgICAgLz48L2cgID48L2c+PC9zdmc+",
      BOND_TRIPLE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjEiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMTUiIHkxPSIxNSIgICAgICAvPjxsaW5lIHkyPSIzIiBmaWxsPSJub25lIiB4MT0iMyIgeDI9IjE3IiB5MT0iMTciICAgICAgLz48bGluZSB5Mj0iNSIgZmlsbD0ibm9uZSIgeDE9IjUiIHgyPSIxOSIgeTE9IjE5IiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      BOND_WAVY:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTIgMTggUTcuMzAzMyAxOS43Njc4IDUuNTM1NSAxNC40NjQ1IFEzLjc2NzggOS4xNjEyIDkuMDcxMSAxMC45Mjg5IFExNC4zNzQ0IDEyLjY5NjcgMTIuNjA2NiA3LjM5MzQgUTEwLjgzODggMi4wOTAxIDE2LjE0MjEgMy44NTc5IiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      BOND_ZERO:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGNpcmNsZSByPSIxIiBjeD0iNSIgY3k9IjE2IiBzdHJva2U9Im5vbmUiICAgICAgLz48Y2lyY2xlIHI9IjEiIGN4PSI5IiBjeT0iMTIiIHN0cm9rZT0ibm9uZSIgICAgICAvPjxjaXJjbGUgcj0iMSIgY3g9IjEzIiBjeT0iOCIgc3Ryb2tlPSJub25lIiAgICAgIC8+PGNpcmNsZSByPSIxIiBjeD0iMTciIGN5PSI0IiBzdHJva2U9Im5vbmUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      BRACKET_CHARGE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCIgICAgPjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0zIDMgTDEgMyBMMSAxNyBMMyAxNyBNOSAxNyBMMTEgMTcgTDExIDMgTDkgMyIgICAgICAvPjxwYXRoIGQ9Ik0xMy4zMDA4IDEwIEwxMy4zMDA4IDkuMTMyOCBMMjAuMjM4MyA5LjEzMjggTDIwLjIzODMgMTAgWk0xNi4zMzU5IDguMjY1NiBMMTYuMzM1OSA2LjA5NzcgTDEzLjMwMDggNi4wOTc3IEwxMy4zMDA4IDUuMjMwNSBMMTYuMzM1OSA1LjIzMDUgTDE2LjMzNTkgMy4wNjI1IEwxNy4yMDMxIDMuMDYyNSBMMTcuMjAzMSA1LjIzMDUgTDIwLjIzODMgNS4yMzA1IEwyMC4yMzgzIDYuMDk3NyBMMTcuMjAzMSA2LjA5NzcgTDE3LjIwMzEgOC4yNjU2IFoiIHN0cm9rZT0ibm9uZSIgICAgLz48L2cgID48L2c+PC9zdmc+",
      BRACKET_REPEAT_UNIT:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGxpbmUgeTI9IjEiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMyIgeTE9IjEiICAgICAgLz48bGluZSB5Mj0iMTYiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMSIgeTE9IjEiICAgICAgLz48bGluZSB5Mj0iMTYiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMyIgeTE9IjE2IiAgICAgIC8+PGxpbmUgeTI9IjEiIGZpbGw9Im5vbmUiIHgxPSIxMCIgeDI9IjgiIHkxPSIxIiAgICAgIC8+PGxpbmUgeTI9IjE2IiBmaWxsPSJub25lIiB4MT0iMTAiIHgyPSIxMCIgeTE9IjEiICAgICAgLz48bGluZSB5Mj0iMTYiIGZpbGw9Im5vbmUiIHgxPSIxMCIgeDI9IjgiIHkxPSIxNiIgICAgICAvPjxwYXRoIGQ9Ik0xMi45NjE5IDE5IEwxMi45NjE5IDEzLjY5NzMgTDEzLjkyMzggMTMuNjk3MyBMMTMuOTIzOCAxNC42OTM0IFExNC42ODU1IDEzLjU4MDEgMTUuNzg5MSAxMy41ODAxIFExNi40Nzc1IDEzLjU4MDEgMTYuODg3NyAxNC4wMTcxIFExNy4yOTc5IDE0LjQ1NDEgMTcuMjk3OSAxNS4xOTE0IEwxNy4yOTc5IDE5IEwxNi4zMzU5IDE5IEwxNi4zMzU5IDE1LjUwMzkgUTE2LjMzNTkgMTQuOTEzMSAxNi4xNjI2IDE0LjY2MTYgUTE1Ljk4OTMgMTQuNDEwMiAxNS41ODg5IDE0LjQxMDIgUTE0LjcwNTEgMTQuNDEwMiAxMy45MjM4IDE1LjU2NzQgTDEzLjkyMzggMTkgWiIgc3Ryb2tlPSJub25lIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      BROMINE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNNC4zMDU3IDE1IEw0LjMwNTcgNC44ODI4IEw2LjkzMDcgNC44ODI4IFE4LjQ0ODIgNC44ODI4IDkuMjU4MyA1LjQ1NyBRMTAuMDY4NCA2LjAzMTIgMTAuMDY4NCA3LjExMTMgUTEwLjA2ODQgOC45NTAyIDcuOTkwMiA5LjcyOTUgUTEwLjQ3MTcgMTAuNDg4MyAxMC40NzE3IDEyLjQ3MDcgUTEwLjQ3MTcgMTMuNzAxMiA5LjY1MTQgMTQuMzUwNiBROC44MzExIDE1IDcuMjg2MSAxNSBaTTUuNzI3NSAxMy45MjY4IEw2LjAyMTUgMTMuOTI2OCBRNy42MDA2IDEzLjkyNjggOC4wNjU0IDEzLjcyODUgUTguOTU0MSAxMy4zNTI1IDguOTU0MSAxMi4zMzQgUTguOTU0MSAxMS40MzE2IDguMTQ3NSAxMC44MzM1IFE3LjM0MDggMTAuMjM1NCA2LjEzMDkgMTAuMjM1NCBMNS43Mjc1IDEwLjIzNTQgWk01LjcyNzUgOS4zMjYyIEw2LjE4NTUgOS4zMjYyIFE3LjMzNCA5LjMyNjIgNy45NjYzIDguODM0IFE4LjU5ODYgOC4zNDE4IDguNTk4NiA3LjQ0NjMgUTguNTk4NiA1Ljk1NjEgNi4yODgxIDUuOTU2MSBMNS43Mjc1IDUuOTU2MSBaTTEyLjM0NjcgMTUgTDEyLjM0NjcgNy41NzYyIEwxMy42OTM0IDcuNTc2MiBMMTMuNjkzNCA4Ljk3MDcgUTE0LjQ5MzIgNy40MTIxIDE2LjAxNzYgNy40MTIxIFExNi4yMjI3IDcuNDEyMSAxNi40NDgyIDcuNDQ2MyBMMTYuNDQ4MiA4LjcwNDEgUTE2LjA5OTYgOC41ODc5IDE1LjgzMyA4LjU4NzkgUTE0LjU1NDcgOC41ODc5IDEzLjY5MzQgMTAuMTA1NSBMMTMuNjkzNCAxNSBaIiBzdHJva2U9Im5vbmUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      CALCULATE:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgkJCTxyZWN0IHg9IjMuNSIgeT0iMC41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMTQiIGhlaWdodD0iMTkiLz4JCQk8cmVjdCB4PSI1LjUiIHk9IjIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjMiLz4JCQk8cmVjdCB4PSI1LjUiIHk9IjExLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4JCQk8cmVjdCB4PSI1LjUiIHk9IjcuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjkuNSIgeT0iMTEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjkuNSIgeT0iNy41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iMTMuNSIgeT0iNy41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iNS41IiB5PSIxNS41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iOS41IiB5PSIxNS41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iMTMuNSIgeT0iMTEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iNiIvPjwvZz48L3N2Zz4\x3d",
      CARBON:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNMTAuNjM5NiAxNS4yNTI5IFE4LjI4MTIgMTUuMjUyOSA2Ljk5NjEgMTMuODY4NyBRNS43MTA5IDEyLjQ4NDQgNS43MTA5IDkuOTQ4MiBRNS43MTA5IDcuNDE4OSA3LjAyIDYuMDI0NCBROC4zMjkxIDQuNjI5OSAxMC43MDggNC42Mjk5IFExMi4wNjg0IDQuNjI5OSAxMy44OTM2IDUuMDc0MiBMMTMuODkzNiA2LjQyMDkgUTExLjgxNTQgNS43MDMxIDEwLjY4NzUgNS43MDMxIFE5LjA0IDUuNzAzMSA4LjEzNzcgNi44MTc0IFE3LjIzNTQgNy45MzE2IDcuMjM1NCA5Ljk2MTkgUTcuMjM1NCAxMS44OTY1IDguMTk5MiAxMy4wMTQyIFE5LjE2MzEgMTQuMTMxOCAxMC44MzExIDE0LjEzMTggUTEyLjI2NjYgMTQuMTMxOCAxMy45MDcyIDEzLjI1IEwxMy45MDcyIDE0LjQ4MDUgUTEyLjQxMDIgMTUuMjUyOSAxMC42Mzk2IDE1LjI1MjkgWiIgc3Ryb2tlPSJub25lIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      CENTER:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgkJCTxjaXJjbGUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjkuNSIgY3k9IjkuNSIgcj0iNyIvPgkJCTxjaXJjbGUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjkuNSIgY3k9IjkuNSIgcj0iMiIvPgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSI5LjUiIHkxPSIwLjUiIHgyPSI5LjUiIHkyPSI0LjUiLz4JCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iOS41IiB5MT0iMTQuNSIgeDI9IjkuNSIgeTI9IjE4LjUiLz4JCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMC41IiB5MT0iOS41IiB4Mj0iNC41IiB5Mj0iOS41Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjE0LjUiIHkxPSI5LjUiIHgyPSIxOC41IiB5Mj0iOS41Ii8+PC9nPjwvc3ZnPg\x3d\x3d",
      CHAIN_CARBON:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTAgMTkgTDUgMTYgTDUgMTEgTDkgOCBMOSAzIEwxMyAwIiAgICAgIC8+PHBhdGggZD0iTTEzLjk2MTkgMTggTDEzLjk2MTkgMTIuNjk3MyBMMTQuOTIzOCAxMi42OTczIEwxNC45MjM4IDEzLjY5MzQgUTE1LjY4NTUgMTIuNTgwMSAxNi43ODkxIDEyLjU4MDEgUTE3LjQ3NzUgMTIuNTgwMSAxNy44ODc3IDEzLjAxNzEgUTE4LjI5NzkgMTMuNDU0MSAxOC4yOTc5IDE0LjE5MTQgTDE4LjI5NzkgMTggTDE3LjMzNTkgMTggTDE3LjMzNTkgMTQuNTAzOSBRMTcuMzM1OSAxMy45MTMxIDE3LjE2MjYgMTMuNjYxNiBRMTYuOTg5MyAxMy40MTAyIDE2LjU4ODkgMTMuNDEwMiBRMTUuNzA1MSAxMy40MTAyIDE0LjkyMzggMTQuNTY3NCBMMTQuOTIzOCAxOCBaIiBzdHJva2U9Im5vbmUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      CHLORINE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNOC42Mzk2IDE1LjI1MjkgUTYuMjgxMiAxNS4yNTI5IDQuOTk2MSAxMy44Njg3IFEzLjcxMDkgMTIuNDg0NCAzLjcxMDkgOS45NDgyIFEzLjcxMDkgNy40MTg5IDUuMDIgNi4wMjQ0IFE2LjMyOTEgNC42Mjk5IDguNzA4IDQuNjI5OSBRMTAuMDY4NCA0LjYyOTkgMTEuODkzNiA1LjA3NDIgTDExLjg5MzYgNi40MjA5IFE5LjgxNTQgNS43MDMxIDguNjg3NSA1LjcwMzEgUTcuMDQgNS43MDMxIDYuMTM3NyA2LjgxNzQgUTUuMjM1NCA3LjkzMTYgNS4yMzU0IDkuOTYxOSBRNS4yMzU0IDExLjg5NjUgNi4xOTkyIDEzLjAxNDIgUTcuMTYzMSAxNC4xMzE4IDguODMxMSAxNC4xMzE4IFExMC4yNjY2IDE0LjEzMTggMTEuOTA3MiAxMy4yNSBMMTEuOTA3MiAxNC40ODA1IFExMC40MTAyIDE1LjI1MjkgOC42Mzk2IDE1LjI1MjkgWk0xNC4zNDY3IDE1IEwxNC4zNDY3IDQuMjA2MSBMMTUuNjkzNCA0LjIwNjEgTDE1LjY5MzQgMTUgWiIgc3Ryb2tlPSJub25lIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      CLEAR:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuNSwxOS41aC02CQljLTAuNTUyLDAtMS0wLjQ0OC0xLTFWOS43MzZjMC0wLjc1OCwwLjQyOC0xLjQ1LDEuMTA2LTEuNzg5TDcuNSw3LjVoNGwwLjg5NCwwLjQ0N0MxMy4wNzIsOC4yODYsMTMuNSw4Ljk3OSwxMy41LDkuNzM2VjE4LjUJCUMxMy41LDE5LjA1MiwxMy4wNTIsMTkuNSwxMi41LDE5LjV6Ii8+CQkJPHJlY3QgeD0iNy41IiB5PSI0LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSI0IiBoZWlnaHQ9IjMiLz4JPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTkuNSw0LjVWMS44MjYJCWMwLTAuNjY0LTAuNjM2LTEuMTQ0LTEuMjc1LTAuOTYyTDIuNSwyLjUiLz48L2c+PC9zdmc+",
      COPY: "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTYuNSwxNC41aC04CQljLTAuNTUyLDAtMS0wLjQ0OC0xLTF2LTExYzAtMC41NTIsMC40NDgtMSwxLTFoNC41ODZjMC4yNjUsMCwwLjUyLDAuMTA1LDAuNzA3LDAuMjkzbDMuNDE0LDMuNDE0CQlDMTcuMzk1LDUuMzk1LDE3LjUsNS42NDksMTcuNSw1LjkxNFYxMy41QzE3LjUsMTQuMDUyLDE3LjA1MiwxNC41LDE2LjUsMTQuNXoiLz4JPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTUuNSw1LjVoLTIJCWMtMC41NTIsMC0xLDAuNDQ4LTEsMXYxMWMwLDAuNTUyLDAuNDQ4LDEsMSwxaDhjMC41NTIsMCwxLTAuNDQ4LDEtMXYtMSIvPgk8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IjE3LjUsNS41IAkJMTMuNSw1LjUgMTMuNSwxLjUgCSIvPjwvZz48L3N2Zz4\x3d",
      CUT: "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNy44NzQsMy4xODEJCWMwLjIxMSwwLjc4LDAuMDU5LDEuNDk4LTAuMjgxLDIuMUwxOCwxNi43MzdsLTAuMjc5LDAuMWMtMS4yMjksMC40NDMtMi42MDYsMC4yMzktMy42NDMtMC41NGwtMy42MTEtMy40OTMJCWMtMC45MjUtMC44OTUtMS41NjUtMi4wMy0xLjg0My0zLjI2OEw4LjQyLDguNjI2TDYuMzE4LDYuNDc4Yy0wLjYxNiwwLjMtMS4zMzgsMC40MjQtMi4xMjIsMC4yMQkJYy0xLjEwOS0wLjMwNC0xLjk4Ni0xLjIyNi0yLjE2LTIuMzMxQzEuNzI2LDIuMzkyLDMuNDUsMC43MjUsNS40NzYsMS4wMzhDNi42MjYsMS4yMTUsNy41NzksMi4wODgsNy44NzQsMy4xODF6Ii8+CTxnPgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTExLjg4LDEwTDE4LDMuMjYzCQkJbC0wLjI3OS0wLjFjLTEuMjI5LTAuNDQzLTIuNjA2LTAuMjM5LTMuNjQzLDAuNTRMOS44NjMsNy43OEwxMS44OCwxMHoiLz4JCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik05LjkwNCwxMi4xNzUJCQljLTAuNTM0LTAuNjY3LTAuOTIxLTEuNDMtMS4xNi0yLjI0NGwtMC4zMjQsMS40NDNsLTIuMTAxLDIuMTQ4Yy0wLjQwMy0wLjE5Ny0wLjg1MS0wLjMxOC0xLjMzMy0wLjMxOAkJCUMzLjMzNywxMy4yMDQsMiwxNC41MDIsMiwxNi4xMDJDMiwxNy43MDMsMy4zMzcsMTksNC45ODUsMTljMS42NDksMCwyLjk4Ni0xLjI5NywyLjk4Ni0yLjg5OGMwLTAuNTA0LTAuMTQ0LTAuOTcxLTAuMzc4LTEuMzg0CQkJTDkuOTA0LDEyLjE3NXoiLz4JPC9nPjwvZz48L3N2Zz4\x3d",
      CYCLOBUTANE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAsMTApIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48bGluZSB5Mj0iOSIgZmlsbD0ibm9uZSIgeDE9Ii05IiB4Mj0iLTAiIHkxPSIwIiAgICAgIC8+PGxpbmUgeTI9IjAiIGZpbGw9Im5vbmUiIHgxPSItMCIgeDI9IjkiIHkxPSI5IiAgICAgIC8+PGxpbmUgeTI9Ii05IiBmaWxsPSJub25lIiB4MT0iOSIgeDI9IjAiIHkxPSIwIiAgICAgIC8+PGxpbmUgeTI9IjAiIGZpbGw9Im5vbmUiIHgxPSIwIiB4Mj0iLTkiIHkxPSItOSIgICAgLz48L2cgID48L2c+PC9zdmc+",
      CYCLOHEPTANE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAsMTApIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48bGluZSB5Mj0iLTUuNjExNCIgZmlsbD0ibm9uZSIgeDE9Ii0wIiB4Mj0iLTcuMDM2NSIgeTE9Ii05IiAgICAgIC8+PGxpbmUgeTI9IjIuMDAyNyIgZmlsbD0ibm9uZSIgeDE9Ii03LjAzNjUiIHgyPSItOC43NzQ0IiB5MT0iLTUuNjExNCIgICAgICAvPjxsaW5lIHkyPSI4LjEwODciIGZpbGw9Im5vbmUiIHgxPSItOC43NzQ0IiB4Mj0iLTMuOTA1IiB5MT0iMi4wMDI3IiAgICAgIC8+PGxpbmUgeTI9IjguMTA4NyIgZmlsbD0ibm9uZSIgeDE9Ii0zLjkwNSIgeDI9IjMuOTA1IiB5MT0iOC4xMDg3IiAgICAgIC8+PGxpbmUgeTI9IjIuMDAyNyIgZmlsbD0ibm9uZSIgeDE9IjMuOTA1IiB4Mj0iOC43NzQ0IiB5MT0iOC4xMDg3IiAgICAgIC8+PGxpbmUgeTI9Ii01LjYxMTQiIGZpbGw9Im5vbmUiIHgxPSI4Ljc3NDQiIHgyPSI3LjAzNjUiIHkxPSIyLjAwMjciICAgICAgLz48bGluZSB5Mj0iLTkiIGZpbGw9Im5vbmUiIHgxPSI3LjAzNjUiIHgyPSItMCIgeTE9Ii01LjYxMTQiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      CYCLOHEXANE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAsMTApIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48bGluZSB5Mj0iOC41IiBmaWxsPSJub25lIiB4MT0iLTcuMzYxMiIgeDI9Ii0wIiB5MT0iNC4yNSIgICAgICAvPjxsaW5lIHkyPSI0LjI1IiBmaWxsPSJub25lIiB4MT0iLTAiIHgyPSI3LjM2MTIiIHkxPSI4LjUiICAgICAgLz48bGluZSB5Mj0iLTQuMjUiIGZpbGw9Im5vbmUiIHgxPSI3LjM2MTIiIHgyPSI3LjM2MTIiIHkxPSI0LjI1IiAgICAgIC8+PGxpbmUgeTI9Ii04LjUiIGZpbGw9Im5vbmUiIHgxPSI3LjM2MTIiIHgyPSIwIiB5MT0iLTQuMjUiICAgICAgLz48bGluZSB5Mj0iLTQuMjUiIGZpbGw9Im5vbmUiIHgxPSIwIiB4Mj0iLTcuMzYxMiIgeTE9Ii04LjUiICAgICAgLz48bGluZSB5Mj0iNC4yNSIgZmlsbD0ibm9uZSIgeDE9Ii03LjM2MTIiIHgyPSItNy4zNjEyIiB5MT0iLTQuMjUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      CYCLOOCTANE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAsMTApIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48bGluZSB5Mj0iNi4zNjQiIGZpbGw9Im5vbmUiIHgxPSItOSIgeDI9Ii02LjM2NCIgeTE9IjAiICAgICAgLz48bGluZSB5Mj0iOSIgZmlsbD0ibm9uZSIgeDE9Ii02LjM2NCIgeDI9Ii0wIiB5MT0iNi4zNjQiICAgICAgLz48bGluZSB5Mj0iNi4zNjQiIGZpbGw9Im5vbmUiIHgxPSItMCIgeDI9IjYuMzY0IiB5MT0iOSIgICAgICAvPjxsaW5lIHkyPSIwIiBmaWxsPSJub25lIiB4MT0iNi4zNjQiIHgyPSI5IiB5MT0iNi4zNjQiICAgICAgLz48bGluZSB5Mj0iLTYuMzY0IiBmaWxsPSJub25lIiB4MT0iOSIgeDI9IjYuMzY0IiB5MT0iMCIgICAgICAvPjxsaW5lIHkyPSItOSIgZmlsbD0ibm9uZSIgeDE9IjYuMzY0IiB4Mj0iMCIgeTE9Ii02LjM2NCIgICAgICAvPjxsaW5lIHkyPSItNi4zNjQiIGZpbGw9Im5vbmUiIHgxPSIwIiB4Mj0iLTYuMzY0IiB5MT0iLTkiICAgICAgLz48bGluZSB5Mj0iMCIgZmlsbD0ibm9uZSIgeDE9Ii02LjM2NCIgeDI9Ii05IiB5MT0iLTYuMzY0IiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      CYCLOPENTANE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAsMTApIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48bGluZSB5Mj0iLTIuNzgxMiIgZmlsbD0ibm9uZSIgeDE9Ii0wIiB4Mj0iLTguNTU5NSIgeTE9Ii05IiAgICAgIC8+PGxpbmUgeTI9IjcuMjgxMiIgZmlsbD0ibm9uZSIgeDE9Ii04LjU1OTUiIHgyPSItNS4yOTAxIiB5MT0iLTIuNzgxMiIgICAgICAvPjxsaW5lIHkyPSI3LjI4MTIiIGZpbGw9Im5vbmUiIHgxPSItNS4yOTAxIiB4Mj0iNS4yOTAxIiB5MT0iNy4yODEyIiAgICAgIC8+PGxpbmUgeTI9Ii0yLjc4MTIiIGZpbGw9Im5vbmUiIHgxPSI1LjI5MDEiIHgyPSI4LjU1OTUiIHkxPSI3LjI4MTIiICAgICAgLz48bGluZSB5Mj0iLTkiIGZpbGw9Im5vbmUiIHgxPSI4LjU1OTUiIHgyPSItMCIgeTE9Ii0yLjc4MTIiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      CYCLOPROPANE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAsMTApIHJvdGF0ZSg5MCkgdHJhbnNsYXRlKDIsMCkiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCIgICAgPjxsaW5lIHkyPSI3Ljc5NDIiIGZpbGw9Im5vbmUiIHgxPSItOSIgeDI9IjQuNSIgeTE9IjAiICAgICAgLz48bGluZSB5Mj0iLTcuNzk0MiIgZmlsbD0ibm9uZSIgeDE9IjQuNSIgeDI9IjQuNSIgeTE9IjcuNzk0MiIgICAgICAvPjxsaW5lIHkyPSIwIiBmaWxsPSJub25lIiB4MT0iNC41IiB4Mj0iLTkiIHkxPSItNy43OTQyIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      DECREASE_CHARGE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCIgc3Ryb2tlLWxpbmVqb2luPSJiZXZlbCIgICAgPjxsaW5lIHkyPSIxMCIgZmlsbD0ibm9uZSIgeDE9IjYiIHgyPSIxNCIgeTE9IjEwIiAgICAgIC8+PGNpcmNsZSBmaWxsPSJub25lIiByPSI2IiBjeD0iMTAiIGN5PSIxMCIgICAgLz48L2cgID48L2c+PC9zdmc+",
      DISTANCE:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8Zz4JCQkJCTxjaXJjbGUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjEwLjUiIGN5PSIyLjUiIHI9IjIiLz4JCQkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIxMC41IiB5MT0iNC41IiB4Mj0iNy41IiB5Mj0iMTIuNSIvPgkJCQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjEwLjUiIHkxPSI0LjUiIHgyPSIxMy41IiB5Mj0iMTIuNSIvPgkJCQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjguNjYzIiB5MT0iOS41IiB4Mj0iMTIuMzc1IiB5Mj0iOS41Ii8+CTwvZz4JCQk8cmVjdCB4PSIxLjUiIHk9IjE0LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIxOCIgaGVpZ2h0PSI1Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjMuNSIgeTE9IjE5LjUiIHgyPSIzLjUiIHkyPSIxNy41Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjUuNSIgeTE9IjE5LjUiIHgyPSI1LjUiIHkyPSIxNy41Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjcuNSIgeTE9IjE5LjUiIHgyPSI3LjUiIHkyPSIxNi41Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjkuNSIgeTE9IjE5LjUiIHgyPSI5LjUiIHkyPSIxNy41Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjExLjUiIHkxPSIxOS41IiB4Mj0iMTEuNSIgeTI9IjE3LjUiLz4JCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMTMuNSIgeTE9IjE5LjUiIHgyPSIxMy41IiB5Mj0iMTYuNSIvPgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIxNS41IiB5MT0iMTkuNSIgeDI9IjE1LjUiIHkyPSIxNy41Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjE3LjUiIHkxPSIxOS41IiB4Mj0iMTcuNSIgeTI9IjE3LjUiLz48L2c+PC9zdmc+",
      ERASE:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNC40NjQsMTguNjU3CQlsLTMuNTM2LTMuNTM2Yy0wLjM5MS0wLjM5MS0wLjM5MS0xLjAyNCwwLTEuNDE0bDIuMTIxLTIuMTIxTDgsMTYuNTM2bC0yLjEyMSwyLjEyMUM1LjQ4OCwxOS4wNDcsNC44NTUsMTkuMDQ3LDQuNDY0LDE4LjY1N3oiLz4JCQk8cmVjdCB4PSIzLjUiIHk9IjguMDg2IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjcwNzEgMC43MDcxIC0wLjcwNzEgMC43MDcxIDEwLjUzNTUgLTIuMjYzNSkiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSI5IiBoZWlnaHQ9IjciLz4JCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMy43NTciIHkxPSI5LjQ2NCIgeDI9IjEwLjEyMSIgeTI9IjE1LjgyOCIvPgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSI1Ljg3OSIgeTE9IjcuMzQzIiB4Mj0iMTIuMjQzIiB5Mj0iMTMuNzA3Ii8+CTxwb2x5bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IgkJMTMuNjU3LDAuOTc5IDgsNi42MzYgMTIuOTUsMTEuNTg2IDE4LjYwNyw1LjkyOSAJIi8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjEwLjUzNiIgeTE9IjkuMTcyIiB4Mj0iMTYuMTkyIiB5Mj0iMy41MTUiLz48L2c+PC9zdmc+",
      ESTEREO:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSI4cHgiIGZvbnQtZmFtaWx5PSInTHVjaWRhIEdyYW5kZSciIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCIgICAgPjxwYXRoIGQ9Ik02Ljk1NyA2LjQ2MDkgUTYuMjY1NiA3LjA5NzcgNS42MjUgNy4wOTc3IFE1LjA5NzcgNy4wOTc3IDQuNzUgNi43Njc2IFE0LjQwMjMgNi40Mzc1IDQuNDAyMyA1LjkzMzYgUTQuNDAyMyA1LjIzODMgNC45ODYzIDQuODY1MiBRNS41NzAzIDQuNDkyMiA2LjY2MDIgNC40OTIyIEw2Ljg0MzggNC40OTIyIEw2Ljg0MzggMy45ODA1IFE2Ljg0MzggMy4yNDIyIDYuMDg1OSAzLjI0MjIgUTUuNDc2NiAzLjI0MjIgNC43Njk1IDMuNjE3MiBMNC43Njk1IDIuOTgwNSBRNS41NDY5IDIuNjY0MSA2LjIyNjYgMi42NjQxIFE2LjkzNzUgMi42NjQxIDcuMjc1NCAyLjk4NDQgUTcuNjEzMyAzLjMwNDcgNy42MTMzIDMuOTgwNSBMNy42MTMzIDUuOTAyMyBRNy42MTMzIDYuNTYyNSA4LjAxOTUgNi41NjI1IFE4LjA3MDMgNi41NjI1IDguMTY4IDYuNTQ2OSBMOC4yMjI3IDYuOTcyNyBRNy45NjA5IDcuMDk3NyA3LjY0NDUgNy4wOTc3IFE3LjEwNTUgNy4wOTc3IDYuOTU3IDYuNDYwOSBaTTYuODQzOCA2LjA0MyBMNi44NDM4IDQuOTQ1MyBMNi41ODU5IDQuOTM3NSBRNS45NTMxIDQuOTM3NSA1LjU2MjUgNS4xNzc3IFE1LjE3MTkgNS40MTggNS4xNzE5IDUuODA4NiBRNS4xNzE5IDYuMDg1OSA1LjM2NzIgNi4yNzczIFE1LjU2MjUgNi40Njg4IDUuODQzOCA2LjQ2ODggUTYuMzI0MiA2LjQ2ODggNi44NDM4IDYuMDQzIFpNOC43Njk1IDcuMDQ2OSBMOC43Njk1IDAuODMyIEw5LjUzOTEgMC44MzIgTDkuNTM5MSAzLjU1NDcgUTEwLjAxMTcgMi42NjQxIDEwLjk1NyAyLjY2NDEgUTExLjcyMjcgMi42NjQxIDEyLjE2MjEgMy4yMjI3IFExMi42MDE2IDMuNzgxMiAxMi42MDE2IDQuNzUgUTEyLjYwMTYgNS44MDQ3IDEyLjEwMzUgNi40NTEyIFExMS42MDU1IDcuMDk3NyAxMC43OTMgNy4wOTc3IFExMC4wMzkxIDcuMDk3NyA5LjUzOTEgNi41MTk1IEw5LjQ0NTMgNy4wNDY5IFpNOS41MzkxIDUuOTg4MyBRMTAuMTMyOCA2LjUxOTUgMTAuNjcxOSA2LjUxOTUgUTExLjc4MTIgNi41MTk1IDExLjc4MTIgNC44MjgxIFExMS43ODEyIDMuMzM1OSAxMC43OTY5IDMuMzM1OSBRMTAuMTUyMyAzLjMzNTkgOS41MzkxIDQuMDM1MiBaTTE0Ljg5NDUgNy4wOTc3IFExNC4zNjcyIDcuMDk3NyAxMy42MTMzIDYuODUxNiBMMTMuNjEzMyA2LjE0NDUgUTE0LjM2NzIgNi41MTk1IDE0LjkyNTggNi41MTk1IFExNS4yNTc4IDYuNTE5NSAxNS40NzY2IDYuMzM5OCBRMTUuNjk1MyA2LjE2MDIgMTUuNjk1MyA1Ljg5MDYgUTE1LjY5NTMgNS40OTYxIDE1LjA4MiA1LjIzODMgTDE0LjYzMjggNS4wNDY5IFExMy42MzY3IDQuNjMyOCAxMy42MzY3IDMuODU1NSBRMTMuNjM2NyAzLjMwMDggMTQuMDI5MyAyLjk4MjQgUTE0LjQyMTkgMi42NjQxIDE1LjEwNTUgMi42NjQxIFExNS40NjA5IDIuNjY0MSAxNS45ODQ0IDIuNzYxNyBMMTYuMTQ0NSAyLjc5MyBMMTYuMTQ0NSAzLjQzMzYgUTE1LjUgMy4yNDIyIDE1LjEyMTEgMy4yNDIyIFExNC4zNzg5IDMuMjQyMiAxNC4zNzg5IDMuNzgxMiBRMTQuMzc4OSA0LjEyODkgMTQuOTQxNCA0LjM2NzIgTDE1LjMxMjUgNC41MjM0IFExNS45NDE0IDQuNzg5MSAxNi4yMDMxIDUuMDg0IFExNi40NjQ4IDUuMzc4OSAxNi40NjQ4IDUuODIwMyBRMTYuNDY0OCA2LjM3ODkgMTYuMDIzNCA2LjczODMgUTE1LjU4MiA3LjA5NzcgMTQuODk0NSA3LjA5NzcgWiIgc3Ryb2tlPSJub25lIiAgICAgIC8+PHBhdGggZD0iTTguNDI5NyAxMy4wOTc3IFE3LjUxOTUgMTMuMDk3NyA2Ljk3NjYgMTIuNDk0MSBRNi40MzM2IDExLjg5MDYgNi40MzM2IDEwLjg3ODkgUTYuNDMzNiA5Ljg1NTUgNi45Nzg1IDkuMjU5OCBRNy41MjM0IDguNjY0MSA4LjQ1NyA4LjY2NDEgUTkuMzkwNiA4LjY2NDEgOS45MzU1IDkuMjU5OCBRMTAuNDgwNSA5Ljg1NTUgMTAuNDgwNSAxMC44NzExIFExMC40ODA1IDExLjkxMDIgOS45MzM2IDEyLjUwMzkgUTkuMzg2NyAxMy4wOTc3IDguNDI5NyAxMy4wOTc3IFpNOC40NDE0IDEyLjUxOTUgUTkuNjY0MSAxMi41MTk1IDkuNjY0MSAxMC44NzExIFE5LjY2NDEgOS4yNDIyIDguNDU3IDkuMjQyMiBRNy4yNTM5IDkuMjQyMiA3LjI1MzkgMTAuODc4OSBRNy4yNTM5IDEyLjUxOTUgOC40NDE0IDEyLjUxOTUgWk0xMS43Njk1IDEzIEwxMS43Njk1IDguNzU3OCBMMTIuNTM5MSA4Ljc1NzggTDEyLjUzOTEgOS41NTQ3IFExMi45OTYxIDguNjY0MSAxMy44NjcyIDguNjY0MSBRMTMuOTg0NCA4LjY2NDEgMTQuMTEzMyA4LjY4MzYgTDE0LjExMzMgOS40MDIzIFExMy45MTQxIDkuMzM1OSAxMy43NjE3IDkuMzM1OSBRMTMuMDMxMiA5LjMzNTkgMTIuNTM5MSAxMC4yMDMxIEwxMi41MzkxIDEzIFoiIHN0cm9rZT0ibm9uZSIgICAgICAvPjxwYXRoIGQ9Ik01Ljk1NyAxOC40NjA5IFE1LjI2NTYgMTkuMDk3NyA0LjYyNSAxOS4wOTc3IFE0LjA5NzcgMTkuMDk3NyAzLjc1IDE4Ljc2NzYgUTMuNDAyMyAxOC40Mzc1IDMuNDAyMyAxNy45MzM2IFEzLjQwMjMgMTcuMjM4MyAzLjk4NjMgMTYuODY1MiBRNC41NzAzIDE2LjQ5MjIgNS42NjAyIDE2LjQ5MjIgTDUuODQzOCAxNi40OTIyIEw1Ljg0MzggMTUuOTgwNSBRNS44NDM4IDE1LjI0MjIgNS4wODU5IDE1LjI0MjIgUTQuNDc2NiAxNS4yNDIyIDMuNzY5NSAxNS42MTcyIEwzLjc2OTUgMTQuOTgwNSBRNC41NDY5IDE0LjY2NDEgNS4yMjY2IDE0LjY2NDEgUTUuOTM3NSAxNC42NjQxIDYuMjc1NCAxNC45ODQ0IFE2LjYxMzMgMTUuMzA0NyA2LjYxMzMgMTUuOTgwNSBMNi42MTMzIDE3LjkwMjMgUTYuNjEzMyAxOC41NjI1IDcuMDE5NSAxOC41NjI1IFE3LjA3MDMgMTguNTYyNSA3LjE2OCAxOC41NDY5IEw3LjIyMjcgMTguOTcyNyBRNi45NjA5IDE5LjA5NzcgNi42NDQ1IDE5LjA5NzcgUTYuMTA1NSAxOS4wOTc3IDUuOTU3IDE4LjQ2MDkgWk01Ljg0MzggMTguMDQzIEw1Ljg0MzggMTYuOTQ1MyBMNS41ODU5IDE2LjkzNzUgUTQuOTUzMSAxNi45Mzc1IDQuNTYyNSAxNy4xNzc3IFE0LjE3MTkgMTcuNDE4IDQuMTcxOSAxNy44MDg2IFE0LjE3MTkgMTguMDg1OSA0LjM2NzIgMTguMjc3MyBRNC41NjI1IDE4LjQ2ODggNC44NDM4IDE4LjQ2ODggUTUuMzI0MiAxOC40Njg4IDUuODQzOCAxOC4wNDMgWk03Ljc2OTUgMTkgTDcuNzY5NSAxNC43NTc4IEw4LjUzOTEgMTQuNzU3OCBMOC41MzkxIDE1LjU1NDcgUTkuMTQ4NCAxNC42NjQxIDEwLjAzMTIgMTQuNjY0MSBRMTAuNTgyIDE0LjY2NDEgMTAuOTEwMiAxNS4wMTM3IFExMS4yMzgzIDE1LjM2MzMgMTEuMjM4MyAxNS45NTMxIEwxMS4yMzgzIDE5IEwxMC40Njg4IDE5IEwxMC40Njg4IDE2LjIwMzEgUTEwLjQ2ODggMTUuNzMwNSAxMC4zMzAxIDE1LjUyOTMgUTEwLjE5MTQgMTUuMzI4MSA5Ljg3MTEgMTUuMzI4MSBROS4xNjQxIDE1LjMyODEgOC41MzkxIDE2LjI1MzkgTDguNTM5MSAxOSBaTTE1LjQ5MjIgMTkgTDE1LjQ5MjIgMTguMjAzMSBRMTUuMDIzNCAxOS4wOTc3IDE0LjA3ODEgMTkuMDk3NyBRMTMuMzEyNSAxOS4wOTc3IDEyLjg3MyAxOC41MzkxIFExMi40MzM2IDE3Ljk4MDUgMTIuNDMzNiAxNy4wMTE3IFExMi40MzM2IDE1Ljk1MzEgMTIuOTMxNiAxNS4zMDg2IFExMy40Mjk3IDE0LjY2NDEgMTQuMjQyMiAxNC42NjQxIFExNC45OTYxIDE0LjY2NDEgMTUuNDkyMiAxNS4yNDIyIEwxNS40OTIyIDEyLjgzMiBMMTYuMjY1NiAxMi44MzIgTDE2LjI2NTYgMTkgWk0xNS40OTIyIDE1Ljc2OTUgUTE0Ljg5NDUgMTUuMjQyMiAxNC4zNTk0IDE1LjI0MjIgUTEzLjI1MzkgMTUuMjQyMiAxMy4yNTM5IDE2LjkzMzYgUTEzLjI1MzkgMTguNDIxOSAxNC4yMzgzIDE4LjQyMTkgUTE0Ljg3ODkgMTguNDIxOSAxNS40OTIyIDE3LjcyMjcgWiIgc3Ryb2tlPSJub25lIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      FLIP_HOR:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8Zz4JCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC43OTIsMTEuMzE3CQkJYy0yLjQzLTMuMi02LjM2Mi0zLjItOC43OTIsMCIvPgkJPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50cz0iCQkJMTUuMTc0LDkuNzU3IDE1LjE3NCwxMS45MTcgMTMuMDE0LDExLjkxNyAJCSIvPgk8L2c+CTxwb2x5bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IgkJMTAuNSwxMS40ODYgMTAuNSwxNy41IDIuNSwxNy41IDIuNSwyLjUgMTAuNSwyLjUgMTAuNSw2Ljg0IAkiLz4JPGc+CQk8Zz4JCQk8cGF0aCBkPSJNMTMsM2gtMC41QzEyLjIyNCwzLDEyLDIuNzc2LDEyLDIuNVMxMi4yMjQsMiwxMi41LDJIMTNjMC4yNzYsMCwwLjUsMC4yMjQsMC41LDAuNVMxMy4yNzYsMywxMywzeiIvPgkJPC9nPgkJPGc+CQkJPHBhdGggZD0iTTE2LDNoLTFjLTAuMjc2LDAtMC41LTAuMjI0LTAuNS0wLjVTMTQuNzI0LDIsMTUsMmgxYzAuMjc2LDAsMC41LDAuMjI0LDAuNSwwLjVTMTYuMjc2LDMsMTYsM3oiLz4JCTwvZz4JCTxnPgkJCTxwYXRoIGQ9Ik0xOC41LDMuNUMxOC4yMjQsMy41LDE4LDMuMjc2LDE4LDNjLTAuMjc2LDAtMC41LTAuMjI0LTAuNS0wLjVTMTcuNzI0LDIsMTgsMmgwLjVDMTguNzc2LDIsMTksMi4yMjQsMTksMi41VjMJCQkJQzE5LDMuMjc2LDE4Ljc3NiwzLjUsMTguNSwzLjV6Ii8+CQk8L2c+CQk8Zz4JCQk8cGF0aCBkPSJNMTguNSwxNS41Yy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41di0xYzAtMC4yNzYsMC4yMjQtMC41LDAuNS0wLjVTMTksMTMuNzI0LDE5LDE0djFDMTksMTUuMjc2LDE4Ljc3NiwxNS41LDE4LjUsMTUuNQkJCQl6IE0xOC41LDEyLjVjLTAuMjc2LDAtMC41LTAuMjI0LTAuNS0wLjV2LTFjMC0wLjI3NiwwLjIyNC0wLjUsMC41LTAuNVMxOSwxMC43MjQsMTksMTF2MUMxOSwxMi4yNzYsMTguNzc2LDEyLjUsMTguNSwxMi41egkJCQkgTTE4LjUsOS41QzE4LjIyNCw5LjUsMTgsOS4yNzYsMTgsOVY4YzAtMC4yNzYsMC4yMjQtMC41LDAuNS0wLjVTMTksNy43MjQsMTksOHYxQzE5LDkuMjc2LDE4Ljc3Niw5LjUsMTguNSw5LjV6IE0xOC41LDYuNQkJCQlDMTguMjI0LDYuNSwxOCw2LjI3NiwxOCw2VjVjMC0wLjI3NiwwLjIyNC0wLjUsMC41LTAuNVMxOSw0LjcyNCwxOSw1djFDMTksNi4yNzYsMTguNzc2LDYuNSwxOC41LDYuNXoiLz4JCTwvZz4JCTxnPgkJCTxwYXRoIGQ9Ik0xOC41LDE4SDE4Yy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41UzE3LjcyNCwxNywxOCwxN2MwLTAuMjc2LDAuMjI0LTAuNSwwLjUtMC41UzE5LDE2LjcyNCwxOSwxN3YwLjUJCQkJQzE5LDE3Ljc3NiwxOC43NzYsMTgsMTguNSwxOHoiLz4JCTwvZz4JCTxnPgkJCTxwYXRoIGQ9Ik0xNiwxOGgtMWMtMC4yNzYsMC0wLjUtMC4yMjQtMC41LTAuNVMxNC43MjQsMTcsMTUsMTdoMWMwLjI3NiwwLDAuNSwwLjIyNCwwLjUsMC41UzE2LjI3NiwxOCwxNiwxOHoiLz4JCTwvZz4JCTxnPgkJCTxwYXRoIGQ9Ik0xMywxOGgtMC41Yy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41czAuMjI0LTAuNSwwLjUtMC41SDEzYzAuMjc2LDAsMC41LDAuMjI0LDAuNSwwLjVTMTMuMjc2LDE4LDEzLDE4eiIvPgkJPC9nPgk8L2c+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjEwLjUiIHkxPSIxNy41IiB4Mj0iMTAuNSIgeTI9IjE5LjUiLz4JCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMTAuNSIgeTE9IjIuNSIgeDI9IjEwLjUiIHkyPSIwLjUiLz48L2c+PC9zdmc+",
      FLIP_VER:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8Zz4JCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik04LjY4MywxMy43OTIJCQljMy4yLTIuNDMsMy4yLTYuMzYyLDAtOC43OTIiLz4JCTxwb2x5bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IgkJCTEwLjI0MywxNC4xNzQgOC4wODMsMTQuMTc0IDguMDgzLDEyLjAxNCAJCSIvPgk8L2c+CTxwb2x5bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IjguNTE0LDkuNSAJCTIuNSw5LjUgMi41LDEuNSAxNy41LDEuNSAxNy41LDkuNSAxMy4xNiw5LjUgCSIvPgk8Zz4JCTxnPgkJCTxwYXRoIGQ9Ik0xNy41LDEyLjVjLTAuMjc2LDAtMC41LTAuMjI0LTAuNS0wLjV2LTAuNWMwLTAuMjc2LDAuMjI0LTAuNSwwLjUtMC41czAuNSwwLjIyNCwwLjUsMC41VjEyCQkJCUMxOCwxMi4yNzYsMTcuNzc2LDEyLjUsMTcuNSwxMi41eiIvPgkJPC9nPgkJPGc+CQkJPHBhdGggZD0iTTE3LjUsMTUuNWMtMC4yNzYsMC0wLjUtMC4yMjQtMC41LTAuNXYtMWMwLTAuMjc2LDAuMjI0LTAuNSwwLjUtMC41UzE4LDEzLjcyNCwxOCwxNHYxQzE4LDE1LjI3NiwxNy43NzYsMTUuNSwxNy41LDE1LjUJCQkJeiIvPgkJPC9nPgkJPGc+CQkJPHBhdGggZD0iTTE3LjUsMThIMTdjLTAuMjc2LDAtMC41LTAuMjI0LTAuNS0wLjVTMTYuNzI0LDE3LDE3LDE3YzAtMC4yNzYsMC4yMjQtMC41LDAuNS0wLjVTMTgsMTYuNzI0LDE4LDE3djAuNQkJCQlDMTgsMTcuNzc2LDE3Ljc3NiwxOCwxNy41LDE4eiIvPgkJPC9nPgkJPGc+CQkJPHBhdGggZD0iTTE1LDE4aC0xYy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41UzEzLjcyNCwxNywxNCwxN2gxYzAuMjc2LDAsMC41LDAuMjI0LDAuNSwwLjVTMTUuMjc2LDE4LDE1LDE4eiBNMTIsMThoLTEJCQkJYy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41UzEwLjcyNCwxNywxMSwxN2gxYzAuMjc2LDAsMC41LDAuMjI0LDAuNSwwLjVTMTIuMjc2LDE4LDEyLDE4eiBNOSwxOEg4Yy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41CQkJCVM3LjcyNCwxNyw4LDE3aDFjMC4yNzYsMCwwLjUsMC4yMjQsMC41LDAuNVM5LjI3NiwxOCw5LDE4eiBNNiwxOEg1Yy0wLjI3NiwwLTAuNS0wLjIyNC0wLjUtMC41UzQuNzI0LDE3LDUsMTdoMQkJCQljMC4yNzYsMCwwLjUsMC4yMjQsMC41LDAuNVM2LjI3NiwxOCw2LDE4eiIvPgkJPC9nPgkJPGc+CQkJPHBhdGggZD0iTTMsMThIMi41QzIuMjI0LDE4LDIsMTcuNzc2LDIsMTcuNVYxN2MwLTAuMjc2LDAuMjI0LTAuNSwwLjUtMC41UzMsMTYuNzI0LDMsMTdjMC4yNzYsMCwwLjUsMC4yMjQsMC41LDAuNQkJCQlTMy4yNzYsMTgsMywxOHoiLz4JCTwvZz4JCTxnPgkJCTxwYXRoIGQ9Ik0yLjUsMTUuNUMyLjIyNCwxNS41LDIsMTUuMjc2LDIsMTV2LTFjMC0wLjI3NiwwLjIyNC0wLjUsMC41LTAuNVMzLDEzLjcyNCwzLDE0djFDMywxNS4yNzYsMi43NzYsMTUuNSwyLjUsMTUuNXoiLz4JCTwvZz4JCTxnPgkJCTxwYXRoIGQ9Ik0yLjUsMTIuNUMyLjIyNCwxMi41LDIsMTIuMjc2LDIsMTJ2LTAuNUMyLDExLjIyNCwyLjIyNCwxMSwyLjUsMTFTMywxMS4yMjQsMywxMS41VjEyQzMsMTIuMjc2LDIuNzc2LDEyLjUsMi41LDEyLjV6Ii8+CQk8L2c+CTwvZz4JCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMi41IiB5MT0iOS41IiB4Mj0iMC41IiB5Mj0iOS41Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjE3LjUiIHkxPSI5LjUiIHgyPSIxOS41IiB5Mj0iOS41Ii8+PC9nPjwvc3ZnPg\x3d\x3d",
      FLUORINE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNNy4zMDU3IDE1IEw3LjMwNTcgNC44ODI4IEwxMi45NTkgNC44ODI4IEwxMi45NTkgNS45NTYxIEw4Ljc0MTIgNS45NTYxIEw4Ljc0MTIgOS4zNDY3IEwxMi4yODIyIDkuMzQ2NyBMMTIuMjgyMiAxMC40MDYyIEw4Ljc0MTIgMTAuNDA2MiBMOC43NDEyIDE1IFoiIHN0cm9rZT0ibm9uZSIgICAgLz48L2cgID48L2c+PC9zdmc+",
      HYDROGEN:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNNi4zMDU3IDE1IEw2LjMwNTcgNC44ODI4IEw3Ljc0MTIgNC44ODI4IEw3Ljc0MTIgOS4xNDg0IEwxMi41NTM3IDkuMTQ4NCBMMTIuNTUzNyA0Ljg4MjggTDEzLjk4OTMgNC44ODI4IEwxMy45ODkzIDE1IEwxMi41NTM3IDE1IEwxMi41NTM3IDEwLjIyMTcgTDcuNzQxMiAxMC4yMjE3IEw3Ljc0MTIgMTUgWiIgc3Ryb2tlPSJub25lIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      IMPLICITH:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1mYW1pbHk9IidMdWNpZGEgR3JhbmRlJyIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PHBhdGggZD0iTTQuMTE5MSAxMyBMNC4xMTkxIDQuMzI4MSBMNS4zNDk2IDQuMzI4MSBMNS4zNDk2IDcuOTg0NCBMOS40NzQ2IDcuOTg0NCBMOS40NzQ2IDQuMzI4MSBMMTAuNzA1MSA0LjMyODEgTDEwLjcwNTEgMTMgTDkuNDc0NiAxMyBMOS40NzQ2IDguOTA0MyBMNS4zNDk2IDguOTA0MyBMNS4zNDk2IDEzIFoiIHN0cm9rZT0ibm9uZSIgICAgICAvPjxwYXRoIGQ9Ik0xMi40Mjk3IDE2IEwxNC40NDYzIDEzLjI2MDcgTDEyLjQ4ODMgMTAuNjk3MyBMMTMuNjMwOSAxMC42OTczIEwxNS4xNzg3IDEyLjczODMgTDE2LjU4MDEgMTAuNjk3MyBMMTcuNTE3NiAxMC42OTczIEwxNS42ODE2IDEzLjM4NzcgTDE3LjY3ODcgMTYgTDE2LjUzNjEgMTYgTDE0LjkzOTUgMTMuOTAwNCBMMTMuMzk2NSAxNiBaIiBzdHJva2U9Im5vbmUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      INCREASE_CHARGE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVTcGVlZCIgc3Ryb2tlLWxpbmVqb2luPSJiZXZlbCIgICAgPjxsaW5lIHkyPSIxMCIgZmlsbD0ibm9uZSIgeDE9IjYiIHgyPSIxNCIgeTE9IjEwIiAgICAgIC8+PGxpbmUgeTI9IjE0IiBmaWxsPSJub25lIiB4MT0iMTAiIHgyPSIxMCIgeTE9IjYiICAgICAgLz48Y2lyY2xlIGZpbGw9Im5vbmUiIHI9IjYiIGN4PSIxMCIgY3k9IjEwIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      IODINE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNOS4yOTg4IDE1IEw5LjI5ODggNC44ODI4IEwxMC43MzQ0IDQuODgyOCBMMTAuNzM0NCAxNSBaIiBzdHJva2U9Im5vbmUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      ISOTOPE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1mYW1pbHk9IidMdWNpZGEgR3JhbmRlJyIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PHBhdGggZD0iTTEzLjMzNCAxNS4yMTY4IFExMS4zMTI1IDE1LjIxNjggMTAuMjEwOSAxNC4wMzAzIFE5LjEwOTQgMTIuODQzOCA5LjEwOTQgMTAuNjY5OSBROS4xMDk0IDguNTAyIDEwLjIzMTQgNy4zMDY2IFExMS4zNTM1IDYuMTExMyAxMy4zOTI2IDYuMTExMyBRMTQuNTU4NiA2LjExMTMgMTYuMTIzIDYuNDkyMiBMMTYuMTIzIDcuNjQ2NSBRMTQuMzQxOCA3LjAzMTIgMTMuMzc1IDcuMDMxMiBRMTEuOTYyOSA3LjAzMTIgMTEuMTg5NSA3Ljk4NjMgUTEwLjQxNiA4Ljk0MTQgMTAuNDE2IDEwLjY4MTYgUTEwLjQxNiAxMi4zMzk4IDExLjI0MjIgMTMuMjk3OSBRMTIuMDY4NCAxNC4yNTU5IDEzLjQ5OCAxNC4yNTU5IFExNC43Mjg1IDE0LjI1NTkgMTYuMTM0OCAxMy41IEwxNi4xMzQ4IDE0LjU1NDcgUTE0Ljg1MTYgMTUuMjE2OCAxMy4zMzQgMTUuMjE2OCBaIiBzdHJva2U9Im5vbmUiICAgICAgLz48cGF0aCBkPSJNMi40Mjk3IDEwIEw0LjQ0NjMgNy4yNjA3IEwyLjQ4ODMgNC42OTczIEwzLjYzMDkgNC42OTczIEw1LjE3ODcgNi43MzgzIEw2LjU4MDEgNC42OTczIEw3LjUxNzYgNC42OTczIEw1LjY4MTYgNy4zODc3IEw3LjY3ODcgMTAgTDYuNTM2MSAxMCBMNC45Mzk1IDcuOTAwNCBMMy4zOTY1IDEwIFoiIHN0cm9rZT0ibm9uZSIgICAgLz48L2cgID48L2c+PC9zdmc+",
      LASSO:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMi4xNjcsNwkJYzAtMy4wMzgsMy42NTYtNS41LDguMTY3LTUuNVMxOC41LDMuOTYyLDE4LjUsN3MtMy42NTYsNS41LTguMTY3LDUuNWMtMS41NDEsMC0yLjk4My0wLjI4OC00LjIxMy0wLjc4NyIvPgkJCTxjaXJjbGUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjQuNSIgY3k9IjEwLjUiIHI9IjIiLz4JPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTYuNSwxOC41CQljMy0yLDIuNDQ4LTUuNDQ4LTAuMzk1LTYuNzQ5Ii8+PC9nPjwvc3ZnPg\x3d\x3d",
      LASSO_SHAPES:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxwb2x5Z29uIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50cz0iMTUsOC41IAkxMC41LDE4LjUgMTkuNSwxOC41ICIvPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAuMzMzLDEyLjUJCWMtMS41NDEsMC0yLjk4My0wLjI4OC00LjIxMy0wLjc4NyIvPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMi4xNjcsNwkJYzAtMy4wMzgsMy42NTYtNS41LDguMTY3LTUuNVMxOC41LDMuOTYyLDE4LjUsN2MwLDAuNTItMC4xMDcsMS4wMjMtMC4zMDgsMS41Ii8+CQkJPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBjeD0iNC41IiBjeT0iMTAuNSIgcj0iMiIvPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNi41LDE4LjUJCWMzLTIsMi40NDgtNS40NDgtMC4zOTUtNi43NDkiLz48L2c+PC9zdmc+",
      MARQUEE:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRzPSIwLjUsMy41IAkJMC41LDAuNSAzLjUsMC41IAkiLz4JCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iOC41IiB5MT0iMC41IiB4Mj0iMTEuNSIgeTI9IjAuNSIvPgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSI4LjUiIHkxPSIxOS41IiB4Mj0iMTEuNSIgeTI9IjE5LjUiLz4JCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMTkuNSIgeTE9IjExLjUiIHgyPSIxOS41IiB5Mj0iOC41Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjAuNSIgeTE9IjExLjUiIHgyPSIwLjUiIHkyPSI4LjUiLz4JPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50cz0iMTkuNSwzLjUgCQkxOS41LDAuNSAxNi41LDAuNSAJIi8+CTxwb2x5bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IjE5LjUsMTYuNSAJCTE5LjUsMTkuNSAxNi41LDE5LjUgCSIvPgk8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRzPSIwLjUsMTYuNSAJCTAuNSwxOS41IDMuNSwxOS41IAkiLz48L2c+PC9zdmc+",
      MOVE: "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNC41LDcuNXY1LjkwOQkJYzAsMi44MTEsMi4yNzksNS4wOTEsNS4wOTEsNS4wOTFoMGMyLjMwNiwwLDQuMzIzLTEuNTUsNC45MTgtMy43NzdMMTYuMzA0LDhsMCwwYy0xLjEzMS0wLjM5LTIuMzcxLDAuMTU5LTIuODQzLDEuMjU4TDEyLjUsMTEuNSIJCS8+CTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik00LjUsMTAuNXYtNAkJYzAtMC41NTIsMC40NDgtMSwxLTFoMGMwLjU1MiwwLDEsMC40NDgsMSwxdjMiLz4JPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTYuNSw5LjV2LTUJCWMwLTAuNTUyLDAuNDQ4LTEsMS0xaDBjMC41NTIsMCwxLDAuNDQ4LDEsMXY1Ii8+CTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik04LjUsOS41di03CQljMC0wLjU1MiwwLjQ0OC0xLDEtMWgwYzAuNTUyLDAsMSwwLjQ0OCwxLDF2NyIvPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAuNSw5LjV2LTYJCWMwLTAuNTUyLDAuNDQ4LTEsMS0xaDBjMC41NTIsMCwxLDAuNDQ4LDEsMXY4Ii8+PC9nPjwvc3ZnPg\x3d\x3d",
      NITROGEN:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNNi4zMDU3IDE1IEw2LjMwNTcgNC44ODI4IEw3LjcxMzkgNC44ODI4IEwxMi44MDY2IDEyLjY5NjMgTDEyLjgwNjYgNC44ODI4IEwxNC4wMzcxIDQuODgyOCBMMTQuMDM3MSAxNSBMMTIuNjM1NyAxNSBMNy41MzYxIDcuMTg2NSBMNy41MzYxIDE1IFoiIHN0cm9rZT0ibm9uZSIgICAgLz48L2cgID48L2c+PC9zdmc+",
      OPEN: "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuOTI1LDE2LjVIMy4xNjIJCWMtMC43NDMsMC0xLjIyNy0wLjc4Mi0wLjg5NC0xLjQ0N2wzLTZDNS40MzYsOC43MTQsNS43ODMsOC41LDYuMTYyLDguNWgxMS43NjRjMC43NDMsMCwxLjIyNywwLjc4MiwwLjg5NCwxLjQ0N2wtMyw2CQlDMTUuNjUsMTYuMjg2LDE1LjMwNCwxNi41LDE0LjkyNSwxNi41eiIvPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMi4yNjcsMTUuMDUzbDMtNgkJQzUuNDM2LDguNzE0LDUuNzgzLDguNSw2LjE2MSw4LjVoOS4zODJ2LTJjMC0wLjU1Mi0wLjQ0OC0xLTEtMWgtN3YtMWMwLTAuNTUyLTAuNDQ4LTEtMS0xaC00Yy0wLjU1MiwwLTEsMC40NDgtMSwxdjExCQljMCwwLjU1MiwwLjQ0OCwxLDEsMWgwLjYxOEMyLjQxOCwxNi41LDEuOTM1LDE1LjcxOCwyLjI2NywxNS4wNTN6Ii8+PC9nPjwvc3ZnPg\x3d\x3d",
      OPTIMIZE:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTcuNSwxNS41aC0xNQkJYy0wLjU1MiwwLTEtMC40NDgtMS0xdjBjMC0wLjU1MiwwLjQ0OC0xLDEtMWgxNWMwLjU1MiwwLDEsMC40NDgsMSwxdjBDMTguNSwxNS4wNTIsMTguMDUyLDE1LjUsMTcuNSwxNS41eiIvPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTcuNSwxMy41aC0xNXYwCQljMC0zLjg2NiwzLjEzNC03LDctN2g4VjEzLjV6Ii8+CTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik00LjkxNywxMS41CQljMC40MjQtMC45NjcsMS4xNDUtMS43NzYsMi4wNDctMi4zMDkiLz4JCQk8Y2lyY2xlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGN4PSIxNCIgY3k9IjEwIiByPSIxLjUiLz4JPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjA4MywxLjVoLTIuMTY1CQlDMTAuMDMzLDEuNSw4LjUsMy4wMzMsOC41LDQuOTE3VjYuNWg5VjQuOTE3QzE3LjUsMy4wMzMsMTUuOTY3LDEuNSwxNC4wODMsMS41eiBNMTUuNSw2LjVoLTVWNC45MTcJCWMwLTAuNzgzLDAuNjM1LTEuNDE3LDEuNDE3LTEuNDE3aDIuMTY1YzAuNzgzLDAsMS40MTcsMC42MzUsMS40MTcsMS40MTdWNi41eiIvPjwvZz48L3N2Zz4\x3d",
      OXYGEN:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNMTAuMzc5OSAxNS4yNTI5IFE4LjI3NDQgMTUuMjUyOSA2Ljk5MjcgMTMuNzkzNSBRNS43MTA5IDEyLjMzNCA1LjcxMDkgOS45MzQ2IFE1LjcxMDkgNy41MjE1IDYuOTk5NSA2LjA3NTcgUTguMjg4MSA0LjYyOTkgMTAuNDQxNCA0LjYyOTkgUTEyLjU4NzkgNC42Mjk5IDEzLjg3OTkgNi4wNzIzIFExNS4xNzE5IDcuNTE0NiAxNS4xNzE5IDkuOTIwOSBRMTUuMTcxOSAxMi4zNzUgMTMuODc5OSAxMy44MTQgUTEyLjU4NzkgMTUuMjUyOSAxMC4zNzk5IDE1LjI1MjkgWk0xMC40MDA0IDE0LjE3OTcgUTExLjk1MjEgMTQuMTc5NyAxMi43OTk4IDEzLjA2MiBRMTMuNjQ3NSAxMS45NDQzIDEzLjY0NzUgOS45MDcyIFExMy42NDc1IDcuOTMxNiAxMi43OTY0IDYuODE3NCBRMTEuOTQ1MyA1LjcwMzEgMTAuNDQxNCA1LjcwMzEgUTguOTMwNyA1LjcwMzEgOC4wODMgNi44MjA4IFE3LjIzNTQgNy45Mzg1IDcuMjM1NCA5LjkyNzcgUTcuMjM1NCAxMS45MTAyIDguMDc2MiAxMy4wNDQ5IFE4LjkxNyAxNC4xNzk3IDEwLjQwMDQgMTQuMTc5NyBaIiBzdHJva2U9Im5vbmUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      PASTE:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IjExLjUsNy41IAkJOC41LDcuNSA5LjUsMC41IDEwLjUsMC41IAkiLz4JPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTExLjUsOS41aC0zCQljLTAuNTUyLDAtMS0wLjQ0OC0xLTF2MGMwLTAuNTUyLDAuNDQ4LTEsMS0xaDNjMC41NTIsMCwxLDAuNDQ4LDEsMXYwQzEyLjUsOS4wNTIsMTIuMDUyLDkuNSwxMS41LDkuNXoiLz4JPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjE2Nyw5LjVINy44MzMJCWwtMS4xNTgsMC45OTNDNS45MjksMTEuMTMyLDUuNSwxMi4wNjUsNS41LDEzLjA0OFYxOC41YzAsMC41NTIsMC40NDgsMSwxLDFoN2MwLjU1MiwwLDEtMC40NDgsMS0xdi01LjQ1MgkJYzAtMC45ODItMC40MjktMS45MTYtMS4xNzUtMi41NTVMMTIuMTY3LDkuNXoiLz4JPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLjUsMTcuNWgtMQkJYy0wLjU1MiwwLTEtMC40NDgtMS0xdi0zYzAtMC41NTIsMC40NDgtMSwxLTFoMWMwLjU1MiwwLDEsMC40NDgsMSwxdjNDMTEuNSwxNy4wNTIsMTEuMDUyLDE3LjUsMTAuNSwxNy41eiIvPjwvZz48L3N2Zz4\x3d",
      PERIODIC_TABLE:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgkJCTxyZWN0IHg9IjAuNSIgeT0iMS41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMTgiIGhlaWdodD0iMTgiLz4JCQk8cmVjdCB4PSIyLjUiIHk9IjMuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjIuNSIgeT0iNS41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iMi41IiB5PSI3LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4JCQk8cmVjdCB4PSIyLjUiIHk9IjkuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjIuNSIgeT0iMTEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjQuNSIgeT0iNS41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iNC41IiB5PSI3LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4JCQk8cmVjdCB4PSI0LjUiIHk9IjkuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjQuNSIgeT0iMTEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjQuNSIgeT0iMTUuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjYuNSIgeT0iMTUuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjguNSIgeT0iMTUuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjEwLjUiIHk9IjE1LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4JCQk8cmVjdCB4PSIxMi41IiB5PSIxNS41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iNi41IiB5PSI3LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4JCQk8cmVjdCB4PSI2LjUiIHk9IjkuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjYuNSIgeT0iMTEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjguNSIgeT0iNy41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iOC41IiB5PSIzLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4JCQk8cmVjdCB4PSI4LjUiIHk9IjkuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjguNSIgeT0iMTEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjEwLjUiIHk9IjcuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjEwLjUiIHk9IjkuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPgkJCTxyZWN0IHg9IjEwLjUiIHk9IjExLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4JCQk8cmVjdCB4PSIxMi41IiB5PSI1LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4JCQk8cmVjdCB4PSIxMi41IiB5PSI3LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4JCQk8cmVjdCB4PSIxMi41IiB5PSI5LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHdpZHRoPSIyIiBoZWlnaHQ9IjIiLz4JCQk8cmVjdCB4PSIxMi41IiB5PSIxMS41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iMTQuNSIgeT0iNS41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iMTQuNSIgeT0iNy41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iMTQuNSIgeT0iOS41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMiIgaGVpZ2h0PSIyIi8+CQkJPHJlY3QgeD0iMTQuNSIgeT0iMTEuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjIiIGhlaWdodD0iMiIvPjwvZz48L3N2Zz4\x3d",
      PERSPECTIVE:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8Zz4JCTxwb2x5Z29uIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHBvaW50cz0iCQkJNC41NjQsNC4zMzQgNC41NjQsMTAuNDgxIDEwLjA2NCwxMy42NDEgMTUuNTY0LDEwLjQ4MSAxNS41NjQsNC4zMzQgMTAuMDY0LDEuMzU5IAkJIi8+CQk8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRzPSIJCQkxNS41NjQsNC4zMzQgMTAuMDY0LDcuMDUxIDQuNTY0LDQuMzM0IAkJIi8+CQkJCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMTAuMDY0IiB5MT0iMTMuNjQxIiB4Mj0iMTAuMDY0IiB5Mj0iNy4wNTEiLz4JPC9nPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNy4zODQsMTYuNzc3CQljMC44MzUsMC4xNjYsMS43MzMsMC4yNTcsMi42OCwwLjI1N2M1LjA1NiwwLDguNzM5LTIuNjc4LDguNzM5LTUuMzVjMC0wLjk2OC0wLjQxMS0xLjg3Ny0xLjEzMS0yLjY2NAkJYy0wLjQzMi0wLjQ3Mi0wLjk3NS0wLjg5OS0xLjYwNy0xLjI2OSIvPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNNC4wNjIsNy43NTIJCWMtMC41OTgsMC4zNS0xLjExNiwwLjc1Mi0xLjUzNiwxLjE5M2MtMC43NjQsMC44MDMtMS4yMDEsMS43NC0xLjIwMSwyLjczOWMwLDEuNjgyLDEuMzgsMy4zMSwzLjYxMSw0LjMxOSIvPgk8cG9seWxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRzPSIJCTQuNTM3LDEzLjQyNCA1LjEyMywxNi4xMzYgMi40MDUsMTYuNTk0IAkiLz48L2c+PC9zdmc+",
      PHOSPHORUS:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNNy4zMDU3IDE1IEw3LjMwNTcgNC44ODI4IEwxMC4wNjA1IDQuODgyOCBRMTEuODkyNiA0Ljg4MjggMTIuNjkyNCA1LjUwMTUgUTEzLjQ5MjIgNi4xMjAxIDEzLjQ5MjIgNy41MzUyIFExMy40OTIyIDkuMTQ4NCAxMi4zOTg0IDEwLjA2NDUgUTExLjMwNDcgMTAuOTgwNSA5LjM2MzMgMTAuOTgwNSBMOC43Mjc1IDEwLjk4MDUgTDguNzI3NSAxNSBaTTguNzI3NSA5Ljg5MzYgTDkuMzA4NiA5Ljg5MzYgUTEwLjU4NjkgOS44OTM2IDExLjI4NDIgOS4zMDU3IFExMS45ODE0IDguNzE3OCAxMS45ODE0IDcuNjQ0NSBRMTEuOTgxNCA2LjczNTQgMTEuNDM0NiA2LjM0NTcgUTEwLjg4NzcgNS45NTYxIDkuNjA5NCA1Ljk1NjEgTDguNzI3NSA1Ljk1NjEgWiIgc3Ryb2tlPSJub25lIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      PUSHER_BOND_FORMING:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGNpcmNsZSByPSIxIiBjeD0iMiIgY3k9IjgiIHN0cm9rZT0ibm9uZSIgICAgICAvPjxjaXJjbGUgcj0iMSIgY3g9IjE4IiBjeT0iOCIgc3Ryb2tlPSJub25lIiAgICAgIC8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTIgNSBDMiAtMiA2IC0yIDYgMTEiICAgICAgLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMTggNSBDMTggLTIgMTQgLTIgMTQgMTEiICAgICAgLz48cGF0aCBkPSJNNiAxNSBMOC4yOTYxIDkuNDU2NyBDOC4yOTYxIDkuNDU2NyA3LjgzNjkgMTAuNTY1NCA2IDEwLjU2NTQgWiIgc3Ryb2tlPSJub25lIiAgICAgIC8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTYgMTUgTDguMjk2MSA5LjQ1NjcgQzguMjk2MSA5LjQ1NjcgNy44MzY5IDEwLjU2NTQgNiAxMC41NjU0IFoiICAgICAgLz48cGF0aCBkPSJNMTQgMTUgTDExLjcwMzkgOS40NTY3IEMxMS43MDM5IDkuNDU2NyAxMi4xNjMxIDEwLjU2NTQgMTQgMTAuNTY1NCBaIiBzdHJva2U9Im5vbmUiICAgICAgLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMTQgMTUgTDExLjcwMzkgOS40NTY3IEMxMS43MDM5IDkuNDU2NyAxMi4xNjMxIDEwLjU2NTQgMTQgMTAuNTY1NCBaIiAgICAgIC8+PGxpbmUgeTI9IjE4IiBmaWxsPSJub25lIiB4MT0iMSIgeDI9IjE5IiB5MT0iMTgiICAgICAgLz48bGluZSB5Mj0iMTkiIGZpbGw9Im5vbmUiIHgxPSIxIiB4Mj0iMTkiIHkxPSIxOSIgICAgLz48L2cgID48L2c+PC9zdmc+",
      PUSHER_DOUBLE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGNpcmNsZSByPSIxIiBjeD0iMSIgY3k9IjE5IiBzdHJva2U9Im5vbmUiICAgICAgLz48Y2lyY2xlIHI9IjEiIGN4PSI1IiBjeT0iMTkiIHN0cm9rZT0ibm9uZSIgICAgICAvPjxwYXRoIGZpbGw9Im5vbmUiIGQ9Ik0zIDE2IEMzIC0zIDE2IC0zIDE2IDE1IiAgICAgIC8+PHBhdGggZD0iTTE2IDE3IEwxMy43MDM5IDExLjQ1NjcgQzEzLjcwMzkgMTEuNDU2NyAxNC4xNjMxIDEyLjU2NTQgMTYgMTIuNTY1NCBDMTcuODM2OSAxMi41NjU0IDE4LjI5NjEgMTEuNDU2NyAxOC4yOTYxIDExLjQ1NjcgWiIgc3Ryb2tlPSJub25lIiAgICAgIC8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTE2IDE3IEwxMy43MDM5IDExLjQ1NjcgQzEzLjcwMzkgMTEuNDU2NyAxNC4xNjMxIDEyLjU2NTQgMTYgMTIuNTY1NCBDMTcuODM2OSAxMi41NjU0IDE4LjI5NjEgMTEuNDU2NyAxOC4yOTYxIDExLjQ1NjcgWiIgICAgLz48L2cgID48L2c+PC9zdmc+",
      PUSHER_SINGLE:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGNpcmNsZSByPSIxIiBjeD0iMyIgY3k9IjE5IiBzdHJva2U9Im5vbmUiICAgICAgLz48cGF0aCBmaWxsPSJub25lIiBkPSJNMyAxNiBDMyAtMyAxNiAtMyAxNiAxNSIgICAgICAvPjxwYXRoIGQ9Ik0xNiAxNyBMMTguMjk2MSAxMS40NTY3IEMxOC4yOTYxIDExLjQ1NjcgMTcuODM2OSAxMi41NjU0IDE2IDEyLjU2NTQgWiIgc3Ryb2tlPSJub25lIiAgICAgIC8+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTE2IDE3IEwxOC4yOTYxIDExLjQ1NjcgQzE4LjI5NjEgMTEuNDU2NyAxNy44MzY5IDEyLjU2NTQgMTYgMTIuNTY1NCBaIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      QUERY:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8Zz4JCTxwYXRoIGQ9Ik03LjA5MSwxLjk5OGMyLjk0MSwwLDUuNDE4LDIuNTU5LDUuNDE4LDYuMzQ2YzAsMy4xMTUtMS40Myw1LjM0Ny0zLjQ2Myw2LjIzYy0wLjY3MSwwLjI5MiwyLjIwNCwyLjA0MiwzLjk1NCwyLjI1djEJCQljLTAuMDAxLDAtMC4wMDIsMC0wLjAwMiwwYy0xLjEzMiwwLTQuNDIyLTAuMDAxLTYuMzU5LTIuODM4Yy0yLjk4OS0wLjE5My01LjE5NC0yLjg3OS01LjE5NC02LjQ0MgkJCUMxLjQ0NSw1LjIxNSwzLjQ2NiwxLjk5OCw3LjA5MSwxLjk5OCBNNy4yNTUsMTQuMjAyYzEuNjQ3LDAsMy4wMDUtMS43NSwzLjAwNS01LjMyMmMwLTMuODczLTEuNDYzLTYuMDg2LTMuNDQyLTYuMDg2CQkJYy0xLjcyMywwLTMuMTAyLDEuODc1LTMuMTAyLDUuMzMzQzMuNzE2LDExLjQ4NSw1LjAxMSwxNC4yMDIsNy4yNTUsMTQuMjAyIE03LjA5MSwwLjk5OGMtNC4zMTcsMC02LjY0NywzLjg4OC02LjY0Nyw3LjU0NgkJCWMwLDMuODk1LDIuMzQ4LDYuOTIyLDUuNjQ5LDcuMzljMi4yNTUsMi44OSw1LjczLDIuODksNi45MDQsMi44OWMwLjU1MiwwLDEuMDAyLTAuNDQ4LDEuMDAyLTF2LTEJCQljMC0wLjUwNy0wLjM3OS0wLjkzMy0wLjg4Mi0wLjk5M2MtMC43ODItMC4wOTMtMS44MjctMC41NjktMi41MzUtMC45ODVjMS44NTMtMS4zMywyLjkyNi0zLjY2OSwyLjkyNi02LjUwMQkJCUMxMy41MDksNC4xNTYsMTAuNzUsMC45OTgsNy4wOTEsMC45OThMNy4wOTEsMC45OTh6IE03LjI1NSwxMy4yMDJjLTEuNjY3LDAtMi41MzktMi41NTMtMi41MzktNS4wNzUJCQljMC0yLjU1MSwwLjg2NC00LjMzMywyLjEwMi00LjMzM2MxLjQ2MSwwLDIuNDQyLDIuMDQ0LDIuNDQyLDUuMDg2QzkuMjYsMTEuNDY2LDguNDU0LDEzLjIwMiw3LjI1NSwxMy4yMDJMNy4yNTUsMTMuMjAyeiIvPgk8L2c+CTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNS4xOTIsNy45NzgJCWMwLTEuMzE3LDEuMTgzLTIuMzU4LDIuNTQ0LTIuMTJjMC44NjYsMC4xNTIsMS41NzcsMC44NjMsMS43MjksMS43MjljMC4xOSwxLjA4MS0wLjQyOCwyLjA1LTEuMzUsMi40MDMJCWMtMC40NTEsMC4xNzMtMC43NjksMC41NzctMC43NjksMS4wNnYxLjIzNSIvPgk8Y2lyY2xlIGN4PSIxNy4zNDYiIGN5PSIxNC40MzkiIHI9IjAuNzE4Ii8+PC9nPjwvc3ZnPg\x3d\x3d",
      REDO: "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTEuNSw3LjV2LTRsNyw2CQlsLTcsNnYtNEg4Ljc0M2MtMi43MTcsMC01LjMyMiwxLjA3OS03LjI0MywzbDAsMHYtMi4wMzFDMS41LDkuNzI1LDMuNzI1LDcuNSw2LjQ2OSw3LjVIMTEuNXoiLz48L2c+PC9zdmc+",
      REMOVE_LONE_PAIR:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJmFwb3M7RGlhbG9nJmFwb3M7IiBmb250LXN0eWxlPSJub3JtYWwiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIGZvbnQtc2l6ZT0iMTIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBpbWFnZS1yZW5kZXJpbmc9ImF1dG8iPjxkZWZzIGlkPSJnZW5lcmljRGVmcyIgIC8+PGcgID48ZyB0ZXh0LXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48Y2lyY2xlIGZpbGw9Im5vbmUiIHI9IjIiIGN4PSI2IiBjeT0iMTAiICAgICAgLz48Y2lyY2xlIGZpbGw9Im5vbmUiIHI9IjIiIGN4PSIxNCIgY3k9IjEwIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      REMOVE_RADICAL:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJmFwb3M7RGlhbG9nJmFwb3M7IiBmb250LXN0eWxlPSJub3JtYWwiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIGZvbnQtc2l6ZT0iMTIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBpbWFnZS1yZW5kZXJpbmc9ImF1dG8iPjxkZWZzIGlkPSJnZW5lcmljRGVmcyIgIC8+PGcgID48ZyB0ZXh0LXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIiBjb2xvci1yZW5kZXJpbmc9Im9wdGltaXplUXVhbGl0eSIgY29sb3ItaW50ZXJwb2xhdGlvbj0ibGluZWFyUkdCIiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48Y2lyY2xlIGZpbGw9Im5vbmUiIHI9IjIiIGN4PSIxMCIgY3k9IjEwIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      RING_ARBITRARY:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PGNpcmNsZSBmaWxsPSJub25lIiByPSI5IiBjeD0iMTAiIGN5PSIxMCIgICAgICAvPjxwYXRoIGQ9Ik03LjY1NDMgMTMuNSBMNy42NTQzIDcuMTM2NyBMOC44MDg2IDcuMTM2NyBMOC44MDg2IDguMzMyIFE5LjcyMjcgNi45OTYxIDExLjA0NjkgNi45OTYxIFExMS44NzMgNi45OTYxIDEyLjM2NTIgNy41MjA1IFExMi44NTc0IDguMDQ0OSAxMi44NTc0IDguOTI5NyBMMTIuODU3NCAxMy41IEwxMS43MDMxIDEzLjUgTDExLjcwMzEgOS4zMDQ3IFExMS43MDMxIDguNTk1NyAxMS40OTUxIDguMjkzOSBRMTEuMjg3MSA3Ljk5MjIgMTAuODA2NiA3Ljk5MjIgUTkuNzQ2MSA3Ljk5MjIgOC44MDg2IDkuMzgwOSBMOC44MDg2IDEzLjUgWiIgc3Ryb2tlPSJub25lIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      SAVE: "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTcuNSwxOC41aC0xNAkJYy0wLjU1MiwwLTEtMC40NDgtMS0xdi0xNGMwLTAuNTUyLDAuNDQ4LTEsMS0xaDExbDQsNXYxMEMxOC41LDE4LjA1MiwxOC4wNTIsMTguNSwxNy41LDE4LjV6Ii8+CQkJPHJlY3QgeD0iNS41IiB5PSIxMC41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iMTAiIGhlaWdodD0iOCIvPgkJCTxyZWN0IHg9IjUuNSIgeT0iMi41IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iNyIgaGVpZ2h0PSI0Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjcuNSIgeTE9IjEzLjUiIHgyPSIxMy41IiB5Mj0iMTMuNSIvPgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSI3LjUiIHkxPSIxNS41IiB4Mj0iMTMuNSIgeTI9IjE1LjUiLz48L2c+PC9zdmc+",
      SEARCH:
        "PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj4gIDx0aXRsZT5pQ2hlbUxhYnM8L3RpdGxlPiAgPGc+ICAgIDxjaXJjbGUgY3g9IjEwIiBjeT0iMyIgcj0iMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4gICAgPGNpcmNsZSBjeD0iMTciIGN5PSIxMC41IiByPSIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPiAgICA8Y2lyY2xlIGN4PSIxMCIgY3k9IjE3IiByPSIyIiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPiAgICA8bGluZSB4MT0iMTEuNzA1IiB5MT0iNC44MjciIHgyPSIxNS4yOTUiIHkyPSI4LjY3MyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4gICAgPGxpbmUgeDE9IjE1LjE2OSIgeTE9IjEyLjIiIHgyPSIxMS43NjgiIHkyPSIxNS4yMzIiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+ICA8L2c+ICA8cG9seWdvbiBwb2ludHM9IjUuNSA4LjUgNS41IDUuNSAwLjUgMTAgNS41IDE0LjUgNS41IDExLjUgOS41IDExLjUgOS41MzEgOC41IDUuNSA4LjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+",
      SETTINGS:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IgkJMTkuNSwxMS4zNTcgMTkuNSw4LjY0MyAxNi42NDksOC42NDMgMTUuNjU3LDYuMjYyIDE3LjY3Nyw0LjI0MiAxNS43NTgsMi4zMjMgMTMuNzM4LDQuMzQzIDExLjM1NywzLjM1MSAxMS4zNTcsMC41IDguNjQzLDAuNSAJCTguNjQzLDMuMzUxIDYuMjYyLDQuMzQzIDQuMjQyLDIuMzIzIDIuMzIzLDQuMjQyIDQuMzQzLDYuMjYyIDMuMzUxLDguNjQzIDAuNSw4LjY0MyAwLjUsMTEuMzU3IDMuMzUxLDExLjM1NyA0LjM0MywxMy43MzggCQkyLjMyMywxNS43NTggNC4yNDIsMTcuNjc3IDYuMjYyLDE1LjY1NyA4LjY0MywxNi42NDkgOC42NDMsMTkuNSAxMS4zNTcsMTkuNSAxMS4zNTcsMTYuNjQ5IDEzLjczOCwxNS42NTcgMTUuNzU4LDE3LjY3NyAJCTE3LjY3NywxNS43NTggMTUuNjU3LDEzLjczOCAxNi42NDksMTEuMzU3IAkiLz4JCQk8Y2lyY2xlIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGN4PSIxMCIgY3k9IjEwIiByPSIzLjE2NyIvPjwvZz48L3N2Zz4\x3d",
      SILICON:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNNy4yODgxIDE1LjI1MjkgUTYuMjY5NSAxNS4yNTI5IDQuNjgzNiAxNC44MDg2IEw0LjY4MzYgMTMuMzg2NyBRNi4zOTI2IDE0LjE3OTcgNy40OTMyIDE0LjE3OTcgUTguMzQwOCAxNC4xNzk3IDguODU2OSAxMy43MzU0IFE5LjM3MyAxMy4yOTEgOS4zNzMgMTIuNTY2NCBROS4zNzMgMTEuOTcxNyA5LjAzNDcgMTEuNTU0NyBROC42OTYzIDExLjEzNzcgNy43ODcxIDEwLjYyNSBMNy4wODk4IDEwLjIyMTcgUTUuNzk3OSA5LjQ4MzQgNS4yNjgxIDguODMwNiBRNC43MzgzIDguMTc3NyA0LjczODMgNy4zMDk2IFE0LjczODMgNi4xNDA2IDUuNTg1OSA1LjM4NTMgUTYuNDMzNiA0LjYyOTkgNy43NDYxIDQuNjI5OSBROC45MTUgNC42Mjk5IDEwLjIxMzkgNS4wMTk1IEwxMC4yMTM5IDYuMzMyIFE4LjYxNDMgNS43MDMxIDcuODI4MSA1LjcwMzEgUTcuMDgzIDUuNzAzMSA2LjU5NzcgNi4wOTk2IFE2LjExMjMgNi40OTYxIDYuMTEyMyA3LjA5NzcgUTYuMTEyMyA3LjYwMzUgNi40Njc4IDcuOTkzMiBRNi44MjMyIDguMzgyOCA3Ljc2NjYgOC45MjI5IEw4LjQ5MTIgOS4zMzMgUTkuODAzNyAxMC4wNzgxIDEwLjMyMzIgMTAuNzQxMiBRMTAuODQyOCAxMS40MDQzIDEwLjg0MjggMTIuMzM0IFExMC44NDI4IDEzLjY1MzMgOS44Njg3IDE0LjQ1MzEgUTguODk0NSAxNS4yNTI5IDcuMjg4MSAxNS4yNTI5IFpNMTMuMzQ2NyAxNSBMMTMuMzQ2NyA3LjU3NjIgTDE0LjY5MzQgNy41NzYyIEwxNC42OTM0IDE1IFpNMTMuMzQ2NyA2LjIyOTUgTDEzLjM0NjcgNC44ODI4IEwxNC42OTM0IDQuODgyOCBMMTQuNjkzNCA2LjIyOTUgWiIgc3Ryb2tlPSJub25lIiAgICAvPjwvZyAgPjwvZz48L3N2Zz4\x3d",
      SULFUR:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgZm9udC1zaXplPSIxNHB4IiBmb250LWZhbWlseT0iJ0x1Y2lkYSBHcmFuZGUnIiBjb2xvci1pbnRlcnBvbGF0aW9uPSJsaW5lYXJSR0IiIGNvbG9yLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBpbWFnZS1yZW5kZXJpbmc9Im9wdGltaXplU3BlZWQiICAgID48cGF0aCBkPSJNOS4yODgxIDE1LjI1MjkgUTguMjY5NSAxNS4yNTI5IDYuNjgzNiAxNC44MDg2IEw2LjY4MzYgMTMuMzg2NyBROC4zOTI2IDE0LjE3OTcgOS40OTMyIDE0LjE3OTcgUTEwLjM0MDggMTQuMTc5NyAxMC44NTY5IDEzLjczNTQgUTExLjM3MyAxMy4yOTEgMTEuMzczIDEyLjU2NjQgUTExLjM3MyAxMS45NzE3IDExLjAzNDcgMTEuNTU0NyBRMTAuNjk2MyAxMS4xMzc3IDkuNzg3MSAxMC42MjUgTDkuMDg5OCAxMC4yMjE3IFE3Ljc5NzkgOS40ODM0IDcuMjY4MSA4LjgzMDYgUTYuNzM4MyA4LjE3NzcgNi43MzgzIDcuMzA5NiBRNi43MzgzIDYuMTQwNiA3LjU4NTkgNS4zODUzIFE4LjQzMzYgNC42Mjk5IDkuNzQ2MSA0LjYyOTkgUTEwLjkxNSA0LjYyOTkgMTIuMjEzOSA1LjAxOTUgTDEyLjIxMzkgNi4zMzIgUTEwLjYxNDMgNS43MDMxIDkuODI4MSA1LjcwMzEgUTkuMDgzIDUuNzAzMSA4LjU5NzcgNi4wOTk2IFE4LjExMjMgNi40OTYxIDguMTEyMyA3LjA5NzcgUTguMTEyMyA3LjYwMzUgOC40Njc4IDcuOTkzMiBROC44MjMyIDguMzgyOCA5Ljc2NjYgOC45MjI5IEwxMC40OTEyIDkuMzMzIFExMS44MDM3IDEwLjA3ODEgMTIuMzIzMiAxMC43NDEyIFExMi44NDI4IDExLjQwNDMgMTIuODQyOCAxMi4zMzQgUTEyLjg0MjggMTMuNjUzMyAxMS44Njg3IDE0LjQ1MzEgUTEwLjg5NDUgMTUuMjUyOSA5LjI4ODEgMTUuMjUyOSBaIiBzdHJva2U9Im5vbmUiICAgIC8+PC9nICA+PC9nPjwvc3ZnPg\x3d\x3d",
      TEMPLATES:
        "PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj4gIDx0aXRsZT5pQ2hlbUxhYnM8L3RpdGxlPiAgPHBhdGggZD0iTTcsMTcuNTc4YTEuNSwxLjUsMCwwLDEsMC0zLDEuNDgzLDEuNDgzLDAsMCwxLC41LjA5MlYxMi41NzhINS40MDhhMS40NzksMS40NzksMCwwLDAsLjA5Mi0uNSwxLjUsMS41LDAsMCwwLTMsMCwxLjQ3OSwxLjQ3OSwwLDAsMCwuMDkyLjVILjV2N2g3VjE3LjQ4N0ExLjUwNywxLjUwNywwLDAsMSw3LDE3LjU3OFoiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+ICA8cGF0aCBkPSJNMi41LDEyLjA3OGExLjUsMS41LDAsMCwxLDMsMCwxLjQ3OSwxLjQ3OSwwLDAsMS0uMDkyLjVINy41VjEwLjQ4N0ExLjUsMS41LDAsMSwwLDgsNy41NzhhMS40ODMsMS40ODMsMCwwLDAtLjUuMDkyVjUuNTc4SC41djdIMi41OTJBMS40NzksMS40NzksMCwwLDEsMi41LDEyLjA3OFoiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+ICA8cGF0aCBkPSJNMTEuMzE4LDYuNTYxYTEuNSwxLjUsMCwxLDEsMS43LDIuNDFMMTQuNSwxMC40NWwxLjQ3OS0xLjQ3OWExLjUsMS41LDAsMSwwLDEuOTkyLTEuOTkyTDE5LjQ1LDUuNSwxNC41LjU1LDkuNTUsNS41bDEuNDc5LDEuNDc5QTEuNDg1LDEuNDg1LDAsMCwxLDExLjMxOCw2LjU2MVoiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+ICA8cGF0aCBkPSJNMTIuNSwxMy4wNzhhMS41LDEuNSwwLDEsMS0yLjkwOC0uNUg3LjVWMTQuNjdhMS40ODMsMS40ODMsMCwwLDAtLjUtLjA5MiwxLjUsMS41LDAsMSwwLC41LDIuOTA5djIuMDkxaDd2LTdIMTIuNDA4QTEuNDg4LDEuNDg4LDAsMCwxLDEyLjUsMTMuMDc4WiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L3N2Zz4\x3d",
      TEXT: "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8Zz4JCQkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIxNy41IiB5MT0iMS44MzUiIHgyPSIxNy41IiB5Mj0iMTguNDk4Ii8+CQkJCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMTUuNSIgeTE9IjEuNDk4IiB4Mj0iMTkuNSIgeTI9IjEuNDk4Ii8+CQkJCQk8bGluZSBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB4MT0iMTUuNSIgeTE9IjE4LjQ5OCIgeDI9IjE5LjUiIHkyPSIxOC40OTgiLz4JPC9nPgk8Zz4JCTxnPgkJCTxwYXRoIGQ9Ik04LjI4MywzLjk5OGMxLjIyLDMuNDE0LDIuNDM0LDYuNzE1LDMuNjU4LDEwLjA5MWMwLjU5NCwxLjYzOCwwLjYwNiwxLjc1MiwyLjA2LDEuOTA5VjE3SDl2LTEuMDAyCQkJCWMxLjI0My0wLjEzNywxLjI4MS0wLjIxMiwxLjA1MS0wLjg4MmMtMC4yNDMtMC43MjktMC40MzgtMS4yOTktMC43MDgtMi4wNTVINS4xMDhjLTAuMTc2LDAuNTMtMC4zNDYsMC45NzMtMC41NTMsMS42NjIJCQkJQzQuMjM4LDE1Ljc1Niw0LjQ3OSwxNS44NjQsNiwxNS45OThWMTdIMXYtMS4wMDJjMS40MzEtMC4xODgsMS41NC0wLjEzNCwyLjIwNi0xLjg1N0w3LjAzMSwzLjk5OEg4LjI4MyBNNS40NDUsMTEuOTY5aDMuNTg2CQkJCUw3LjI0Niw2Ljg2NUM2Ljc0Niw4LjM1Niw1Ljk3NiwxMC40MjksNS40NDUsMTEuOTY5IE04LjI4MywyLjk5OEg3LjAzMWMtMC40MTYsMC0wLjc4OSwwLjI1OC0wLjkzNiwwLjY0N0wyLjI3LDEzLjc4OAkJCQljLTAuMDk5LDAuMjU2LTAuMzcsMC45NTgtMC40OTYsMS4wNjljLTAuMDc2LDAuMDQyLTAuNDI4LDAuMDg3LTAuNzM4LDAuMTI3TDAuODcsMTUuMDA2QzAuMzcyLDE1LjA3MSwwLDE1LjQ5NiwwLDE1Ljk5OFYxNwkJCQljMCwwLjU1MiwwLjQ0OCwxLDEsMWg1YzAuNTUyLDAsMS0wLjQ0OCwxLTF2LTEuMDAyYzAtMC41MTgtMC4zOTYtMC45NTEtMC45MTItMC45OTZjLTAuMTEtMC4wMS0wLjM0My0wLjAzLTAuNTU1LTAuMDU3CQkJCWMwLjEwNS0wLjM0MywwLjE5OS0wLjYyMiwwLjI5LTAuODg0aDIuODE0YzAuMTExLDAuMzE3LDAuMjEzLDAuNjE3LDAuMzIxLDAuOTM2Yy0wLjAyMiwwLjAwMi0wLjA0NCwwLjAwNS0wLjA2NiwwLjAwNwkJCQlDOC4zODQsMTUuMDYsOCwxNS40ODgsOCwxNS45OThWMTdjMCwwLjU1MiwwLjQ0OCwxLDEsMWg1YzAuNTUyLDAsMS0wLjQ0OCwxLTF2LTEuMDAyYzAtMC41MTEtMC4zODUtMC45NC0wLjg5My0wLjk5NAkJCQljLTAuMTY1LTAuMDE4LTAuNjY3LTAuMDcyLTAuNzc2LTAuMTMyYy0wLjA3NC0wLjA4NC0wLjI0Ny0wLjU2Mi0wLjQxNC0xLjAyM2wtMC4wMzYtMC4xYy0wLjQxMS0xLjEzNS0wLjgyMi0yLjI2My0xLjIzMi0zLjM4OQkJCQljLTAuODA4LTIuMjItMS42MTUtNC40MzQtMi40MjQtNi42OThDOS4wODIsMy4yNjMsOC43MDUsMi45OTgsOC4yODMsMi45OThMOC4yODMsMi45OTh6IE02Ljg1NywxMC45NjkJCQkJYzAuMTA4LTAuMzAyLDAuMjE5LTAuNjEyLDAuMzMtMC45MjJjMC4wMTktMC4wNTMsMC4wMzgtMC4xMDYsMC4wNTctMC4xNTlsMC4zNzgsMS4wODFINi44NTdMNi44NTcsMTAuOTY5eiIvPgkJPC9nPgk8L2c+PC9nPjwvc3ZnPg\x3d\x3d",
      TORSION:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cG9seWdvbiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBwb2ludHM9IgkJNS4zNjUsMTkuMzY1IDEuMzY1LDE2LjcyNyAxLjM2NSwxMS40NTIgNS4zNjUsMTQuMDg5IAkiLz4JPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTUuMzY1LDE5LjM2NQkJYzcuMjUsMCw3LjY3OS04Ljc5MiwxNC41LTguNzkybC00LTIuNjM4Yy01LDAtNS43NTUsNi4xNTUtMTAuNSw2LjE1NVYxOS4zNjV6Ii8+CTxnPgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLjI4NSwxMS4yNjYJCQljLTMuMTA4LTAuODc0LTYuNzAxLTEuNzY2LTguOTIsMC4xODVsNCwyLjYzOEM3LjYwNiwxNC4wODksOC45NTcsMTIuNzE1LDEwLjI4NSwxMS4yNjZ6Ii8+CQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuNDcsMTUuMzI0CQkJYzIuNTY4LDAuNTg2LDUuMjAxLDAuOTE2LDcuMzk1LTAuMjk4di00LjQ1NEMxNi4yNywxMC41NzMsMTQuNDQ5LDEzLjAxNCwxMi40NywxNS4zMjR6Ii8+CTwvZz4JPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuNSwxLjE4NQkJQzYuNjUzLDIuNDc4LDYuNjY0LDUuMzc4LDkuMTE3LDUuNjIxczMuODM1LTEuMDA2LDQuMjgxLTIuODc4UzEwLjUtMS44NDgsOC43MTUsOC4yNjUiLz48L2c+PC9zdmc+",
      UNDO: "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNOC41LDcuNXYtNGwtNyw2CQlsNyw2di00aDIuNzU3YzIuNzE3LDAsNS4zMjIsMS4wNzksNy4yNDMsM2wwLDB2LTIuMDMxYzAtMi43NDQtMi4yMjUtNC45NjktNC45NjktNC45NjlIOC41eiIvPjwvZz48L3N2Zz4\x3d",
      VARIABLE_ATTACHMENT_POINTS:
        "PHN2ZyBmaWxsLW9wYWNpdHk9IjEiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb2xvci1yZW5kZXJpbmc9ImF1dG8iIGNvbG9yLWludGVycG9sYXRpb249ImF1dG8iIHRleHQtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2U9ImJsYWNrIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiB3aWR0aD0iMjAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc2hhcGUtcmVuZGVyaW5nPSJhdXRvIiBzdHJva2Utb3BhY2l0eT0iMSIgZmlsbD0iYmxhY2siIHN0cm9rZS1kYXNoYXJyYXk9Im5vbmUiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHN0cm9rZS13aWR0aD0iMSIgdmlld0JveD0iMCAwIDIwLjAgMjAuMCIgaGVpZ2h0PSIyMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBmb250LWZhbWlseT0iJ0RpYWxvZyciIGZvbnQtc3R5bGU9Im5vcm1hbCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgZm9udC1zaXplPSIxMnB4IiBzdHJva2UtZGFzaG9mZnNldD0iMCIgaW1hZ2UtcmVuZGVyaW5nPSJhdXRvIj48ZGVmcyBpZD0iZ2VuZXJpY0RlZnMiICAvPjxnICA+PGcgdGV4dC1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiIgY29sb3ItcmVuZGVyaW5nPSJvcHRpbWl6ZVF1YWxpdHkiIGNvbG9yLWludGVycG9sYXRpb249ImxpbmVhclJHQiIgaW1hZ2UtcmVuZGVyaW5nPSJvcHRpbWl6ZVNwZWVkIiAgICA+PHBhdGggZmlsbD0ibm9uZSIgZD0iTTcgNiBMMTMgMTAgTDEzIDE2IEw3IDIwIEwxIDE2IEwxIDEwIFoiICAgICAgLz48Y2lyY2xlIGZpbGw9Im5vbmUiIHI9IjMiIGN4PSI3IiBjeT0iMTMiICAgICAgLz48bGluZSB5Mj0iNyIgZmlsbD0ibm9uZSIgeDE9IjciIHgyPSIxMyIgeTE9IjEzIiAgICAgIC8+PHBhdGggZD0iTTE0LjIxNTMgNiBMMTYuMjk4MyAyLjc5NjQgTDE0LjMwNzYgLTAuNTAzOSBMMTUuODg1MyAtMC41MDM5IEwxNy4yMDggMS42ODQ2IEwxOC42NDA2IC0wLjUwMzkgTDE5LjczNDkgLTAuNTAzOSBMMTcuNzM5NyAyLjU2MzUgTDE5LjgwNTIgNiBMMTguMjMxOSA2IEwxNi44MjEzIDMuNjc1MyBMMTUuMzA5NiA2IFoiIHN0cm9rZT0ibm9uZSIgICAgLz48L2cgID48L2c+PC9zdmc+",
      ZOOM_IN:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgkJCTxjaXJjbGUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjcuNSIgY3k9IjcuNSIgcj0iNyIvPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTcuNDI3LDE4Ljk3MwkJbC01Ljc4Ny01Ljc4N2wxLjU0Ni0xLjU0Nmw1Ljc4Nyw1Ljc4N2MwLjQyNywwLjQyNywwLjQyNywxLjExOSwwLDEuNTQ2bDAsMEMxOC41NDYsMTkuNCwxNy44NTQsMTkuNCwxNy40MjcsMTguOTczeiIvPgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIzLjUiIHkxPSI3LjUiIHgyPSIxMS41IiB5Mj0iNy41Ii8+CQkJPGxpbmUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgeDE9IjcuNSIgeTE9IjExLjUiIHgyPSI3LjUiIHkyPSIzLjUiLz48L2c+PC9zdmc+",
      ZOOM_OUT:
        "PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgMjAiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPgkJCTxjaXJjbGUgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjcuNSIgY3k9IjcuNSIgcj0iNyIvPgk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTcuNDI3LDE4Ljk3MwkJbC01Ljc4Ny01Ljc4N2wxLjU0Ni0xLjU0Nmw1Ljc4Nyw1Ljc4N2MwLjQyNywwLjQyNywwLjQyNywxLjExOSwwLDEuNTQ2bDAsMEMxOC41NDYsMTkuNCwxNy44NTQsMTkuNCwxNy40MjcsMTguOTczeiIvPgkJCTxsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHgxPSIzLjUiIHkxPSI3LjUiIHgyPSIxMS41IiB5Mj0iNy41Ii8+PC9nPjwvc3ZnPg\x3d\x3d",
    };
  })(ChemDoodle.extensions);
  ChemDoodle.uis.gui.templateDepot = (function (k, b, n) {
    n = [];
    let f = { name: "Amino Acids", templates: [] };
    f.templates.push({
      name: "Alanine \x3cb\x3eAla\x3c/b\x3e \x3ci\x3eA\x3c/i\x3e",
      data: {
        a: [
          { x: 195.34, y: 269 },
          { x: 195.34, y: 289, l: "N" },
          { x: 178.018, y: 259 },
          { x: 212.66, y: 259 },
          { x: 212.66, y: 239, l: "O" },
          { x: 229.982, y: 269, l: "O" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 0, e: 1 },
          { b: 3, e: 5 },
          { b: 3, e: 4, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Alanine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -29.9995, y: 0, l: "N" },
          { x: -9.9989, y: 0 },
          { x: 9.9989, y: 0 },
          { x: -9.9989, y: 20.0006 },
          { x: 29.9995, y: 0, l: "O" },
          { x: 9.9989, y: -20.0006, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 2, e: 4 },
          { b: 2, e: 5, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Alanine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -10, y: 0 },
          { x: 10, y: 0 },
        ],
        b: [{ b: 0, e: 1 }],
      },
    });
    f.templates.push({
      name: "Arginine \x3cb\x3eArg\x3c/b\x3e \x3ci\x3eR\x3c/i\x3e",
      data: {
        a: [
          { x: 134.718, y: 269, l: "N" },
          { x: 152.04, y: 259 },
          { x: 169.36, y: 269, l: "N" },
          { x: 152.04, y: 239, l: "N" },
          { x: 186.68, y: 259 },
          { x: 204, y: 269 },
          { x: 221.322, y: 259 },
          { x: 238.642, y: 269 },
          { x: 255.962, y: 259 },
          { x: 238.642, y: 289, l: "N" },
          { x: 273.282, y: 269, l: "O" },
          { x: 255.962, y: 239, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 5 },
          { b: 5, e: 6 },
          { b: 7, e: 6 },
          { b: 7, e: 8 },
          { b: 7, e: 9 },
          { b: 8, e: 10 },
          { b: 8, e: 11, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Arginine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.0001, y: -49.9998, l: "N" },
          { x: -9.9991, y: -49.9998 },
          { x: 9.9991, y: -49.9998 },
          { x: -9.9991, y: -29.9988 },
          { x: 9.9991, y: -70.0007, l: "O" },
          { x: 30.0001, y: -49.9998, l: "O" },
          { x: -9.9991, y: -10.0005 },
          { x: -9.9991, y: 10.0005 },
          { x: -9.9991, y: 29.9987, l: "N" },
          { x: -9.9991, y: 49.9997 },
          { x: -9.9991, y: 70.0007, l: "N" },
          { x: 9.9991, y: 49.9997, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 2, e: 5 },
          { b: 2, e: 4, o: 2 },
          { b: 3, e: 6 },
          { b: 6, e: 7 },
          { b: 7, e: 8 },
          { b: 8, e: 9 },
          { b: 9, e: 10 },
          { b: 9, e: 11, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Arginine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -59.9973, y: 9.9986 },
          { x: -39.9973, y: 9.9986 },
          { x: -20, y: 9.9986 },
          { x: -0, y: 9.9986 },
          { x: 19.9972, y: 9.9986, l: "N" },
          { x: 39.9973, y: 9.9986 },
          { x: 39.9973, y: -9.9986, l: "N" },
          { x: 59.9973, y: 9.9986, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
          { b: 3, e: 4 },
          { b: 4, e: 5 },
          { b: 5, e: 7 },
          { b: 5, e: 6, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Asparagine \x3cb\x3eAsn\x3c/b\x3e \x3ci\x3eN\x3c/i\x3e",
      data: {
        a: [
          { x: 178.02, y: 269 },
          { x: 178.02, y: 289, l: "N" },
          { x: 160.698, y: 259, l: "O" },
          { x: 195.34, y: 259 },
          { x: 212.66, y: 269 },
          { x: 229.98, y: 259 },
          { x: 212.66, y: 289, l: "N" },
          { x: 247.302, y: 269, l: "O" },
          { x: 229.98, y: 239, l: "O" },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 2, o: 2 },
          { b: 0, e: 1 },
          { b: 4, e: 3 },
          { b: 4, e: 5 },
          { b: 4, e: 6 },
          { b: 5, e: 7 },
          { b: 5, e: 8, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Asparagine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.0002, y: -19.9996, l: "N" },
          { x: -9.9991, y: -19.9996 },
          { x: -9.9991, y: 0.0014 },
          { x: 9.9991, y: -19.9996 },
          { x: -9.9991, y: 19.9996 },
          { x: 9.9991, y: -40.0007, l: "O" },
          { x: 30.0002, y: -19.9997, l: "O" },
          { x: -9.9991, y: 40.0007, l: "N" },
          { x: 9.9991, y: 19.9996, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 6 },
          { b: 3, e: 5, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 7 },
          { b: 4, e: 8, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Asparagine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -29.9986, y: 9.9986 },
          { x: -9.9986, y: 9.9986 },
          { x: 9.9986, y: 9.9986 },
          { x: 29.9986, y: 9.9986, l: "N" },
          { x: 9.9986, y: -9.9986, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
          { b: 2, e: 4, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Aspartic Acid \x3cb\x3eAsp\x3c/b\x3e \x3ci\x3eD\x3c/i\x3e",
      data: {
        a: [
          { x: 178.02, y: 269 },
          { x: 178.02, y: 289, l: "O" },
          { x: 195.34, y: 259 },
          { x: 160.698, y: 259, l: "O" },
          { x: 212.66, y: 269 },
          { x: 229.98, y: 259 },
          { x: 212.66, y: 289, l: "N" },
          { x: 229.98, y: 239, l: "O" },
          { x: 247.302, y: 269, l: "O" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 3, o: 2 },
          { b: 0, e: 1 },
          { b: 4, e: 2 },
          { b: 4, e: 5 },
          { b: 4, e: 6 },
          { b: 5, e: 8 },
          { b: 5, e: 7, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Aspartic Acid \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.0002, y: -19.9997, l: "N" },
          { x: -9.9991, y: -19.9997 },
          { x: -9.9991, y: 0.0014 },
          { x: 9.9991, y: -19.9997 },
          { x: -9.9991, y: 19.9996 },
          { x: 30.0002, y: -19.9997, l: "O" },
          { x: 9.9991, y: -40.0007, l: "O" },
          { x: -9.9991, y: 40.0007, l: "O" },
          { x: 9.9991, y: 19.9996, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 5 },
          { b: 3, e: 6, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 7 },
          { b: 4, e: 8, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Aspartic Acid \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -29.9986, y: 9.9986 },
          { x: -9.9986, y: 9.9986 },
          { x: 9.9986, y: 9.9986 },
          { x: 9.9986, y: -9.9986, l: "O" },
          { x: 29.9986, y: 9.9986, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 4 },
          { b: 2, e: 3, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Cysteine \x3cb\x3eCys\x3c/b\x3e \x3ci\x3eC\x3c/i\x3e",
      data: {
        a: [
          { x: 169.358, y: 269, l: "S" },
          { x: 186.678, y: 259 },
          { x: 203.998, y: 269 },
          { x: 221.32, y: 259 },
          { x: 203.998, y: 289, l: "N" },
          { x: 221.32, y: 239, l: "O" },
          { x: 238.642, y: 269, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 2, e: 1 },
          { b: 2, e: 3 },
          { b: 2, e: 4 },
          { b: 3, e: 6 },
          { b: 3, e: 5, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Cysteine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30, y: -9.9991, l: "N" },
          { x: -9.9991, y: -9.9991 },
          { x: -9.9991, y: 10.0019 },
          { x: 9.9991, y: -9.9991 },
          { x: -9.9991, y: 30, l: "S" },
          { x: 30, y: -9.9991, l: "O" },
          { x: 9.9991, y: -30, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 5 },
          { b: 3, e: 6, o: 2 },
          { b: 2, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Cysteine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -19.9986, y: 0 },
          { x: 0.0014, y: 0 },
          { x: 19.9986, y: 0, l: "S" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Glutamic Acid \x3cb\x3eGlu\x3c/b\x3e \x3ci\x3eE\x3c/i\x3e",
      data: {
        a: [
          { x: 152.038, y: 269, l: "O" },
          { x: 169.358, y: 259 },
          { x: 186.68, y: 269 },
          { x: 169.358, y: 239, l: "O" },
          { x: 204, y: 259 },
          { x: 221.32, y: 269 },
          { x: 238.642, y: 259 },
          { x: 221.32, y: 289, l: "N" },
          { x: 255.962, y: 269, l: "O" },
          { x: 238.642, y: 239, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3, o: 2 },
          { b: 2, e: 4 },
          { b: 5, e: 4 },
          { b: 5, e: 6 },
          { b: 5, e: 7 },
          { b: 6, e: 8 },
          { b: 6, e: 9, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Glutamic Acid \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.0005, y: -29.9991, l: "N" },
          { x: -9.9992, y: -29.9991 },
          { x: -9.9992, y: -9.9978 },
          { x: 9.9993, y: -29.9991 },
          { x: -9.9992, y: 10.0006 },
          { x: 9.9992, y: -50.0003, l: "O" },
          { x: 30.0005, y: -29.9991, l: "O" },
          { x: -9.9992, y: 30.0018 },
          { x: -9.9992, y: 50.0003, l: "O" },
          { x: 9.9992, y: 30.0018, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 6 },
          { b: 3, e: 5, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 7 },
          { b: 7, e: 8 },
          { b: 7, e: 9, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Glutamic Acid \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -40.0028, y: 10 },
          { x: -20, y: 10 },
          { x: 0, y: 10 },
          { x: 20.0028, y: 10 },
          { x: 40.0028, y: 10, l: "O" },
          { x: 20.0028, y: -10, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
          { b: 3, e: 4 },
          { b: 3, e: 5, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Glutamine \x3cb\x3eGln\x3c/b\x3e \x3ci\x3eQ\x3c/i\x3e",
      data: {
        a: [
          { x: 152.038, y: 269, l: "N" },
          { x: 169.358, y: 259 },
          { x: 186.68, y: 269 },
          { x: 169.358, y: 239, l: "O" },
          { x: 204, y: 259 },
          { x: 221.32, y: 269 },
          { x: 238.642, y: 259 },
          { x: 221.32, y: 289, l: "N" },
          { x: 238.642, y: 239, l: "O" },
          { x: 255.962, y: 269, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3, o: 2 },
          { b: 2, e: 4 },
          { b: 5, e: 4 },
          { b: 5, e: 6 },
          { b: 5, e: 7 },
          { b: 6, e: 9 },
          { b: 6, e: 8, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Glutamine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.0005, y: -29.9991, l: "N" },
          { x: -9.9992, y: -29.9991 },
          { x: 9.9992, y: -29.9991 },
          { x: -9.9992, y: -9.9979 },
          { x: 9.9992, y: -50.0003, l: "O" },
          { x: 30.0005, y: -29.9991, l: "O" },
          { x: -9.9992, y: 10.0006 },
          { x: -9.9992, y: 30.0018 },
          { x: -9.9992, y: 50.0003, l: "N" },
          { x: 9.9992, y: 30.0018, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 2, e: 5 },
          { b: 2, e: 4, o: 2 },
          { b: 3, e: 6 },
          { b: 6, e: 7 },
          { b: 7, e: 8 },
          { b: 7, e: 9, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Glutamine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -40.0028, y: 10 },
          { x: -20, y: 10 },
          { x: 0, y: 10 },
          { x: 20.0028, y: 10 },
          { x: 40.0027, y: 10, l: "N" },
          { x: 20.0028, y: -10, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
          { b: 3, e: 4 },
          { b: 3, e: 5, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Glycine \x3cb\x3eGly\x3c/b\x3e \x3ci\x3eG\x3c/i\x3e",
      data: {
        a: [
          { x: 186.678, y: 269 },
          { x: 204, y: 259 },
          { x: 186.678, y: 289, l: "N" },
          { x: 221.322, y: 269, l: "O" },
          { x: 204, y: 239, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 1, e: 4, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Glycine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -29.9995, y: 0, l: "N" },
          { x: -9.9989, y: 0 },
          { x: 9.9989, y: 0 },
          { x: -9.9989, y: 20.0005, l: "H" },
          { x: 29.9995, y: 0, l: "O" },
          { x: 9.9989, y: -20.0005, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 2, e: 4 },
          { b: 2, e: 5, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Glycine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -10, y: 0 },
          { x: 10, y: 0, l: "H" },
        ],
        b: [{ b: 0, e: 1 }],
      },
    });
    f.templates.push({
      name: "Histidine \x3cb\x3eHis\x3c/b\x3e \x3ci\x3eH\x3c/i\x3e",
      data: {
        a: [
          { x: 185.186, y: 266.976 },
          { x: 166.914, y: 258.84, l: "N" },
          { x: 183.094, y: 286.866 },
          { x: 202.506, y: 256.976 },
          { x: 153.532, y: 273.704 },
          { x: 163.532, y: 291.024, l: "N" },
          { x: 219.826, y: 266.976 },
          { x: 219.826, y: 286.976, l: "N" },
          { x: 237.146, y: 256.976 },
          { x: 254.468, y: 266.976, l: "O" },
          { x: 237.146, y: 236.976, l: "O" },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 2, o: 2 },
          { b: 0, e: 1 },
          { b: 6, e: 3 },
          { b: 2, e: 5 },
          { b: 4, e: 1, o: 2 },
          { b: 5, e: 4 },
          { b: 6, e: 8 },
          { b: 6, e: 7 },
          { b: 8, e: 9 },
          { b: 8, e: 10, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Histidine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.009, y: -25.4208, l: "N" },
          { x: -10.0021, y: -25.4208 },
          { x: 10.0021, y: -25.4208 },
          { x: -10.0021, y: -5.4138 },
          { x: 30.009, y: -25.4208, l: "O" },
          { x: 10.0021, y: -45.4277, l: "O" },
          { x: -10.0021, y: 14.5903 },
          { x: 6.1209, y: 26.4104 },
          { x: -26.1636, y: 26.4104, l: "N" },
          { x: 0.0179, y: 45.4277, l: "N" },
          { x: -19.9532, y: 45.4277 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 2, e: 4 },
          { b: 2, e: 5, o: 2 },
          { b: 3, e: 6 },
          { b: 6, e: 8 },
          { b: 8, e: 10, o: 2 },
          { b: 10, e: 9 },
          { b: 9, e: 7 },
          { b: 6, e: 7, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Histidine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -35.4168, y: -0.0193 },
          { x: -15.4141, y: -0.0193 },
          { x: 4.5859, y: -0.0193 },
          { x: 16.4035, y: 16.1389, l: "N" },
          { x: 16.4035, y: -16.1389 },
          { x: 35.4168, y: 9.9297 },
          { x: 35.4168, y: -10.0372, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
          { b: 3, e: 5, o: 2 },
          { b: 5, e: 6 },
          { b: 6, e: 4 },
          { b: 2, e: 4, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Isoleucine \x3cb\x3eIle\x3c/b\x3e \x3ci\x3eI\x3c/i\x3e",
      data: {
        a: [
          { x: 178.02, y: 269 },
          { x: 160.698, y: 259 },
          { x: 195.34, y: 259 },
          { x: 212.66, y: 269 },
          { x: 195.34, y: 239 },
          { x: 212.66, y: 289, l: "N" },
          { x: 229.98, y: 259 },
          { x: 247.302, y: 269, l: "O" },
          { x: 229.98, y: 239, l: "O" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 3 },
          { b: 2, e: 4 },
          { b: 3, e: 6 },
          { b: 3, e: 5 },
          { b: 6, e: 7 },
          { b: 6, e: 8, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Isoleucine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.0002, y: -19.9997, l: "N" },
          { x: -9.9991, y: -19.9997 },
          { x: -9.9991, y: 0.0014 },
          { x: 9.9991, y: -19.9997 },
          { x: 9.9991, y: 0.0014 },
          { x: -9.9991, y: 19.9997 },
          { x: 9.9991, y: -40.0007, l: "O" },
          { x: 30.0002, y: -19.9997, l: "O" },
          { x: -9.9991, y: 40.0007 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 7 },
          { b: 3, e: 6, o: 2 },
          { b: 2, e: 4 },
          { b: 2, e: 5 },
          { b: 5, e: 8 },
        ],
      },
    });
    f.templates.push({
      name: "Isoleucine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -27.0711, y: 2.5882 },
          { x: -7.0711, y: 2.5882 },
          { x: 7.0711, y: 16.7303 },
          { x: -1.8947, y: -16.7303, l: "H" },
          { x: 7.0711, y: -11.554 },
          { x: 27.0711, y: 16.7303 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 4 },
          { b: 1, e: 2 },
          { b: 2, e: 5 },
          { b: 1, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Leucine \x3cb\x3eLeu\x3c/b\x3e \x3ci\x3eL\x3c/i\x3e",
      data: {
        a: [
          { x: 178.02, y: 269 },
          { x: 178.02, y: 289 },
          { x: 160.698, y: 259 },
          { x: 195.34, y: 259 },
          { x: 212.66, y: 269 },
          { x: 212.66, y: 289, l: "N" },
          { x: 229.98, y: 259 },
          { x: 247.302, y: 269, l: "O" },
          { x: 229.98, y: 239, l: "O" },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 4, e: 3 },
          { b: 4, e: 6 },
          { b: 4, e: 5 },
          { b: 6, e: 7 },
          { b: 6, e: 8, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Leucine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.0002, y: -19.9997, l: "N" },
          { x: -9.9991, y: -19.9997 },
          { x: -9.9991, y: 0.0013 },
          { x: 9.9991, y: -19.9997 },
          { x: -9.9991, y: 19.9996 },
          { x: 9.9991, y: -40.0007, l: "O" },
          { x: 30.0002, y: -19.9997, l: "O" },
          { x: -9.9992, y: 40.0007 },
          { x: 9.9991, y: 19.9996 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 6 },
          { b: 3, e: 5, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 8 },
          { b: 4, e: 7 },
        ],
      },
    });
    f.templates.push({
      name: "Leucine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -29.9986, y: 9.9986 },
          { x: -9.9986, y: 9.9986 },
          { x: 9.9986, y: 9.9986 },
          { x: 29.9986, y: 9.9986 },
          { x: 9.9986, y: -9.9986 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 4 },
          { b: 2, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Lysine \x3cb\x3eLys\x3c/b\x3e \x3ci\x3eK\x3c/i\x3e",
      data: {
        a: [
          { x: 160.698, y: 269 },
          { x: 143.378, y: 259, l: "N" },
          { x: 178.02, y: 259 },
          { x: 195.34, y: 269 },
          { x: 212.66, y: 259 },
          { x: 229.98, y: 269 },
          { x: 247.302, y: 259 },
          { x: 229.98, y: 289, l: "N" },
          { x: 264.622, y: 269, l: "O" },
          { x: 247.302, y: 239, l: "O" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 3 },
          { b: 3, e: 4 },
          { b: 5, e: 4 },
          { b: 5, e: 6 },
          { b: 5, e: 7 },
          { b: 6, e: 8 },
          { b: 6, e: 9, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Lysine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30, y: -39.9991, l: "N" },
          { x: -9.9991, y: -39.9991 },
          { x: -9.9991, y: -19.9982 },
          { x: 9.9991, y: -39.9991 },
          { x: -9.9991, y: -0 },
          { x: 30, y: -39.9991, l: "O" },
          { x: 9.9991, y: -60, l: "O" },
          { x: -9.9991, y: 20.0009 },
          { x: -9.9991, y: 39.9991 },
          { x: -9.9991, y: 60.0001, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 5 },
          { b: 3, e: 6, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 7 },
          { b: 7, e: 8 },
          { b: 8, e: 9 },
        ],
      },
    });
    f.templates.push({
      name: "Lysine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -49.9973, y: 0 },
          { x: -29.9973, y: 0 },
          { x: -10, y: 0 },
          { x: 10, y: 0 },
          { x: 29.9973, y: 0 },
          { x: 49.9973, y: 0, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
          { b: 3, e: 4 },
          { b: 4, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Methionine \x3cb\x3eMet\x3c/b\x3e \x3ci\x3eM\x3c/i\x3e",
      data: {
        a: [
          { x: 169.36, y: 259, l: "S" },
          { x: 152.038, y: 269 },
          { x: 186.68, y: 269 },
          { x: 204, y: 259 },
          { x: 221.32, y: 269 },
          { x: 221.32, y: 289, l: "N" },
          { x: 238.642, y: 259 },
          { x: 255.962, y: 269, l: "O" },
          { x: 238.642, y: 239, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 2, e: 3 },
          { b: 4, e: 3 },
          { b: 4, e: 6 },
          { b: 4, e: 5 },
          { b: 6, e: 7 },
          { b: 6, e: 8, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Methionine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.0002, y: -29.9989, l: "N" },
          { x: -9.9992, y: -29.9989 },
          { x: 9.9991, y: -29.9989 },
          { x: -9.9991, y: -9.9978 },
          { x: 9.9991, y: -49.9999, l: "O" },
          { x: 30.0002, y: -29.9989, l: "O" },
          { x: -9.9991, y: 10.0004 },
          { x: -9.9991, y: 30.0015, l: "S" },
          { x: -9.9992, y: 49.9998 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 2, e: 5 },
          { b: 2, e: 4, o: 2 },
          { b: 3, e: 6 },
          { b: 6, e: 7 },
          { b: 7, e: 8 },
        ],
      },
    });
    f.templates.push({
      name: "Methionine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -39.9972, y: 0 },
          { x: -19.9972, y: 0 },
          { x: 0, y: 0 },
          { x: 20, y: 0, l: "S" },
          { x: 39.9972, y: 0 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
          { b: 3, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Phenylalanine \x3cb\x3ePhe\x3c/b\x3e \x3ci\x3eF\x3c/i\x3e",
      data: {
        a: [
          { x: 186.678, y: 264 },
          { x: 169.358, y: 254 },
          { x: 186.678, y: 284 },
          { x: 204, y: 254 },
          { x: 152.04, y: 264 },
          { x: 169.358, y: 294 },
          { x: 221.322, y: 264 },
          { x: 152.04, y: 284 },
          { x: 238.64, y: 254 },
          { x: 221.322, y: 284, l: "N" },
          { x: 255.96, y: 264, l: "O" },
          { x: 238.64, y: 234, l: "O" },
        ],
        b: [
          { b: 0, e: 2, o: 2 },
          { b: 0, e: 1 },
          { b: 0, e: 3 },
          { b: 2, e: 5 },
          { b: 4, e: 1, o: 2 },
          { b: 6, e: 3 },
          { b: 5, e: 7, o: 2 },
          { b: 7, e: 4 },
          { b: 6, e: 8 },
          { b: 6, e: 9 },
          { b: 8, e: 10 },
          { b: 8, e: 11, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Phenylalanine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -29.9902, y: -30.0426, l: "N" },
          { x: -9.9958, y: -30.0426 },
          { x: -9.9958, y: -10.0482 },
          { x: 9.9958, y: -30.0426 },
          { x: -9.9958, y: 9.9435 },
          { x: 29.9902, y: -30.0426, l: "O" },
          { x: 9.9958, y: -50.037, l: "O" },
          { x: -27.3098, y: 19.993 },
          { x: 7.2823, y: 19.993 },
          { x: -27.3098, y: 40.0232 },
          { x: 7.2823, y: 40.0232 },
          { x: -9.9958, y: 50.037 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 5 },
          { b: 3, e: 6, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 7, o: 2 },
          { b: 7, e: 9 },
          { b: 9, e: 11, o: 2 },
          { b: 11, e: 10 },
          { b: 10, e: 8, o: 2 },
          { b: 4, e: 8 },
        ],
      },
    });
    f.templates.push({
      name: "Phenylalanine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -40.0373, y: -0.0179 },
          { x: -20.0442, y: -0.0179 },
          { x: -0.0537, y: -0.0179 },
          { x: 9.9952, y: 17.295 },
          { x: 9.9952, y: -17.295 },
          { x: 30.0242, y: 17.295 },
          { x: 30.0242, y: -17.295 },
          { x: 40.0373, y: -0.0179 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3, o: 2 },
          { b: 3, e: 5 },
          { b: 5, e: 7, o: 2 },
          { b: 7, e: 6 },
          { b: 6, e: 4, o: 2 },
          { b: 2, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Proline \x3cb\x3ePro\x3c/b\x3e \x3ci\x3eP\x3c/i\x3e",
      data: {
        a: [
          { x: 202.506, y: 266.976 },
          { x: 184.236, y: 258.84 },
          { x: 200.414, y: 286.866, l: "N" },
          { x: 219.828, y: 256.976 },
          { x: 170.854, y: 273.704 },
          { x: 180.854, y: 291.024 },
          { x: 237.148, y: 266.976, l: "O" },
          { x: 219.828, y: 236.976, l: "O" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 0, e: 3 },
          { b: 2, e: 5 },
          { b: 4, e: 1 },
          { b: 5, e: 4 },
          { b: 3, e: 6 },
          { b: 3, e: 7, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Proline \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: 14.9378, y: 29.9651 },
          { x: 14.9378, y: 9.9874 },
          { x: -4.0875, y: 36.1665 },
          { x: -4.0875, y: 3.786 },
          { x: -15.8902, y: 19.9597, l: "N" },
          { x: -4.0875, y: -16.1888 },
          { x: 15.8902, y: -16.1888, l: "O" },
          { x: -4.0875, y: -36.1665, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 4 },
          { b: 4, e: 2 },
          { b: 0, e: 2 },
          { b: 3, e: 5 },
          { b: 5, e: 6 },
          { b: 5, e: 7, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Proline \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: 15.4059, y: 9.9836 },
          { x: 15.4059, y: -9.9836 },
          { x: -3.6094, y: 16.1817 },
          { x: -3.6094, y: -16.1817 },
          { x: -15.4059, y: -0.0165 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 0, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Serine \x3cb\x3eSer\x3c/b\x3e \x3ci\x3eS\x3c/i\x3e",
      data: {
        a: [
          { x: 204.002, y: 269 },
          { x: 221.322, y: 259 },
          { x: 186.678, y: 259 },
          { x: 204.002, y: 289, l: "N" },
          { x: 238.642, y: 269, l: "O" },
          { x: 221.322, y: 239, l: "O" },
          { x: 169.358, y: 269, l: "O" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 0, e: 3 },
          { b: 2, e: 6 },
          { b: 1, e: 4 },
          { b: 1, e: 5, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Serine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30, y: -9.9991, l: "N" },
          { x: -9.9991, y: -9.9991 },
          { x: 9.9991, y: -9.9991 },
          { x: -9.9991, y: 10.0019 },
          { x: 30, y: -9.9991, l: "O" },
          { x: 9.9991, y: -29.9999, l: "O" },
          { x: -9.9991, y: 30, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 2, e: 4 },
          { b: 2, e: 5, o: 2 },
          { b: 3, e: 6 },
        ],
      },
    });
    f.templates.push({
      name: "Serine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -19.9986, y: 0 },
          { x: 0.0014, y: 0 },
          { x: 19.9986, y: 0, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Threonine \x3cb\x3eThr\x3c/b\x3e \x3ci\x3eT\x3c/i\x3e",
      data: {
        a: [
          { x: 204.002, y: 269 },
          { x: 221.322, y: 259 },
          { x: 204.002, y: 289, l: "N" },
          { x: 186.68, y: 259 },
          { x: 221.322, y: 239, l: "O" },
          { x: 238.642, y: 269, l: "O" },
          { x: 186.68, y: 239, l: "O" },
          { x: 169.358, y: 269 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 1, e: 4, o: 2 },
          { b: 1, e: 5 },
          { b: 3, e: 7 },
          { b: 3, e: 6 },
        ],
      },
    });
    f.templates.push({
      name: "Threonine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.0004, y: -9.9993, l: "N" },
          { x: -9.9992, y: -9.9993 },
          { x: -9.9992, y: 10.002 },
          { x: 9.9992, y: -9.9993 },
          { x: -9.9992, y: 30.0004 },
          { x: 9.9992, y: 10.002, l: "O" },
          { x: 30.0004, y: -9.9992, l: "O" },
          { x: 9.9992, y: -30.0004, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 6 },
          { b: 3, e: 7, o: 2 },
          { b: 2, e: 5 },
          { b: 2, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Threonine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -17.0711, y: 0.999 },
          { x: 2.9289, y: 0.999 },
          { x: 8.1053, y: -18.3195, l: "H" },
          { x: 12.9289, y: 18.3195 },
          { x: 17.0711, y: -13.1431, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 4 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Tryptophan \x3cb\x3eTrp\x3c/b\x3e \x3ci\x3eW\x3c/i\x3e",
      data: {
        a: [
          { x: 232.89, y: 267.526 },
          { x: 232.89, y: 287.526, l: "N" },
          { x: 250.21, y: 257.526 },
          { x: 215.57, y: 257.526 },
          { x: 267.532, y: 267.526, l: "O" },
          { x: 250.21, y: 237.526, l: "O" },
          { x: 198.248, y: 267.526 },
          { x: 196.158, y: 287.418 },
          { x: 179.98, y: 259.392 },
          { x: 176.596, y: 291.576, l: "N" },
          { x: 173.23, y: 240.256 },
          { x: 166.596, y: 274.254 },
          { x: 153.6, y: 236.424 },
          { x: 146.968, y: 270.424 },
          { x: 140.468, y: 251.51 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 2, e: 5, o: 2 },
          { b: 3, e: 6 },
          { b: 6, e: 7, o: 2 },
          { b: 6, e: 8 },
          { b: 7, e: 9 },
          { b: 11, e: 8, o: 2 },
          { b: 10, e: 8 },
          { b: 9, e: 11 },
          { b: 11, e: 13 },
          { b: 12, e: 10, o: 2 },
          { b: 13, e: 14, o: 2 },
          { b: 14, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Tryptophan \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -34.5594, y: -32.7962, l: "N" },
          { x: -14.5632, y: -32.7962 },
          { x: -14.5632, y: -12.8 },
          { x: 5.4302, y: -32.7962 },
          { x: -14.5632, y: 7.1934 },
          { x: 25.4264, y: -32.7962, l: "O" },
          { x: 5.4302, y: -52.7924, l: "O" },
          { x: -30.7519, y: 18.8666 },
          { x: 1.5511, y: 18.8666 },
          { x: -24.6495, y: 37.8737, l: "N" },
          { x: -4.6891, y: 37.8737 },
          { x: 21.1946, y: 14.7065 },
          { x: 8.6757, y: 52.7924 },
          { x: 34.5594, y: 29.6581 },
          { x: 28.2834, y: 48.7011 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 5 },
          { b: 3, e: 6, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 7, o: 2 },
          { b: 7, e: 9 },
          { b: 9, e: 10 },
          { b: 10, e: 8, o: 2 },
          { b: 4, e: 8 },
          { b: 10, e: 12 },
          { b: 12, e: 14, o: 2 },
          { b: 14, e: 13 },
          { b: 13, e: 11, o: 2 },
          { b: 8, e: 11 },
        ],
      },
    });
    f.templates.push({
      name: "Tryptophan \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -42.876, y: 16.3756 },
          { x: -22.8416, y: 16.3756 },
          { x: -2.81, y: 16.3756 },
          { x: 9.0262, y: 0.2305 },
          { x: 9.0262, y: 32.5593 },
          { x: 4.9631, y: -19.0972 },
          { x: 28.0696, y: 6.3418 },
          { x: 28.0696, y: 26.3403, l: "N" },
          { x: 19.6976, y: -32.5593 },
          { x: 42.876, y: -7.0485 },
          { x: 38.6693, y: -26.517 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 4, o: 2 },
          { b: 4, e: 7 },
          { b: 7, e: 6 },
          { b: 6, e: 3, o: 2 },
          { b: 2, e: 3 },
          { b: 6, e: 9 },
          { b: 9, e: 10, o: 2 },
          { b: 10, e: 8 },
          { b: 8, e: 5, o: 2 },
          { b: 3, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Tyrosine \x3cb\x3eTyr\x3c/b\x3e \x3ci\x3eY\x3c/i\x3e",
      data: {
        a: [
          { x: 247.3, y: 254 },
          { x: 247.3, y: 234, l: "O" },
          { x: 229.98, y: 264 },
          { x: 264.622, y: 264, l: "O" },
          { x: 212.66, y: 254 },
          { x: 229.98, y: 284, l: "N" },
          { x: 195.34, y: 264 },
          { x: 195.34, y: 284 },
          { x: 178.018, y: 254 },
          { x: 178.018, y: 294 },
          { x: 160.698, y: 264 },
          { x: 160.698, y: 284 },
          { x: 143.378, y: 294, l: "O" },
        ],
        b: [
          { b: 0, e: 1, o: 2 },
          { b: 0, e: 3 },
          { b: 0, e: 2 },
          { b: 2, e: 4 },
          { b: 2, e: 5 },
          { b: 4, e: 6 },
          { b: 6, e: 7, o: 2 },
          { b: 6, e: 8 },
          { b: 7, e: 9 },
          { b: 10, e: 8, o: 2 },
          { b: 9, e: 11, o: 2 },
          { b: 11, e: 10 },
          { b: 11, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Tyrosine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -29.9912, y: -40.0397, l: "N" },
          { x: -9.9962, y: -40.0397 },
          { x: 9.9961, y: -40.0397 },
          { x: -9.9962, y: -20.0447 },
          { x: 29.9911, y: -40.0397, l: "O" },
          { x: 9.9961, y: -60.0347, l: "O" },
          { x: -9.9962, y: -0.0524 },
          { x: 7.2826, y: 9.9976 },
          { x: -27.3107, y: 9.9976 },
          { x: 7.2826, y: 30.0284 },
          { x: -27.3107, y: 30.0285 },
          { x: -9.9962, y: 40.0424 },
          { x: -9.9962, y: 60.0347, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 2, e: 4 },
          { b: 2, e: 5, o: 2 },
          { b: 3, e: 6 },
          { b: 6, e: 8, o: 2 },
          { b: 8, e: 10 },
          { b: 10, e: 11, o: 2 },
          { b: 11, e: 9 },
          { b: 9, e: 7, o: 2 },
          { b: 6, e: 7 },
          { b: 11, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Tyrosine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -50.0496, y: -0.0179 },
          { x: -30.0496, y: -0.0179 },
          { x: -10.0524, y: -0.0179 },
          { x: 0, y: 17.3009 },
          { x: 0, y: -17.3009 },
          { x: 20.0358, y: 17.3009 },
          { x: 20.0358, y: -17.3009 },
          { x: 30.0524, y: -0.0179 },
          { x: 50.0496, y: -0.0179, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3, o: 2 },
          { b: 3, e: 5 },
          { b: 5, e: 7, o: 2 },
          { b: 7, e: 6 },
          { b: 6, e: 4, o: 2 },
          { b: 2, e: 4 },
          { b: 7, e: 8 },
        ],
      },
    });
    f.templates.push({
      name: "Valine \x3cb\x3eVal\x3c/b\x3e \x3ci\x3eV\x3c/i\x3e",
      data: {
        a: [
          { x: 204, y: 269 },
          { x: 204, y: 289, l: "N" },
          { x: 186.678, y: 259 },
          { x: 221.322, y: 259 },
          { x: 186.678, y: 239 },
          { x: 169.36, y: 269 },
          { x: 238.64, y: 269, l: "O" },
          { x: 221.322, y: 239, l: "O" },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 3, e: 6 },
          { b: 3, e: 7, o: 2 },
          { b: 2, e: 5 },
          { b: 2, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Valine \x3ci\x3echain\x3c/i\x3e",
      data: {
        a: [
          { x: -30.0004, y: -9.9992, l: "N" },
          { x: -9.9992, y: -9.9992 },
          { x: -9.9992, y: 10.0019 },
          { x: 9.9992, y: -9.9992 },
          { x: 9.9992, y: 10.0019 },
          { x: -9.9992, y: 30.0004 },
          { x: 30.0004, y: -9.9992, l: "O" },
          { x: 9.9992, y: -30.0005, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 3, e: 6 },
          { b: 3, e: 7, o: 2 },
          { b: 2, e: 4 },
          { b: 2, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Valine \x3ci\x3eside chain\x3c/i\x3e",
      data: {
        a: [
          { x: -20.0014, y: 10 },
          { x: 0.0014, y: 10 },
          { x: 20.0014, y: 10 },
          { x: 0.0014, y: -10 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
        ],
      },
    });
    n.push(f);
    f = { name: "Cyclic Terpenes", templates: [] };
    f.templates.push({
      name: "Bornane",
      data: {
        a: [
          { x: -1.0324, y: -18.324 },
          { x: 9.6351, y: -4.5595 },
          { x: -16.3453, y: -28.3032 },
          { x: -5.3337, y: 12.4741 },
          { x: 14.1611, y: -27.0959 },
          { x: -10.8395, y: 1.8066 },
          { x: 25.2923, y: 1.8066 },
          { x: -14.2806, y: 28.3032 },
          { x: -25.2923, y: 15.9152 },
          { x: 14.7968, y: 16.6035 },
        ],
        b: [
          { b: 0, e: 4 },
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 1, e: 6 },
          { b: 6, e: 9 },
          { b: 9, e: 3 },
          { b: 3, e: 7 },
          { b: 8, e: 3 },
          { b: 8, e: 5 },
          { b: 5, e: 1 },
          { b: 0, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Carane",
      data: {
        a: [
          { x: -19.9985, y: -39.643 },
          { x: -9.9992, y: -22.3243 },
          { x: -19.9985, y: -5.0056 },
          { x: 9.9992, y: -22.3242 },
          { x: -9.9992, y: 12.3151 },
          { x: 19.9985, y: -5.0056 },
          { x: 0, y: 29.6437 },
          { x: 9.9992, y: 12.3151 },
          { x: -17.3187, y: 39.643 },
          { x: 17.3187, y: 39.643 },
        ],
        b: [
          { b: 4, e: 6 },
          { b: 7, e: 6 },
          { b: 6, e: 9 },
          { b: 6, e: 8 },
          { b: 4, e: 7 },
          { b: 4, e: 2 },
          { b: 7, e: 5 },
          { b: 2, e: 1 },
          { b: 5, e: 3 },
          { b: 1, e: 3 },
          { b: 1, e: 0 },
        ],
      },
    });
    f.templates.push({
      name: "Menthane",
      data: {
        a: [
          { x: -17.3202, y: -5.0001 },
          { x: -17.3203, y: 15.0002 },
          { x: 0, y: -15.0002 },
          { x: 0, y: 25.0003 },
          { x: 17.3203, y: -5.0001 },
          { x: 0, y: -35.0005 },
          { x: 17.3202, y: 15.0002 },
          { x: 0, y: 45.0006 },
          { x: -17.3203, y: -45.0006 },
          { x: 17.3202, y: -45.0006 },
        ],
        b: [
          { b: 2, e: 0 },
          { b: 2, e: 4 },
          { b: 2, e: 5 },
          { b: 0, e: 1 },
          { b: 4, e: 6 },
          { b: 3, e: 6 },
          { b: 3, e: 1 },
          { b: 3, e: 7 },
          { b: 5, e: 9 },
          { b: 5, e: 8 },
        ],
      },
    });
    f.templates.push({
      name: "Norbornane 1",
      data: {
        a: [
          { x: -0.995, y: -16.8329 },
          { x: -5.1411, y: 12.8527 },
          { x: 9.2871, y: -3.5656 },
          { x: -24.3787, y: 16.1695 },
          { x: 14.2624, y: 16.8329 },
          { x: -10.448, y: 2.5705 },
          { x: 24.3787, y: 2.5705 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 2, e: 6 },
          { b: 6, e: 4 },
          { b: 4, e: 1 },
          { b: 3, e: 1 },
          { b: 3, e: 5 },
          { b: 5, e: 2 },
          { b: 0, e: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Norbornane 2",
      data: {
        a: [
          { x: 0, y: -19.7533 },
          { x: -6.3211, y: 0 },
          { x: 17.1069, y: -9.8766 },
          { x: -17.1069, y: -9.8766 },
          { x: 0, y: 19.7533 },
          { x: 17.1069, y: 9.8767 },
          { x: -17.1069, y: 9.8767 },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 3, e: 6 },
          { b: 6, e: 4 },
          { b: 4, e: 5 },
          { b: 5, e: 2 },
          { b: 2, e: 0 },
          { b: 4, e: 1 },
          { b: 0, e: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Norcarane",
      data: {
        a: [
          { x: 9.9989, y: -25.983 },
          { x: 19.9977, y: -8.665 },
          { x: -9.9989, y: -25.983 },
          { x: 9.9989, y: 8.653 },
          { x: -19.9977, y: -8.665 },
          { x: 0, y: 25.9831 },
          { x: -9.9989, y: 8.653 },
        ],
        b: [
          { b: 3, e: 6 },
          { b: 3, e: 5 },
          { b: 3, e: 1 },
          { b: 6, e: 5 },
          { b: 6, e: 4 },
          { b: 1, e: 0 },
          { b: 4, e: 2 },
          { b: 0, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Norpinane",
      data: {
        a: [
          { x: -9.0329, y: -16.7698 },
          { x: -14.1777, y: -0.5106 },
          { x: -5.027, y: 9.1507 },
          { x: 3.6889, y: 3.8049 },
          { x: -24.1925, y: 16.7698 },
          { x: 15.081, y: 13.8636 },
          { x: 24.1925, y: 0.3535 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 6 },
          { b: 6, e: 5 },
          { b: 5, e: 2 },
          { b: 4, e: 2 },
          { b: 4, e: 1 },
          { b: 0, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Pinane",
      data: {
        a: [
          { x: -9.3626, y: -10.136 },
          { x: -24.0985, y: -22.6738 },
          { x: 3.2566, y: -24.6277 },
          { x: -5.2105, y: 16.7306 },
          { x: -14.6952, y: 6.7166 },
          { x: 15.6315, y: 21.6154 },
          { x: -25.0755, y: 24.6277 },
          { x: 5.5362, y: 2.646 },
          { x: 25.0755, y: 7.6122 },
          { x: 13.3519, y: -10.6245 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 0, e: 4 },
          { b: 4, e: 7 },
          { b: 7, e: 9 },
          { b: 7, e: 8 },
          { b: 8, e: 5 },
          { b: 5, e: 3 },
          { b: 6, e: 3 },
          { b: 6, e: 4 },
          { b: 0, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Thujane",
      data: {
        a: [
          { x: -24.0519, y: 2.3998 },
          { x: -12.2969, y: -13.7808 },
          { x: -12.2969, y: 18.5784 },
          { x: 6.7214, y: -7.5993 },
          { x: 6.7214, y: 12.399 },
          { x: -18.4764, y: 37.5967 },
          { x: 6.7214, y: -27.5976 },
          { x: 24.0519, y: 2.3998 },
          { x: 24.0419, y: -37.5967 },
          { x: -10.5971, y: -37.5967 },
        ],
        b: [
          { b: 3, e: 4 },
          { b: 3, e: 7 },
          { b: 3, e: 1 },
          { b: 3, e: 6 },
          { b: 4, e: 7 },
          { b: 4, e: 2 },
          { b: 2, e: 0 },
          { b: 2, e: 5 },
          { b: 1, e: 0 },
          { b: 6, e: 8 },
          { b: 6, e: 9 },
        ],
      },
    });
    n.push(f);
    f = { name: "Cycloalkanes", templates: [] };
    f.templates.push({
      name: "\x3ca\x3e\x3c/a\x3e\x3cb\x3e9\x3c/b\x3e Nonane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 236.708, y: 264 },
          { x: 224.954, y: 247.82 },
          { x: 224.954, y: 280.178 },
          { x: 205.932, y: 254 },
          { x: 205.932, y: 273.998 },
          { x: 188.612, y: 244 },
          { x: 188.612, y: 284 },
          { x: 171.29, y: 254 },
          { x: 171.29, y: 273.998 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 3, e: 5 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 7 },
        ],
      },
    });
    f.templates.push({
      name: "\x3ca\x3e\x3c/a\x3e\x3cb\x3e9\x3c/b\x3e Nonane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 175.644, y: 274 },
          { x: 175.644, y: 254 },
          { x: 188.5, y: 289.32 },
          { x: 188.5, y: 238.68 },
          { x: 208.196, y: 292.794 },
          { x: 208.196, y: 235.206 },
          { x: 225.516, y: 282.794 },
          { x: 225.516, y: 245.206 },
          { x: 232.356, y: 264 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 3, e: 5 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 7 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e10\x3c/b\x3e Decane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 186.678, y: 244 },
          { x: 169.36, y: 254 },
          { x: 204, y: 254 },
          { x: 169.36, y: 274 },
          { x: 221.32, y: 244 },
          { x: 186.678, y: 284 },
          { x: 238.642, y: 254 },
          { x: 204, y: 274 },
          { x: 238.642, y: 274 },
          { x: 221.32, y: 284 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 5, e: 3 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 9 },
          { b: 9, e: 7 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e10\x3c/b\x3e Decane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 173.224, y: 274 },
          { x: 184.978, y: 290.18 },
          { x: 173.224, y: 254 },
          { x: 204, y: 296.36 },
          { x: 184.978, y: 237.82 },
          { x: 223.022, y: 290.18 },
          { x: 204, y: 231.64 },
          { x: 234.776, y: 274 },
          { x: 223.022, y: 237.82 },
          { x: 234.776, y: 254 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 6, e: 4 },
          { b: 5, e: 7 },
          { b: 8, e: 6 },
          { b: 7, e: 9 },
          { b: 9, e: 8 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e11\x3c/b\x3e Undecane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 169.358, y: 243.61 },
          { x: 169.358, y: 263.612 },
          { x: 186.678, y: 233.612 },
          { x: 186.678, y: 273.61 },
          { x: 204, y: 243.61 },
          { x: 193.998, y: 294.388 },
          { x: 221.318, y: 233.612 },
          { x: 213.998, y: 294.388 },
          { x: 238.64, y: 243.61 },
          { x: 221.318, y: 273.61 },
          { x: 238.64, y: 263.612 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 5, e: 3 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 10 },
          { b: 9, e: 7 },
          { b: 10, e: 9 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e11\x3c/b\x3e Undecane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 169.224, y: 274 },
          { x: 180.038, y: 290.826 },
          { x: 169.224, y: 254 },
          { x: 198.23, y: 299.134 },
          { x: 180.038, y: 237.174 },
          { x: 218.026, y: 296.288 },
          { x: 198.23, y: 228.866 },
          { x: 233.142, y: 283.19 },
          { x: 218.026, y: 231.712 },
          { x: 238.776, y: 264 },
          { x: 233.142, y: 244.81 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 6, e: 4 },
          { b: 5, e: 7 },
          { b: 8, e: 6 },
          { b: 7, e: 9 },
          { b: 10, e: 8 },
          { b: 9, e: 10 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e12\x3c/b\x3e Dodecane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 204, y: 229 },
          { x: 186.678, y: 239 },
          { x: 221.32, y: 239 },
          { x: 186.678, y: 259 },
          { x: 221.32, y: 259 },
          { x: 169.358, y: 269 },
          { x: 238.64, y: 269 },
          { x: 169.358, y: 289 },
          { x: 238.64, y: 289 },
          { x: 186.678, y: 299 },
          { x: 221.32, y: 299 },
          { x: 204, y: 289 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 3, e: 5 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 10 },
          { b: 9, e: 7 },
          { b: 10, e: 11 },
          { b: 11, e: 9 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e12\x3c/b\x3e Dodecane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 166.68, y: 274 },
          { x: 176.68, y: 291.32 },
          { x: 166.68, y: 254 },
          { x: 194, y: 301.32 },
          { x: 176.68, y: 236.68 },
          { x: 214, y: 301.32 },
          { x: 194, y: 226.68 },
          { x: 231.32, y: 291.32 },
          { x: 214, y: 226.68 },
          { x: 241.32, y: 274 },
          { x: 231.32, y: 236.68 },
          { x: 241.32, y: 254 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 4, e: 6 },
          { b: 5, e: 7 },
          { b: 8, e: 6 },
          { b: 7, e: 9 },
          { b: 10, e: 8 },
          { b: 9, e: 11 },
          { b: 11, e: 10 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e13\x3c/b\x3e Tridecane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 204, y: 218.612 },
          { x: 221.322, y: 228.614 },
          { x: 186.68, y: 228.614 },
          { x: 221.322, y: 248.612 },
          { x: 186.68, y: 248.612 },
          { x: 238.64, y: 258.614 },
          { x: 169.358, y: 258.614 },
          { x: 238.64, y: 278.612 },
          { x: 169.358, y: 278.612 },
          { x: 221.322, y: 288.614 },
          { x: 186.68, y: 288.614 },
          { x: 214.002, y: 309.388 },
          { x: 194, y: 309.388 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 6, e: 4 },
          { b: 5, e: 7 },
          { b: 8, e: 6 },
          { b: 7, e: 9 },
          { b: 10, e: 8 },
          { b: 9, e: 11 },
          { b: 12, e: 10 },
          { b: 11, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e13\x3c/b\x3e Tridecane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 162.822, y: 274 },
          { x: 172.116, y: 291.71 },
          { x: 162.822, y: 254 },
          { x: 188.576, y: 303.07 },
          { x: 172.116, y: 236.29 },
          { x: 208.43, y: 305.482 },
          { x: 188.576, y: 224.93 },
          { x: 227.13, y: 298.39 },
          { x: 208.43, y: 222.518 },
          { x: 240.392, y: 283.418 },
          { x: 227.13, y: 229.61 },
          { x: 245.178, y: 264 },
          { x: 240.392, y: 244.582 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 6, e: 4 },
          { b: 5, e: 7 },
          { b: 8, e: 6 },
          { b: 7, e: 9 },
          { b: 10, e: 8 },
          { b: 9, e: 11 },
          { b: 12, e: 10 },
          { b: 11, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e14\x3c/b\x3e Tetradecane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 204, y: 214 },
          { x: 186.68, y: 224 },
          { x: 221.32, y: 224 },
          { x: 186.68, y: 244 },
          { x: 221.32, y: 244 },
          { x: 169.358, y: 254 },
          { x: 238.642, y: 254 },
          { x: 169.358, y: 274 },
          { x: 238.642, y: 274 },
          { x: 186.68, y: 284 },
          { x: 221.32, y: 284 },
          { x: 186.68, y: 304 },
          { x: 221.32, y: 304 },
          { x: 204, y: 314 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 5, e: 3 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 10 },
          { b: 9, e: 7 },
          { b: 10, e: 12 },
          { b: 11, e: 9 },
          { b: 12, e: 13 },
          { b: 13, e: 11 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e14\x3c/b\x3e Tetradecane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 160.188, y: 274 },
          { x: 168.864, y: 292.02 },
          { x: 160.188, y: 254 },
          { x: 184.502, y: 304.49 },
          { x: 168.864, y: 235.98 },
          { x: 204, y: 308.94 },
          { x: 184.502, y: 223.51 },
          { x: 223.498, y: 304.49 },
          { x: 204, y: 219.06 },
          { x: 239.136, y: 292.02 },
          { x: 223.498, y: 223.51 },
          { x: 247.812, y: 274 },
          { x: 239.136, y: 235.98 },
          { x: 247.812, y: 254 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 6, e: 4 },
          { b: 5, e: 7 },
          { b: 8, e: 6 },
          { b: 7, e: 9 },
          { b: 10, e: 8 },
          { b: 9, e: 11 },
          { b: 12, e: 10 },
          { b: 11, e: 13 },
          { b: 13, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e15\x3c/b\x3e Pendecane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 184, y: 251.23 },
          { x: 164, y: 251.23 },
          { x: 186.226, y: 233.358 },
          { x: 154, y: 268.548 },
          { x: 204.306, y: 224.808 },
          { x: 164, y: 285.87 },
          { x: 222.264, y: 233.61 },
          { x: 184, y: 285.87 },
          { x: 224, y: 251.23 },
          { x: 194, y: 303.192 },
          { x: 244, y: 251.23 },
          { x: 214, y: 303.192 },
          { x: 254, y: 268.548 },
          { x: 224, y: 285.87 },
          { x: 244, y: 285.87 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 3, e: 1 },
          { b: 2, e: 4 },
          { b: 5, e: 3 },
          { b: 4, e: 6 },
          { b: 7, e: 5 },
          { b: 6, e: 8 },
          { b: 9, e: 7 },
          { b: 8, e: 10 },
          { b: 11, e: 9 },
          { b: 10, e: 12 },
          { b: 13, e: 11 },
          { b: 12, e: 14 },
          { b: 14, e: 13 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e15\x3c/b\x3e Pendecane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 156.428, y: 274 },
          { x: 164.562, y: 292.27 },
          { x: 156.428, y: 254 },
          { x: 179.426, y: 305.654 },
          { x: 164.562, y: 235.728 },
          { x: 198.446, y: 311.834 },
          { x: 179.426, y: 222.346 },
          { x: 218.338, y: 309.744 },
          { x: 198.446, y: 216.166 },
          { x: 235.658, y: 299.744 },
          { x: 218.338, y: 218.256 },
          { x: 247.414, y: 283.562 },
          { x: 235.658, y: 228.256 },
          { x: 251.572, y: 264 },
          { x: 247.414, y: 244.438 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 3, e: 1 },
          { b: 2, e: 4 },
          { b: 5, e: 3 },
          { b: 4, e: 6 },
          { b: 7, e: 5 },
          { b: 6, e: 8 },
          { b: 9, e: 7 },
          { b: 8, e: 10 },
          { b: 11, e: 9 },
          { b: 10, e: 12 },
          { b: 13, e: 11 },
          { b: 12, e: 14 },
          { b: 14, e: 13 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e16\x3c/b\x3e Hexadecane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 186.68, y: 229 },
          { x: 204.002, y: 239 },
          { x: 169.36, y: 239 },
          { x: 221.32, y: 229 },
          { x: 169.36, y: 259 },
          { x: 238.642, y: 239 },
          { x: 152.038, y: 269 },
          { x: 238.642, y: 259 },
          { x: 152.038, y: 289 },
          { x: 255.962, y: 269 },
          { x: 169.36, y: 299 },
          { x: 255.962, y: 289 },
          { x: 186.68, y: 289 },
          { x: 238.642, y: 299 },
          { x: 204.002, y: 299 },
          { x: 221.32, y: 289 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 4, e: 6 },
          { b: 5, e: 7 },
          { b: 8, e: 6 },
          { b: 7, e: 9 },
          { b: 10, e: 8 },
          { b: 9, e: 11 },
          { b: 12, e: 10 },
          { b: 11, e: 13 },
          { b: 14, e: 12 },
          { b: 15, e: 13 },
          { b: 15, e: 14 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e16\x3c/b\x3e Hexadecane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 153.726, y: 274 },
          { x: 161.38, y: 292.478 },
          { x: 153.726, y: 254 },
          { x: 175.522, y: 306.62 },
          { x: 161.38, y: 235.522 },
          { x: 194, y: 314.274 },
          { x: 175.522, y: 221.38 },
          { x: 214, y: 314.274 },
          { x: 194, y: 213.726 },
          { x: 232.478, y: 306.62 },
          { x: 214, y: 213.726 },
          { x: 246.62, y: 292.478 },
          { x: 232.478, y: 221.38 },
          { x: 254.274, y: 274 },
          { x: 246.62, y: 235.522 },
          { x: 254.274, y: 254 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 4, e: 6 },
          { b: 5, e: 7 },
          { b: 8, e: 6 },
          { b: 7, e: 9 },
          { b: 10, e: 8 },
          { b: 9, e: 11 },
          { b: 12, e: 10 },
          { b: 11, e: 13 },
          { b: 14, e: 12 },
          { b: 15, e: 13 },
          { b: 15, e: 14 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e17\x3c/b\x3e Heptadecane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 152.038, y: 228.614 },
          { x: 152.038, y: 248.612 },
          { x: 169.358, y: 218.612 },
          { x: 169.358, y: 258.614 },
          { x: 186.68, y: 228.614 },
          { x: 169.358, y: 278.612 },
          { x: 203.998, y: 218.612 },
          { x: 186.68, y: 288.614 },
          { x: 221.32, y: 228.614 },
          { x: 194, y: 309.388 },
          { x: 238.64, y: 218.612 },
          { x: 214, y: 309.388 },
          { x: 255.962, y: 228.614 },
          { x: 221.32, y: 288.614 },
          { x: 255.962, y: 248.612 },
          { x: 238.64, y: 278.612 },
          { x: 238.64, y: 258.614 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 5, e: 3 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 10 },
          { b: 9, e: 7 },
          { b: 10, e: 12 },
          { b: 11, e: 9 },
          { b: 12, e: 14 },
          { b: 13, e: 11 },
          { b: 14, e: 16 },
          { b: 15, e: 13 },
          { b: 16, e: 15 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e17\x3c/b\x3e Heptadecane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 150.042, y: 274 },
          { x: 150.042, y: 254 },
          { x: 157.266, y: 292.65 },
          { x: 157.266, y: 235.35 },
          { x: 170.74, y: 307.43 },
          { x: 170.74, y: 220.57 },
          { x: 188.644, y: 316.344 },
          { x: 188.644, y: 211.656 },
          { x: 208.558, y: 318.19 },
          { x: 208.558, y: 209.81 },
          { x: 227.794, y: 312.716 },
          { x: 227.794, y: 215.284 },
          { x: 243.754, y: 300.664 },
          { x: 243.754, y: 227.336 },
          { x: 254.284, y: 283.66 },
          { x: 254.284, y: 244.34 },
          { x: 257.958, y: 264 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 5, e: 3 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 10 },
          { b: 9, e: 7 },
          { b: 10, e: 12 },
          { b: 11, e: 9 },
          { b: 12, e: 14 },
          { b: 13, e: 11 },
          { b: 14, e: 16 },
          { b: 15, e: 13 },
          { b: 16, e: 15 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e18\x3c/b\x3e Octodecane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 186.68, y: 214 },
          { x: 169.36, y: 224 },
          { x: 204.002, y: 224 },
          { x: 169.36, y: 244 },
          { x: 221.32, y: 214 },
          { x: 152.038, y: 254 },
          { x: 238.642, y: 224 },
          { x: 152.038, y: 274 },
          { x: 238.642, y: 244 },
          { x: 169.36, y: 284 },
          { x: 255.962, y: 254 },
          { x: 169.36, y: 304 },
          { x: 255.962, y: 274 },
          { x: 186.68, y: 314 },
          { x: 238.642, y: 284 },
          { x: 204.002, y: 304 },
          { x: 238.642, y: 304 },
          { x: 221.32, y: 314 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 3, e: 5 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 10 },
          { b: 9, e: 7 },
          { b: 10, e: 12 },
          { b: 11, e: 9 },
          { b: 12, e: 14 },
          { b: 13, e: 11 },
          { b: 14, e: 16 },
          { b: 15, e: 13 },
          { b: 16, e: 17 },
          { b: 17, e: 15 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e18\x3c/b\x3e Octodecane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 147.288, y: 274 },
          { x: 147.288, y: 254 },
          { x: 154.128, y: 292.794 },
          { x: 154.128, y: 235.206 },
          { x: 166.984, y: 308.114 },
          { x: 166.984, y: 219.886 },
          { x: 184.304, y: 318.114 },
          { x: 184.304, y: 209.886 },
          { x: 204, y: 321.588 },
          { x: 204, y: 206.412 },
          { x: 223.696, y: 318.114 },
          { x: 223.696, y: 209.886 },
          { x: 241.016, y: 308.114 },
          { x: 241.016, y: 219.886 },
          { x: 253.872, y: 292.794 },
          { x: 253.872, y: 235.206 },
          { x: 260.712, y: 274 },
          { x: 260.712, y: 254 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 3, e: 5 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 10 },
          { b: 9, e: 7 },
          { b: 10, e: 12 },
          { b: 11, e: 9 },
          { b: 12, e: 14 },
          { b: 13, e: 11 },
          { b: 14, e: 16 },
          { b: 15, e: 13 },
          { b: 16, e: 17 },
          { b: 17, e: 15 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e19\x3c/b\x3e Enneadecane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 186.68, y: 203.612 },
          { x: 169.36, y: 213.61 },
          { x: 203.998, y: 213.61 },
          { x: 169.36, y: 233.612 },
          { x: 221.32, y: 203.612 },
          { x: 152.038, y: 243.61 },
          { x: 238.642, y: 213.61 },
          { x: 152.038, y: 263.612 },
          { x: 238.642, y: 233.612 },
          { x: 169.36, y: 273.61 },
          { x: 255.962, y: 243.61 },
          { x: 169.36, y: 293.612 },
          { x: 255.962, y: 263.612 },
          { x: 186.68, y: 303.61 },
          { x: 238.642, y: 273.61 },
          { x: 194, y: 324.388 },
          { x: 238.64, y: 293.612 },
          { x: 214, y: 324.388 },
          { x: 221.32, y: 303.61 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 3, e: 5 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 10 },
          { b: 9, e: 7 },
          { b: 10, e: 12 },
          { b: 11, e: 9 },
          { b: 12, e: 14 },
          { b: 13, e: 11 },
          { b: 14, e: 16 },
          { b: 15, e: 13 },
          { b: 16, e: 18 },
          { b: 17, e: 15 },
          { b: 18, e: 17 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e19\x3c/b\x3e Enneadecane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 143.658, y: 274 },
          { x: 150.152, y: 292.916 },
          { x: 143.658, y: 254 },
          { x: 162.438, y: 308.7 },
          { x: 150.154, y: 235.084 },
          { x: 179.18, y: 319.638 },
          { x: 162.438, y: 219.3 },
          { x: 198.568, y: 324.548 },
          { x: 179.18, y: 208.362 },
          { x: 218.5, y: 322.896 },
          { x: 198.568, y: 203.452 },
          { x: 236.816, y: 314.862 },
          { x: 218.5, y: 205.104 },
          { x: 251.53, y: 301.316 },
          { x: 236.816, y: 213.138 },
          { x: 261.05, y: 283.728 },
          { x: 251.53, y: 226.684 },
          { x: 264.342, y: 264 },
          { x: 261.05, y: 244.272 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 4, e: 6 },
          { b: 5, e: 7 },
          { b: 8, e: 6 },
          { b: 7, e: 9 },
          { b: 10, e: 8 },
          { b: 9, e: 11 },
          { b: 12, e: 10 },
          { b: 11, e: 13 },
          { b: 14, e: 12 },
          { b: 13, e: 15 },
          { b: 16, e: 14 },
          { b: 15, e: 17 },
          { b: 18, e: 16 },
          { b: 17, e: 18 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e20\x3c/b\x3e Icosane \x3ci\x3epacked\x3c/i\x3e",
      data: {
        a: [
          { x: 139.36, y: 264 },
          { x: 149.358, y: 281.318 },
          { x: 149.358, y: 246.682 },
          { x: 169.36, y: 281.318 },
          { x: 169.36, y: 246.682 },
          { x: 169.36, y: 301.32 },
          { x: 169.36, y: 226.68 },
          { x: 186.678, y: 311.318 },
          { x: 186.678, y: 216.682 },
          { x: 204, y: 301.32 },
          { x: 204, y: 226.68 },
          { x: 221.322, y: 311.318 },
          { x: 221.322, y: 216.682 },
          { x: 238.642, y: 301.32 },
          { x: 238.642, y: 226.68 },
          { x: 238.642, y: 281.318 },
          { x: 238.642, y: 246.682 },
          { x: 258.642, y: 281.318 },
          { x: 258.642, y: 246.682 },
          { x: 268.64, y: 264 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 6 },
          { b: 3, e: 5 },
          { b: 6, e: 8 },
          { b: 7, e: 5 },
          { b: 8, e: 10 },
          { b: 9, e: 7 },
          { b: 10, e: 12 },
          { b: 9, e: 11 },
          { b: 12, e: 14 },
          { b: 13, e: 11 },
          { b: 14, e: 16 },
          { b: 15, e: 13 },
          { b: 16, e: 18 },
          { b: 17, e: 15 },
          { b: 18, e: 19 },
          { b: 19, e: 17 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e20\x3c/b\x3e Icosane \x3ci\x3eunpacked\x3c/i\x3e",
      data: {
        a: [
          { x: 140.862, y: 274 },
          { x: 147.042, y: 293.02 },
          { x: 140.862, y: 254 },
          { x: 158.798, y: 309.202 },
          { x: 147.042, y: 234.98 },
          { x: 174.978, y: 320.958 },
          { x: 158.798, y: 218.798 },
          { x: 194, y: 327.138 },
          { x: 174.978, y: 207.042 },
          { x: 214, y: 327.138 },
          { x: 194, y: 200.862 },
          { x: 233.022, y: 320.958 },
          { x: 214, y: 200.862 },
          { x: 249.202, y: 309.202 },
          { x: 233.02, y: 207.042 },
          { x: 260.958, y: 293.02 },
          { x: 249.202, y: 218.798 },
          { x: 267.138, y: 274 },
          { x: 260.958, y: 234.978 },
          { x: 267.138, y: 254 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 4, e: 6 },
          { b: 5, e: 7 },
          { b: 8, e: 6 },
          { b: 7, e: 9 },
          { b: 10, e: 8 },
          { b: 9, e: 11 },
          { b: 10, e: 12 },
          { b: 11, e: 13 },
          { b: 14, e: 12 },
          { b: 13, e: 15 },
          { b: 16, e: 14 },
          { b: 15, e: 17 },
          { b: 18, e: 16 },
          { b: 17, e: 19 },
          { b: 19, e: 18 },
        ],
      },
    });
    n.push(f);
    f = { name: "Functional Groups", templates: [] };
    f.templates.push({
      name: "Alkenyl",
      data: {
        a: [
          { x: 194.002, y: 263.998 },
          { x: 214, y: 263.998 },
          { x: 184, y: 246.68 },
          { x: 184, y: 281.32 },
          { x: 224.002, y: 281.32 },
          { x: 224.002, y: 246.68 },
        ],
        b: [
          { b: 0, e: 1, o: 2 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 1, e: 5 },
          { b: 1, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Alkynyl",
      data: {
        a: [
          { x: 193.998, y: 264 },
          { x: 174, y: 264 },
          { x: 213.998, y: 264 },
          { x: 234, y: 264 },
        ],
        b: [
          { b: 0, e: 2, o: 3 },
          { b: 0, e: 1 },
          { b: 2, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Amine",
      data: {
        a: [
          { x: 204.002, y: 259.002, l: "N" },
          { x: 221.32, y: 249 },
          { x: 204.002, y: 279 },
          { x: 186.68, y: 249 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 3 },
          { b: 0, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Ammonium",
      data: {
        a: [
          { c: 1, x: 203.998, y: 265.342, l: "N" },
          { x: 186.68, y: 275.34 },
          { x: 203.998, y: 245.34 },
          { x: 194, y: 282.66 },
          { x: 221.32, y: 275.34 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 4 },
          { b: 0, e: 1 },
          { b: 0, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Azide",
      data: {
        a: [
          { x: 178.02, y: 263.998 },
          { x: 195.34, y: 254, l: "N" },
          { c: 1, x: 212.662, y: 263.998, l: "N" },
          { c: -1, x: 229.98, y: 274, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 2, e: 3, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Azo",
      data: {
        a: [
          { x: 184, y: 246.68 },
          { x: 194, y: 264.002, l: "N" },
          { x: 214, y: 264.002, l: "N" },
          { x: 224, y: 281.32 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 2, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Benzyl",
      data: {
        a: [
          { x: 169.36, y: 254 },
          { x: 186.678, y: 244 },
          { x: 204, y: 254 },
          { x: 204, y: 274 },
          { x: 221.32, y: 244 },
          { x: 221.32, y: 284 },
          { x: 238.64, y: 254 },
          { x: 238.64, y: 274 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 4, o: 2 },
          { b: 2, e: 3 },
          { b: 4, e: 6 },
          { b: 5, e: 3, o: 2 },
          { b: 6, e: 7, o: 2 },
          { b: 7, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Carbonate Ester",
      data: {
        a: [
          { x: 186.678, y: 279, l: "O" },
          { x: 169.36, y: 269.002 },
          { x: 204, y: 269.002 },
          { x: 221.32, y: 279, l: "O" },
          { x: 204, y: 249, l: "O" },
          { x: 238.642, y: 269.002 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 4, o: 2 },
          { b: 2, e: 3 },
          { b: 3, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Carbonyl",
      data: {
        a: [
          { x: 186.68, y: 279 },
          { x: 204.002, y: 268.998 },
          { x: 204.002, y: 249, l: "O" },
          { x: 221.32, y: 279 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 1, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Carboxamide",
      data: {
        a: [
          { x: 178.02, y: 269 },
          { x: 195.34, y: 259 },
          { x: 195.34, y: 239, l: "O" },
          { x: 212.662, y: 269, l: "N" },
          { x: 212.662, y: 289 },
          { x: 229.98, y: 259 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 1, e: 3 },
          { b: 3, e: 5 },
          { b: 3, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Cyanate",
      data: {
        a: [
          { x: 178.02, y: 263.998 },
          { x: 195.338, y: 254, l: "O" },
          { x: 212.66, y: 263.998 },
          { x: 229.98, y: 274, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3, o: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Disulfide",
      data: {
        a: [
          { x: 184, y: 246.68 },
          { x: 194, y: 263.998, l: "S" },
          { x: 214, y: 263.998, l: "S" },
          { x: 224, y: 281.32 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Ester",
      data: {
        a: [
          { x: 178.02, y: 279 },
          { x: 195.34, y: 269.002 },
          { x: 212.66, y: 279, l: "O" },
          { x: 195.34, y: 249, l: "O" },
          { x: 229.98, y: 269.002 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3, o: 2 },
          { b: 1, e: 2 },
          { b: 2, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Ether",
      data: {
        a: [
          { x: 186.68, y: 269 },
          { x: 204.002, y: 259, l: "O" },
          { x: 221.32, y: 269 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Imide",
      data: {
        a: [
          { x: 169.36, y: 269.002 },
          { x: 186.678, y: 258.998 },
          { x: 186.678, y: 239.002, l: "O" },
          { x: 204, y: 269.002, l: "N" },
          { x: 204, y: 288.998 },
          { x: 221.32, y: 258.998 },
          { x: 238.64, y: 269.002 },
          { x: 221.32, y: 239.002, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2, o: 2 },
          { b: 3, e: 5 },
          { b: 3, e: 4 },
          { b: 5, e: 6 },
          { b: 5, e: 7, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Isocyanate",
      data: {
        a: [
          { x: 178.02, y: 264.002 },
          { x: 195.34, y: 254, l: "N" },
          { x: 212.662, y: 264.002 },
          { x: 229.98, y: 274, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 2, e: 3, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Isocyanide",
      data: {
        a: [
          { x: 184, y: 264 },
          { c: 1, x: 204.002, y: 264, l: "N" },
          { c: -1, x: 224, y: 264 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Isothiocyanate",
      data: {
        a: [
          { x: 178.02, y: 264 },
          { x: 195.34, y: 254, l: "N" },
          { x: 212.662, y: 264 },
          { x: 229.98, y: 274, l: "S" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 2, e: 3, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Ketimine",
      data: {
        a: [
          { x: 204, y: 273.998 },
          { x: 204, y: 254.002, l: "N" },
          { x: 221.32, y: 284.002 },
          { x: 186.68, y: 284.002 },
          { x: 221.32, y: 243.998 },
        ],
        b: [
          { b: 0, e: 1, o: 2 },
          { b: 0, e: 3 },
          { b: 0, e: 2 },
          { b: 1, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Nitrate",
      data: {
        a: [
          { x: 178.02, y: 269 },
          { x: 195.338, y: 279, l: "O" },
          { c: 1, x: 212.66, y: 269, l: "N" },
          { c: -1, x: 229.98, y: 279, l: "O" },
          { x: 212.66, y: 249, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
          { b: 2, e: 4, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Nitrile",
      data: {
        a: [
          { x: 184, y: 264 },
          { x: 204.002, y: 264 },
          { x: 224, y: 264, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Nitro",
      data: {
        a: [
          { x: 189, y: 263.998 },
          { c: 1, x: 209.002, y: 263.998, l: "N" },
          { c: -1, x: 219, y: 281.32, l: "O" },
          { x: 219, y: 246.68, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3, o: 2 },
          { b: 1, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Nitroso",
      data: {
        a: [
          { x: 186.68, y: 269 },
          { x: 203.998, y: 259, l: "N" },
          { x: 221.32, y: 269, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Nitrosooxy",
      data: {
        a: [
          { x: 178.018, y: 259 },
          { x: 195.34, y: 269, l: "O" },
          { x: 212.66, y: 259, l: "N" },
          { x: 229.982, y: 269, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Peroxy",
      data: {
        a: [
          { x: 183.998, y: 246.68 },
          { x: 194.002, y: 264.002, l: "O" },
          { x: 213.998, y: 264.002, l: "O" },
          { x: 224.002, y: 281.32 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Phosphate",
      data: {
        a: [
          { x: 204, y: 265.342, l: "P" },
          { x: 221.322, y: 275.34, l: "O" },
          { x: 204, y: 245.34, l: "O" },
          { x: 186.682, y: 275.34, l: "O" },
          { x: 194.002, y: 282.66, l: "O" },
          { x: 238.642, y: 265.342 },
          { x: 169.36, y: 265.342 },
          { x: 174, y: 282.66 },
        ],
        b: [
          { b: 0, e: 2, o: 2 },
          { b: 0, e: 1 },
          { b: 0, e: 3 },
          { b: 0, e: 4 },
          { b: 1, e: 5 },
          { b: 3, e: 6 },
          { b: 4, e: 7 },
        ],
      },
    });
    f.templates.push({
      name: "Phosphino",
      data: {
        a: [
          { x: 204, y: 255.34, l: "P" },
          { x: 194.002, y: 272.66 },
          { x: 186.678, y: 265.34 },
          { x: 221.322, y: 265.34 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 0, e: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Pyridyl",
      data: {
        a: [
          { x: 178.018, y: 244 },
          { x: 195.34, y: 254 },
          { x: 212.66, y: 244 },
          { x: 195.34, y: 274 },
          { x: 229.982, y: 254 },
          { x: 212.66, y: 284 },
          { x: 229.982, y: 274, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 1, e: 3 },
          { b: 2, e: 4 },
          { b: 5, e: 3, o: 2 },
          { b: 4, e: 6, o: 2 },
          { b: 6, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Sulfide",
      data: {
        a: [
          { x: 203.998, y: 259, l: "S" },
          { x: 186.68, y: 269 },
          { x: 221.32, y: 269 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Sulfinyl",
      data: {
        a: [
          { x: 186.68, y: 279 },
          { x: 203.998, y: 268.998, l: "S" },
          { x: 203.998, y: 249, l: "O" },
          { x: 221.32, y: 279 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Sulfonyl",
      data: {
        a: [
          { x: 204, y: 267.66, l: "S" },
          { x: 194.002, y: 250.342, l: "O" },
          { x: 213.998, y: 250.342, l: "O" },
          { x: 186.68, y: 277.658 },
          { x: 221.32, y: 277.658 },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 4 },
          { b: 0, e: 1, o: 2 },
          { b: 0, e: 2, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Thiocyanate",
      data: {
        a: [
          { x: 178.018, y: 264.002 },
          { x: 195.34, y: 254, l: "S" },
          { x: 212.66, y: 264.002 },
          { x: 229.982, y: 274, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3, o: 3 },
        ],
      },
    });
    n.push(f);
    f = { name: "Sugars (Hexoses)", templates: [] };
    f.templates.push({
      name: "Allose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -50, l: "CHO" },
          { x: 0, y: -30 },
          { x: 0, y: -10 },
          { x: 20, y: -30, l: "O" },
          { x: -20, y: -30, l: "H" },
          { x: -20, y: -10, l: "H" },
          { x: 20, y: -10, l: "O" },
          { x: 0, y: 10 },
          { x: 20, y: 10, l: "O" },
          { x: -20, y: 10, l: "H" },
          { x: 0, y: 30 },
          { x: -20, y: 30, l: "H" },
          { x: 20, y: 30, l: "O" },
          { x: 0, y: 50, l: "CH2OH" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 4 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 2, e: 5 },
          { b: 2, e: 6 },
          { b: 2, e: 7 },
          { b: 7, e: 9 },
          { b: 7, e: 8 },
          { b: 7, e: 10 },
          { b: 10, e: 11 },
          { b: 10, e: 12 },
          { b: 10, e: 13 },
        ],
      },
    });
    f.templates.push({
      name: "Allose \x3ci\x3eFuranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: 7.3205, y: -13.6239, l: "O" },
          { x: -27.7677, y: -1.3055 },
          { x: 42.4087, y: -1.3055 },
          { x: -14.3652, y: 18.6261 },
          { x: -27.7677, y: -21.3055 },
          { x: -27.7677, y: 18.6945, l: "H" },
          { x: 29.0062, y: 18.6261 },
          { x: 62.4087, y: -1.3055, l: "O" },
          { x: -14.3652, y: 38.6261, l: "O" },
          { x: -14.3652, y: -1.3739, l: "H" },
          { x: -17.7677, y: -38.6261, l: "O" },
          { x: -45.0882, y: -31.3055 },
          { x: -9.2969, y: -28.9755, l: "H" },
          { x: 29.0062, y: 38.6261, l: "O" },
          { x: 29.0062, y: -1.3739, l: "H" },
          { x: -62.4087, y: -21.3055, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 6, o: 1 },
          { b: 2, e: 6 },
          { b: 2, e: 0 },
          { b: 3, e: 9 },
          { b: 3, e: 8 },
          { b: 6, e: 14 },
          { b: 6, e: 13 },
          { b: 1, e: 4 },
          { b: 1, e: 5 },
          { b: 4, e: 11 },
          { b: 11, e: 15 },
          { b: 4, e: 10 },
          { b: 4, e: 12 },
          { b: 2, e: 7, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Allose \x3ci\x3ePyranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: -36.6654, y: -9.7292 },
          { x: -22.0845, y: 15.5237 },
          { x: -36.6654, y: -29.7292, l: "H" },
          { x: -8.6254, y: -2.3409 },
          { x: -54.1679, y: -0.0514, l: "O" },
          { x: -22.0845, y: 35.5237, l: "O" },
          { x: -41.6882, y: 11.5623, l: "H" },
          { x: 6.1279, y: 8.1324 },
          { x: -8.6254, y: 24.8818, l: "H" },
          { x: -23.6658, y: -15.5237 },
          { x: 19.5899, y: -9.7292, l: "O" },
          { x: 34.1679, y: 15.5237 },
          { x: 6.1279, y: -11.8676, l: "H" },
          { x: 20.3041, y: 22.2404, l: "O" },
          { x: -23.6658, y: -35.5237, l: "O" },
          { x: 54.1679, y: 15.5237, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 3, e: 0 },
          { b: 10, e: 3 },
          { b: 11, e: 7 },
          { b: 11, e: 10 },
          { b: 3, e: 8 },
          { b: 7, e: 12 },
          { b: 7, e: 13 },
          { b: 3, e: 9 },
          { b: 9, e: 14 },
          { b: 0, e: 2 },
          { b: 0, e: 4 },
          { b: 1, e: 5 },
          { b: 1, e: 6 },
          { b: 1, e: 7, o: 1 },
          { b: 11, e: 15, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Altrose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -50, l: "CHO" },
          { x: 0, y: -30 },
          { x: -20, y: -30, l: "O" },
          { x: 0, y: -10 },
          { x: 20, y: -30, l: "H" },
          { x: -20, y: -10, l: "H" },
          { x: 20, y: -10, l: "O" },
          { x: 0, y: 10 },
          { x: 20, y: 10, l: "O" },
          { x: -20, y: 10, l: "H" },
          { x: 0, y: 30 },
          { x: -20, y: 30, l: "H" },
          { x: 0, y: 50, l: "CH2OH" },
          { x: 20, y: 30, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 4 },
          { b: 1, e: 3 },
          { b: 3, e: 5 },
          { b: 3, e: 6 },
          { b: 3, e: 7 },
          { b: 7, e: 9 },
          { b: 7, e: 8 },
          { b: 7, e: 10 },
          { b: 10, e: 11 },
          { b: 10, e: 13 },
          { b: 10, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Altrose \x3ci\x3eFuranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: 7.3205, y: -13.6239, l: "O" },
          { x: -27.7677, y: -1.3055 },
          { x: 42.4087, y: -1.3055 },
          { x: -27.7677, y: 18.6945, l: "H" },
          { x: -14.3652, y: 18.6261 },
          { x: -27.7677, y: -21.3055 },
          { x: 29.0062, y: 18.6261 },
          { x: 62.4087, y: -1.3055, l: "O" },
          { x: -14.3652, y: 38.6261, l: "O" },
          { x: -14.3652, y: -1.3739, l: "H" },
          { x: -9.2969, y: -28.9755, l: "H" },
          { x: -45.0882, y: -31.3055 },
          { x: -17.7677, y: -38.6261, l: "O" },
          { x: 29.0062, y: -1.3739, l: "O" },
          { x: 29.0062, y: 38.6261, l: "H" },
          { x: -62.4087, y: -21.3055, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 4 },
          { b: 4, e: 6, o: 1 },
          { b: 2, e: 6 },
          { b: 2, e: 0 },
          { b: 4, e: 9 },
          { b: 4, e: 8 },
          { b: 6, e: 13 },
          { b: 6, e: 14 },
          { b: 1, e: 5 },
          { b: 1, e: 3 },
          { b: 5, e: 11 },
          { b: 11, e: 15 },
          { b: 5, e: 12 },
          { b: 5, e: 10 },
          { b: 2, e: 7, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Altrose \x3ci\x3ePyranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: -36.6654, y: -9.7292 },
          { x: -22.0845, y: 15.5237 },
          { x: -36.6654, y: -29.7292, l: "H" },
          { x: -8.6254, y: -2.3409 },
          { x: -54.1679, y: -0.0514, l: "O" },
          { x: -22.0845, y: 35.5237, l: "O" },
          { x: 6.1279, y: 8.1324 },
          { x: -41.6882, y: 11.5623, l: "H" },
          { x: -8.6254, y: 24.8818, l: "H" },
          { x: 19.5899, y: -9.7292, l: "O" },
          { x: -23.6658, y: -15.5237 },
          { x: 20.3041, y: 22.2404, l: "H" },
          { x: 34.1679, y: 15.5237 },
          { x: 6.1279, y: -11.8676, l: "O" },
          { x: -23.6658, y: -35.5237, l: "O" },
          { x: 54.1679, y: 15.5237, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 3, e: 0 },
          { b: 9, e: 3 },
          { b: 12, e: 6 },
          { b: 12, e: 9 },
          { b: 3, e: 8 },
          { b: 6, e: 13 },
          { b: 6, e: 11 },
          { b: 3, e: 10 },
          { b: 10, e: 14 },
          { b: 0, e: 2 },
          { b: 0, e: 4 },
          { b: 1, e: 5 },
          { b: 1, e: 7 },
          { b: 1, e: 6, o: 1 },
          { b: 12, e: 15, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Galactose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -50, l: "CHO" },
          { x: 0, y: -30 },
          { x: 20, y: -30, l: "O" },
          { x: 0, y: -10 },
          { x: -20, y: -30, l: "H" },
          { x: -20, y: -10, l: "O" },
          { x: 20, y: -10, l: "H" },
          { x: 0, y: 10 },
          { x: -20, y: 10, l: "O" },
          { x: 20, y: 10, l: "H" },
          { x: 0, y: 30 },
          { x: 20, y: 30, l: "O" },
          { x: 0, y: 50, l: "CH2OH" },
          { x: -20, y: 30, l: "H" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 4 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 3, e: 5 },
          { b: 3, e: 6 },
          { b: 3, e: 7 },
          { b: 7, e: 8 },
          { b: 7, e: 9 },
          { b: 7, e: 10 },
          { b: 10, e: 13 },
          { b: 10, e: 11 },
          { b: 10, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Galactose \x3ci\x3eFuranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: 8.6603, y: -22.3184, l: "O" },
          { x: 43.7485, y: -10 },
          { x: -26.428, y: -10 },
          { x: 30.346, y: 9.9316 },
          { x: 63.7485, y: -10, l: "O" },
          { x: -43.7485, y: 0 },
          { x: -13.0255, y: 9.9316 },
          { x: -26.428, y: -30, l: "H" },
          { x: 30.346, y: -10.0684, l: "H" },
          { x: 30.346, y: 29.9316, l: "O" },
          { x: -63.7485, y: 0, l: "O" },
          { x: -53.7485, y: -17.3205, l: "H" },
          { x: -43.7485, y: 20 },
          { x: -13.0255, y: -10.0684, l: "O" },
          { x: -13.0255, y: 29.9316, l: "H" },
          { x: -61.069, y: 30, l: "O" },
        ],
        b: [
          { b: 6, e: 3, o: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 0 },
          { b: 6, e: 13 },
          { b: 6, e: 14 },
          { b: 3, e: 8 },
          { b: 3, e: 9 },
          { b: 1, e: 4, o: 1 },
          { b: 0, e: 2 },
          { b: 2, e: 6 },
          { b: 2, e: 7 },
          { b: 2, e: 5 },
          { b: 5, e: 12 },
          { b: 12, e: 15 },
          { b: 5, e: 11 },
          { b: 5, e: 10 },
        ],
      },
    });
    f.templates.push({
      name: "Galactose \x3ci\x3ePyranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: -36.6654, y: -9.7292 },
          { x: -36.6654, y: -29.7292, l: "O" },
          { x: -54.1679, y: -0.0514, l: "H" },
          { x: -22.0845, y: 15.5237 },
          { x: -8.6254, y: -2.3409 },
          { x: -41.6882, y: 11.5623, l: "O" },
          { x: 6.1279, y: 8.1324 },
          { x: -22.0845, y: 35.5237, l: "H" },
          { x: -8.6254, y: 24.8818, l: "H" },
          { x: -23.6658, y: -15.5237 },
          { x: 19.5899, y: -9.7292, l: "O" },
          { x: 34.1679, y: 15.5237 },
          { x: 6.1279, y: -11.8676, l: "H" },
          { x: 20.3041, y: 22.2404, l: "O" },
          { x: -23.6658, y: -35.5237, l: "O" },
          { x: 54.1679, y: 15.5237, l: "O" },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 4, e: 0 },
          { b: 10, e: 4 },
          { b: 11, e: 6 },
          { b: 11, e: 10 },
          { b: 4, e: 8 },
          { b: 6, e: 12 },
          { b: 6, e: 13 },
          { b: 4, e: 9 },
          { b: 9, e: 14 },
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 3, e: 7 },
          { b: 3, e: 5 },
          { b: 3, e: 6, o: 1 },
          { b: 11, e: 15, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Glucose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -50, l: "CHO" },
          { x: 0, y: -30 },
          { x: -20, y: -30, l: "H" },
          { x: 20, y: -30, l: "O" },
          { x: 0, y: -10 },
          { x: 20, y: -10, l: "H" },
          { x: -20, y: -10, l: "O" },
          { x: 0, y: 10 },
          { x: -20, y: 10, l: "H" },
          { x: 20, y: 10, l: "O" },
          { x: 0, y: 30 },
          { x: -20, y: 30, l: "H" },
          { x: 20, y: 30, l: "O" },
          { x: 0, y: 50, l: "CH2OH" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 1, e: 4 },
          { b: 4, e: 6 },
          { b: 4, e: 5 },
          { b: 4, e: 7 },
          { b: 7, e: 8 },
          { b: 7, e: 9 },
          { b: 7, e: 10 },
          { b: 10, e: 11 },
          { b: 10, e: 12 },
          { b: 10, e: 13 },
        ],
      },
    });
    f.templates.push({
      name: "Glucose \x3ci\x3eFuranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: 7.3205, y: -13.6239, l: "O" },
          { x: 42.4087, y: -1.3055 },
          { x: -27.7677, y: -1.3055 },
          { x: 29.0062, y: 18.6261 },
          { x: 62.4087, y: -1.3055, l: "O" },
          { x: -27.7677, y: 18.6945, l: "H" },
          { x: -14.3652, y: 18.6261 },
          { x: -27.7677, y: -21.3055 },
          { x: 29.0062, y: 38.6261, l: "O" },
          { x: 29.0062, y: -1.3739, l: "H" },
          { x: -14.3652, y: 38.6261, l: "H" },
          { x: -14.3652, y: -1.3739, l: "O" },
          { x: -9.2969, y: -28.9755, l: "H" },
          { x: -17.7677, y: -38.6261, l: "O" },
          { x: -45.0882, y: -31.3055 },
          { x: -62.4087, y: -21.3055, l: "O" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 2, e: 6 },
          { b: 6, e: 3, o: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 0 },
          { b: 6, e: 11 },
          { b: 6, e: 10 },
          { b: 3, e: 9 },
          { b: 3, e: 8 },
          { b: 2, e: 7 },
          { b: 2, e: 5 },
          { b: 7, e: 14 },
          { b: 14, e: 15 },
          { b: 7, e: 13 },
          { b: 7, e: 12 },
          { b: 1, e: 4, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Glucose \x3ci\x3ePyranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: -36.6654, y: -9.7292 },
          { x: -54.1679, y: -0.0514, l: "O" },
          { x: -36.6654, y: -29.7292, l: "H" },
          { x: -8.6254, y: -2.3409 },
          { x: -22.0845, y: 15.5237 },
          { x: 19.5899, y: -9.7292, l: "O" },
          { x: -8.6254, y: 24.8818, l: "H" },
          { x: -23.6658, y: -15.5237 },
          { x: -22.0845, y: 35.5237, l: "H" },
          { x: 6.1279, y: 8.1324 },
          { x: -41.6882, y: 11.5623, l: "O" },
          { x: 34.1679, y: 15.5237 },
          { x: -23.6658, y: -35.5237, l: "O" },
          { x: 20.3041, y: 22.2404, l: "O" },
          { x: 6.1279, y: -11.8676, l: "H" },
          { x: 54.1679, y: 15.5237, l: "O" },
        ],
        b: [
          { b: 0, e: 4 },
          { b: 3, e: 0 },
          { b: 5, e: 3 },
          { b: 11, e: 9 },
          { b: 11, e: 5 },
          { b: 3, e: 6 },
          { b: 9, e: 14 },
          { b: 9, e: 13 },
          { b: 3, e: 7 },
          { b: 7, e: 12 },
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 4, e: 8 },
          { b: 4, e: 10 },
          { b: 4, e: 9, o: 1 },
          { b: 11, e: 15, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Gulose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -50, l: "CHO" },
          { x: 0, y: -30 },
          { x: -20, y: -30, l: "H" },
          { x: 20, y: -30, l: "O" },
          { x: 0, y: -10 },
          { x: -20, y: -10, l: "H" },
          { x: 20, y: -10, l: "O" },
          { x: 0, y: 10 },
          { x: -20, y: 10, l: "O" },
          { x: 20, y: 10, l: "H" },
          { x: 0, y: 30 },
          { x: -20, y: 30, l: "H" },
          { x: 20, y: 30, l: "O" },
          { x: 0, y: 50, l: "CH2OH" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 1, e: 4 },
          { b: 4, e: 5 },
          { b: 4, e: 6 },
          { b: 4, e: 7 },
          { b: 7, e: 8 },
          { b: 7, e: 9 },
          { b: 7, e: 10 },
          { b: 10, e: 11 },
          { b: 10, e: 12 },
          { b: 10, e: 13 },
        ],
      },
    });
    f.templates.push({
      name: "Gulose \x3ci\x3eFuranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: 8.6603, y: -22.3184, l: "O" },
          { x: 43.7485, y: -10 },
          { x: -26.428, y: -10 },
          { x: 63.7485, y: -10, l: "O" },
          { x: 30.346, y: 9.9316 },
          { x: -43.7485, y: 0 },
          { x: -13.0255, y: 9.9316 },
          { x: -26.428, y: -30, l: "H" },
          { x: 30.346, y: 29.9316, l: "O" },
          { x: 30.346, y: -10.0684, l: "H" },
          { x: -43.7485, y: 20 },
          { x: -53.7485, y: -17.3205, l: "H" },
          { x: -63.7485, y: 0, l: "O" },
          { x: -13.0255, y: 29.9316, l: "O" },
          { x: -13.0255, y: -10.0684, l: "H" },
          { x: -61.069, y: 30, l: "O" },
        ],
        b: [
          { b: 6, e: 4, o: 1 },
          { b: 1, e: 4 },
          { b: 1, e: 0 },
          { b: 6, e: 14 },
          { b: 6, e: 13 },
          { b: 4, e: 9 },
          { b: 4, e: 8 },
          { b: 1, e: 3, o: 1 },
          { b: 0, e: 2 },
          { b: 2, e: 6 },
          { b: 2, e: 7 },
          { b: 2, e: 5 },
          { b: 5, e: 10 },
          { b: 10, e: 15 },
          { b: 5, e: 11 },
          { b: 5, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Gulose \x3ci\x3ePyranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: -36.6654, y: -9.7292 },
          { x: -22.0845, y: 15.5237 },
          { x: -36.6654, y: -29.7292, l: "O" },
          { x: -54.1679, y: -0.0514, l: "H" },
          { x: -8.6254, y: -2.3409 },
          { x: -41.6882, y: 11.5623, l: "H" },
          { x: -22.0845, y: 35.5237, l: "O" },
          { x: 6.1279, y: 8.1324 },
          { x: -8.6254, y: 24.8818, l: "H" },
          { x: 19.5899, y: -9.7292, l: "O" },
          { x: -23.6658, y: -15.5237 },
          { x: 34.1679, y: 15.5237 },
          { x: 6.1279, y: -11.8676, l: "H" },
          { x: 20.3041, y: 22.2404, l: "O" },
          { x: -23.6658, y: -35.5237, l: "O" },
          { x: 54.1679, y: 15.5237, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 4, e: 0 },
          { b: 9, e: 4 },
          { b: 11, e: 7 },
          { b: 11, e: 9 },
          { b: 4, e: 8 },
          { b: 7, e: 12 },
          { b: 7, e: 13 },
          { b: 4, e: 10 },
          { b: 10, e: 14 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 1, e: 6 },
          { b: 1, e: 5 },
          { b: 1, e: 7, o: 1 },
          { b: 11, e: 15, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Idose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -50, l: "CHO" },
          { x: 0, y: -30 },
          { x: 0, y: -10 },
          { x: 20, y: -30, l: "H" },
          { x: -20, y: -30, l: "O" },
          { x: 0, y: 10 },
          { x: -20, y: -10, l: "H" },
          { x: 20, y: -10, l: "O" },
          { x: 0, y: 30 },
          { x: -20, y: 10, l: "O" },
          { x: 20, y: 10, l: "H" },
          { x: -20, y: 30, l: "H" },
          { x: 20, y: 30, l: "O" },
          { x: 0, y: 50, l: "CH2OH" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 4 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 2, e: 6 },
          { b: 2, e: 7 },
          { b: 2, e: 5 },
          { b: 5, e: 9 },
          { b: 5, e: 10 },
          { b: 5, e: 8 },
          { b: 8, e: 11 },
          { b: 8, e: 12 },
          { b: 8, e: 13 },
        ],
      },
    });
    f.templates.push({
      name: "Idose \x3ci\x3eFuranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: 8.6603, y: -22.3184, l: "O" },
          { x: 43.7485, y: -10 },
          { x: -26.428, y: -10 },
          { x: 30.346, y: 9.9316 },
          { x: 63.7485, y: -10, l: "O" },
          { x: -43.7485, y: 0 },
          { x: -13.0255, y: 9.9316 },
          { x: -26.428, y: -30, l: "H" },
          { x: 30.346, y: -10.0684, l: "O" },
          { x: 30.346, y: 29.9316, l: "H" },
          { x: -53.7485, y: -17.3205, l: "H" },
          { x: -43.7485, y: 20 },
          { x: -63.7485, y: 0, l: "O" },
          { x: -13.0255, y: -10.0684, l: "H" },
          { x: -13.0255, y: 29.9316, l: "O" },
          { x: -61.069, y: 30, l: "O" },
        ],
        b: [
          { b: 6, e: 3, o: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 0 },
          { b: 6, e: 13 },
          { b: 6, e: 14 },
          { b: 3, e: 8 },
          { b: 3, e: 9 },
          { b: 1, e: 4, o: 1 },
          { b: 0, e: 2 },
          { b: 2, e: 6 },
          { b: 2, e: 7 },
          { b: 2, e: 5 },
          { b: 5, e: 11 },
          { b: 11, e: 15 },
          { b: 5, e: 10 },
          { b: 5, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Idose \x3ci\x3ePyranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: -36.6654, y: -9.7292 },
          { x: -22.0845, y: 15.5237 },
          { x: -54.1679, y: -0.0514, l: "H" },
          { x: -8.6254, y: -2.3409 },
          { x: -36.6654, y: -29.7292, l: "O" },
          { x: -41.6882, y: 11.5623, l: "H" },
          { x: -22.0845, y: 35.5237, l: "O" },
          { x: 6.1279, y: 8.1324 },
          { x: -8.6254, y: 24.8818, l: "H" },
          { x: 19.5899, y: -9.7292, l: "O" },
          { x: -23.6658, y: -15.5237 },
          { x: 20.3041, y: 22.2404, l: "H" },
          { x: 6.1279, y: -11.8676, l: "O" },
          { x: 34.1679, y: 15.5237 },
          { x: -23.6658, y: -35.5237, l: "O" },
          { x: 54.1679, y: 15.5237, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 3, e: 0 },
          { b: 9, e: 3 },
          { b: 13, e: 7 },
          { b: 13, e: 9 },
          { b: 3, e: 8 },
          { b: 7, e: 12 },
          { b: 7, e: 11 },
          { b: 3, e: 10 },
          { b: 10, e: 14 },
          { b: 0, e: 4 },
          { b: 0, e: 2 },
          { b: 1, e: 6 },
          { b: 1, e: 5 },
          { b: 1, e: 7, o: 1 },
          { b: 13, e: 15, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Mannose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -50, l: "CHO" },
          { x: 0, y: -30 },
          { x: 20, y: -30, l: "H" },
          { x: -20, y: -30, l: "O" },
          { x: 0, y: -10 },
          { x: 20, y: -10, l: "H" },
          { x: -20, y: -10, l: "O" },
          { x: 0, y: 10 },
          { x: 0, y: 30 },
          { x: -20, y: 10, l: "H" },
          { x: 20, y: 10, l: "O" },
          { x: -20, y: 30, l: "H" },
          { x: 0, y: 50, l: "CH2OH" },
          { x: 20, y: 30, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 1, e: 4 },
          { b: 4, e: 6 },
          { b: 4, e: 5 },
          { b: 4, e: 7 },
          { b: 7, e: 9 },
          { b: 7, e: 10 },
          { b: 7, e: 8 },
          { b: 8, e: 11 },
          { b: 8, e: 13 },
          { b: 8, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Mannose \x3ci\x3eFuranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: 7.3205, y: -13.6239, l: "O" },
          { x: 42.4087, y: -1.3055 },
          { x: -27.7677, y: -1.3055 },
          { x: 29.0062, y: 18.6261 },
          { x: 62.4087, y: -1.3055, l: "O" },
          { x: -14.3652, y: 18.6261 },
          { x: -27.7677, y: 18.6945, l: "H" },
          { x: -27.7677, y: -21.3055 },
          { x: 29.0062, y: 38.6261, l: "H" },
          { x: 29.0062, y: -1.3739, l: "O" },
          { x: -14.3652, y: -1.3739, l: "O" },
          { x: -14.3652, y: 38.6261, l: "H" },
          { x: -9.2969, y: -28.9755, l: "H" },
          { x: -45.0882, y: -31.3055 },
          { x: -17.7677, y: -38.6261, l: "O" },
          { x: -62.4087, y: -21.3055, l: "O" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 2, e: 5 },
          { b: 5, e: 3, o: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 0 },
          { b: 5, e: 10 },
          { b: 5, e: 11 },
          { b: 3, e: 9 },
          { b: 3, e: 8 },
          { b: 2, e: 7 },
          { b: 2, e: 6 },
          { b: 7, e: 13 },
          { b: 13, e: 15 },
          { b: 7, e: 14 },
          { b: 7, e: 12 },
          { b: 1, e: 4, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Mannose \x3ci\x3ePyranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: -36.6654, y: -9.7292 },
          { x: -8.6254, y: -2.3409 },
          { x: -36.6654, y: -29.7292, l: "H" },
          { x: -54.1679, y: -0.0514, l: "O" },
          { x: -22.0845, y: 15.5237 },
          { x: 19.5899, y: -9.7292, l: "O" },
          { x: -8.6254, y: 24.8818, l: "H" },
          { x: -23.6658, y: -15.5237 },
          { x: 6.1279, y: 8.1324 },
          { x: -22.0845, y: 35.5237, l: "H" },
          { x: -41.6882, y: 11.5623, l: "O" },
          { x: 34.1679, y: 15.5237 },
          { x: -23.6658, y: -35.5237, l: "O" },
          { x: 6.1279, y: -11.8676, l: "O" },
          { x: 20.3041, y: 22.2404, l: "H" },
          { x: 54.1679, y: 15.5237, l: "O" },
        ],
        b: [
          { b: 0, e: 4 },
          { b: 1, e: 0 },
          { b: 5, e: 1 },
          { b: 11, e: 8 },
          { b: 11, e: 5 },
          { b: 1, e: 6 },
          { b: 8, e: 13 },
          { b: 8, e: 14 },
          { b: 1, e: 7 },
          { b: 7, e: 12 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 4, e: 9 },
          { b: 4, e: 10 },
          { b: 4, e: 8, o: 1 },
          { b: 11, e: 15, o: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Talose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -50, l: "CHO" },
          { x: 0, y: -30 },
          { x: 0, y: -10 },
          { x: -20, y: -30, l: "O" },
          { x: 20, y: -30, l: "H" },
          { x: -20, y: -10, l: "O" },
          { x: 20, y: -10, l: "H" },
          { x: 0, y: 10 },
          { x: 20, y: 10, l: "H" },
          { x: 0, y: 30 },
          { x: -20, y: 10, l: "O" },
          { x: 20, y: 30, l: "O" },
          { x: 0, y: 50, l: "CH2OH" },
          { x: -20, y: 30, l: "H" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 4 },
          { b: 1, e: 2 },
          { b: 2, e: 5 },
          { b: 2, e: 6 },
          { b: 2, e: 7 },
          { b: 7, e: 10 },
          { b: 7, e: 8 },
          { b: 7, e: 9 },
          { b: 9, e: 13 },
          { b: 9, e: 11 },
          { b: 9, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Talose \x3ci\x3eFuranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: 8.6603, y: -22.3184, l: "O" },
          { x: 43.7485, y: -10 },
          { x: -26.428, y: -10 },
          { x: 30.346, y: 9.9316 },
          { x: 63.7485, y: -10, l: "O" },
          { x: -13.0255, y: 9.9316 },
          { x: -26.428, y: -30, l: "H" },
          { x: -43.7485, y: 0 },
          { x: 30.346, y: 29.9316, l: "H" },
          { x: 30.346, y: -10.0684, l: "O" },
          { x: -13.0255, y: 29.9316, l: "H" },
          { x: -13.0255, y: -10.0684, l: "O" },
          { x: -43.7485, y: 20 },
          { x: -53.7485, y: -17.3205, l: "H" },
          { x: -63.7485, y: 0, l: "O" },
          { x: -61.069, y: 30, l: "O" },
        ],
        b: [
          { b: 5, e: 3, o: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 0 },
          { b: 5, e: 11 },
          { b: 5, e: 10 },
          { b: 3, e: 9 },
          { b: 3, e: 8 },
          { b: 1, e: 4, o: 1 },
          { b: 0, e: 2 },
          { b: 2, e: 5 },
          { b: 2, e: 6 },
          { b: 2, e: 7 },
          { b: 7, e: 12 },
          { b: 12, e: 15 },
          { b: 7, e: 13 },
          { b: 7, e: 14 },
        ],
      },
    });
    f.templates.push({
      name: "Talose \x3ci\x3ePyranose Form\x3c/i\x3e",
      data: {
        a: [
          { x: -36.6654, y: -9.7292 },
          { x: -22.0845, y: 15.5237 },
          { x: -54.1679, y: -0.0514, l: "H" },
          { x: -36.6654, y: -29.7292, l: "O" },
          { x: -8.6254, y: -2.3409 },
          { x: -41.6882, y: 11.5623, l: "O" },
          { x: -22.0845, y: 35.5237, l: "H" },
          { x: 6.1279, y: 8.1324 },
          { x: 19.5899, y: -9.7292, l: "O" },
          { x: -8.6254, y: 24.8818, l: "H" },
          { x: -23.6658, y: -15.5237 },
          { x: 34.1679, y: 15.5237 },
          { x: 20.3041, y: 22.2404, l: "H" },
          { x: 6.1279, y: -11.8676, l: "O" },
          { x: -23.6658, y: -35.5237, l: "O" },
          { x: 54.1679, y: 15.5237, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 4, e: 0 },
          { b: 8, e: 4 },
          { b: 11, e: 7 },
          { b: 11, e: 8 },
          { b: 4, e: 9 },
          { b: 7, e: 13 },
          { b: 7, e: 12 },
          { b: 4, e: 10 },
          { b: 10, e: 14 },
          { b: 0, e: 3 },
          { b: 0, e: 2 },
          { b: 1, e: 6 },
          { b: 1, e: 5 },
          { b: 1, e: 7, o: 1 },
          { b: 11, e: 15, o: 1 },
        ],
      },
    });
    n.push(f);
    f = { name: "Sugars (Other Monosaccharides)", templates: [] };
    f.templates.push({
      name: "Glyceraldehyde \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: 0 },
          { x: 0, y: -20, l: "CHO" },
          { x: 0, y: 20, l: "CH2OH" },
          { x: -20, y: 0, l: "H" },
          { x: 20, y: 0, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 0, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Erythrose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -30, l: "CHO" },
          { x: 0, y: -10 },
          { x: 20, y: -10, l: "O" },
          { x: 0, y: 10 },
          { x: -20, y: -10, l: "H" },
          { x: 20, y: 10, l: "O" },
          { x: 0, y: 30, l: "CH2OH" },
          { x: -20, y: 10, l: "H" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 6 },
          { b: 3, e: 5 },
          { b: 1, e: 2 },
          { b: 1, e: 4 },
          { b: 3, e: 7 },
        ],
      },
    });
    f.templates.push({
      name: "Threose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -30, l: "CHO" },
          { x: 0, y: -10 },
          { x: 0, y: 10 },
          { x: 20, y: -10, l: "H" },
          { x: -20, y: -10, l: "O" },
          { x: -20, y: 10, l: "H" },
          { x: 20, y: 10, l: "O" },
          { x: 0, y: 30, l: "CH2OH" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 7 },
          { b: 2, e: 6 },
          { b: 1, e: 3 },
          { b: 1, e: 4 },
          { b: 2, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Ribose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -20 },
          { x: 20, y: -20, l: "O" },
          { x: 0, y: 0 },
          { x: 0, y: -40, l: "CHO" },
          { x: -20, y: -20, l: "H" },
          { x: 20, y: 0, l: "O" },
          { x: -20, y: 0, l: "H" },
          { x: 0, y: 20 },
          { x: 0, y: 40, l: "CH2OH" },
          { x: 20, y: 20, l: "O" },
          { x: -20, y: 20, l: "H" },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 2 },
          { b: 2, e: 7 },
          { b: 7, e: 8 },
          { b: 0, e: 4 },
          { b: 0, e: 1 },
          { b: 2, e: 6 },
          { b: 2, e: 5 },
          { b: 7, e: 10 },
          { b: 7, e: 9 },
        ],
      },
    });
    f.templates.push({
      name: "Arabinose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -20 },
          { x: 0, y: -40, l: "CHO" },
          { x: -20, y: -20, l: "O" },
          { x: 0, y: 0 },
          { x: 20, y: -20, l: "H" },
          { x: -20, y: 0, l: "H" },
          { x: 20, y: 0, l: "O" },
          { x: 0, y: 20 },
          { x: 0, y: 40, l: "CH2OH" },
          { x: -20, y: 20, l: "H" },
          { x: 20, y: 20, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 3 },
          { b: 3, e: 7 },
          { b: 7, e: 8 },
          { b: 0, e: 2 },
          { b: 0, e: 4 },
          { b: 3, e: 5 },
          { b: 3, e: 6 },
          { b: 7, e: 9 },
          { b: 7, e: 10 },
        ],
      },
    });
    f.templates.push({
      name: "Xylose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -20 },
          { x: 0, y: -40, l: "CHO" },
          { x: 0, y: 0 },
          { x: -20, y: -20, l: "H" },
          { x: 20, y: -20, l: "O" },
          { x: 20, y: 0, l: "H" },
          { x: 0, y: 20 },
          { x: -20, y: 0, l: "O" },
          { x: 20, y: 20, l: "O" },
          { x: -20, y: 20, l: "H" },
          { x: 0, y: 40, l: "CH2OH" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 2, e: 6 },
          { b: 6, e: 10 },
          { b: 0, e: 3 },
          { b: 0, e: 4 },
          { b: 2, e: 7 },
          { b: 2, e: 5 },
          { b: 6, e: 9 },
          { b: 6, e: 8 },
        ],
      },
    });
    f.templates.push({
      name: "Lyxose \x3ci\x3eFisher Projection\x3c/i\x3e",
      data: {
        a: [
          { x: 0, y: -20 },
          { x: -20, y: -20, l: "O" },
          { x: 0, y: -40, l: "CHO" },
          { x: 20, y: -20, l: "H" },
          { x: 0, y: 0 },
          { x: 20, y: 0, l: "H" },
          { x: 0, y: 20 },
          { x: -20, y: 0, l: "O" },
          { x: 20, y: 20, l: "O" },
          { x: -20, y: 20, l: "H" },
          { x: 0, y: 40, l: "CH2OH" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 4 },
          { b: 4, e: 6 },
          { b: 6, e: 10 },
          { b: 0, e: 1 },
          { b: 0, e: 3 },
          { b: 4, e: 7 },
          { b: 4, e: 5 },
          { b: 6, e: 9 },
          { b: 6, e: 8 },
        ],
      },
    });
    n.push(f);
    f = { name: "Nucleotides", templates: [] };
    f.templates.push({
      name: "Adenine",
      data: {
        a: [
          { x: -32.709, y: 10 },
          { x: -20.9532, y: 26.1804, l: "N" },
          { x: -20.9532, y: -6.1803, l: "N" },
          { x: -1.9321, y: 20 },
          { x: -1.9321, y: 0 },
          { x: 15.3884, y: 30.0001, l: "N" },
          { x: 15.3884, y: -10 },
          { x: 32.709, y: 20 },
          { x: 15.3884, y: -30, l: "N" },
          { x: 32.709, y: 0, l: "N" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 4, o: 2 },
          { b: 4, e: 2 },
          { b: 2, e: 0, o: 2 },
          { b: 3, e: 5 },
          { b: 5, e: 7, o: 2 },
          { b: 7, e: 9 },
          { b: 9, e: 6, o: 2 },
          { b: 6, e: 4 },
          { b: 6, e: 8 },
        ],
      },
    });
    f.templates.push({
      name: "Guanine",
      data: {
        a: [
          { x: -41.3692, y: 10 },
          { x: -29.6135, y: -6.1804, l: "N" },
          { x: -29.6135, y: 26.1803, l: "N" },
          { x: -10.5924, y: -0 },
          { x: -10.5924, y: 20 },
          { x: 6.7282, y: -10.0001 },
          { x: 6.7282, y: 30, l: "N" },
          { x: 6.7282, y: -30, l: "O" },
          { x: 24.0487, y: -0, l: "N" },
          { x: 24.0487, y: 20 },
          { x: 41.3692, y: 30, l: "N" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 3, o: 2 },
          { b: 3, e: 1 },
          { b: 1, e: 0, o: 2 },
          { b: 4, e: 6 },
          { b: 6, e: 9, o: 2 },
          { b: 9, e: 8 },
          { b: 8, e: 5 },
          { b: 5, e: 3 },
          { b: 5, e: 7, o: 2 },
          { b: 9, e: 10 },
        ],
      },
    });
    f.templates.push({
      name: "Cytosine",
      data: {
        a: [
          { x: -8.6603, y: -10 },
          { x: -8.6603, y: -30, l: "N" },
          { x: -25.9808, y: 0 },
          { x: 8.6603, y: 0, l: "N" },
          { x: -25.9808, y: 20 },
          { x: 8.6603, y: 20 },
          { x: -8.6603, y: 30, l: "N" },
          { x: 25.9808, y: 30, l: "O" },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 2, e: 4, o: 2 },
          { b: 4, e: 6 },
          { b: 6, e: 5 },
          { b: 5, e: 3 },
          { b: 3, e: 0, o: 2 },
          { b: 5, e: 7, o: 2 },
          { b: 0, e: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Thymine",
      data: {
        a: [
          { x: 0, y: -10 },
          { x: 17.3205, y: 0, l: "N" },
          { x: 0, y: -30, l: "O" },
          { x: -17.3205, y: 0 },
          { x: 17.3205, y: 20 },
          { x: -17.3205, y: 20 },
          { x: -34.641, y: -10 },
          { x: 34.641, y: 30, l: "O" },
          { x: 0, y: 30, l: "N" },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 3, e: 5, o: 2 },
          { b: 5, e: 8 },
          { b: 8, e: 4 },
          { b: 4, e: 1 },
          { b: 1, e: 0 },
          { b: 0, e: 2, o: 2 },
          { b: 3, e: 6 },
          { b: 4, e: 7, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Uracil",
      data: {
        a: [
          { x: -8.6603, y: -10 },
          { x: -25.9808, y: 0 },
          { x: -8.6603, y: -30, l: "O" },
          { x: 8.6603, y: 0, l: "N" },
          { x: -25.9808, y: 20 },
          { x: 8.6603, y: 20 },
          { x: -8.6603, y: 30, l: "N" },
          { x: 25.9808, y: 30, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 4, o: 2 },
          { b: 4, e: 6 },
          { b: 6, e: 5 },
          { b: 5, e: 3 },
          { b: 3, e: 0 },
          { b: 0, e: 2, o: 2 },
          { b: 5, e: 7, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Ribonucleoside",
      data: {
        a: [
          { x: -14.2796, y: -14.9551 },
          { c: -1, x: -34.2796, y: -14.9551, l: "O" },
          { x: -14.2796, y: 5.0449 },
          { x: 9.5513, y: -2.7359, l: "O" },
          { x: -5.177, y: 17.6345 },
          { x: 33.3822, y: 5.045 },
          { x: 24.2796, y: 17.6345 },
          { x: -15.177, y: 34.955, l: "O" },
          { x: 33.3822, y: -34.955, l: "N" },
          { x: 34.2796, y: 34.955, l: "O" },
        ],
        b: [
          { b: 3, e: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 6, o: 1 },
          { b: 5, e: 6 },
          { b: 5, e: 3 },
          { b: 4, e: 7 },
          { b: 5, e: 8 },
          { b: 2, e: 0 },
          { b: 0, e: 1 },
          { b: 6, e: 9 },
        ],
      },
    });
    f.templates.push({
      name: "Ribonucleoside Monophosphate",
      data: {
        a: [
          { x: 5.7204, y: -14.955 },
          { x: -14.2796, y: -14.955, l: "O" },
          { x: 5.7204, y: 5.045 },
          { x: -34.2796, y: -14.955, l: "P" },
          { x: 14.823, y: 17.6345 },
          { x: 29.5513, y: -2.7358, l: "O" },
          { c: -1, x: -54.2796, y: -14.9551, l: "O" },
          { x: -34.2796, y: -34.955, l: "O" },
          { c: -1, x: -34.2796, y: 5.045, l: "O" },
          { x: 4.823, y: 34.955, l: "O" },
          { x: 44.2796, y: 17.6345 },
          { x: 53.3822, y: 5.045 },
          { x: 54.2796, y: 34.955, l: "O" },
          { x: 53.3822, y: -34.955, l: "N" },
        ],
        b: [
          { b: 5, e: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 10, o: 1 },
          { b: 11, e: 10 },
          { b: 11, e: 5 },
          { b: 4, e: 9 },
          { b: 11, e: 13 },
          { b: 2, e: 0 },
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 6 },
          { b: 3, e: 7, o: 2 },
          { b: 3, e: 8 },
          { b: 10, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Ribonucleoside Diphosphate",
      data: {
        a: [
          { x: 25.7204, y: -14.955 },
          { x: 5.7204, y: -14.955, l: "O" },
          { x: 25.7204, y: 5.045 },
          { x: -14.2796, y: -14.955, l: "P" },
          { x: 49.5513, y: -2.7358, l: "O" },
          { x: 34.823, y: 17.6345 },
          { c: -1, x: -14.2796, y: 5.045, l: "O" },
          { x: -14.2796, y: -34.955, l: "O" },
          { x: -34.2796, y: -14.955, l: "O" },
          { x: 73.3822, y: 5.045 },
          { x: 64.2796, y: 17.6345 },
          { x: 24.823, y: 34.955, l: "O" },
          { x: -54.2796, y: -14.955, l: "P" },
          { x: 73.3822, y: -34.955, l: "N" },
          { x: 74.2796, y: 34.9551, l: "O" },
          { c: -1, x: -54.2796, y: 5.045, l: "O" },
          { x: -54.2796, y: -34.955, l: "O" },
          { c: -1, x: -74.2796, y: -14.955, l: "O" },
        ],
        b: [
          { b: 4, e: 2 },
          { b: 2, e: 5 },
          { b: 5, e: 10, o: 1 },
          { b: 9, e: 10 },
          { b: 9, e: 4 },
          { b: 5, e: 11 },
          { b: 9, e: 13 },
          { b: 2, e: 0 },
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 8 },
          { b: 3, e: 7, o: 2 },
          { b: 3, e: 6 },
          { b: 10, e: 14 },
          { b: 8, e: 12 },
          { b: 12, e: 17 },
          { b: 12, e: 16, o: 2 },
          { b: 12, e: 15 },
        ],
      },
    });
    f.templates.push({
      name: "Ribonucleoside Triphosphate",
      data: {
        a: [
          { x: 45.7204, y: -14.955 },
          { x: 45.7204, y: 5.045 },
          { x: 25.7204, y: -14.955, l: "O" },
          { x: 54.823, y: 17.6345 },
          { x: 69.5513, y: -2.7358, l: "O" },
          { x: 5.7204, y: -14.955, l: "P" },
          { x: 44.823, y: 34.955, l: "O" },
          { x: 84.2796, y: 17.6345 },
          { x: 93.3822, y: 5.045 },
          { c: -1, x: 5.7204, y: 5.045, l: "O" },
          { x: -14.2796, y: -14.955, l: "O" },
          { x: 5.7204, y: -34.955, l: "O" },
          { x: 94.2796, y: 34.9551, l: "O" },
          { x: 93.3822, y: -34.955, l: "N" },
          { x: -34.2796, y: -14.955, l: "P" },
          { c: -1, x: -34.2796, y: 5.045, l: "O" },
          { x: -34.2796, y: -34.955, l: "O" },
          { x: -54.2796, y: -14.955, l: "O" },
          { x: -74.2796, y: -14.955, l: "P" },
          { x: -74.2796, y: -34.955, l: "O" },
          { c: -1, x: -94.2796, y: -14.955, l: "O" },
          { c: -1, x: -74.2796, y: 5.045, l: "O" },
        ],
        b: [
          { b: 4, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 7, o: 1 },
          { b: 8, e: 7 },
          { b: 8, e: 4 },
          { b: 3, e: 6 },
          { b: 8, e: 13 },
          { b: 1, e: 0 },
          { b: 0, e: 2 },
          { b: 2, e: 5 },
          { b: 5, e: 10 },
          { b: 5, e: 11, o: 2 },
          { b: 5, e: 9 },
          { b: 7, e: 12 },
          { b: 10, e: 14 },
          { b: 14, e: 17 },
          { b: 14, e: 16, o: 2 },
          { b: 14, e: 15 },
          { b: 17, e: 18 },
          { b: 18, e: 20 },
          { b: 18, e: 19, o: 2 },
          { b: 18, e: 21 },
        ],
      },
    });
    f.templates.push({
      name: "Ribonucleotide chain form",
      data: {
        a: [
          { x: -13.8309, y: -36.2948 },
          { x: -33.8309, y: -36.2948, l: "O" },
          { x: -13.8309, y: -16.2948 },
          { x: 10, y: -24.0756, l: "O" },
          { x: -4.7283, y: -3.7052 },
          { x: 33.8309, y: -16.2948 },
          { x: 24.7283, y: -3.7052 },
          { x: -4.7283, y: 16.2948, l: "O" },
          { x: 33.8309, y: -56.2948, l: "N" },
          { x: 24.7283, y: 16.2948, l: "O" },
          { x: -4.7283, y: 36.2948, l: "P" },
          { c: -1, x: -4.7283, y: 56.2948, l: "O" },
          { c: -1, x: 15.2717, y: 36.2948, l: "O" },
          { x: -24.7283, y: 36.2948, l: "O" },
        ],
        b: [
          { b: 3, e: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 6, o: 1 },
          { b: 5, e: 6 },
          { b: 5, e: 3 },
          { b: 4, e: 7 },
          { b: 5, e: 8 },
          { b: 2, e: 0 },
          { b: 0, e: 1 },
          { b: 6, e: 9 },
          { b: 7, e: 10 },
          { b: 10, e: 12 },
          { b: 10, e: 13, o: 2 },
          { b: 10, e: 11 },
        ],
      },
    });
    f.templates.push({
      name: "Deoxyribonucleoside",
      data: {
        a: [
          { x: -13.8309, y: -14.9551 },
          { c: -1, x: -33.8309, y: -14.9551, l: "O" },
          { x: -13.8309, y: 5.0449 },
          { x: 10, y: -2.7359, l: "O" },
          { x: -4.7283, y: 17.6345 },
          { x: 33.8309, y: 5.045 },
          { x: 24.7283, y: 17.6345 },
          { x: -14.7283, y: 34.955, l: "O" },
          { x: 33.8309, y: -34.955, l: "N" },
        ],
        b: [
          { b: 3, e: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 6, o: 1 },
          { b: 5, e: 6 },
          { b: 5, e: 3 },
          { b: 4, e: 7 },
          { b: 5, e: 8 },
          { b: 2, e: 0 },
          { b: 0, e: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Deoxyribonucleoside Monophosphate",
      data: {
        a: [
          { x: 6.1691, y: -14.955 },
          { x: -13.8309, y: -14.955, l: "O" },
          { x: 6.1691, y: 5.045 },
          { x: -33.8309, y: -14.955, l: "P" },
          { x: 30, y: -2.7358, l: "O" },
          { x: 15.2717, y: 17.6345 },
          { x: -33.8309, y: -34.955, l: "O" },
          { c: -1, x: -53.8309, y: -14.9551, l: "O" },
          { c: -1, x: -33.8309, y: 5.045, l: "O" },
          { x: 53.8309, y: 5.045 },
          { x: 5.2717, y: 34.955, l: "O" },
          { x: 44.7283, y: 17.6345 },
          { x: 53.8309, y: -34.955, l: "N" },
        ],
        b: [
          { b: 4, e: 2 },
          { b: 2, e: 5 },
          { b: 5, e: 11, o: 1 },
          { b: 9, e: 11 },
          { b: 9, e: 4 },
          { b: 5, e: 10 },
          { b: 9, e: 12 },
          { b: 2, e: 0 },
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 7 },
          { b: 3, e: 6, o: 2 },
          { b: 3, e: 8 },
        ],
      },
    });
    f.templates.push({
      name: "Deoxyribonucleoside Diphosphate",
      data: {
        a: [
          { x: 26.1691, y: -14.955 },
          { x: 6.1691, y: -14.955, l: "O" },
          { x: 26.1691, y: 5.045 },
          { x: -13.8309, y: -14.955, l: "P" },
          { x: 50, y: -2.7358, l: "O" },
          { x: 35.2717, y: 17.6345 },
          { c: -1, x: -13.8309, y: 5.045, l: "O" },
          { x: -13.8309, y: -34.955, l: "O" },
          { x: -33.8309, y: -14.955, l: "O" },
          { x: 73.8309, y: 5.045 },
          { x: 64.7283, y: 17.6345 },
          { x: 25.2717, y: 34.955, l: "O" },
          { x: -53.8309, y: -14.955, l: "P" },
          { x: 73.8309, y: -34.955, l: "N" },
          { x: -53.8309, y: -34.955, l: "O" },
          { c: -1, x: -53.8309, y: 5.045, l: "O" },
          { c: -1, x: -73.8309, y: -14.955, l: "O" },
        ],
        b: [
          { b: 4, e: 2 },
          { b: 2, e: 5 },
          { b: 5, e: 10, o: 1 },
          { b: 9, e: 10 },
          { b: 9, e: 4 },
          { b: 5, e: 11 },
          { b: 9, e: 13 },
          { b: 2, e: 0 },
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 8 },
          { b: 3, e: 7, o: 2 },
          { b: 3, e: 6 },
          { b: 8, e: 12 },
          { b: 12, e: 16 },
          { b: 12, e: 14, o: 2 },
          { b: 12, e: 15 },
        ],
      },
    });
    f.templates.push({
      name: "Deoxyribonucleoside Triphosphate",
      data: {
        a: [
          { x: 46.1691, y: -14.955 },
          { x: 26.1691, y: -14.955, l: "O" },
          { x: 46.1691, y: 5.045 },
          { x: 6.1691, y: -14.955, l: "P" },
          { x: 70, y: -2.7358, l: "O" },
          { x: 55.2717, y: 17.6345 },
          { c: -1, x: 6.1691, y: 5.045, l: "O" },
          { x: -13.8309, y: -14.955, l: "O" },
          { x: 6.1691, y: -34.955, l: "O" },
          { x: 93.8309, y: 5.045 },
          { x: 84.7283, y: 17.6345 },
          { x: 45.2717, y: 34.955, l: "O" },
          { x: -33.8309, y: -14.955, l: "P" },
          { x: 93.8309, y: -34.955, l: "N" },
          { x: -33.8309, y: -34.955, l: "O" },
          { c: -1, x: -33.8309, y: 5.045, l: "O" },
          { x: -53.8309, y: -14.955, l: "O" },
          { x: -73.8309, y: -14.955, l: "P" },
          { x: -73.8309, y: -34.955, l: "O" },
          { c: -1, x: -93.8309, y: -14.955, l: "O" },
          { c: -1, x: -73.8309, y: 5.045, l: "O" },
        ],
        b: [
          { b: 4, e: 2 },
          { b: 2, e: 5 },
          { b: 5, e: 10, o: 1 },
          { b: 9, e: 10 },
          { b: 9, e: 4 },
          { b: 5, e: 11 },
          { b: 9, e: 13 },
          { b: 2, e: 0 },
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 7 },
          { b: 3, e: 8, o: 2 },
          { b: 3, e: 6 },
          { b: 7, e: 12 },
          { b: 12, e: 16 },
          { b: 12, e: 14, o: 2 },
          { b: 12, e: 15 },
          { b: 16, e: 17 },
          { b: 17, e: 19 },
          { b: 17, e: 18, o: 2 },
          { b: 17, e: 20 },
        ],
      },
    });
    f.templates.push({
      name: "Deoxyribonucleotide chain form",
      data: {
        a: [
          { x: -13.8309, y: -36.2948 },
          { x: -13.8309, y: -16.2948 },
          { x: -33.8309, y: -36.2948, l: "O" },
          { x: 10, y: -24.0756, l: "O" },
          { x: -4.7284, y: -3.7052 },
          { x: 33.8309, y: -16.2948 },
          { x: 24.7283, y: -3.7052 },
          { x: -4.7284, y: 16.2948, l: "O" },
          { x: 33.8309, y: -56.2948, l: "N" },
          { x: -4.7284, y: 36.2948, l: "P" },
          { x: -24.7284, y: 36.2948, l: "O" },
          { c: -1, x: -4.7284, y: 56.2948, l: "O" },
          { c: -1, x: 15.2716, y: 36.2948, l: "O" },
        ],
        b: [
          { b: 3, e: 1 },
          { b: 1, e: 4 },
          { b: 4, e: 6, o: 1 },
          { b: 5, e: 6 },
          { b: 5, e: 3 },
          { b: 4, e: 7 },
          { b: 5, e: 8 },
          { b: 1, e: 0 },
          { b: 0, e: 2 },
          { b: 7, e: 9 },
          { b: 9, e: 12 },
          { b: 9, e: 10, o: 2 },
          { b: 9, e: 11 },
        ],
      },
    });
    f.templates.push({
      name: "Phosphate",
      data: {
        a: [
          { x: -18.6602, y: -0.6571, l: "O" },
          { x: 1.3398, y: -0.6571, l: "P" },
          { c: -1, x: 8.6025, y: 17.9776, l: "O" },
          { x: 11.3398, y: -17.9776, l: "O" },
          { c: -1, x: 18.6603, y: 9.3429, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3, o: 2 },
          { b: 1, e: 4 },
        ],
      },
    });
    n.push(f);
    f = { name: "Other", templates: [] };
    f.templates.push({
      name: "Adamantane",
      data: {
        a: [
          { x: -23.2311, y: 23.1027 },
          { x: -5.451, y: 14.1461 },
          { x: -12.329, y: 4.0241 },
          { x: 12.3291, y: 23.1027 },
          { x: -5.451, y: -4.0241 },
          { x: 5.451, y: 13.1092 },
          { x: -12.329, y: -14.1461 },
          { x: 23.2311, y: 4.0241 },
          { x: 5.451, y: -23.1027 },
          { x: 23.2311, y: -14.1461 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 4, e: 8 },
          { b: 8, e: 6 },
          { b: 6, e: 2 },
          { b: 0, e: 2 },
          { b: 2, e: 5 },
          { b: 5, e: 7 },
          { b: 7, e: 3 },
          { b: 1, e: 3 },
          { b: 7, e: 9 },
          { b: 8, e: 9 },
          { b: 4, e: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Basketane",
      data: {
        a: [
          { x: 8.0624, y: -6.6984, z: 9e-4 },
          { x: -10.9369, y: 7.243, z: 9e-4 },
          { x: 6.1745, y: -24.4805, z: 7e-4 },
          { x: 21.1864, y: 7.5359, z: 2e-4 },
          { x: 4.6483, y: 26.1053, z: 5e-4 },
          { x: -21.1864, y: 5.6242, z: -3e-4 },
          { x: -4.1138, y: -26.1053, z: -5e-4 },
          { x: 10.9373, y: 5.9171, z: -0.001 },
          { x: -5.8568, y: 24.4464, z: -7e-4 },
          { x: -7.126, y: -9.0969, z: -9e-4 },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 3, e: 7 },
          { b: 3, e: 4 },
          { b: 7, e: 8 },
          { b: 7, e: 9 },
          { b: 8, e: 4 },
          { b: 8, e: 5 },
          { b: 4, e: 1 },
          { b: 1, e: 5 },
          { b: 5, e: 9 },
          { b: 9, e: 6 },
          { b: 6, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Bishomotwistane",
      data: {
        a: [
          { x: -9.3245, y: 9.3434, z: 0.0012 },
          { x: -3.4592, y: 27.6792, z: 6e-4 },
          { x: -27.685, y: 3.7727, z: 6e-4 },
          { x: 9.1603, y: -9.3884, z: 0.0012 },
          { x: 3.7793, y: 27.6792, z: -6e-4 },
          { x: -27.6729, y: -3.3575, z: -6e-4 },
          { x: 27.5776, y: -3.773, z: 6e-4 },
          { x: 3.3516, y: -27.6792, z: 6e-4 },
          { x: 9.4006, y: 9.313, z: -0.0012 },
          { x: -9.3316, y: -9.1718, z: -0.0012 },
          { x: 27.6851, y: 3.4533, z: -6e-4 },
          { x: -3.7669, y: -27.5837, z: -6e-4 },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 1 },
          { b: 3, e: 7 },
          { b: 9, e: 8 },
          { b: 9, e: 11 },
          { b: 8, e: 4 },
          { b: 1, e: 4 },
          { b: 7, e: 11 },
          { b: 0, e: 2 },
          { b: 2, e: 5 },
          { b: 5, e: 9 },
          { b: 8, e: 10 },
          { b: 10, e: 6 },
          { b: 6, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Cuneane",
      data: {
        a: [
          { x: 1.9228, y: 16.1562, z: 3e-4 },
          { x: -17.4892, y: 4.2593, z: 7e-4 },
          { x: 21.6967, y: 1.7764, z: 4e-4 },
          { x: -1.9533, y: 6.9712, z: -8e-4 },
          { x: -21.6967, y: -5.7118, z: -4e-4 },
          { x: -10.3535, y: -14.8421, z: 4e-4 },
          { x: 10.3842, y: -16.1562, z: 2e-4 },
          { x: 17.4892, y: -8.1944, z: -7e-4 },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 3, e: 4 },
          { b: 3, e: 7 },
          { b: 1, e: 4 },
          { b: 1, e: 5 },
          { b: 2, e: 7 },
          { b: 2, e: 6 },
          { b: 4, e: 5 },
          { b: 7, e: 6 },
          { b: 5, e: 6 },
        ],
      },
    });
    f.templates.push({
      name: "Diademan",
      data: {
        a: [
          { x: -13.929, y: -20.6479, z: -1e-4 },
          { x: -14.1084, y: -8.6671, z: 9e-4 },
          { x: -23.7135, y: 3.8281, z: 0 },
          { x: 7.2834, y: -23.6595, z: -5e-4 },
          { x: 8.8036, y: 0.6176, z: 9e-4 },
          { x: -10.952, y: 21.9588, z: -2e-4 },
          { x: 22.0579, y: -2.6695, z: -8e-4 },
          { x: 23.7134, y: -14.0348, z: 2e-4 },
          { x: 8.6453, y: 23.6595, z: 4e-4 },
          { x: 13.6064, y: 18.472, z: -7e-4 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 1, e: 2 },
          { b: 1, e: 4 },
          { b: 2, e: 5 },
          { b: 3, e: 7 },
          { b: 3, e: 6 },
          { b: 4, e: 7 },
          { b: 4, e: 8 },
          { b: 5, e: 8 },
          { b: 5, e: 9 },
          { b: 7, e: 6 },
          { b: 6, e: 9 },
          { b: 8, e: 9 },
        ],
      },
    });
    f.templates.push({
      name: "Diamantane",
      data: {
        a: [
          { x: -14.141, y: 21.12, z: 0 },
          { x: -29.3361, y: 18.0407, z: 6e-4 },
          { x: 10.8073, y: 19.3824, z: 6e-4 },
          { x: -10.7711, y: 6.3888, z: -0.0011 },
          { x: -27.8889, y: -9.1493, z: 0.001 },
          { x: 25.7558, y: 25.458, z: 1e-4 },
          { x: 10.7709, y: -6.3887, z: 0.0011 },
          { x: -10.8074, y: -19.3824, z: -6e-4 },
          { x: 2.5813, y: 11.5032, z: -0.0017 },
          { x: -25.7559, y: -25.458, z: -1e-4 },
          { x: -2.5814, y: -11.5031, z: 0.0017 },
          { x: 27.8887, y: 9.1493, z: -0.001 },
          { x: 14.1409, y: -21.12, z: -0 },
          { x: 29.3361, y: -18.0406, z: -6e-4 },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 3, e: 7 },
          { b: 3, e: 8 },
          { b: 2, e: 6 },
          { b: 2, e: 5 },
          { b: 7, e: 12 },
          { b: 7, e: 9 },
          { b: 6, e: 12 },
          { b: 6, e: 10 },
          { b: 12, e: 13 },
          { b: 4, e: 1 },
          { b: 4, e: 9 },
          { b: 4, e: 10 },
          { b: 11, e: 8 },
          { b: 11, e: 5 },
          { b: 11, e: 13 },
        ],
      },
    });
    f.templates.push({
      name: "Dihomocubane",
      data: {
        a: [
          { x: -1.8424, y: -19.703, z: -7e-4 },
          { x: -16.4495, y: -15.2664, z: 4e-4 },
          { x: 19.0463, y: -14.4468, z: 1e-4 },
          { x: -4.0421, y: 5.4673, z: -0.0011 },
          { x: 4.0428, y: -5.4672, z: 0.0011 },
          { x: -29.925, y: -0.6907, z: 3e-4 },
          { x: 29.9251, y: 0.6911, z: -3e-4 },
          { x: -19.0462, y: 14.4468, z: -1e-4 },
          { x: 16.4496, y: 15.2664, z: -4e-4 },
          { x: 1.8432, y: 19.703, z: 7e-4 },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 3, e: 7 },
          { b: 3, e: 8 },
          { b: 4, e: 9 },
          { b: 4, e: 1 },
          { b: 4, e: 2 },
          { b: 9, e: 7 },
          { b: 9, e: 8 },
          { b: 1, e: 5 },
          { b: 2, e: 6 },
          { b: 7, e: 5 },
          { b: 8, e: 6 },
        ],
      },
    });
    f.templates.push({
      name: "Homoadamantane",
      data: {
        a: [
          { x: -18.7389, y: 6.0639, z: -8e-4 },
          { x: 3.5456, y: 9.9613, z: -0.0015 },
          { x: -25.4634, y: 21.2769, z: 1e-4 },
          { x: -23.4106, y: -20.1097, z: -6e-4 },
          { x: 21.6364, y: 2.2969, z: -6e-4 },
          { x: -9.571, y: 14.4702, z: 0.0011 },
          { x: -4.1032, y: -23.0779, z: 3e-4 },
          { x: 25.4634, y: 17.5276, z: 2e-4 },
          { x: 19.5509, y: -21.9076, z: -2e-4 },
          { x: 11.2348, y: 23.0779, z: 0.001 },
          { x: -9.4581, y: -10.5918, z: 0.0014 },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 6, e: 3 },
          { b: 6, e: 8 },
          { b: 6, e: 10 },
          { b: 4, e: 1 },
          { b: 4, e: 8 },
          { b: 4, e: 7 },
          { b: 5, e: 2 },
          { b: 5, e: 10 },
          { b: 5, e: 9 },
          { b: 7, e: 9 },
        ],
      },
    });
    f.templates.push({
      name: "Homocubane",
      data: {
        a: [
          { x: 6.7729, y: 18.8807, z: 7e-4 },
          { x: 7.3705, y: -7.6566, z: 0.001 },
          { x: 17.1692, y: 14.1707, z: -4e-4 },
          { x: -18.1844, y: 14.3742, z: 2e-4 },
          { x: -16.6906, y: -8.9747, z: 6e-4 },
          { x: 18.1844, y: -12.5556, z: -1e-4 },
          { x: -7.3703, y: 9.4751, z: -0.001 },
          { x: -15.1701, y: -18.8807, z: -1e-4 },
          { x: -3.1609, y: -15.1039, z: -8e-4 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 0, e: 1 },
          { b: 2, e: 6 },
          { b: 2, e: 5 },
          { b: 3, e: 6 },
          { b: 3, e: 4 },
          { b: 1, e: 5 },
          { b: 1, e: 4 },
          { b: 6, e: 8 },
          { b: 5, e: 8 },
          { b: 4, e: 7 },
          { b: 8, e: 7 },
        ],
      },
    });
    f.templates.push({
      name: "Pagodane",
      data: {
        a: [
          { x: -14.2104, y: 6.7147, z: 0.0011 },
          { x: -20.5671, y: -2.7196, z: -8e-4 },
          { x: 20.5671, y: 2.7185, z: 8e-4 },
          { x: -21.1215, y: -15.4349, z: 0.0015 },
          { x: -17.4963, y: 31.478, z: 9e-4 },
          { x: -28.3797, y: -26.2067, z: -6e-4 },
          { x: -24.7543, y: 20.706, z: -0.0012 },
          { x: 14.2099, y: -6.7158, z: -0.0011 },
          { x: 28.3797, y: 26.2067, z: 6e-4 },
          { x: 24.7543, y: -20.706, z: 0.0012 },
          { x: -33.3155, y: -26.6568, z: 6e-4 },
          { x: 0.1614, y: -37.1774, z: 0.0016 },
          { x: 6.6932, y: 47.3504, z: 4e-4 },
          { x: -28.6453, y: 33.7758, z: -2e-4 },
          { x: -6.6932, y: -47.3504, z: -4e-4 },
          { x: -0.1614, y: 37.1774, z: -0.0016 },
          { x: 17.4963, y: -31.478, z: -9e-4 },
          { x: 21.1215, y: 15.4349, z: -0.0015 },
          { x: 33.3155, y: 26.6568, z: -6e-4 },
          { x: 28.6453, y: -33.7758, z: 2e-4 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 0, e: 4 },
          { b: 1, e: 7 },
          { b: 1, e: 5 },
          { b: 1, e: 6 },
          { b: 2, e: 7 },
          { b: 2, e: 9 },
          { b: 2, e: 8 },
          { b: 7, e: 16 },
          { b: 7, e: 17 },
          { b: 3, e: 11 },
          { b: 3, e: 10 },
          { b: 4, e: 12 },
          { b: 4, e: 13 },
          { b: 5, e: 14 },
          { b: 5, e: 10 },
          { b: 6, e: 15 },
          { b: 6, e: 13 },
          { b: 9, e: 11 },
          { b: 9, e: 19 },
          { b: 8, e: 12 },
          { b: 8, e: 18 },
          { b: 16, e: 14 },
          { b: 16, e: 19 },
          { b: 17, e: 15 },
          { b: 17, e: 18 },
          { b: 11, e: 14 },
          { b: 12, e: 15 },
        ],
      },
    });
    f.templates.push({
      name: "Peristylane",
      data: {
        a: [
          { x: -15.3409, y: -17.2723, z: -2e-4 },
          { x: 4.8361, y: -19.4524, z: -6e-4 },
          { x: -13.4583, y: -10.0681, z: 8e-4 },
          { x: -29.1197, y: -8.9382, z: -8e-4 },
          { x: 7.9832, y: -12.9467, z: -0.0016 },
          { x: 19.1897, y: -13.5953, z: 1e-4 },
          { x: 7.8828, y: -7.7953, z: 0.001 },
          { x: -25.658, y: 4.3094, z: 0.0011 },
          { x: -13.5287, y: -2.0397, z: -0.0017 },
          { x: -34.3758, y: 8.6531, z: -0 },
          { x: 25.8177, y: 2.1503, z: -0.0012 },
          { x: 34.3758, y: -2.1764, z: -1e-4 },
          { x: 13.585, y: 8.4881, z: 0.0015 },
          { x: -7.912, y: 19.4523, z: 0.0014 },
          { x: 29.2903, y: 15.4332, z: 7e-4 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 1, e: 5 },
          { b: 1, e: 4 },
          { b: 2, e: 6 },
          { b: 2, e: 7 },
          { b: 5, e: 6 },
          { b: 5, e: 11 },
          { b: 6, e: 12 },
          { b: 3, e: 8 },
          { b: 3, e: 9 },
          { b: 4, e: 8 },
          { b: 4, e: 10 },
          { b: 7, e: 9 },
          { b: 7, e: 13 },
          { b: 11, e: 10 },
          { b: 11, e: 14 },
          { b: 12, e: 13 },
          { b: 12, e: 14 },
        ],
      },
    });
    f.templates.push({
      name: "Porphine",
      data: {
        a: [
          { x: 40.7025, y: 17.8205 },
          { x: 20.9488, y: 20.9488, l: "N" },
          { x: 49.7832, y: -0 },
          { x: 49.7817, y: 35.6396 },
          { x: 17.8205, y: 40.7024 },
          { x: 40.7025, y: -17.8205 },
          { x: 35.6396, y: 49.7817 },
          { x: 0, y: 49.7832 },
          { x: 49.7817, y: -35.6396 },
          { x: 20.9487, y: -20.9487, l: "N" },
          { x: -17.8205, y: 40.7025 },
          { x: 35.6396, y: -49.7818 },
          { x: 17.8205, y: -40.7025 },
          { x: -35.6396, y: 49.7818 },
          { x: -20.9487, y: 20.9488, l: "N" },
          { x: -0, y: -49.7832 },
          { x: -49.7817, y: 35.6396 },
          { x: -40.7025, y: 17.8205 },
          { x: -17.8205, y: -40.7025 },
          { x: -49.7832, y: 0 },
          { x: -35.6396, y: -49.7817 },
          { x: -20.9488, y: -20.9487, l: "N" },
          { x: -40.7024, y: -17.8205 },
          { x: -49.7818, y: -35.6396 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 2, e: 5, o: 2 },
          { b: 5, e: 8 },
          { b: 8, e: 11, o: 2 },
          { b: 5, e: 9 },
          { b: 9, e: 12 },
          { b: 12, e: 11 },
          { b: 12, e: 15, o: 2 },
          { b: 0, e: 1, o: 2 },
          { b: 1, e: 4 },
          { b: 4, e: 6 },
          { b: 6, e: 3, o: 2 },
          { b: 3, e: 0 },
          { b: 4, e: 7, o: 2 },
          { b: 7, e: 10 },
          { b: 10, e: 13, o: 2 },
          { b: 13, e: 16 },
          { b: 16, e: 17, o: 2 },
          { b: 17, e: 19 },
          { b: 19, e: 22, o: 2 },
          { b: 22, e: 23 },
          { b: 23, e: 20, o: 2 },
          { b: 20, e: 18 },
          { b: 18, e: 15 },
          { b: 18, e: 21, o: 2 },
          { b: 21, e: 22 },
          { b: 17, e: 14 },
          { b: 14, e: 10 },
        ],
      },
    });
    f.templates.push({
      name: "Propellaprismane",
      data: {
        a: [
          { x: 15.8061, y: 23.5917, z: 8e-4 },
          { x: 26.2297, y: 29.8832, z: 0.0014 },
          { x: 23.1528, y: 15.0751, z: -0.001 },
          { x: -23.3446, y: 21.8447, z: 5e-4 },
          { x: 15.998, y: -13.3281, z: 0.0013 },
          { x: 32.9326, y: 10.6278, z: 0.0022 },
          { x: -15.998, y: 13.3281, z: -0.0013 },
          { x: 23.3446, y: -21.8447, z: -5e-4 },
          { x: 38.3971, y: 15.7753, z: -0.0015 },
          { x: -23.1528, y: -15.0751, z: 0.001 },
          { x: -38.6203, y: 26.9893, z: 9e-4 },
          { x: 26.452, y: -12.882, z: 0.002 },
          { x: -26.452, y: 12.882, z: -0.002 },
          { x: -15.8061, y: -23.5917, z: -8e-4 },
          { x: 38.6192, y: -26.9897, z: -9e-4 },
          { x: 48.1469, y: -7.0099, z: -0.0015 },
          { x: -38.3981, y: -15.7758, z: 0.0015 },
          { x: -48.1469, y: 7.0099, z: 0.0015 },
          { x: -32.9318, y: -10.628, z: -0.0022 },
          { x: -26.2297, y: -29.8832, z: -0.0014 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 0, e: 4 },
          { b: 0, e: 1 },
          { b: 4, e: 7 },
          { b: 4, e: 9 },
          { b: 4, e: 11 },
          { b: 7, e: 13 },
          { b: 7, e: 14 },
          { b: 7, e: 2 },
          { b: 2, e: 6 },
          { b: 2, e: 8 },
          { b: 3, e: 6 },
          { b: 3, e: 10 },
          { b: 3, e: 9 },
          { b: 9, e: 13 },
          { b: 9, e: 16 },
          { b: 13, e: 6 },
          { b: 13, e: 19 },
          { b: 6, e: 12 },
          { b: 14, e: 15 },
          { b: 15, e: 8 },
          { b: 11, e: 5 },
          { b: 5, e: 1 },
          { b: 10, e: 17 },
          { b: 17, e: 16 },
          { b: 12, e: 18 },
          { b: 18, e: 19 },
        ],
      },
    });
    f.templates.push({
      name: "Pyramidane",
      data: {
        a: [
          { x: -17.2378, y: 6.685, z: 2e-4 },
          { x: -4.7779, y: 2.0713, z: -9e-4 },
          { x: 1.0091, y: -10.8859, z: 2e-4 },
          { x: 4.7776, y: 10.8859, z: 8e-4 },
          { x: 17.2379, y: 6.2731, z: -3e-4 },
        ],
        b: [
          { b: 0, e: 3 },
          { b: 3, e: 4 },
          { b: 4, e: 1 },
          { b: 1, e: 0 },
          { b: 0, e: 2 },
          { b: 2, e: 1 },
          { b: 4, e: 2 },
          { b: 3, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Secocubane",
      data: {
        a: [
          { x: -12.7876, y: 0.469, z: 9e-4 },
          { x: -17.3436, y: -13.3054, z: 1e-4 },
          { x: -3.3968, y: 18.2664, z: 6e-4 },
          { x: 1.8735, y: -18.2664, z: -5e-4 },
          { x: -18.1791, y: 9.8903, z: -3e-4 },
          { x: 15.8203, y: 13.3053, z: -0 },
          { x: 18.1791, y: -7.5251, z: -1e-4 },
          { x: 2.5011, y: 4.5517, z: -0.001 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 4 },
          { b: 1, e: 3 },
          { b: 3, e: 6 },
          { b: 3, e: 7 },
          { b: 6, e: 5 },
          { b: 2, e: 4 },
          { b: 2, e: 5 },
          { b: 4, e: 7 },
          { b: 7, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Snoutane",
      data: {
        a: [
          { x: -6.3364, y: 20.3269, z: -1e-4 },
          { x: 7.6179, y: 19.8849, z: 3e-4 },
          { x: -8.926, y: 7.7702, z: -8e-4 },
          { x: -20.0203, y: 9.1351, z: 2e-4 },
          { x: 8.926, y: 8.2183, z: 0.001 },
          { x: 20.0203, y: 6.8534, z: 0 },
          { x: 8.4811, y: -3.8285, z: -7e-4 },
          { x: -9.6143, y: -1.6023, z: 0.001 },
          { x: 3.4219, y: -20.3269, z: -3e-4 },
          { x: -6.3552, y: -19.124, z: 6e-4 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 1, e: 5 },
          { b: 1, e: 4 },
          { b: 2, e: 3 },
          { b: 2, e: 6 },
          { b: 3, e: 7 },
          { b: 5, e: 4 },
          { b: 5, e: 6 },
          { b: 4, e: 7 },
          { b: 6, e: 8 },
          { b: 7, e: 9 },
          { b: 8, e: 9 },
        ],
      },
    });
    f.templates.push({
      name: "Tetraasterane",
      data: {
        a: [
          { x: 7.9814, y: -4.7005, z: -0.0012 },
          { x: 4.5426, y: 16.8926, z: -0.0011 },
          { x: 7.4295, y: -23.9433, z: -7e-4 },
          { x: 16.8749, y: 22.9377, z: 1e-4 },
          { x: -19.7619, y: 17.8982, z: -5e-4 },
          { x: 19.7619, y: -17.8982, z: 5e-4 },
          { x: -16.8749, y: -22.9377, z: -1e-4 },
          { x: 24.425, y: 3.3596, z: 4e-4 },
          { x: -7.4295, y: 23.9433, z: 7e-4 },
          { x: -24.425, y: -3.3596, z: -4e-4 },
          { x: -4.5426, y: -16.8926, z: 0.0011 },
          { x: -7.9814, y: 4.7005, z: 0.0012 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 1 },
          { b: 2, e: 6 },
          { b: 2, e: 5 },
          { b: 1, e: 4 },
          { b: 1, e: 3 },
          { b: 6, e: 9 },
          { b: 6, e: 10 },
          { b: 4, e: 9 },
          { b: 4, e: 8 },
          { b: 7, e: 5 },
          { b: 7, e: 3 },
          { b: 5, e: 10 },
          { b: 3, e: 8 },
          { b: 10, e: 11 },
          { b: 8, e: 11 },
        ],
      },
    });
    f.templates.push({
      name: "Triptycene",
      data: {
        a: [
          { x: -1.8416, y: 33.5953 },
          { x: -22.0802, y: 39.915 },
          { x: 15.2565, y: 41.2332 },
          { x: -1.8416, y: 7.8124 },
          { x: -11.7283, y: 24.3677 },
          { x: -40.1864, y: 47.0877 },
          { x: 25.5308, y: 24.329 },
          { x: 29.5243, y: 50.9648 },
          { x: 9.2469, y: -6.8431 },
          { x: -10.1774, y: -11.9997 },
          { x: -32.4321, y: 21.9251 },
          { x: 9.2469, y: 15.1014 },
          { x: -57.6334, y: 41.2332 },
          { x: 45.3042, y: 24.329 },
          { x: 46.9713, y: 50.9648 },
          { x: 14.0546, y: -29.4079 },
          { x: -6.3003, y: -36.1929 },
          { x: -47.9406, y: 27.7409 },
          { x: 57.6334, y: 35.4563 },
          { x: 8.045, y: -50.9648 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 4, o: 2 },
          { b: 4, e: 11 },
          { b: 0, e: 3 },
          { b: 3, e: 8, o: 2 },
          { b: 11, e: 8 },
          { b: 11, e: 6 },
          { b: 0, e: 2 },
          { b: 6, e: 2, o: 2 },
          { b: 2, e: 7 },
          { b: 7, e: 14, o: 2 },
          { b: 14, e: 18 },
          { b: 18, e: 13, o: 2 },
          { b: 6, e: 13 },
          { b: 4, e: 10 },
          { b: 10, e: 17, o: 2 },
          { b: 17, e: 12 },
          { b: 12, e: 5, o: 2 },
          { b: 1, e: 5 },
          { b: 3, e: 9 },
          { b: 9, e: 16, o: 2 },
          { b: 16, e: 19 },
          { b: 19, e: 15, o: 2 },
          { b: 8, e: 15 },
        ],
      },
    });
    f.templates.push({
      name: "Twistane",
      data: {
        a: [
          { x: -9.5219, y: -26.0012 },
          { x: 7.2133, y: -26.1571 },
          { x: -14.5434, y: -10.0357 },
          { x: 12.5334, y: -10.2879 },
          { x: -28.325, y: 0.1651 },
          { x: 13.5307, y: 10.0357 },
          { x: 28.325, y: -1.1706 },
          { x: -13.5501, y: 10.2879 },
          { x: 8.5073, y: 26.0012 },
          { x: -8.228, y: 26.1571 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 3, e: 6 },
          { b: 6, e: 5 },
          { b: 5, e: 8 },
          { b: 8, e: 9 },
          { b: 9, e: 7 },
          { b: 7, e: 3 },
          { b: 7, e: 4 },
          { b: 4, e: 2 },
          { b: 2, e: 0 },
          { b: 2, e: 5 },
        ],
      },
    });
    n.push(f);
    f = { name: "Platonic Solids", templates: [] };
    f.templates.push({
      name: "Cubane",
      data: {
        a: [
          { x: 6.8116, y: 7.3797, z: -0.001 },
          { x: 15.7836, y: 14.3051, z: 2e-4 },
          { x: -16.3582, y: 9.4716, z: -5e-4 },
          { x: 7.3866, y: -16.3971, z: -6e-4 },
          { x: -7.3865, y: 16.3971, z: 6e-4 },
          { x: 16.3582, y: -9.4716, z: 5e-4 },
          { x: -15.7838, y: -14.3053, z: -2e-4 },
          { x: -6.8118, y: -7.38, z: 0.001 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 4 },
          { b: 4, e: 2 },
          { b: 2, e: 0 },
          { b: 0, e: 3 },
          { b: 2, e: 6 },
          { b: 4, e: 7 },
          { b: 1, e: 5 },
          { b: 6, e: 3 },
          { b: 3, e: 5 },
          { b: 5, e: 7 },
          { b: 7, e: 6 },
        ],
      },
    });
    f.templates.push({
      name: "Dodecahedrane",
      data: {
        a: [
          { x: 5.5634, y: 23.4684, z: -0.0013 },
          { x: 16.1591, y: 0.9427, z: -0.0016 },
          { x: -19.3759, y: 19.7391, z: -0.0011 },
          { x: 15.6559, y: 31.7957, z: -2e-4 },
          { x: -2.2312, y: -16.7085, z: -0.0016 },
          { x: 32.801, y: -4.6523, z: -7e-4 },
          { x: -24.6961, y: 25.7614, z: 1e-4 },
          { x: -24.1925, y: -5.0917, z: -0.0013 },
          { x: 32.4899, y: 14.4157, z: 2e-4 },
          { x: -3.0451, y: 33.2128, z: 6e-4 },
          { x: 3.0451, y: -33.2128, z: -6e-4 },
          { x: 24.6961, y: -25.7618, z: -1e-4 },
          { x: -32.801, y: 4.6523, z: 7e-4 },
          { x: -32.4904, y: -14.4156, z: -2e-4 },
          { x: 24.1925, y: 5.0917, z: 0.0013 },
          { x: 2.2307, y: 16.7087, z: 0.0016 },
          { x: -15.6564, y: -31.7956, z: 2e-4 },
          { x: 19.3759, y: -19.7394, z: 0.0011 },
          { x: -16.1591, y: -0.9427, z: 0.0016 },
          { x: -5.5634, y: -23.4684, z: 0.0013 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
          { b: 1, e: 4 },
          { b: 1, e: 5 },
          { b: 2, e: 7 },
          { b: 2, e: 6 },
          { b: 3, e: 8 },
          { b: 3, e: 9 },
          { b: 4, e: 7 },
          { b: 4, e: 10 },
          { b: 5, e: 8 },
          { b: 5, e: 11 },
          { b: 7, e: 13 },
          { b: 6, e: 9 },
          { b: 6, e: 12 },
          { b: 8, e: 14 },
          { b: 9, e: 15 },
          { b: 10, e: 11 },
          { b: 10, e: 16 },
          { b: 11, e: 17 },
          { b: 13, e: 12 },
          { b: 13, e: 16 },
          { b: 12, e: 18 },
          { b: 14, e: 15 },
          { b: 14, e: 17 },
          { b: 15, e: 18 },
          { b: 16, e: 19 },
          { b: 17, e: 19 },
          { b: 18, e: 19 },
        ],
      },
    });
    f.templates.push({
      name: "Icosahedrane",
      data: {
        a: [
          { x: -2.1935, y: 16.5915, z: 9e-4 },
          { x: 19.041, y: 14.7651, z: 2e-4 },
          { x: -2.7246, y: 23.1426, z: -4e-4 },
          { x: -12.2778, y: -6.837, z: 0.001 },
          { x: 13.1368, y: -3.7632, z: 0.001 },
          { x: -22.0806, y: 9.7916, z: 2e-4 },
          { x: 12.2777, y: 6.837, z: -0.001 },
          { x: 22.0806, y: -9.7917, z: -2e-4 },
          { x: -13.1371, y: 3.7632, z: -0.001 },
          { x: 2.7243, y: -23.1426, z: 4e-4 },
          { x: -19.0411, y: -14.7652, z: -2e-4 },
          { x: 2.1933, y: -16.5915, z: -9e-4 },
        ],
        b: [
          { b: 0, e: 4 },
          { b: 4, e: 7 },
          { b: 7, e: 6 },
          { b: 6, e: 2 },
          { b: 2, e: 0 },
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 6 },
          { b: 1, e: 7 },
          { b: 1, e: 4 },
          { b: 11, e: 8 },
          { b: 8, e: 5 },
          { b: 5, e: 3 },
          { b: 3, e: 9 },
          { b: 9, e: 11 },
          { b: 11, e: 10 },
          { b: 10, e: 9 },
          { b: 10, e: 8 },
          { b: 10, e: 5 },
          { b: 10, e: 3 },
          { b: 0, e: 3, o: 2 },
          { b: 0, e: 5 },
          { b: 5, e: 2 },
          { b: 2, e: 8 },
          { b: 8, e: 6 },
          { b: 6, e: 11 },
          { b: 11, e: 7 },
          { b: 7, e: 9 },
          { b: 9, e: 4 },
          { b: 4, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Octahedrane",
      data: {
        a: [
          { x: 17.605, y: 1.6441, z: 3e-4 },
          { x: -0.3217, y: 18.0965, z: -2e-4 },
          { x: 0.3216, y: -18.0965, z: 2e-4 },
          { x: 5.9408, y: -3.8922, z: -9e-4 },
          { x: -5.941, y: 3.8922, z: 9e-4 },
          { x: -17.605, y: -1.6443, z: -3e-4 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 5 },
          { b: 5, e: 2 },
          { b: 2, e: 0 },
          { b: 2, e: 4 },
          { b: 1, e: 4 },
          { b: 0, e: 3 },
          { b: 2, e: 3 },
          { b: 1, e: 3 },
          { b: 5, e: 3 },
          { b: 5, e: 4 },
          { b: 0, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Tetrahedrane",
      data: {
        a: [
          { x: -10.8801, y: 10.377, z: -3e-4 },
          { x: 9.7747, y: 11.0081, z: 4e-4 },
          { x: -2.0447, y: -11.0081, z: 2e-4 },
          { x: 10.8801, y: 0.3176, z: -7e-4 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 3 },
          { b: 3, e: 1 },
          { b: 1, e: 2 },
          { b: 2, e: 3 },
          { b: 2, e: 0 },
        ],
      },
    });
    n.push(f);
    f = { name: "Ring Conformers", templates: [] };
    f.templates.push({
      name: "\x3cb\x3e4\x3c/b\x3e Cyclobutane",
      data: {
        a: [
          { x: 188, y: 262 },
          { x: 198, y: 260 },
          { x: 208, y: 272 },
          { x: 220, y: 256 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 1, e: 0 },
          { b: 2, e: 3 },
          { b: 3, e: 1 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e5\x3c/b\x3e Cyclopentane \x3ci\x3eParallel Pentagon\x3c/i\x3e",
      data: {
        a: [
          { x: 204, y: 249 },
          { x: 186.68, y: 259 },
          { x: 221.32, y: 259 },
          { x: 186.68, y: 279 },
          { x: 221.32, y: 279 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 0, e: 2 },
          { b: 1, e: 3 },
          { b: 2, e: 4 },
          { b: 3, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e5\x3c/b\x3e Cyclopentane",
      data: {
        a: [
          { x: 187.5, y: 256 },
          { x: 182.5, y: 272 },
          { x: 214.5, y: 259 },
          { x: 202.5, y: 265 },
          { x: 225.5, y: 263 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 2, e: 0 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e6\x3c/b\x3e Cyclohexane \x3ci\x3eBoat\x3c/i\x3e",
      data: {
        a: [
          { x: 185.5, y: 254.5 },
          { x: 201.5, y: 265.5 },
          { x: 189.5, y: 273.5 },
          { x: 222.5, y: 264.5 },
          { x: 208.5, y: 273.5 },
          { x: 220.5, y: 254.5 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 1, e: 0 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 5 },
          { b: 5, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e6\x3c/b\x3e Cyclohexane \x3ci\x3eChair 1\x3c/i\x3e",
      data: {
        a: [
          { x: 179.754, y: 255.356 },
          { x: 198.95, y: 260.414 },
          { x: 189.736, y: 272.644 },
          { x: 218.266, y: 255.356 },
          { x: 209.05, y: 267.584 },
          { x: 228.246, y: 272.644 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 1, e: 0 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 5 },
          { b: 5, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e6\x3c/b\x3e Cyclohexane \x3ci\x3eChair 2\x3c/i\x3e",
      data: {
        a: [
          { x: 189.736, y: 255.356 },
          { x: 209.05, y: 260.84 },
          { x: 179.752, y: 272.644 },
          { x: 228.248, y: 255.356 },
          { x: 198.95, y: 267.158 },
          { x: 218.262, y: 272.644 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 1, e: 0 },
          { b: 2, e: 4 },
          { b: 3, e: 1 },
          { b: 4, e: 5 },
          { b: 5, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e6\x3c/b\x3e Cyclohexane \x3ci\x3eTwist Boat\x3c/i\x3e",
      data: {
        a: [
          { x: 183.5, y: 258 },
          { x: 196.5, y: 267 },
          { x: 190.5, y: 274 },
          { x: 219.5, y: 268 },
          { x: 208.5, y: 265 },
          { x: 224.5, y: 254 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 2, e: 0 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 5, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e7\x3c/b\x3e Cycloheptane",
      data: {
        a: [
          { x: 178, y: 254.5 },
          { x: 177, y: 275.5 },
          { x: 196, y: 256.5 },
          { x: 201, y: 284.5 },
          { x: 218, y: 243.5 },
          { x: 217, y: 261.5 },
          { x: 231, y: 257.5 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 2, e: 0 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 6, e: 4 },
          { b: 5, e: 6 },
        ],
      },
    });
    f.templates.push({
      name: "\x3cb\x3e8\x3c/b\x3e Cyclooctane",
      data: {
        a: [
          { x: 188.5, y: 239 },
          { x: 171.5, y: 260 },
          { x: 205.5, y: 248 },
          { x: 180.5, y: 274 },
          { x: 229.5, y: 245 },
          { x: 201.5, y: 289 },
          { x: 236.5, y: 270 },
          { x: 223.5, y: 273 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 2, e: 0 },
          { b: 1, e: 3 },
          { b: 4, e: 2 },
          { b: 3, e: 5 },
          { b: 6, e: 4 },
          { b: 5, e: 7 },
          { b: 7, e: 6 },
        ],
      },
    });
    n.push(f);
    f = { name: "Stereocenters and Geometries", templates: [] };
    f.templates.push({
      name: "Bent Away",
      data: {
        a: [
          { x: 195.34, y: 279 },
          { x: 212.66, y: 269.002 },
          { x: 212.66, y: 249 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Bent Towards",
      data: {
        a: [
          { x: 195.338, y: 279 },
          { x: 212.66, y: 269.002 },
          { x: 212.66, y: 249 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Generic Diastereocenter",
      data: {
        a: [
          { x: 181.68, y: 268.998 },
          { x: 198.998, y: 258.998 },
          { x: 216.32, y: 268.998 },
          { x: 209, y: 241.68 },
          { x: 189, y: 241.68 },
          { x: 206.322, y: 286.32 },
          { x: 226.32, y: 286.32 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 4 },
          { b: 1, e: 3 },
          { b: 2, e: 5 },
          { b: 2, e: 6 },
        ],
      },
    });
    f.templates.push({
      name: "Generic Stereocenter",
      data: {
        a: [
          { x: 190.34, y: 277.66 },
          { x: 207.662, y: 267.662 },
          { x: 217.66, y: 250.34 },
          { x: 197.66, y: 250.34 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Heptavalent 1",
      data: {
        a: [
          { x: 185.34, y: 263.998 },
          { x: 205.338, y: 263.998 },
          { x: 205.338, y: 284 },
          { x: 222.66, y: 254 },
          { x: 197.34, y: 252.68 },
          { x: 199.338, y: 276.32 },
          { x: 205.338, y: 244 },
          { x: 222.66, y: 274 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 6 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 1, e: 7 },
          { b: 1, e: 4 },
          { b: 1, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Heptavalent 2",
      data: {
        a: [
          { x: 186.68, y: 252.66 },
          { x: 204.002, y: 262.658 },
          { x: 221.32, y: 252.66 },
          { x: 186.68, y: 272.658 },
          { x: 194.002, y: 245.34 },
          { x: 221.32, y: 272.658 },
          { x: 214, y: 245.34 },
          { x: 204.002, y: 282.66 },
        ],
        b: [
          { b: 1, e: 0 },
          { b: 1, e: 2 },
          { b: 1, e: 5 },
          { b: 1, e: 3 },
          { b: 1, e: 4 },
          { b: 1, e: 6 },
          { b: 1, e: 7 },
        ],
      },
    });
    f.templates.push({
      name: "Hexavalent",
      data: {
        a: [
          { x: 203.998, y: 263.998 },
          { x: 186.68, y: 274 },
          { x: 221.32, y: 274 },
          { x: 214, y: 281.32 },
          { x: 194, y: 246.68 },
          { x: 214, y: 246.68 },
          { x: 194, y: 281.32 },
        ],
        b: [
          { b: 0, e: 4 },
          { b: 0, e: 5 },
          { b: 0, e: 1 },
          { b: 0, e: 6 },
          { b: 0, e: 2 },
          { b: 0, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Incomplete Diastereocenter 1",
      data: {
        a: [
          { x: 186.68, y: 269 },
          { x: 203.998, y: 259 },
          { x: 203.998, y: 239 },
          { x: 221.32, y: 269 },
          { x: 221.32, y: 289 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 3, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Incomplete Diastereocenter 2",
      data: {
        a: [
          { x: 186.68, y: 269.002 },
          { x: 203.998, y: 258.998 },
          { x: 221.32, y: 269.002 },
          { x: 203.998, y: 239.002 },
          { x: 221.32, y: 288.998 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 2, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Incomplete Diastereocenter 3",
      data: {
        a: [
          { x: 186.68, y: 269 },
          { x: 203.998, y: 259 },
          { x: 221.32, y: 269 },
          { x: 203.998, y: 239 },
          { x: 221.32, y: 289 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 2, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Incomplete Diastereocenter 4",
      data: {
        a: [
          { x: 186.68, y: 269 },
          { x: 204.002, y: 259 },
          { x: 204.002, y: 239 },
          { x: 221.32, y: 269 },
          { x: 221.32, y: 289 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 3, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Octahedral",
      data: {
        a: [
          { x: 203.998, y: 244 },
          { x: 203.998, y: 264 },
          { x: 186.68, y: 254 },
          { x: 186.68, y: 274 },
          { x: 203.998, y: 284 },
          { x: 221.32, y: 254 },
          { x: 221.32, y: 274 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 5 },
          { b: 1, e: 3 },
          { b: 1, e: 6 },
          { b: 1, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Octavalent 1",
      data: {
        a: [
          { x: 204, y: 264.002 },
          { x: 194, y: 281.32 },
          { x: 221.322, y: 254 },
          { x: 213.998, y: 246.68 },
          { x: 213.998, y: 281.32 },
          { x: 186.678, y: 254 },
          { x: 186.678, y: 274 },
          { x: 221.322, y: 274 },
          { x: 194, y: 246.68 },
        ],
        b: [
          { b: 0, e: 5 },
          { b: 0, e: 6 },
          { b: 0, e: 2 },
          { b: 0, e: 7 },
          { b: 0, e: 8 },
          { b: 0, e: 3 },
          { b: 0, e: 1 },
          { b: 0, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Octavalent 2",
      data: {
        a: [
          { x: 183.998, y: 264 },
          { x: 204, y: 264 },
          { x: 194.002, y: 246.682 },
          { x: 221.32, y: 274 },
          { x: 213.998, y: 281.318 },
          { x: 186.68, y: 274 },
          { x: 213.998, y: 246.682 },
          { x: 224.002, y: 264 },
          { x: 194.002, y: 281.318 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 7 },
          { b: 1, e: 2 },
          { b: 1, e: 6 },
          { b: 1, e: 5 },
          { b: 1, e: 3 },
          { b: 1, e: 8 },
          { b: 1, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Square Planar",
      data: {
        a: [
          { x: 186.68, y: 254 },
          { x: 203.998, y: 264.002 },
          { x: 186.68, y: 274 },
          { x: 221.32, y: 254 },
          { x: 221.32, y: 274 },
        ],
        b: [
          { b: 1, e: 0 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 1, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Square Pyramidal",
      data: {
        a: [
          { x: 204.002, y: 249 },
          { x: 204.002, y: 268.998 },
          { x: 186.68, y: 259 },
          { x: 221.32, y: 259 },
          { x: 221.32, y: 279 },
          { x: 186.68, y: 279 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
          { b: 1, e: 4 },
          { b: 1, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Tetrahedral",
      data: {
        a: [
          { x: 204.002, y: 265.338 },
          { x: 221.32, y: 275.34 },
          { x: 204.002, y: 245.34 },
          { x: 214, y: 282.66 },
          { x: 186.68, y: 275.34 },
        ],
        b: [
          { b: 0, e: 2 },
          { b: 0, e: 4 },
          { b: 0, e: 1 },
          { b: 0, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Trigonal Bipyramidal",
      data: {
        a: [
          { x: 185.338, y: 263.998 },
          { x: 205.34, y: 263.998 },
          { x: 205.34, y: 284 },
          { x: 222.662, y: 274 },
          { x: 205.34, y: 244 },
          { x: 222.662, y: 254 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 4 },
          { b: 1, e: 2 },
          { b: 1, e: 5 },
          { b: 1, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Trigonal Planar",
      data: {
        a: [
          { x: 185.338, y: 263.998 },
          { x: 205.34, y: 263.998 },
          { x: 222.662, y: 254 },
          { x: 222.662, y: 274 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Trigonal Pyramidal",
      data: {
        a: [
          { x: 186.68, y: 265.34 },
          { x: 204.002, y: 255.34 },
          { x: 214, y: 272.66 },
          { x: 221.32, y: 265.34 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
        ],
      },
    });
    n.push(f);
    f = { name: "Vitamins", templates: [] };
    f.templates.push({
      name: "Vitamin A",
      data: {
        a: [
          { x: 51.9615, y: 33.6602 },
          { x: 51.9615, y: 13.6602 },
          { x: 69.282, y: 3.6602 },
          { x: 34.641, y: 3.6602 },
          { x: 86.6025, y: 13.6602 },
          { x: 17.3205, y: 13.6602 },
          { x: 103.9231, y: 3.6602, l: "OH" },
          { x: 0, y: 3.6602 },
          { x: -17.3205, y: 13.6602 },
          { x: -17.3205, y: 33.6602 },
          { x: -34.641, y: 3.6602 },
          { x: -51.9615, y: 13.6602 },
          { x: -69.2821, y: 3.6602 },
          { x: -86.6025, y: 13.6602 },
          { x: -69.2821, y: -16.3398 },
          { x: -86.6025, y: 33.6602 },
          { x: -103.9231, y: 3.6602 },
          { x: -49.2821, y: -16.3398 },
          { x: -59.2821, y: -33.6603 },
          { x: -86.6025, y: -26.3398 },
          { x: -103.9231, y: -16.3398 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 6 },
          { b: 1, e: 3 },
          { b: 3, e: 5, o: 2 },
          { b: 5, e: 7 },
          { b: 7, e: 8, o: 2 },
          { b: 8, e: 9 },
          { b: 8, e: 10 },
          { b: 10, e: 11, o: 2 },
          { b: 11, e: 12 },
          { b: 12, e: 13, o: 2 },
          { b: 13, e: 15 },
          { b: 13, e: 16 },
          { b: 16, e: 20 },
          { b: 20, e: 19 },
          { b: 19, e: 14 },
          { b: 12, e: 14 },
          { b: 14, e: 18 },
          { b: 14, e: 17 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin B\x3csub\x3e12\x3c/sub\x3e (Cyanocobalamin)",
      data: {
        a: [
          { c: 1, x: 3.3371, y: -66.8596, l: "Co" },
          { x: 3.3371, y: -101.4081, l: "CN" },
          { x: 23.0279, y: -45.765, l: "N" },
          { x: -11.166, y: -45.6584, l: "N" },
          { x: 19.8359, y: -89.7705, l: "N" },
          { x: -3.2171, y: 38.9619, l: "N" },
          { x: -14.0155, y: -84.9408, l: "N" },
          { x: 23.0322, y: -25.5761 },
          { x: 41.9322, y: -51.4369 },
          { x: -28.8696, y: -53.9362 },
          { x: -11.8939, y: -26.1046 },
          { x: 39.3607, y: -86.886 },
          { x: 16.9262, y: -109.7484 },
          { x: -14.614, y: 55.3971 },
          { x: 15.9353, y: 44.7225 },
          { x: -17.558, y: -104.1851 },
          { x: -30.3391, y: -74.1948 },
          { x: 41.9009, y: -19.2102 },
          { x: 5.5664, y: -16.0075 },
          { x: 53.7886, y: -35.3435 },
          { x: 49.8682, y: -69.8304 },
          { x: -42.1304, y: -38.4984 },
          { x: -42.2629, y: -57.2596, l: "H" },
          { x: -31.6747, y: -21.3799 },
          { x: 48.7705, y: -104.5222 },
          { x: 34.6787, y: -118.7709 },
          { x: -1.7374, y: -116.6962 },
          { x: -2.5054, y: 71.3148, l: "N" },
          { x: 16.3752, y: 64.7177 },
          { x: 33.0317, y: 34.344 },
          { x: -37.8135, y: -106.0053 },
          { x: -45.6892, y: -87.5572 },
          { x: -49.3397, y: -67.9516 },
          { x: 47.9104, y: -0.1344 },
          { x: 5.3354, y: 3.9912 },
          { x: 62.8086, y: -17.493 },
          { x: 73.7887, y: -35.3435 },
          { x: -62.0654, y: -40.1103 },
          { x: -24.2744, y: -2.7994 },
          { x: -48.9952, y: -11.3799 },
          { x: 68.5611, y: -107.4094 },
          { x: 44.6789, y: -136.0914 },
          { x: 24.6787, y: -136.0914 },
          { x: -4.8522, y: -136.4521 },
          { x: -2.5054, y: 127.7894 },
          { x: 33.9115, y: 74.3343 },
          { x: 50.5679, y: 43.9606 },
          { x: -48.0763, y: -123.1714 },
          { x: -62.2078, y: -76.2816 },
          { x: -63.5787, y: -96.4996 },
          { x: 67.3099, y: 4.73 },
          { x: -73.4289, y: -23.6522, l: "CONH2" },
          { x: -48.9952, y: 8.6201 },
          { x: 80.9568, y: -91.7139 },
          { x: 64.6788, y: -136.0914, l: "CONH2" },
          { x: -21.4629, y: 133.9404, l: "O" },
          { x: -11.6748, y: 118.62 },
          { x: 51.0078, y: 63.9557 },
          { x: 67.6643, y: 33.5821 },
          { x: -38.0763, y: -140.4919 },
          { x: -80.2678, y: -85.4781, l: "CONH2" },
          { x: 81.2223, y: -9.6382, l: "CONH2" },
          { x: -66.3158, y: 18.6201 },
          { x: 100.9568, y: -91.7139, l: "CONH2" },
          { x: -40.8672, y: 127.8124 },
          { x: -31.6748, y: 118.62 },
          { x: -11.6748, y: 98.62, l: "O" },
          { x: 68.5441, y: 73.5724 },
          { x: -48.0763, y: -157.8124, l: "CONH2" },
          { x: -83.6363, y: 8.6201, l: "O" },
          { x: -66.3158, y: 38.62, l: "N" },
          { x: -40.8672, y: 147.8124 },
          { x: -31.6748, y: 98.62, l: "O" },
          { x: -83.6363, y: 48.62 },
          { x: -58.1877, y: 157.8124, l: "O" },
          { x: -48.9953, y: 88.62, l: "P" },
          { x: -83.6363, y: 68.62 },
          { x: -38.9953, y: 71.2995, l: "O" },
          { x: -66.3158, y: 78.62, l: "O" },
          { x: -58.9953, y: 105.9405, l: "O" },
          { x: -100.9568, y: 78.62 },
        ],
        b: [
          { b: 20, e: 11 },
          { b: 8, e: 20, o: 2 },
          { b: 11, e: 4, o: 2 },
          { b: 11, e: 24 },
          { b: 19, e: 8 },
          { b: 2, e: 8 },
          { b: 4, e: 0, o: 0 },
          { b: 12, e: 4 },
          { b: 24, e: 40 },
          { b: 24, e: 25 },
          { b: 19, e: 36 },
          { b: 17, e: 19 },
          { b: 19, e: 35 },
          { b: 2, e: 0, o: 0 },
          { b: 2, e: 7, o: 2 },
          { b: 3, e: 0 },
          { b: 6, e: 0, o: 0 },
          { b: 25, e: 12 },
          { b: 12, e: 26, o: 2 },
          { b: 40, e: 53 },
          { b: 25, e: 41 },
          { b: 25, e: 42 },
          { b: 17, e: 33 },
          { b: 7, e: 17 },
          { b: 18, e: 7 },
          { b: 3, e: 10 },
          { b: 3, e: 9 },
          { b: 15, e: 6, o: 2 },
          { b: 6, e: 16 },
          { b: 15, e: 26 },
          { b: 26, e: 43 },
          { b: 53, e: 63 },
          { b: 41, e: 54 },
          { b: 33, e: 50 },
          { b: 18, e: 34 },
          { b: 23, e: 10 },
          { b: 9, e: 21 },
          { b: 9, e: 22 },
          { b: 9, e: 16 },
          { b: 30, e: 15 },
          { b: 16, e: 32 },
          { b: 16, e: 31 },
          { b: 50, e: 61 },
          { b: 21, e: 23 },
          { b: 23, e: 39 },
          { b: 23, e: 38 },
          { b: 21, e: 37 },
          { b: 31, e: 30 },
          { b: 30, e: 47 },
          { b: 31, e: 48 },
          { b: 31, e: 49 },
          { b: 39, e: 52 },
          { b: 37, e: 51 },
          { b: 47, e: 59 },
          { b: 49, e: 60 },
          { b: 52, e: 62 },
          { b: 59, e: 68 },
          { b: 62, e: 70 },
          { b: 62, e: 69, o: 2 },
          { b: 70, e: 73 },
          { b: 73, e: 76 },
          { b: 76, e: 80 },
          { b: 76, e: 78 },
          { b: 78, e: 75 },
          { b: 75, e: 72 },
          { b: 75, e: 77, o: 2 },
          { b: 75, e: 79 },
          { b: 72, e: 65 },
          { b: 65, e: 56 },
          { b: 56, e: 66 },
          { b: 56, e: 44 },
          { b: 65, e: 64 },
          { b: 64, e: 55 },
          { b: 44, e: 55 },
          { b: 64, e: 71 },
          { b: 71, e: 74 },
          { b: 44, e: 27 },
          { b: 27, e: 28 },
          { b: 28, e: 14 },
          { b: 14, e: 5 },
          { b: 5, e: 13, o: 2 },
          { b: 13, e: 27 },
          { b: 28, e: 45, o: 2 },
          { b: 45, e: 57 },
          { b: 57, e: 46, o: 2 },
          { b: 46, e: 29 },
          { b: 29, e: 14, o: 2 },
          { b: 46, e: 58 },
          { b: 57, e: 67 },
          { b: 0, e: 5, o: 0 },
          { b: 10, e: 18, o: 2 },
          { b: 0, e: 1 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin B\x3csub\x3e1\x3c/sub\x3e",
      data: {
        a: [
          { x: 24.1354, y: -28.8488 },
          { x: 19.9771, y: -9.2859 },
          { x: 33.3597, y: 5.577 },
          { c: 1, x: 1.7062, y: -1.1512, l: "N" },
          { x: 53.2502, y: 3.4865 },
          { x: 23.3597, y: 22.8975, l: "S" },
          { x: 3.7968, y: 18.7393 },
          { x: -15.6143, y: -11.1512 },
          { x: 65.0059, y: 19.6668 },
          { x: -32.9348, y: -1.1512 },
          { x: 84.8963, y: 17.5762, l: "OH" },
          { x: -32.9348, y: 18.8488 },
          { x: -50.2553, y: -11.1512 },
          { x: -50.2553, y: 28.8488, l: "N" },
          { x: -15.6143, y: 28.8488, l: "NH2" },
          { x: -67.5758, y: -1.1512, l: "N" },
          { x: -67.5758, y: 18.8488 },
          { x: -84.8963, y: 28.8488 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 8 },
          { b: 8, e: 10 },
          { b: 2, e: 5 },
          { b: 5, e: 6 },
          { b: 6, e: 3, o: 2 },
          { b: 1, e: 3 },
          { b: 3, e: 7 },
          { b: 7, e: 9 },
          { b: 9, e: 11, o: 2 },
          { b: 11, e: 14 },
          { b: 11, e: 13 },
          { b: 13, e: 16, o: 2 },
          { b: 16, e: 17 },
          { b: 16, e: 15 },
          { b: 15, e: 12, o: 2 },
          { b: 9, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin B\x3csub\x3e3\x3c/sub\x3e (Niacin)",
      data: {
        a: [
          { x: -17.3205, y: 30, l: "N" },
          { x: 0, y: 20 },
          { x: -34.641, y: 20 },
          { x: 0, y: 0 },
          { x: -34.641, y: 0 },
          { x: -17.3205, y: -10 },
          { x: 17.3205, y: -10 },
          { x: 17.3205, y: -30, l: "O" },
          { x: 34.641, y: 0 },
        ],
        b: [
          { b: 0, e: 1, o: 2 },
          { b: 1, e: 3 },
          { b: 3, e: 5, o: 2 },
          { b: 5, e: 4 },
          { b: 4, e: 2, o: 2 },
          { b: 2, e: 0 },
          { b: 3, e: 6 },
          { b: 6, e: 8 },
          { b: 6, e: 7, o: 2 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin B\x3csub\x3e5\x3c/sub\x3e",
      data: {
        a: [
          { x: -15.9808, y: 23.6603, l: "H" },
          { x: -25.9808, y: 6.3397 },
          { x: -8.6603, y: -3.6603 },
          { x: -35.9808, y: 23.6603, l: "OH" },
          { x: -43.3013, y: -3.6603 },
          { x: -8.6603, y: -23.6603, l: "O" },
          { x: 8.6602, y: 6.3397, l: "NH" },
          { x: -53.3013, y: -20.9808 },
          { x: -60.6218, y: 6.3397 },
          { x: -33.3013, y: -20.9808 },
          { x: 25.9807, y: -3.6603 },
          { x: -77.9423, y: -3.6603, l: "OH" },
          { x: 43.3012, y: 6.3397 },
          { x: 60.6218, y: -3.6603 },
          { x: 77.9423, y: 6.3397, l: "OH" },
          { x: 60.6218, y: -23.6603, l: "O" },
        ],
        b: [
          { b: 1, e: 0 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 2, e: 5, o: 2 },
          { b: 2, e: 6 },
          { b: 6, e: 10 },
          { b: 10, e: 12 },
          { b: 12, e: 13 },
          { b: 13, e: 14 },
          { b: 13, e: 15, o: 2 },
          { b: 1, e: 4 },
          { b: 4, e: 9 },
          { b: 4, e: 7 },
          { b: 4, e: 8 },
          { b: 8, e: 11 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin B\x3csub\x3e6\x3c/sub\x3e",
      data: {
        a: [
          { x: -43.3012, y: -10 },
          { x: -25.9808, y: 0 },
          { x: -25.9808, y: 20, l: "N" },
          { x: -8.6602, y: -10 },
          { x: -8.6602, y: 30 },
          { x: 8.6602, y: 0 },
          { x: -8.6602, y: -30, l: "OH" },
          { x: 8.6602, y: 20 },
          { x: 25.9808, y: -10 },
          { x: 25.9808, y: 30 },
          { x: 43.3012, y: 0, l: "OH" },
          { x: 43.3012, y: 20, l: "OH" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 7, o: 2 },
          { b: 7, e: 9 },
          { b: 9, e: 11 },
          { b: 7, e: 5 },
          { b: 5, e: 8 },
          { b: 8, e: 10 },
          { b: 5, e: 3, o: 2 },
          { b: 1, e: 3 },
          { b: 3, e: 6 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin B\x3csub\x3e7\x3c/sub\x3e",
      data: {
        a: [
          { x: -65.6493, y: 26.9066, l: "H" },
          { x: -52.2667, y: 12.0436 },
          { x: -42.2667, y: 29.3641 },
          { x: -38.8841, y: -2.8193 },
          { x: -70.5376, y: 3.9089, l: "NH" },
          { x: -22.7037, y: 25.2059, l: "S" },
          { x: -48.8841, y: -20.1398, l: "NH" },
          { x: -25.5015, y: -17.6822, l: "H" },
          { x: -20.6132, y: 5.3155 },
          { x: -68.447, y: -15.9815 },
          { x: -3.2927, y: -4.6845 },
          { x: -83.3099, y: -29.3641, l: "O" },
          { x: 14.0278, y: 5.3155 },
          { x: 31.3483, y: -4.6845 },
          { x: 48.6689, y: 5.3155 },
          { x: 65.9894, y: -4.6845 },
          { x: 65.9894, y: -24.6845, l: "O" },
          { x: 83.3099, y: 5.3155, l: "OH" },
        ],
        b: [
          { b: 1, e: 0 },
          { b: 1, e: 2 },
          { b: 2, e: 5 },
          { b: 5, e: 8 },
          { b: 8, e: 10 },
          { b: 10, e: 12 },
          { b: 12, e: 13 },
          { b: 13, e: 14 },
          { b: 14, e: 15 },
          { b: 15, e: 17 },
          { b: 15, e: 16, o: 2 },
          { b: 8, e: 3 },
          { b: 1, e: 3 },
          { b: 3, e: 7 },
          { b: 3, e: 6 },
          { b: 6, e: 9 },
          { b: 9, e: 11, o: 2 },
          { b: 9, e: 4 },
          { b: 1, e: 4 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin B\x3csub\x3e9\x3c/sub\x3e",
      data: {
        a: [
          { x: -147.2244, y: 50, l: "NH2" },
          { x: -129.9039, y: 40 },
          { x: -129.9039, y: 20, l: "N" },
          { x: -112.5833, y: 50, l: "N" },
          { x: -112.5833, y: 10 },
          { x: -95.2628, y: 40 },
          { x: -95.2628, y: 20 },
          { x: -112.5833, y: -10, l: "OH" },
          { x: -77.9423, y: 50, l: "N" },
          { x: -77.9423, y: 10, l: "N" },
          { x: -60.6218, y: 40 },
          { x: -60.6218, y: 20 },
          { x: -43.3013, y: 10 },
          { x: -25.9808, y: 20, l: "NH" },
          { x: -8.6603, y: 10 },
          { x: -8.6603, y: -10 },
          { x: 8.6602, y: 20 },
          { x: 8.6602, y: -20 },
          { x: 25.9808, y: 10 },
          { x: 25.9808, y: -10 },
          { x: 43.3013, y: -20 },
          { x: 43.3013, y: -40, l: "O" },
          { x: 60.6218, y: -10, l: "NH" },
          { x: 77.9423, y: -20 },
          { x: 95.2628, y: -10 },
          { x: 77.9423, y: -40 },
          { x: 112.5834, y: -20 },
          { x: 60.6218, y: -50, l: "O" },
          { x: 95.2628, y: -50, l: "OH" },
          { x: 129.9038, y: -10 },
          { x: 147.2244, y: -20, l: "OH" },
          { x: 129.9038, y: 10, l: "O" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 2, o: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 7 },
          { b: 4, e: 6, o: 2 },
          { b: 6, e: 9 },
          { b: 9, e: 11, o: 2 },
          { b: 11, e: 12 },
          { b: 12, e: 13 },
          { b: 13, e: 14 },
          { b: 14, e: 15, o: 2 },
          { b: 15, e: 17 },
          { b: 17, e: 19, o: 2 },
          { b: 19, e: 18 },
          { b: 18, e: 16, o: 2 },
          { b: 14, e: 16 },
          { b: 19, e: 20 },
          { b: 20, e: 21, o: 2 },
          { b: 20, e: 22 },
          { b: 22, e: 23 },
          { b: 23, e: 24 },
          { b: 24, e: 26 },
          { b: 26, e: 29 },
          { b: 29, e: 30 },
          { b: 29, e: 31, o: 2 },
          { b: 23, e: 25 },
          { b: 25, e: 28 },
          { b: 25, e: 27, o: 2 },
          { b: 11, e: 10 },
          { b: 10, e: 8, o: 2 },
          { b: 8, e: 5 },
          { b: 6, e: 5 },
          { b: 5, e: 3, o: 2 },
          { b: 1, e: 3 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin C",
      data: {
        a: [
          { x: 14.8183, y: -7.3993, l: "H" },
          { x: -2.5022, y: 2.6007 },
          { x: -14.2579, y: 18.781, l: "O" },
          { x: -14.2579, y: -13.5797 },
          { x: 14.8183, y: 12.6007 },
          { x: -33.279, y: 12.6007 },
          { x: -33.2791, y: -7.3993 },
          { x: -8.0775, y: -32.6008, l: "OH" },
          { x: 32.1389, y: 2.6007 },
          { x: 14.8183, y: 32.6007, l: "OH" },
          { x: -49.4593, y: 24.3563, l: "O" },
          { x: -49.4593, y: -19.155, l: "OH" },
          { x: 49.4594, y: 12.6007, l: "OH" },
        ],
        b: [
          { b: 1, e: 0 },
          { b: 1, e: 2 },
          { b: 2, e: 5 },
          { b: 5, e: 10, o: 2 },
          { b: 5, e: 6 },
          { b: 6, e: 11 },
          { b: 6, e: 3, o: 2 },
          { b: 1, e: 3 },
          { b: 3, e: 7 },
          { b: 1, e: 4 },
          { b: 4, e: 9 },
          { b: 4, e: 8 },
          { b: 8, e: 12 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin D\x3csub\x3e3\x3c/sub\x3e",
      data: {
        a: [
          { x: -177.0877, y: 20.5302 },
          { x: -153.0316, y: 34.4191 },
          { x: -153.0316, y: 62.1969 },
          { x: -128.9753, y: 20.5302 },
          { x: -104.9189, y: 34.4191 },
          { x: -80.8628, y: 20.5302 },
          { x: -56.8066, y: 34.4191 },
          { x: -32.7503, y: 20.5302 },
          { x: -56.8066, y: 62.1969 },
          { x: -56.8065, y: 6.6413, l: "H" },
          { x: -29.8467, y: -7.0957 },
          { x: -7.3741, y: 31.8285 },
          { x: -2.6759, y: -12.871 },
          { x: -28.0168, y: 50.415 },
          { x: 11.213, y: 11.185 },
          { x: 1.2099, y: 58.2465 },
          { x: 27.5404, y: -11.2874, l: "H" },
          { x: 38.3838, y: 16.961 },
          { x: 28.3806, y: 64.0218 },
          { x: 46.9676, y: 43.379 },
          { x: 56.9707, y: -3.6825 },
          { x: 84.1414, y: 2.0928 },
          { x: 103.7833, y: -17.549 },
          { x: 130.6146, y: -10.359 },
          { x: 96.5939, y: -44.38 },
          { x: 150.2565, y: -30.0015 },
          { x: 69.7627, y: -51.5693 },
          { x: 116.2357, y: -64.0218 },
          { x: 177.0877, y: -22.8116, l: "OH" },
          { x: 143.0669, y: -56.8325 },
        ],
        b: [
          { b: 14, e: 16 },
          { b: 14, e: 12 },
          { b: 12, e: 10 },
          { b: 10, e: 7 },
          { b: 7, e: 6 },
          { b: 6, e: 8 },
          { b: 6, e: 5 },
          { b: 5, e: 4 },
          { b: 4, e: 3 },
          { b: 3, e: 1 },
          { b: 1, e: 2 },
          { b: 1, e: 0 },
          { b: 7, e: 11 },
          { b: 14, e: 11 },
          { b: 11, e: 13 },
          { b: 11, e: 15 },
          { b: 15, e: 18 },
          { b: 18, e: 19 },
          { b: 19, e: 17 },
          { b: 14, e: 17 },
          { b: 17, e: 20, o: 2 },
          { b: 20, e: 21 },
          { b: 21, e: 22, o: 2 },
          { b: 22, e: 23 },
          { b: 23, e: 25 },
          { b: 25, e: 28 },
          { b: 25, e: 29 },
          { b: 29, e: 27 },
          { b: 27, e: 24 },
          { b: 22, e: 24 },
          { b: 24, e: 26, o: 2 },
          { b: 7, e: 9 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin D\x3csub\x3e4\x3c/sub\x3e",
      data: {
        a: [
          { x: -150.3688, y: 57.1289 },
          { x: -126.3125, y: 71.0178 },
          { x: -102.2562, y: 57.1289 },
          { x: -126.3125, y: 98.7956 },
          { x: -78.1999, y: 71.0178 },
          { x: -102.2562, y: 29.3511 },
          { x: -54.1437, y: 57.1289 },
          { x: -30.0875, y: 71.0178 },
          { x: -30.0875, y: 98.7956 },
          { x: -6.0311, y: 57.1289 },
          { x: -6.0311, y: 84.9067, l: "H" },
          { x: -17.3294, y: 31.7532 },
          { x: 21.5944, y: 54.2257 },
          { x: 3.3135, y: 13.166 },
          { x: 42.2374, y: 72.8122 },
          { x: 27.3697, y: 27.0549 },
          { x: 13.0107, y: 80.6437 },
          { x: 68.6556, y: 64.2287 },
          { x: 30.2734, y: -0.571, l: "H" },
          { x: 53.788, y: 18.4706 },
          { x: 74.4309, y: 37.0578 },
          { x: 59.5634, y: -8.6995 },
          { x: 85.9816, y: -17.2838 },
          { x: 91.7569, y: -44.4546 },
          { x: 118.1751, y: -53.0382 },
          { x: 71.114, y: -63.0412 },
          { x: 123.9505, y: -80.209 },
          { x: 76.8894, y: -90.212 },
          { x: 44.6957, y: -54.4576 },
          { x: 150.3688, y: -88.7926, l: "OH" },
          { x: 103.3076, y: -98.7956 },
        ],
        b: [
          { b: 9, e: 10 },
          { b: 9, e: 11 },
          { b: 11, e: 13 },
          { b: 13, e: 15 },
          { b: 15, e: 18 },
          { b: 15, e: 19 },
          { b: 19, e: 20 },
          { b: 20, e: 17 },
          { b: 17, e: 14 },
          { b: 14, e: 12 },
          { b: 9, e: 12 },
          { b: 15, e: 12 },
          { b: 12, e: 16 },
          { b: 19, e: 21, o: 2 },
          { b: 21, e: 22 },
          { b: 22, e: 23, o: 2 },
          { b: 23, e: 24 },
          { b: 24, e: 26 },
          { b: 26, e: 29 },
          { b: 26, e: 30 },
          { b: 30, e: 27 },
          { b: 27, e: 25 },
          { b: 23, e: 25 },
          { b: 25, e: 28, o: 2 },
          { b: 9, e: 7 },
          { b: 7, e: 8 },
          { b: 7, e: 6 },
          { b: 6, e: 4 },
          { b: 4, e: 2 },
          { b: 2, e: 5 },
          { b: 2, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 0 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin D\x3csub\x3e5\x3c/sub\x3e",
      data: {
        a: [
          { x: -150.3688, y: 57.1289 },
          { x: -126.3126, y: 71.0178 },
          { x: -102.2563, y: 57.1289 },
          { x: -102.2563, y: 29.3511 },
          { x: -78.2, y: 71.0178 },
          { x: -78.2, y: 15.4622 },
          { x: -126.3126, y: 15.4622 },
          { x: -54.1438, y: 57.1289 },
          { x: -30.0875, y: 71.0178 },
          { x: -6.0311, y: 57.1289 },
          { x: -30.0875, y: 98.7956 },
          { x: -17.3294, y: 31.7532 },
          { x: -6.0311, y: 84.9067, l: "H" },
          { x: 21.5944, y: 54.2257 },
          { x: 3.3135, y: 13.166 },
          { x: 42.2374, y: 72.8122 },
          { x: 27.3698, y: 27.0549 },
          { x: 13.0106, y: 80.6437 },
          { x: 68.6556, y: 64.2287 },
          { x: 30.2734, y: -0.571, l: "H" },
          { x: 53.788, y: 18.4713 },
          { x: 74.4308, y: 37.0578 },
          { x: 59.5634, y: -8.6995 },
          { x: 85.9816, y: -17.2838 },
          { x: 91.7569, y: -44.4546 },
          { x: 118.1751, y: -53.0382 },
          { x: 71.1139, y: -63.0412 },
          { x: 123.9505, y: -80.209 },
          { x: 76.8894, y: -90.212 },
          { x: 44.6957, y: -54.4576 },
          { x: 103.3076, y: -98.7956 },
          { x: 150.3688, y: -88.7926, l: "OH" },
        ],
        b: [
          { b: 9, e: 12 },
          { b: 9, e: 11 },
          { b: 11, e: 14 },
          { b: 14, e: 16 },
          { b: 16, e: 19 },
          { b: 16, e: 20 },
          { b: 20, e: 21 },
          { b: 21, e: 18 },
          { b: 18, e: 15 },
          { b: 15, e: 13 },
          { b: 9, e: 13 },
          { b: 16, e: 13 },
          { b: 13, e: 17 },
          { b: 20, e: 22, o: 2 },
          { b: 22, e: 23 },
          { b: 23, e: 24, o: 2 },
          { b: 24, e: 25 },
          { b: 25, e: 27 },
          { b: 27, e: 31 },
          { b: 27, e: 30 },
          { b: 30, e: 28 },
          { b: 28, e: 26 },
          { b: 24, e: 26 },
          { b: 26, e: 29, o: 2 },
          { b: 9, e: 8 },
          { b: 8, e: 10 },
          { b: 8, e: 7 },
          { b: 7, e: 4 },
          { b: 4, e: 2 },
          { b: 2, e: 1 },
          { b: 1, e: 0 },
          { b: 2, e: 3 },
          { b: 3, e: 6 },
          { b: 3, e: 5 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin E",
      data: {
        a: [
          { x: 138.5641, y: -10 },
          { x: 138.5641, y: 10 },
          { x: 121.2436, y: 20 },
          { x: 155.8846, y: 20 },
          { x: 103.9231, y: 10 },
          { x: 86.6026, y: 20 },
          { x: 69.282, y: 10 },
          { x: 69.282, y: -10 },
          { x: 51.9615, y: 20 },
          { x: 34.641, y: 10 },
          { x: 17.3205, y: 20 },
          { x: 0, y: 10 },
          { x: 0, y: -10 },
          { x: -17.3205, y: 20 },
          { x: -34.641, y: 10 },
          { x: -51.9615, y: 20 },
          { x: -69.2821, y: 10 },
          { x: -69.2821, y: 30 },
          { x: -69.2821, y: -10 },
          { x: -86.6026, y: 20, l: "O" },
          { x: -86.6026, y: -20 },
          { x: -103.9231, y: 10 },
          { x: -103.9231, y: -10 },
          { x: -121.2436, y: 20 },
          { x: -121.2436, y: -20 },
          { x: -138.5641, y: 10 },
          { x: -121.2436, y: 40 },
          { x: -121.2436, y: -40 },
          { x: -138.5641, y: -10 },
          { x: -155.8846, y: 20 },
          { x: -155.8846, y: -20, l: "OH" },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 5 },
          { b: 5, e: 6 },
          { b: 6, e: 7 },
          { b: 6, e: 8 },
          { b: 8, e: 9 },
          { b: 9, e: 10 },
          { b: 10, e: 11 },
          { b: 11, e: 12 },
          { b: 11, e: 13 },
          { b: 13, e: 14 },
          { b: 14, e: 15 },
          { b: 15, e: 16 },
          { b: 16, e: 17 },
          { b: 16, e: 18 },
          { b: 18, e: 20 },
          { b: 20, e: 22 },
          { b: 22, e: 24, o: 2 },
          { b: 24, e: 27 },
          { b: 24, e: 28 },
          { b: 28, e: 30 },
          { b: 28, e: 25, o: 2 },
          { b: 25, e: 29 },
          { b: 25, e: 23 },
          { b: 23, e: 26 },
          { b: 23, e: 21, o: 2 },
          { b: 22, e: 21 },
          { b: 21, e: 19 },
          { b: 16, e: 19 },
        ],
      },
    });
    f.templates.push({
      name: "Vitamin K\x3csub\x3e1\x3c/sub\x3e",
      data: {
        a: [
          { x: -155.8846, y: 40 },
          { x: -155.8846, y: 20 },
          { x: -138.5641, y: 10 },
          { x: -173.2051, y: 10 },
          { x: -121.2436, y: 20 },
          { x: -103.9231, y: 10 },
          { x: -86.6025, y: 20 },
          { x: -86.6025, y: 40 },
          { x: -69.2821, y: 10 },
          { x: -51.9615, y: 20 },
          { x: -34.641, y: 10 },
          { x: -17.3205, y: 20 },
          { x: 0, y: 10 },
          { x: -17.3205, y: 40 },
          { x: 17.3205, y: 20 },
          { x: 34.641, y: 10 },
          { x: 51.9615, y: 20 },
          { x: 69.2821, y: 10 },
          { x: 51.9615, y: 40 },
          { x: 86.6026, y: 20 },
          { x: 103.9231, y: 10 },
          { x: 121.2437, y: 20 },
          { x: 103.9231, y: -10 },
          { x: 138.5641, y: 10 },
          { x: 121.2437, y: 40, l: "O" },
          { x: 121.2437, y: -20 },
          { x: 86.6026, y: -20 },
          { x: 155.8847, y: 20 },
          { x: 138.5641, y: -10 },
          { x: 121.2437, y: -40, l: "O" },
          { x: 173.2051, y: 10 },
          { x: 155.8847, y: -20 },
          { x: 173.2051, y: -10 },
        ],
        b: [
          { b: 0, e: 1 },
          { b: 1, e: 3 },
          { b: 1, e: 2 },
          { b: 2, e: 4 },
          { b: 4, e: 5 },
          { b: 5, e: 6 },
          { b: 6, e: 7 },
          { b: 6, e: 8 },
          { b: 8, e: 9 },
          { b: 9, e: 10 },
          { b: 10, e: 11 },
          { b: 11, e: 13 },
          { b: 11, e: 12 },
          { b: 12, e: 14 },
          { b: 14, e: 15 },
          { b: 15, e: 16 },
          { b: 16, e: 18 },
          { b: 16, e: 17, o: 2 },
          { b: 17, e: 19 },
          { b: 19, e: 20 },
          { b: 20, e: 22, o: 2 },
          { b: 22, e: 26 },
          { b: 22, e: 25 },
          { b: 25, e: 29, o: 2 },
          { b: 25, e: 28 },
          { b: 28, e: 23, o: 2 },
          { b: 23, e: 27 },
          { b: 27, e: 30, o: 2 },
          { b: 30, e: 32 },
          { b: 32, e: 31, o: 2 },
          { b: 28, e: 31 },
          { b: 23, e: 21 },
          { b: 20, e: 21 },
          { b: 21, e: 24, o: 2 },
        ],
      },
    });
    n.push(f);
    let r;
    b && (r = b.getItem("chemdoodle_user_templates"));
    f = { name: "My Templates", templates: r && null !== r ? k.parse(r) : [] };
    n.push(f);
    return n;
  })(JSON, localStorage);
  (function (k, b, n, f) {
    k.Button = function (b, h, d, l) {
      this.id = b;
      this.icon = h;
      this.toggle = !1;
      this.tooltip = d ? d : "";
      this.func = l ? l : f;
    };
    k = k.Button.prototype;
    k.getElement = function () {
      return n("#" + this.id);
    };
    k.getLabelElement = function () {
      return this.toggle ? n("#" + this.id + "_label") : f;
    };
    k.getSource = function (f) {
      let h = [];
      this.toggle
        ? (h.push('\x3cinput type\x3d"radio" name\x3d"'),
          h.push(f),
          h.push('" id\x3d"'),
          h.push(this.id),
          h.push('" title\x3d"'),
          h.push(this.tooltip),
          h.push('" /\x3e\x3clabel id\x3d"'),
          h.push(this.id),
          h.push('_label" for\x3d"'),
          h.push(this.id),
          h.push('" style\x3d"'),
          h.push(
            "box-sizing:border-box;margin-top:0px; margin-bottom:1px; padding:0px; height:28px; width:28px;"
          ),
          h.push('"\x3e\x3cimg id\x3d"'),
          h.push(this.id),
          h.push('_icon" title\x3d"'),
          h.push(this.tooltip),
          h.push('" width\x3d"20" height\x3d"20'),
          this.icon && (h.push('" src\x3d"'), h.push(b.getURI(this.icon))),
          h.push('"\x3e\x3c/label\x3e'))
        : (h.push('\x3cbutton type\x3d"button" id\x3d"'),
          h.push(this.id),
          h.push('" onclick\x3d"return false;" title\x3d"'),
          h.push(this.tooltip),
          h.push('" style\x3d"'),
          h.push(
            "box-sizing:border-box;margin-top:0px; margin-bottom:1px; padding:0px; height:28px; width:28px;"
          ),
          h.push('"\x3e\x3cimg title\x3d"'),
          h.push(this.tooltip),
          h.push('" width\x3d"20" height\x3d"20'),
          this.icon && (h.push('" src\x3d"'), h.push(b.getURI(this.icon))),
          h.push('"\x3e\x3c/button\x3e'));
      return h.join("");
    };
    k.setup = function (b) {
      let f = this.getElement();
      (this.toggle && !b) || f.button();
      f.click(this.func);
    };
    k.disable = function () {
      let b = this.getElement();
      b.mouseout();
      b.button("disable");
    };
    k.enable = function () {
      this.getElement().button("enable");
    };
    k.select = function () {
      let b = this.getElement();
      b.attr("checked", !0);
      b.button("refresh");
      this.toggle && this.getLabelElement().click();
    };
  })(
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.uis.gui.imageDepot,
    ChemDoodle.lib.jQuery
  );
  (function (k, b, n) {
    k.ButtonSet = function (b) {
      this.id = b;
      this.buttons = [];
      this.toggle = !0;
      this.columnCount = -1;
    };
    n = k.ButtonSet.prototype;
    n.getElement = function () {
      return b("#" + this.id);
    };
    n.getSource = function (b) {
      let f = [];
      if (-1 === this.columnCount) {
        f.push('\x3cspan id\x3d"');
        f.push(this.id);
        f.push('"\x3e');
        for (let h = 0, d = this.buttons.length; h < d; h++)
          this.toggle && (this.buttons[h].toggle = !0),
            f.push(this.buttons[h].getSource(b));
        this.dropDown && f.push(this.dropDown.getButtonSource());
        f.push("\x3c/span\x3e");
        this.dropDown && f.push(this.dropDown.getHiddenSource());
      } else {
        f.push(
          '\x3ctable cellspacing\x3d"0" style\x3d"margin:1px -2px 0px 1px;"\x3e'
        );
        let h = 0;
        for (let d = 0, l = this.buttons.length; d < l; d++)
          this.toggle && (this.buttons[d].toggle = !0),
            0 === h && f.push("\x3ctr\x3e"),
            f.push('\x3ctd style\x3d"padding:0px;"\x3e'),
            f.push(this.buttons[d].getSource(b)),
            f.push("\x3c/td\x3e"),
            h++,
            h === this.columnCount && (f.push("\x3c/tr\x3e"), (h = 0));
        f.push("\x3c/table\x3e");
      }
      return f.join("");
    };
    n.setup = function () {
      -1 === this.columnCount && this.getElement().buttonset();
      for (let b = 0, k = this.buttons.length; b < k; b++)
        this.buttons[b].setup(-1 !== this.columnCount);
      this.dropDown && this.dropDown.setup();
    };
    n.addDropDown = function (b) {
      this.dropDown = new k.DropDown(
        this.id + "_dd",
        b,
        this.buttons[this.buttons.length - 1]
      );
    };
    n.disable = function () {
      for (let b = 0, k = this.buttons.length; b < k; b++)
        this.buttons[b].disable();
    };
    n.enable = function () {
      for (let b = 0, k = this.buttons.length; b < k; b++)
        this.buttons[b].enable();
    };
  })(ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery);
  (function (k, b, n) {
    k.CheckBox = function (b, k, h, d) {
      this.id = b;
      this.checked = d ? d : !1;
      this.tooltip = k ? k : "";
      this.func = h ? h : n;
    };
    k = k.CheckBox.prototype = new k.Button();
    k.getSource = function () {
      let b = [];
      b.push('\x3cinput type\x3d"checkbox" id\x3d"');
      b.push(this.id);
      b.push('" ');
      this.checked && b.push('checked\x3d"" ');
      b.push('\x3e\x3clabel for\x3d"');
      b.push(this.id);
      b.push('"\x3e');
      b.push(this.tooltip);
      b.push("\x3c/label\x3e");
      return b.join("");
    };
    k.setup = function () {
      this.getElement().click(this.func);
    };
    k.check = function () {
      this.checked = !0;
      this.getElement().prop("checked", !0);
    };
    k.uncheck = function () {
      this.checked = !1;
      this.getElement().removeAttr("checked");
    };
  })(ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery);
  (function (k, b, n) {
    k.ColorPicker = function (b, k, h) {
      this.id = b;
      this.tooltip = k ? k : "";
      this.func = h ? h : n;
    };
    k = k.ColorPicker.prototype;
    k.getElement = function () {
      return b("#" + this.id);
    };
    k.getSource = function () {
      let b = [];
      b.push(
        '\x3ctable style\x3d"font-size:12px;text-align:left;border-spacing:0px"\x3e\x3ctr\x3e\x3ctd\x3e\x3cp\x3e'
      );
      b.push(this.tooltip);
      b.push('\x3c/p\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput id\x3d"');
      b.push(this.id);
      b.push(
        '" class\x3d"simple_color" value\x3d"#000000" /\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e'
      );
      return b.join("");
    };
    k.setup = function () {
      this.getElement().simpleColor({
        boxWidth: 20,
        livePreview: !0,
        chooserCSS: { "z-index": "900" },
        onSelect: this.func,
      });
    };
    k.setColor = function (b) {
      this.getElement().setColor(b);
    };
  })(ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery);
  (function (k, b, n, f) {
    k.Dialog = function (b, f, d) {
      this.sketcherid = b;
      this.id = b + f;
      this.title = d ? d : "Information";
    };
    k = k.Dialog.prototype;
    k.buttons = f;
    k.message = f;
    k.afterMessage = f;
    k.includeTextArea = !1;
    k.includeTextField = !1;
    k.getElement = function () {
      return b("#" + this.id);
    };
    k.getTextArea = function () {
      return b("#" + this.id + "_ta");
    };
    k.getTextField = function () {
      return b("#" + this.id + "_tf");
    };
    k.setup = function () {
      let f = [];
      f.push('\x3cdiv style\x3d"font-size:12px;" id\x3d"');
      f.push(this.id);
      f.push('" title\x3d"');
      f.push(this.title);
      f.push('"\x3e');
      this.message &&
        (f.push("\x3cp\x3e"), f.push(this.message), f.push("\x3c/p\x3e"));
      this.includeTextField &&
        (f.push(
          '\x3cinput type\x3d"text" style\x3d"font-family:\'Courier New\';" id\x3d"'
        ),
        f.push(this.id),
        f.push('_tf" autofocus\x3e\x3c/input\x3e'));
      this.includeTextArea &&
        (f.push('\x3ctextarea style\x3d"font-family:\'Courier New\';" id\x3d"'),
        f.push(this.id),
        f.push('_ta" cols\x3d"55" rows\x3d"10"\x3e\x3c/textarea\x3e'));
      this.afterMessage &&
        (f.push("\x3cp\x3e"), f.push(this.afterMessage), f.push("\x3c/p\x3e"));
      f.push("\x3c/div\x3e");
      n.getElementById(this.sketcherid)
        ? b("#" + this.sketcherid).before(f.join(""))
        : n.writeln(f.join(""));
      this.getElement().dialog({
        autoOpen: !1,
        width: 435,
        buttons: this.buttons,
      });
    };
    k.open = function () {
      this.getElement().dialog("open");
    };
  })(ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery, document);
  (function (k, b, n) {
    k.FloatingToolbar = function (b) {
      this.sketcher = b;
      this.components = [];
    };
    k = k.FloatingToolbar.prototype;
    k.getElement = function () {
      return b("#" + this.id);
    };
    k.getSource = function (b) {
      let f = [];
      f.push('\x3cdiv id\x3d"');
      f.push(this.sketcher.id);
      f.push(
        '_floating_toolbar" style\x3d"position:absolute;left:100px;z-index:10;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);border:1px #C1C1C1 solid;background:#F5F5F5;padding:2px 0px 0px 2px;"\x3e'
      );
      f.push('\x3cdiv id\x3d"');
      f.push(this.sketcher.id);
      f.push(
        '_floating_toolbar_handle" style\x3d"height:14px;"\x3e\x3cdiv style\x3d"box-sizing:border-box;padding:0px;margin-right:2px;height:4px;border-top:1px solid #999;border-bottom:1px solid #999;"\x3e'
      );
      f.push("\x3c/div\x3e\x3c/div\x3e");
      for (let h = 0, d = this.components.length; h < d; h++)
        f.push(this.components[h].getSource(b)), f.push("\x3cbr\x3e");
      f.push("\x3c/div\x3e");
      return f.join("");
    };
    k.setup = function () {
      let f = this;
      b("#" + this.sketcher.id + "_floating_toolbar").draggable({
        handle: "#" + this.sketcher.id + "_floating_toolbar_handle",
        drag: function () {
          f.sketcher.openTray && f.sketcher.openTray.reposition();
        },
        containment: "document",
      });
      for (let b = 0, f = this.components.length; b < f; b++)
        this.components[b].setup(!0);
    };
  })(ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery);
  (function (k, b, n, f, r, h, d) {
    let l = function (b, d, f, h, l) {
      let e = ["\x3ctr\x3e"];
      e.push("\x3ctd\x3e");
      -1 === b.indexOf("_elements") &&
        (e.push('\x3cinput type\x3d"checkbox" id\x3d"'),
        e.push(b),
        e.push('_include"\x3e'));
      e.push("\x3c/td\x3e");
      e.push("\x3ctd\x3e");
      e.push(d);
      f &&
        (e.push("\x3cbr\x3e(\x3cstrong\x3e"),
        e.push(f),
        e.push("\x3c/strong\x3e)"));
      e.push("\x3c/td\x3e");
      e.push('\x3ctd style\x3d"padding-left:20px;padding-right:20px;"\x3e');
      e.push(h);
      l &&
        (1 === l
          ? (e.push("\x3cbr\x3e"),
            e.push('\x3cinput type\x3d"text" id\x3d"'),
            e.push(b),
            e.push('_value"\x3e'))
          : e.push(l));
      e.push("\x3c/td\x3e");
      e.push('\x3ctd\x3e\x3cinput type\x3d"checkbox" id\x3d"');
      e.push(b);
      e.push('_not"\x3e\x3cbr\x3e\x3cstrong\x3eNOT\x3c/strong\x3e');
      e.push("\x3c/td\x3e");
      e.push("\x3c/tr\x3e");
      return e.join("");
    };
    f.AtomQueryDialog = function (b, d) {
      this.sketcher = b;
      this.id = b.id + d;
    };
    f = f.AtomQueryDialog.prototype = new f.Dialog();
    f.title = "Atom Query";
    f.setAtom = function (f) {
      this.a = f;
      let h = f.query;
      h || ((h = new b.Query(b.Query.TYPE_ATOM)), h.elements.v.push(f.label));
      for (let b = 0, d = this.periodicTable.cells.length; b < d; b++)
        this.periodicTable.cells[b].selected =
          -1 !==
          h.elements.v.indexOf(this.periodicTable.cells[b].element.symbol);
      this.periodicTable.repaint();
      r("#" + this.id + "_el_any").prop(
        "checked",
        -1 !== h.elements.v.indexOf("a")
      );
      r("#" + this.id + "_el_noth").prop(
        "checked",
        -1 !== h.elements.v.indexOf("r")
      );
      r("#" + this.id + "_el_het").prop(
        "checked",
        -1 !== h.elements.v.indexOf("q")
      );
      r("#" + this.id + "_el_hal").prop(
        "checked",
        -1 !== h.elements.v.indexOf("x")
      );
      r("#" + this.id + "_el_met").prop(
        "checked",
        -1 !== h.elements.v.indexOf("m")
      );
      r("#" + this.id + "_elements_not").prop("checked", h.elements.not);
      r("#" + this.id + "_aromatic_include").prop("checked", h.aromatic !== d);
      r("#" + this.id + "_aromatic_not").prop(
        "checked",
        h.aromatic !== d && h.aromatic.not
      );
      r("#" + this.id + "_charge_include").prop("checked", h.charge !== d);
      r("#" + this.id + "_charge_value").val(
        h.charge ? h.outputRange(h.charge.v) : ""
      );
      r("#" + this.id + "_charge_not").prop(
        "checked",
        h.charge !== d && h.charge.not
      );
      r("#" + this.id + "_hydrogens_include").prop(
        "checked",
        h.hydrogens !== d
      );
      r("#" + this.id + "_hydrogens_value").val(
        h.hydrogens ? h.outputRange(h.hydrogens.v) : ""
      );
      r("#" + this.id + "_hydrogens_not").prop(
        "checked",
        h.charge !== d && h.charge.not
      );
      r("#" + this.id + "_ringCount_include").prop(
        "checked",
        h.ringCount !== d
      );
      r("#" + this.id + "_ringCount_value").val(
        h.ringCount ? h.outputRange(h.ringCount.v) : ""
      );
      r("#" + this.id + "_ringCount_not").prop(
        "checked",
        h.ringCount !== d && h.ringCount.not
      );
      r("#" + this.id + "_saturation_include").prop(
        "checked",
        h.saturation !== d
      );
      r("#" + this.id + "_saturation_not").prop(
        "checked",
        h.saturation !== d && h.saturation.not
      );
      r("#" + this.id + "_connectivity_include").prop(
        "checked",
        h.connectivity !== d
      );
      r("#" + this.id + "_connectivity_value").val(
        h.connectivity ? h.outputRange(h.connectivity.v) : ""
      );
      r("#" + this.id + "_connectivity_not").prop(
        "checked",
        h.connectivity !== d && h.connectivity.not
      );
      r("#" + this.id + "_connectivityNoH_include").prop(
        "checked",
        h.connectivityNoH !== d
      );
      r("#" + this.id + "_connectivityNoH_value").val(
        h.connectivityNoH ? h.outputRange(h.connectivityNoH.v) : ""
      );
      r("#" + this.id + "_connectivityNoH_not").prop(
        "checked",
        h.connectivityNoH !== d && h.connectivityNoH.not
      );
      r("#" + this.id + "_chirality_include").prop(
        "checked",
        h.chirality !== d
      );
      h.chirality && "R" !== h.chirality.v
        ? h.chirality && "S" !== h.chirality.v
          ? (h.chirality && "A" !== h.chirality.v) ||
            r("#" + this.id + "_chiral_a")
              .prop("checked", !0)
              .button("refresh")
          : r("#" + this.id + "_chiral_s")
              .prop("checked", !0)
              .button("refresh")
        : r("#" + this.id + "_chiral_r")
            .prop("checked", !0)
            .button("refresh");
      r("#" + this.id + "_chirality_not").prop(
        "checked",
        h.chirality !== d && h.chirality.not
      );
    };
    f.setup = function () {
      let f = [];
      f.push(
        '\x3cdiv style\x3d"font-size:12px;text-align:center;height:300px;overflow-y:scroll;" id\x3d"'
      );
      f.push(this.id);
      f.push('" title\x3d"');
      f.push(this.title);
      f.push('"\x3e');
      f.push(
        "\x3cp\x3eSet the following form to define the atom query.\x3c/p\x3e"
      );
      f.push("\x3ctable\x3e");
      f.push(
        l(
          this.id + "_elements",
          "Identity",
          d,
          "Select any number of elements and/or wildcards.",
          '\x3ccanvas class\x3d"ChemDoodleWebComponent" id\x3d"' +
            this.id +
            '_pt"\x3e\x3c/canvas\x3e\x3cbr\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_el_any"\x3eAny (a)\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_el_noth"\x3e!Hydrogen (r)\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_el_het"\x3eHeteroatom (q)\x3cbr\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_el_hal"\x3eHalide (x)\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_el_met"\x3eMetal (m)'
        )
      );
      f.push(
        '\x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x3chr style\x3d"width:100%"\x3e\x3c/td\x3e\x3c/tr\x3e'
      );
      f.push(
        l(
          this.id + "_aromatic",
          "Aromatic",
          "A",
          "Specifies that the matched atom should be aromatic. Use the NOT modifier to specify not aromatic or anti-aromatic."
        )
      );
      f.push(
        l(
          this.id + "_charge",
          "Charge",
          "C",
          "Defines the allowed charge for the matched atom.",
          1
        )
      );
      f.push(
        l(
          this.id + "_hydrogens",
          "Hydrogens",
          "H",
          "Defines the total number of hydrogens attached to the atom, implicit and explicit.",
          1
        )
      );
      f.push(
        l(
          this.id + "_ringCount",
          "Ring Count",
          "R",
          "Defines the total number of rings this atom is a member of. (SSSR)",
          1
        )
      );
      f.push(
        l(
          this.id + "_saturation",
          "Saturation",
          "S",
          "Specifies that the matched atom should be saturated. Use the NOT modifier to specify unsaturation."
        )
      );
      f.push(
        l(
          this.id + "_connectivity",
          "Connectivity",
          "X",
          "Defines the total number of bonds connected to the atom, including all hydrogens.",
          1
        )
      );
      f.push(
        l(
          this.id + "_connectivityNoH",
          "Connectivity (No H)",
          "x",
          "Defines the total number of bonds connected to the atom, excluding all hydrogens.",
          1
        )
      );
      f.push(
        l(
          this.id + "_chirality",
          "Chirality",
          "@",
          "Defines the stereochemical configuration of the atom.",
          '\x3cdiv id\x3d"' +
            this.id +
            '_radio"\x3e\x3cinput type\x3d"radio" id\x3d"' +
            this.id +
            '_chiral_a" name\x3d"radio"\x3e\x3clabel for\x3d"' +
            this.id +
            '_chiral_a"\x3eAny (A)\x3c/label\x3e\x3cinput type\x3d"radio" id\x3d"' +
            this.id +
            '_chiral_r" name\x3d"radio"\x3e\x3clabel for\x3d"' +
            this.id +
            '_chiral_r"\x3eRectus (R)\x3c/label\x3e\x3cinput type\x3d"radio" id\x3d"' +
            this.id +
            '_chiral_s" name\x3d"radio"\x3e\x3clabel for\x3d"' +
            this.id +
            '_chiral_s"\x3eSinestra (S)\x3c/label\x3e\x3c/div\x3e'
        )
      );
      f.push("\x3c/table\x3e");
      f.push("\x3c/div\x3e");
      h.getElementById(this.sketcher.id)
        ? r("#" + this.sketcher.id).before(f.join(""))
        : h.writeln(f.join(""));
      this.periodicTable = new k.PeriodicTableCanvas(this.id + "_pt", 16);
      this.periodicTable.allowMultipleSelections = !0;
      this.periodicTable.drawCell = function (b, d, f) {
        this.hovered === f
          ? ((b.fillStyle = "blue"),
            b.fillRect(f.x, f.y, f.dimension, f.dimension))
          : f.selected &&
            ((b.fillStyle = "#c10000"),
            b.fillRect(f.x, f.y, f.dimension, f.dimension));
        b.strokeStyle = "black";
        b.strokeRect(f.x, f.y, f.dimension, f.dimension);
        b.font = "10px Sans-serif";
        b.fillStyle = "black";
        b.textAlign = "center";
        b.textBaseline = "middle";
        b.fillText(
          f.element.symbol,
          f.x + f.dimension / 2,
          f.y + f.dimension / 2
        );
      };
      this.periodicTable.repaint();
      let u = this;
      r("#" + this.id + "_radio").buttonset();
      this.getElement().dialog({
        autoOpen: !1,
        width: 500,
        height: 300,
        buttons: {
          Cancel: function () {
            r(this).dialog("close");
          },
          Remove: function () {
            u.sketcher.historyManager.pushUndo(new n.ChangeQueryAction(u.a));
            r(this).dialog("close");
          },
          Set: function () {
            let d = new b.Query(b.Query.TYPE_ATOM);
            r("#" + u.id + "_el_any").is(":checked") && d.elements.v.push("a");
            r("#" + u.id + "_el_noth").is(":checked") && d.elements.v.push("r");
            r("#" + u.id + "_el_het").is(":checked") && d.elements.v.push("q");
            r("#" + u.id + "_el_hal").is(":checked") && d.elements.v.push("x");
            r("#" + u.id + "_el_met").is(":checked") && d.elements.v.push("m");
            for (let b = 0, f = u.periodicTable.cells.length; b < f; b++)
              u.periodicTable.cells[b].selected &&
                d.elements.v.push(u.periodicTable.cells[b].element.symbol);
            r("#" + u.id + "_elements_not").is(":checked") &&
              (d.elements.not = !0);
            r("#" + u.id + "_aromatic_include").is(":checked") &&
              (d.aromatic = {
                v: !0,
                not: r("#" + u.id + "_aromatic_not").is(":checked"),
              });
            r("#" + u.id + "_charge_include").is(":checked") &&
              (d.charge = {
                v: d.parseRange(r("#" + u.id + "_charge_value").val()),
                not: r("#" + u.id + "_charge_not").is(":checked"),
              });
            r("#" + u.id + "_hydrogens_include").is(":checked") &&
              (d.hydrogens = {
                v: d.parseRange(r("#" + u.id + "_hydrogens_value").val()),
                not: r("#" + u.id + "_hydrogens_not").is(":checked"),
              });
            r("#" + u.id + "_ringCount_include").is(":checked") &&
              (d.ringCount = {
                v: d.parseRange(r("#" + u.id + "_ringCount_value").val()),
                not: r("#" + u.id + "_ringCount_not").is(":checked"),
              });
            r("#" + u.id + "_saturation_include").is(":checked") &&
              (d.saturation = {
                v: !0,
                not: r("#" + u.id + "_saturation_not").is(":checked"),
              });
            r("#" + u.id + "_connectivity_include").is(":checked") &&
              (d.connectivity = {
                v: d.parseRange(r("#" + u.id + "_connectivity_value").val()),
                not: r("#" + u.id + "_connectivity_not").is(":checked"),
              });
            r("#" + u.id + "_connectivityNoH_include").is(":checked") &&
              (d.connectivityNoH = {
                v: d.parseRange(r("#" + u.id + "_connectivityNoH_value").val()),
                not: r("#" + u.id + "_connectivityNoH_not").is(":checked"),
              });
            if (r("#" + u.id + "_chirality_include").is(":checked")) {
              let b = "R";
              r("#" + u.id + "_chiral_a").is(":checked")
                ? (b = "A")
                : r("#" + u.id + "_chiral_s").is(":checked") && (b = "S");
              d.chirality = {
                v: b,
                not: r("#" + u.id + "_chirity_not").is(":checked"),
              };
            }
            u.sketcher.historyManager.pushUndo(new n.ChangeQueryAction(u.a, d));
            r(this).dialog("close");
          },
        },
        open: function (b, d) {
          r("#" + u.id).animate({ scrollTop: 0 }, "fast");
        },
      });
    };
  })(
    ChemDoodle,
    ChemDoodle.structures,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.lib.jQuery,
    document
  );
  (function (k, b, n, f, r, h, d, l) {
    let w = function (b, d, f, h, e) {
      let l = ["\x3ctr\x3e"];
      l.push("\x3ctd\x3e");
      -1 === b.indexOf("_orders") &&
        (l.push('\x3cinput type\x3d"checkbox" id\x3d"'),
        l.push(b),
        l.push('_include"\x3e'));
      l.push("\x3c/td\x3e");
      l.push("\x3ctd\x3e");
      l.push(d);
      f &&
        (l.push("\x3cbr\x3e(\x3cstrong\x3e"),
        l.push(f),
        l.push("\x3c/strong\x3e)"));
      l.push("\x3c/td\x3e");
      l.push('\x3ctd style\x3d"padding-left:20px;padding-right:20px;"\x3e');
      l.push(h);
      e &&
        (1 === e
          ? (l.push("\x3cbr\x3e"),
            l.push('\x3cinput type\x3d"text" id\x3d"'),
            l.push(b),
            l.push('_value"\x3e'))
          : l.push(e));
      l.push("\x3c/td\x3e");
      l.push('\x3ctd\x3e\x3cinput type\x3d"checkbox" id\x3d"');
      l.push(b);
      l.push('_not"\x3e\x3cbr\x3e\x3cstrong\x3eNOT\x3c/strong\x3e');
      l.push("\x3c/td\x3e");
      l.push("\x3c/tr\x3e");
      return l.join("");
    };
    f.BondQueryDialog = function (b, d) {
      this.sketcher = b;
      this.id = b.id + d;
    };
    k = f.BondQueryDialog.prototype = new f.Dialog();
    k.title = "Bond Query";
    k.setBond = function (d) {
      this.b = d;
      let f = d.query;
      if (!f)
        switch (((f = new b.Query(b.Query.TYPE_BOND)), d.bondOrder)) {
          case 0:
            f.orders.v.push("0");
            break;
          case 0.5:
            f.orders.v.push("h");
            break;
          case 1:
            f.orders.v.push("1");
            break;
          case 1.5:
            f.orders.v.push("r");
            break;
          case 2:
            f.orders.v.push("2");
            break;
          case 3:
            f.orders.v.push("3");
        }
      h("#" + this.id + "_type_0")
        .prop("checked", -1 !== f.orders.v.indexOf("0"))
        .button("refresh");
      h("#" + this.id + "_type_1")
        .prop("checked", -1 !== f.orders.v.indexOf("1"))
        .button("refresh");
      h("#" + this.id + "_type_2")
        .prop("checked", -1 !== f.orders.v.indexOf("2"))
        .button("refresh");
      h("#" + this.id + "_type_3")
        .prop("checked", -1 !== f.orders.v.indexOf("3"))
        .button("refresh");
      h("#" + this.id + "_type_4")
        .prop("checked", -1 !== f.orders.v.indexOf("4"))
        .button("refresh");
      h("#" + this.id + "_type_5")
        .prop("checked", -1 !== f.orders.v.indexOf("5"))
        .button("refresh");
      h("#" + this.id + "_type_6")
        .prop("checked", -1 !== f.orders.v.indexOf("6"))
        .button("refresh");
      h("#" + this.id + "_type_h")
        .prop("checked", -1 !== f.orders.v.indexOf("h"))
        .button("refresh");
      h("#" + this.id + "_type_r")
        .prop("checked", -1 !== f.orders.v.indexOf("r"))
        .button("refresh");
      h("#" + this.id + "_type_a")
        .prop("checked", -1 !== f.orders.v.indexOf("a"))
        .button("refresh");
      h("#" + this.id + "_orders_not").prop("checked", f.orders.not);
      h("#" + this.id + "_aromatic_include").prop("checked", f.aromatic !== l);
      h("#" + this.id + "_aromatic_not").prop(
        "checked",
        f.aromatic !== l && f.aromatic.not
      );
      h("#" + this.id + "_ringCount_include").prop(
        "checked",
        f.ringCount !== l
      );
      h("#" + this.id + "_ringCount_value").val(
        f.ringCount ? f.outputRange(f.ringCount.v) : ""
      );
      h("#" + this.id + "_ringCount_not").prop(
        "checked",
        f.ringCount !== l && f.ringCount.not
      );
      h("#" + this.id + "_stereo_include").prop("checked", f.stereo !== l);
      f.stereo && "E" !== f.stereo.v
        ? f.stereo && "Z" !== f.stereo.v
          ? (f.stereo && "A" !== f.stereo.v) ||
            h("#" + this.id + "_stereo_a")
              .prop("checked", !0)
              .button("refresh")
          : h("#" + this.id + "_stereo_z")
              .prop("checked", !0)
              .button("refresh")
        : h("#" + this.id + "_stereo_e")
            .prop("checked", !0)
            .button("refresh");
      h("#" + this.id + "_stereo_not").prop(
        "checked",
        f.stereo !== l && f.stereo.not
      );
    };
    k.setup = function () {
      let f = [];
      f.push(
        '\x3cdiv style\x3d"font-size:12px;text-align:center;height:300px;overflow-y:scroll;" id\x3d"'
      );
      f.push(this.id);
      f.push('" title\x3d"');
      f.push(this.title);
      f.push('"\x3e');
      f.push(
        "\x3cp\x3eSet the following form to define the bond query.\x3c/p\x3e"
      );
      f.push("\x3ctable\x3e");
      f.push(
        w(
          this.id + "_orders",
          "Identity",
          l,
          "Select any number of bond types.",
          '\x3cdiv id\x3d"' +
            this.id +
            '_radioTypes"\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_type_0"\x3e\x3clabel for\x3d"' +
            this.id +
            '_type_0"\x3e\x3cimg width\x3d"20" height\x3d"20" src\x3d"' +
            r.getURI(r.BOND_ZERO) +
            '" /\x3e\x3c/label\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_type_1"\x3e\x3clabel for\x3d"' +
            this.id +
            '_type_1"\x3e\x3cimg width\x3d"20" height\x3d"20" src\x3d"' +
            r.getURI(r.BOND_SINGLE) +
            '" /\x3e\x3c/label\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_type_2"\x3e\x3clabel for\x3d"' +
            this.id +
            '_type_2"\x3e\x3cimg width\x3d"20" height\x3d"20" src\x3d"' +
            r.getURI(r.BOND_DOUBLE) +
            '" /\x3e\x3c/label\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_type_3"\x3e\x3clabel for\x3d"' +
            this.id +
            '_type_3"\x3e\x3cimg width\x3d"20" height\x3d"20" src\x3d"' +
            r.getURI(r.BOND_TRIPLE) +
            '" /\x3e\x3c/label\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_type_4"\x3e\x3clabel for\x3d"' +
            this.id +
            '_type_4"\x3e\x3cimg width\x3d"20" height\x3d"20" src\x3d"' +
            r.getURI(r.BOND_QUADRUPLE) +
            '" /\x3e\x3c/label\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_type_5"\x3e\x3clabel for\x3d"' +
            this.id +
            '_type_5"\x3e\x3cimg width\x3d"20" height\x3d"20" src\x3d"' +
            r.getURI(r.BOND_QUINTUPLE) +
            '" /\x3e\x3c/label\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_type_6"\x3e\x3clabel for\x3d"' +
            this.id +
            '_type_6"\x3e\x3cimg width\x3d"20" height\x3d"20" src\x3d"' +
            r.getURI(r.BOND_SEXTUPLE) +
            '" /\x3e\x3c/label\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_type_h"\x3e\x3clabel for\x3d"' +
            this.id +
            '_type_h"\x3e\x3cimg width\x3d"20" height\x3d"20" src\x3d"' +
            r.getURI(r.BOND_HALF) +
            '" /\x3e\x3c/label\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_type_r"\x3e\x3clabel for\x3d"' +
            this.id +
            '_type_r"\x3e\x3cimg width\x3d"20" height\x3d"20" src\x3d"' +
            r.getURI(r.BOND_RESONANCE) +
            '" /\x3e\x3c/label\x3e\x3cinput type\x3d"checkbox" id\x3d"' +
            this.id +
            '_type_a"\x3e\x3clabel for\x3d"' +
            this.id +
            '_type_a"\x3e\x3cimg width\x3d"20" height\x3d"20" src\x3d"' +
            r.getURI(r.BOND_ANY) +
            '" /\x3e\x3c/label\x3e\x3c/div\x3e'
        )
      );
      f.push(
        '\x3ctr\x3e\x3ctd colspan\x3d"4"\x3e\x3chr style\x3d"width:100%"\x3e\x3c/td\x3e\x3c/tr\x3e'
      );
      f.push(
        w(
          this.id + "_aromatic",
          "Aromatic",
          "A",
          "Specifies that the matched bond should be aromatic. Use the NOT modifier to specify not aromatic or anti-aromatic."
        )
      );
      f.push(
        w(
          this.id + "_ringCount",
          "Ring Count",
          "R",
          "Defines the total number of rings this bond is a member of. (SSSR)",
          1
        )
      );
      f.push(
        w(
          this.id + "_stereo",
          "Stereochemistry",
          "@",
          "Defines the stereochemical configuration of the bond.",
          '\x3cdiv id\x3d"' +
            this.id +
            '_radio"\x3e\x3cinput type\x3d"radio" id\x3d"' +
            this.id +
            '_stereo_a" name\x3d"radio"\x3e\x3clabel for\x3d"' +
            this.id +
            '_stereo_a"\x3eAny (A)\x3c/label\x3e\x3cinput type\x3d"radio" id\x3d"' +
            this.id +
            '_stereo_e" name\x3d"radio"\x3e\x3clabel for\x3d"' +
            this.id +
            '_stereo_e"\x3eEntgegen (E)\x3c/label\x3e\x3cinput type\x3d"radio" id\x3d"' +
            this.id +
            '_stereo_z" name\x3d"radio"\x3e\x3clabel for\x3d"' +
            this.id +
            '_stereo_z"\x3eZusammen (Z)\x3c/label\x3e\x3c/div\x3e'
        )
      );
      f.push("\x3c/table\x3e");
      f.push("\x3c/div\x3e");
      d.getElementById(this.sketcher.id)
        ? h("#" + this.sketcher.id).before(f.join(""))
        : d.writeln(f.join(""));
      let k = this;
      h("#" + this.id + "_radioTypes").buttonset();
      h("#" + this.id + "_radio").buttonset();
      this.getElement().dialog({
        autoOpen: !1,
        width: 520,
        height: 300,
        buttons: {
          Cancel: function () {
            h(this).dialog("close");
          },
          Remove: function () {
            k.sketcher.historyManager.pushUndo(new n.ChangeQueryAction(k.b));
            h(this).dialog("close");
          },
          Set: function () {
            let d = new b.Query(b.Query.TYPE_BOND);
            h("#" + k.id + "_type_0").is(":checked") && d.orders.v.push("0");
            h("#" + k.id + "_type_1").is(":checked") && d.orders.v.push("1");
            h("#" + k.id + "_type_2").is(":checked") && d.orders.v.push("2");
            h("#" + k.id + "_type_3").is(":checked") && d.orders.v.push("3");
            h("#" + k.id + "_type_4").is(":checked") && d.orders.v.push("4");
            h("#" + k.id + "_type_5").is(":checked") && d.orders.v.push("5");
            h("#" + k.id + "_type_6").is(":checked") && d.orders.v.push("6");
            h("#" + k.id + "_type_h").is(":checked") && d.orders.v.push("h");
            h("#" + k.id + "_type_r").is(":checked") && d.orders.v.push("r");
            h("#" + k.id + "_type_a").is(":checked") && d.orders.v.push("a");
            h("#" + k.id + "_orders_not").is(":checked") && (d.orders.not = !0);
            h("#" + k.id + "_aromatic_include").is(":checked") &&
              (d.aromatic = {
                v: !0,
                not: h("#" + k.id + "_aromatic_not").is(":checked"),
              });
            h("#" + k.id + "_ringCount_include").is(":checked") &&
              (d.ringCount = {
                v: d.parseRange(h("#" + k.id + "_ringCount_value").val()),
                not: h("#" + k.id + "_ringCount_not").is(":checked"),
              });
            if (h("#" + k.id + "_stereo_include").is(":checked")) {
              let b = "E";
              h("#" + k.id + "_stereo_a").is(":checked")
                ? (b = "A")
                : h("#" + k.id + "_stereo_z").is(":checked") && (b = "Z");
              d.stereo = {
                v: b,
                not: h("#" + k.id + "_stereo_not").is(":checked"),
              };
            }
            k.sketcher.historyManager.pushUndo(new n.ChangeQueryAction(k.b, d));
            h(this).dialog("close");
          },
        },
        open: function (b, d) {
          h("#" + k.id).animate({ scrollTop: 0 }, "fast");
        },
      });
    };
  })(
    ChemDoodle,
    ChemDoodle.structures,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.uis.gui.imageDepot,
    ChemDoodle.lib.jQuery,
    document
  );
  (function (k, b, n, f, r) {
    b.MolGrabberDialog = function (b, d) {
      this.sketcherid = b;
      this.id = b + d;
    };
    b = b.MolGrabberDialog.prototype = new b.Dialog();
    b.title = "MolGrabber";
    b.setup = function () {
      let b = [];
      b.push('\x3cdiv style\x3d"font-size:12px;text-align:center;" id\x3d"');
      b.push(this.id);
      b.push('" title\x3d"');
      b.push(this.title);
      b.push('"\x3e');
      this.message &&
        (b.push("\x3cp\x3e"), b.push(this.message), b.push("\x3c/p\x3e"));
      b.push('\x3ccanvas class\x3d"ChemDoodleWebComponent" id\x3d"');
      b.push(this.id);
      b.push('_mg"\x3e\x3c/canvas\x3e');
      this.afterMessage &&
        (b.push("\x3cp\x3e"), b.push(this.afterMessage), b.push("\x3c/p\x3e"));
      b.push("\x3c/div\x3e");
      f.getElementById(this.sketcherid)
        ? n("#" + this.sketcherid).before(b.join(""))
        : f.writeln(b.join(""));
      this.canvas = new k.MolGrabberCanvas(this.id + "_mg", 200, 200);
      this.canvas.styles.backgroundColor = "#fff";
      this.canvas.repaint();
      this.getElement().dialog({
        autoOpen: !1,
        width: 250,
        buttons: this.buttons,
      });
    };
  })(ChemDoodle, ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery, document);
  (function (k, b, n, f, r) {
    b.PeriodicTableDialog = function (b, d) {
      this.sketcher = b;
      this.id = b.id + d;
    };
    k = b.PeriodicTableDialog.prototype = new b.Dialog();
    k.title = "Periodic Table";
    k.setup = function () {
      let b = [];
      b.push('\x3cdiv style\x3d"text-align:center;" id\x3d"');
      b.push(this.id);
      b.push('" title\x3d"');
      b.push(this.title);
      b.push('"\x3e');
      b.push('\x3ccanvas class\x3d"ChemDoodleWebComponents" id\x3d"');
      b.push(this.id);
      b.push('_pt"\x3e\x3c/canvas\x3e\x3c/div\x3e');
      f.getElementById(this.sketcher.id)
        ? n("#" + this.sketcher.id).before(b.join(""))
        : f.writeln(b.join(""));
      this.canvas = new ChemDoodle.PeriodicTableCanvas(this.id + "_pt", 20);
      this.canvas.selected = this.canvas.cells[7];
      this.canvas.repaint();
      let d = this;
      this.canvas.click = function (b) {
        this.hovered &&
          ((this.selected = this.hovered),
          (b = this.getHoveredElement()),
          d.sketcher.stateManager.setState(d.sketcher.stateManager.STATE_LABEL),
          (d.sketcher.stateManager.STATE_LABEL.label = b.symbol),
          d.sketcher.floatDrawTools
            ? d.sketcher.toolbarManager.labelTray.open(
                d.sketcher.toolbarManager.buttonLabelPT
              )
            : d.sketcher.toolbarManager.buttonLabel.absorb(
                d.sketcher.toolbarManager.buttonLabelPT
              ),
          d.sketcher.toolbarManager.buttonLabel.select(),
          this.repaint());
      };
      this.getElement().dialog({
        autoOpen: !1,
        width: 400,
        buttons: d.buttons,
      });
    };
  })(ChemDoodle, ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery, document);
  (function (k, b, n, f, r) {
    b.SaveFileDialog = function (b, d) {
      this.id = b;
      this.sketcher = d;
    };
    k = b.SaveFileDialog.prototype = new b.Dialog();
    k.title = "Save File";
    k.clear = function () {
      n("#" + this.id + "_link").html("The file link will appear here.");
    };
    k.setup = function () {
      let b = [];
      b.push('\x3cdiv style\x3d"font-size:12px;" id\x3d"');
      b.push(this.id);
      b.push('" title\x3d"');
      b.push(this.title);
      b.push('"\x3e');
      b.push(
        "\x3cp\x3eSelect the file format to save your structure to and click on the \x3cstrong\x3eGenerate File\x3c/strong\x3e button.\x3c/p\x3e"
      );
      b.push('\x3cselect id\x3d"');
      b.push(this.id);
      b.push('_select"\x3e');
      b.push('\x3coption value\x3d"sk2"\x3eACD/ChemSketch Document {sk2}');
      b.push('\x3coption value\x3d"ros"\x3eBeilstein ROSDAL {ros}');
      b.push(
        '\x3coption value\x3d"cdx"\x3eCambridgesoft ChemDraw Exchange {cdx}'
      );
      b.push(
        '\x3coption value\x3d"cdxml"\x3eCambridgesoft ChemDraw XML {cdxml}'
      );
      b.push('\x3coption value\x3d"mrv"\x3eChemAxon Marvin Document {mrv}');
      b.push('\x3coption value\x3d"cml"\x3eChemical Markup Language {cml}');
      b.push('\x3coption value\x3d"smiles"\x3eDaylight SMILES {smiles}');
      b.push(
        '\x3coption value\x3d"icl" selected\x3eiChemLabs ChemDoodle Document {icl}'
      );
      b.push('\x3coption value\x3d"inchi"\x3eIUPAC InChI {inchi}');
      b.push('\x3coption value\x3d"jdx"\x3eIUPAC JCAMP-DX {jdx}');
      b.push('\x3coption value\x3d"skc"\x3eMDL ISIS Sketch {skc}');
      b.push(
        '\x3coption value\x3d"tgf"\x3eMDL ISIS Sketch Transportable Graphics File {tgf}'
      );
      b.push('\x3coption value\x3d"mol"\x3eMDL MOLFile {mol}');
      b.push('\x3coption value\x3d"sdf"\x3eMDL SDFile {sdf}');
      b.push('\x3coption value\x3d"jme"\x3eMolinspiration JME String {jme}');
      b.push('\x3coption value\x3d"pdb"\x3eRCSB Protein Data Bank {pdb}');
      b.push(
        '\x3coption value\x3d"mmd"\x3eSchr\x26ouml;dinger Macromodel {mmd}'
      );
      b.push('\x3coption value\x3d"mae"\x3eSchr\x26ouml;dinger Maestro {mae}');
      b.push('\x3coption value\x3d"smd"\x3eStandard Molecular Data {smd}');
      b.push('\x3coption value\x3d"mol2"\x3eTripos Mol2 {mol2}');
      b.push('\x3coption value\x3d"sln"\x3eTripos SYBYL SLN {sln}');
      b.push('\x3coption value\x3d"xyz"\x3eXYZ {xyz}');
      b.push("\x3c/select\x3e");
      b.push('\x3cbutton type\x3d"button" id\x3d"');
      b.push(this.id);
      b.push('_button"\x3e');
      b.push("Generate File\x3c/button\x3e");
      b.push(
        "\x3cp\x3eWhen the file is written, a link will appear in the red-bordered box below, right-click on the link and choose the browser's \x3cstrong\x3eSave As...\x3c/strong\x3e function to save the file to your computer.\x3c/p\x3e"
      );
      b.push(
        '\x3cdiv style\x3d"width:100%;height:30px;border:1px solid #c10000;text-align:center;" id\x3d"'
      );
      b.push(this.id);
      b.push('_link"\x3eThe file link will appear here.\x3c/div\x3e');
      b.push(
        '\x3cp\x3e\x3ca href\x3d"http://www.chemdoodle.com" target\x3d"_blank"\x3eHow do I use these files?\x3c/a\x3e\x3c/p\x3e'
      );
      b.push("\x3c/div\x3e");
      f.getElementById(this.sketcher.id)
        ? n("#" + this.sketcher.id).before(b.join(""))
        : f.writeln(b.join(""));
      let d = this;
      n("#" + this.id + "_button").click(function () {
        n("#" + d.id + "_link").html("Generating file, please wait...");
        ChemDoodle.iChemLabs.saveFile(
          d.sketcher.oneMolecule
            ? d.sketcher.molecules[0]
            : d.sketcher.lasso.getFirstMolecule(),
          { ext: n("#" + d.id + "_select").val() },
          function (b) {
            n("#" + d.id + "_link").html(
              '\x3ca href\x3d"' +
                b +
                '"\x3e\x3cspan style\x3d"text-decoration:underline;"\x3eFile is generated. Right-click on this link and Save As...\x3c/span\x3e\x3c/a\x3e'
            );
          }
        );
      });
      this.getElement().dialog({
        autoOpen: !1,
        width: 435,
        buttons: d.buttons,
      });
    };
  })(ChemDoodle, ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery, document);
  (function (k, b, n, f, r, h, d, l, w, u) {
    let v = new b.JSONInterpreter(),
      q = /[^A-z0-9]|\[|\]/g;
    n.TemplateDialog = function (b, e) {
      this.sketcher = b;
      this.id = b.id + e;
    };
    b = n.TemplateDialog.prototype = new n.Dialog();
    b.title = "Templates";
    b.setup = function () {
      let b = this,
        e = [];
      e.push(
        '\x3cdiv style\x3d"font-size:12px;align-items:center;display:flex;flex-direction:column;" id\x3d"'
      );
      e.push(this.id);
      e.push('" title\x3d"');
      e.push(this.title);
      e.push('"\x3e');
      e.push('\x3ccanvas class\x3d"ChemDoodleWebComponent" id\x3d"');
      e.push(this.id);
      e.push('_buffer" style\x3d"display:none;"\x3e\x3c/canvas\x3e');
      e.push('\x3ccanvas class\x3d"ChemDoodleWebComponent" id\x3d"');
      e.push(this.id);
      e.push('_attachment"\x3e\x3c/canvas\x3e');
      e.push('\x3cdiv\x3e\x3cselect id\x3d"');
      e.push(this.id);
      e.push('_select"\x3e');
      for (let b = 0, d = f.length; b < d; b++) {
        var n = f[b];
        e.push('\x3coption value\x3d"');
        e.push(n.name);
        e.push('"\x3e');
        e.push(n.name);
        e.push("\x3c/option\x3e");
      }
      e.push("\x3c/select\x3e");
      e.push('\x26nbsp;\x26nbsp;\x3cbutton type\x3d"button" id\x3d"');
      e.push(this.id);
      e.push('_button_add"\x3eAdd Template\x3c/button\x3e\x3c/div\x3e');
      e.push('\x3cdiv id\x3d"');
      e.push(this.id);
      e.push(
        '_scroll" style\x3d"width:100%;height:150px;flex-grow:1;overflow-y:scroll;overflow-x:hidden;background:#eee;padding-right:5px;padding-bottom:5px;"\x3e'
      );
      for (let b = 0, d = f.length; b < d; b++)
        (n = f[b]),
          (n.condensedName = n.name.replace(q, "")),
          e.push(
            '\x3cdiv style\x3d"display:flex;flex-wrap:wrap;justify-content:center;" id\x3d"'
          ),
          e.push(this.id),
          e.push("_"),
          e.push(n.condensedName),
          e.push('_panel"\x3e'),
          e.push("\x3c/div\x3e");
      e.push("\x3c/div\x3e");
      e.push("\x3c/div\x3e");
      d.getElementById(this.sketcher.id)
        ? r("#" + this.sketcher.id).before(e.join(""))
        : d.writeln(e.join(""));
      this.buffer = new k.ViewerCanvas(this.id + "_buffer", 100, 100);
      this.bufferElement = d.getElementById(this.buffer.id);
      this.canvas = new k.ViewerCanvas(this.id + "_attachment", 200, 200);
      this.canvas.mouseout = function (b) {
        if (0 !== this.molecules.length) {
          for (let b = 0, a = this.molecules[0].atoms.length; b < a; b++)
            this.molecules[0].atoms[b].isHover = !1;
          this.repaint();
        }
      };
      this.canvas.touchend = this.canvas.mouseout;
      this.canvas.mousemove = function (b) {
        if (0 !== this.molecules.length) {
          let e = u;
          b.p.x = this.width / 2 + (b.p.x - this.width / 2) / this.styles.scale;
          b.p.y =
            this.height / 2 + (b.p.y - this.height / 2) / this.styles.scale;
          for (let a = 0, c = this.molecules[0].atoms.length; a < c; a++) {
            let c = this.molecules[0].atoms[a];
            c.isHover = !1;
            if (e === u || b.p.distance(c) < b.p.distance(e)) e = c;
          }
          10 > b.p.distance(e) && (e.isHover = !0);
          this.repaint();
        }
      };
      this.canvas.mousedown = function (e) {
        if (0 !== this.molecules.length) {
          e = !1;
          for (let b = 0, a = this.molecules[0].atoms.length; b < a; b++)
            if (this.molecules[0].atoms[b].isHover) {
              e = !0;
              break;
            }
          if (e)
            for (let d = 0, a = this.molecules[0].atoms.length; d < a; d++)
              (e = this.molecules[0].atoms[d]),
                (e.isSelected = !1),
                e.isHover &&
                  ((e.isSelected = !0),
                  (e.isHover = !1),
                  (b.sketcher.stateManager.STATE_NEW_TEMPLATE.attachPos = d),
                  b.sketcher.toolbarManager.buttonTemplate.select(),
                  b.sketcher.toolbarManager.buttonTemplate
                    .getElement()
                    .click());
          this.repaint();
        }
      };
      this.canvas.touchstart = function (e) {
        b.canvas.mousemove(e);
        b.canvas.mousedown(e);
      };
      this.canvas.drawChildExtras = function (e, d) {
        e.strokeStyle = b.sketcher.styles.colorSelect;
        e.fillStyle = b.sketcher.styles.colorSelect;
        e.beginPath();
        e.arc(8, 8, 7, 0, 2 * h.PI, !1);
        e.stroke();
        e.textAlign = "left";
        e.textBaseline = "middle";
        e.fillText("Substitution Point", 18, 8);
        e.save();
        e.translate(this.width / 2, this.height / 2);
        e.rotate(d.rotateAngle);
        e.scale(d.scale, d.scale);
        e.translate(-this.width / 2, -this.height / 2);
        if (0 !== this.molecules.length)
          for (let a = 0, c = this.molecules[0].atoms.length; a < c; a++)
            this.molecules[0].atoms[a].drawDecorations(e, b.sketcher.styles);
        e.restore();
      };
      this.getElement().dialog({
        autoOpen: !1,
        width: 260,
        height: 450,
        buttons: b.buttons,
        open: function () {
          b.populated || ((b.populated = !0), b.populate());
        },
      });
      r("#" + this.id + "_select").change(function () {
        let e = this.selectedIndex;
        for (let e = 0, a = f.length; e < a; e++)
          r("#" + b.id + "_" + f[e].condensedName + "_panel").hide();
        r("#" + b.id + "_" + f[e].condensedName + "_panel").show();
        r("#" + b.id + "_scroll").scrollTop(0);
        b.loadTemplate(e, 0, !0);
      });
      r("#" + this.id + "_button_add").click(function () {
        if (0 === b.sketcher.lasso.atoms.length)
          alert("Please select a structure to define a template.");
        else {
          var e = !0;
          if (1 < b.sketcher.lasso.atoms.length) {
            var d = b.sketcher.lasso.getFirstMolecule();
            for (let a = 1, f = b.sketcher.lasso.atoms.length; a < f; a++)
              if (
                d !== b.sketcher.getMoleculeByAtom(b.sketcher.lasso.atoms[a])
              ) {
                e = !1;
                alert(
                  "Templates may only be defined of a single discrete structure."
                );
                break;
              }
          }
          if (e) {
            var a = prompt("Please enter the template name:", "My template");
            if (null !== a) {
              e = f[f.length - 1];
              let c = v.molTo(b.sketcher.lasso.getFirstMolecule());
              d = v.molFrom(c);
              let g = r("#" + b.id + "_" + e.condensedName + "_panel");
              0 === e.templates.length && g.empty();
              a = { name: a, data: c };
              d.scaleToAverageBondLength(b.sketcher.styles.bondLength_2D);
              b.buffer.loadMolecule(d);
              a.img = b.bufferElement.toDataURL("image/png");
              a.condensedName = a.name.replace(q, "");
              g.append(
                '\x3cdiv style\x3d"margin-left:5px;margin-top:5px;"\x3e\x3ccenter\x3e\x3cimg src\x3d"' +
                  a.img +
                  '" id\x3d"' +
                  b.id +
                  "_" +
                  a.condensedName +
                  '" g\x3d"' +
                  (f.length - 1) +
                  '" t\x3d"' +
                  e.templates.length +
                  '"style\x3d"width:100px;height:100px;" /\x3e\x3cbr\x3e' +
                  a.name +
                  "\x3c/center\x3e\x3c/div\x3e"
              );
              d = r("#" + b.id + "_" + a.condensedName);
              d.click(function () {
                b.loadTemplate(
                  parseInt(this.getAttribute("g")),
                  parseInt(this.getAttribute("t")),
                  !0
                );
              });
              d.hover(
                function () {
                  r(this).css({
                    border: "1px solid " + b.sketcher.styles.colorHover,
                    margin: "-1px",
                  });
                },
                function () {
                  r(this).css({ border: "none", margin: "0px" });
                }
              );
              e.templates.push(a);
              w &&
                w.setItem(
                  "chemdoodle_user_templates",
                  l.stringify(f[f.length - 1].templates)
                );
            }
          }
        }
      });
    };
    b.loadTemplate = function (b, e, d) {
      if ((b = f[b].templates[e])) {
        e = v.molFrom(b.data);
        e.scaleToAverageBondLength(this.sketcher.styles.bondLength_2D);
        let f = -1,
          h = Infinity;
        for (let a = 0, b = e.atoms.length; a < b; a++) {
          let b = e.atoms[a];
          "C" === b.label && b.x < h && ((f = a), (h = b.x));
        }
        -1 === f && (f = 0);
        e.atoms[f].isSelected = !0;
        this.canvas.loadMolecule(e);
        this.sketcher.stateManager.STATE_NEW_TEMPLATE.template = b.data;
        this.sketcher.stateManager.STATE_NEW_TEMPLATE.attachPos = f;
        d &&
          (this.sketcher.toolbarManager.buttonTemplate.select(),
          this.sketcher.toolbarManager.buttonTemplate.getElement().click());
      }
    };
    b.populate = function () {
      this.canvas.styles = r.extend({}, this.sketcher.styles);
      this.canvas.styles.atoms_implicitHydrogens_2D = !1;
      this.buffer.styles = r.extend({}, this.sketcher.styles);
      this.buffer.styles.atoms_implicitHydrogens_2D = !1;
      let b = this;
      for (let d = 0, h = f.length; d < h; d++) {
        let h = f[d],
          a = r("#" + this.id + "_" + h.condensedName + "_panel");
        if (0 === h.templates.length)
          a.append(
            '\x3cdiv style\x3d"margin:5px;"\x3eThere are no templates in this group.\x3c/div\x3e'
          );
        else
          for (let c = 0, f = h.templates.length; c < f; c++) {
            var e = h.templates[c];
            let f = v.molFrom(e.data);
            f.scaleToAverageBondLength(this.sketcher.styles.bondLength_2D);
            this.buffer.loadMolecule(f);
            e.img = this.bufferElement.toDataURL("image/png");
            e.condensedName = e.name.replace(q, "");
            a.append(
              '\x3cdiv style\x3d"margin-left:5px;margin-top:5px;"\x3e\x3ccenter\x3e\x3cimg src\x3d"' +
                e.img +
                '" id\x3d"' +
                this.id +
                "_" +
                e.condensedName +
                '" g\x3d"' +
                d +
                '" t\x3d"' +
                c +
                '" style\x3d"width:100px;height:100px;border-radius:10px;" /\x3e\x3cbr\x3e' +
                e.name +
                "\x3c/center\x3e\x3c/div\x3e"
            );
            e = r("#" + this.id + "_" + e.condensedName);
            e.click(function () {
              b.loadTemplate(
                parseInt(this.getAttribute("g")),
                parseInt(this.getAttribute("t")),
                !0
              );
            });
            e.hover(
              function () {
                r(this).css({
                  border: "1px solid " + b.sketcher.styles.colorHover,
                  margin: "-1px",
                });
              },
              function () {
                r(this).css({ border: "none", margin: "0px" });
              }
            );
          }
        0 !== d && a.hide();
      }
      0 !== f.length &&
        (r("#" + this.id + "_" + f[0].condensedName + "_panel").show(),
        this.loadTemplate(0, 0, !1));
    };
  })(
    ChemDoodle,
    ChemDoodle.io,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.uis.gui.templateDepot,
    ChemDoodle.lib.jQuery,
    Math,
    document,
    JSON,
    localStorage
  );
  (function (k, b, n, f) {
    k.Popover = function (b, f, d, l) {
      this.sketcher = b;
      this.id = f;
      this.free = d;
      this.onclose = l;
    };
    k = k.Popover.prototype;
    k.getHiddenSource = function () {
      let b = [];
      b.push(
        '\x3cdiv style\x3d"display:none;position:absolute;z-index:10;border:1px #C1C1C1 solid;background:#F5F5F5;padding:5px;'
      );
      this.free
        ? b.push("border-radius:5px;-moz-border-radius:5px;")
        : b.push(
            "border-bottom-left-radius:5px;-moz-border-radius-bottomleft:5px;border-bottom-right-radius:5px;-moz-border-radius-bottomright:5px;border-top-color:black;"
          );
      b.push('" id\x3d"');
      b.push(this.id);
      b.push('"\x3e');
      b.push(this.getContentSource());
      b.push("\x3c/div\x3e");
      return b.join("");
    };
    k.setup = function () {
      n.getElementById(this.sketcher.id)
        ? b("#" + this.sketcher.id).before(this.getHiddenSource())
        : n.writeln(this.getHiddenSource());
      b("#" + this.id).hide();
      this.setupContent && this.setupContent();
    };
    k.show = function (f) {
      if (this.sketcher.modal) return !1;
      this.sketcher.modal = this;
      this.sketcher.doEventDefault = !0;
      let h = b("#" + this.id);
      this.free
        ? h.fadeIn(200).position({
            my: "center bottom",
            at: "center top",
            of: f,
            collision: "fit",
          })
        : h.slideDown(400).position({
            my: "center top",
            at: "center top",
            of: b("#" + this.sketcher.id),
            collision: "fit",
          });
      return !1;
    };
    k.close = function (k) {
      let h = b("#" + this.id);
      this.free ? h.hide(0) : h.slideUp(400);
      if (this.onclose) this.onclose(k);
      this.sketcher.modal = f;
      this.sketcher.doEventDefault = !1;
    };
  })(ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery, document);
  (function (k, b, n, f, r, h, d) {
    f.EnhancedStereoPopover = function (b, f) {
      this.sketcher = b;
      this.id = b.id + f;
      this.free = !0;
      this.onclose = function () {
        let f = b.stateManager.getCurrentState();
        f.mobileHover && (f.mobileHover = d);
        f.clearHover();
        b.repaint();
      };
    };
    k = f.EnhancedStereoPopover.prototype = new f.Popover();
    k.populate = function (d) {
      d &&
        (d.enhancedStereo.type === b.Atom.ESTEREO_ABSOLUTE
          ? r("#" + this.id + "_estereo_abs").prop("checked", !0)
          : d.enhancedStereo.type === b.Atom.ESTEREO_AND
          ? r("#" + this.id + "_estereo_and").prop("checked", !0)
          : d.enhancedStereo.type === b.Atom.ESTEREO_OR &&
            r("#" + this.id + "_estereo_or").prop("checked", !0),
        r("#" + this.id + "_input").val(d.enhancedStereo.group));
    };
    k.getContentSource = function () {
      let b = ["\x3cdiv\x3e"];
      b.push(
        '\x3ctable style\x3d"margin-bottom:20px;"\x3e\x3ctr\x3e\x3ctd style\x3d"vertical-align:top;"\x3e\x3cstrong\x3eEnhanced\x3cbr\x3eStereochemistry\x3c/strong\x3e:\x3c/td\x3e'
      );
      b.push('\x3ctd style\x3d"vertical-align:top;"\x3e');
      b.push(
        '\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3cinput type\x3d"radio" id\x3d"' +
          this.id +
          '_estereo_abs" name\x3d"estereo" value\x3d"abs"\x3e\x3clabel for\x3d"' +
          this.id +
          '_estereo_abs"\x3eAbsolute\x3c/label\x3e\x3c/td\x3e\x3c/tr\x3e'
      );
      b.push(
        '\x3ctr\x3e\x3ctd\x3e\x3cinput type\x3d"radio" id\x3d"' +
          this.id +
          '_estereo_or" name\x3d"estereo" value\x3d"or"\x3e\x3clabel for\x3d"' +
          this.id +
          '_estereo_or"\x3eOr\x3c/label\x3e\x3c/td\x3e\x3ctd rowspan\x3d"2"\x3e\x3cinput type\x3d"number" id\x3d"' +
          this.id +
          '_input" name\x3d"tentacles" min\x3d"1" max\x3d"99" style\x3d"margin:10px;"\x3e\x3c/input\x3e(1 to 99)\x3c/td\x3e\x3c/tr\x3e'
      );
      b.push(
        '\x3ctr\x3e\x3ctd\x3e\x3cinput type\x3d"radio" id\x3d"' +
          this.id +
          '_estereo_and" name\x3d"estereo" value\x3d"and"\x3e\x3clabel for\x3d"' +
          this.id +
          '_estereo_and"\x3eAnd\x3c/label\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e'
      );
      b.push("\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e");
      b.push(
        '\x3ccenter\x3e\x3cbutton type\x3d"button" id\x3d"' +
          this.id +
          '_set"\x3eOK\x3c/button\x3e\x3cbutton style\x3d"margin-left:10px;" type\x3d"button" id\x3d"' +
          this.id +
          '_cancel"\x3eCancel\x3c/button\x3e\x3c/center\x3e'
      );
      b.push("\x3c/div\x3e");
      return b.join("");
    };
    k.setupContent = function () {
      let d = this;
      r("#" + this.id + "_set").click(function () {
        let f = b.Atom.ESTEREO_ABSOLUTE;
        r("#" + d.id + "_estereo_and").is(":checked")
          ? (f = b.Atom.ESTEREO_AND)
          : r("#" + d.id + "_estereo_or").is(":checked") &&
            (f = b.Atom.ESTEREO_OR);
        var h = r("#" + d.id + "_input").val();
        h.match(/^-?\d+$/)
          ? ((h = parseInt(h)),
            1 > h
              ? alert(
                  "Please input a positive integer for the enhanced stereochemistry group number."
                )
              : 99 < h
              ? alert(
                  "The maximum allowed enhanced stereochemistry group number is 99."
                )
              : ((d.sketcher.hovering.enhancedStereo.type === f &&
                  d.sketcher.hovering.enhancedStereo.group === h) ||
                  d.sketcher.historyManager.pushUndo(
                    new n.ChangeEnhancedStereoAction(d.sketcher.hovering, f, h)
                  ),
                d.close()))
          : alert(
              "Please enter a positive integer value with only the digits 0-9."
            );
      });
      r("#" + this.id + "_cancel").click(function () {
        d.close();
      });
    };
  })(
    ChemDoodle,
    ChemDoodle.structures,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.lib.jQuery,
    document
  );
  (function (k, b, n, f, r, h) {
    n.ImplicitHydrogenPopover = function (b, f) {
      this.sketcher = b;
      this.id = b.id + f;
      this.free = !0;
      this.onclose = function () {
        let d = b.stateManager.getCurrentState();
        d.mobileHover && (d.mobileHover = h);
        d.clearHover();
        b.repaint();
      };
    };
    k = n.ImplicitHydrogenPopover.prototype = new n.Popover();
    k.populate = function (b) {
      f("#" + this.id + "_input").val(-1 === b.implicitH ? "" : b.implicitH);
    };
    k.getContentSource = function () {
      let b = ['\x3cdiv style\x3d"width:320px;"\x3e'];
      b.push(
        '\x3cdiv width\x3d"100%"\x3eEnter a positive integer or zero (0-15) for the implicit hydrogen count:\x3c/div\x3e'
      );
      b.push(
        '\x3ccenter\x3e\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3cbutton type\x3d"button" id\x3d"' +
          this.id +
          '_remove" style\x3d"margin-right:100px;"\x3eRemove\x3c/button\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput type\x3d"number" id\x3d"' +
          this.id +
          '_input" name\x3d"tentacles" min\x3d"0" max\x3d"15" style\x3d"margin:10px;"\x3e\x3c/input\x3e\x3c/td\x3e\x3ctd\x3e\x3cbutton type\x3d"button" id\x3d"' +
          this.id +
          '_set"\x3eSet\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/center\x3e'
      );
      b.push("\x3c/div\x3e");
      return b.join("");
    };
    k.setupContent = function () {
      let d = this;
      f("#" + this.id + "_set").click(function () {
        var h = f("#" + d.id + "_input").val();
        0 === h.trim().length
          ? (-1 !== d.sketcher.hovering.implicitH &&
              d.sketcher.historyManager.pushUndo(
                new b.ChangeImplicitHydrogenAction(d.sketcher.hovering, -1)
              ),
            d.close())
          : h.match(/^-?\d+$/)
          ? ((h = parseInt(h)),
            0 > h
              ? alert(
                  "Please input a positive integer or zero for the implicit hydrogen count."
                )
              : 15 < h
              ? alert("The maximum allowed implicit hydrogen count is 15.")
              : (d.sketcher.hovering.implicitH !== h &&
                  d.sketcher.historyManager.pushUndo(
                    new b.ChangeImplicitHydrogenAction(d.sketcher.hovering, h)
                  ),
                d.close()))
          : alert(
              "Please enter a positive integer value with only the digits 0-9."
            );
      });
      f("#" + this.id + "_remove").click(function () {
        -1 !== d.sketcher.hovering.implicit &&
          d.sketcher.historyManager.pushUndo(
            new b.ChangeImplicitHydrogenAction(d.sketcher.hovering, -1)
          );
        d.close();
      });
    };
  })(
    ChemDoodle,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.lib.jQuery,
    document
  );
  (function (k, b, n, f, r, h) {
    n.IsotopePopover = function (b, f) {
      this.sketcher = b;
      this.id = b.id + f;
      this.free = !0;
      this.onclose = function () {
        let d = b.stateManager.getCurrentState();
        d.mobileHover && (d.mobileHover = h);
        d.clearHover();
        b.repaint();
      };
    };
    k = n.IsotopePopover.prototype = new n.Popover();
    k.populate = function (b) {
      f("#" + this.id + "_input").val(-1 === b.mass ? "" : b.mass);
    };
    k.getContentSource = function () {
      let b = ['\x3cdiv style\x3d"width:320px;"\x3e'];
      b.push(
        '\x3cdiv width\x3d"100%"\x3eEnter a positive integer (1-999) for the isotope value:\x3c/div\x3e'
      );
      b.push(
        '\x3ccenter\x3e\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3cbutton type\x3d"button" id\x3d"' +
          this.id +
          '_remove" style\x3d"margin-right:100px;"\x3eRemove\x3c/button\x3e\x3c/td\x3e\x3ctd\x3e\x3cinput type\x3d"number" id\x3d"' +
          this.id +
          '_input" name\x3d"tentacles" min\x3d"1" max\x3d"999" style\x3d"margin:10px;"\x3e\x3c/input\x3e\x3c/td\x3e\x3ctd\x3e\x3cbutton type\x3d"button" id\x3d"' +
          this.id +
          '_set"\x3eSet\x3c/button\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e\x3c/center\x3e'
      );
      b.push("\x3c/div\x3e");
      return b.join("");
    };
    k.setupContent = function () {
      let d = this;
      f("#" + this.id + "_set").click(function () {
        var h = f("#" + d.id + "_input").val();
        0 === h.trim().length
          ? (-1 !== d.sketcher.hovering.mass &&
              d.sketcher.historyManager.pushUndo(
                new b.ChangeIsotopeAction(d.sketcher.hovering, -1)
              ),
            d.close())
          : h.match(/^-?\d+$/)
          ? ((h = parseInt(h)),
            1 > h
              ? alert("Please input a positive integer for the isotope value.")
              : 999 < h
              ? alert("The maximum allowed isotope value is 999.")
              : (d.sketcher.hovering.mass !== h &&
                  d.sketcher.historyManager.pushUndo(
                    new b.ChangeIsotopeAction(d.sketcher.hovering, h)
                  ),
                d.close()))
          : alert(
              "Please enter a positive integer value with only the digits 0-9."
            );
      });
      f("#" + this.id + "_remove").click(function () {
        -1 !== d.sketcher.hovering.mass &&
          d.sketcher.historyManager.pushUndo(
            new b.ChangeIsotopeAction(d.sketcher.hovering, -1)
          );
        d.close();
      });
    };
  })(
    ChemDoodle,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.lib.jQuery,
    document
  );
  (function (k, b, n, f, r, h) {
    n.DialogManager = function (d) {
      let h = this;
      d.useServices
        ? (this.saveDialog = new f.SaveFileDialog(d.id + "_save_dialog", d))
        : ((this.saveDialog = new f.Dialog(
            d.id,
            "_save_dialog",
            "Save Molecule"
          )),
          (this.saveDialog.message =
            "Copy and paste the content of the textarea into a file and save it with the extension \x3cstrong\x3e.mol\x3c/strong\x3e."),
          (this.saveDialog.includeTextArea = !0),
          (this.saveDialog.afterMessage =
            '\x3ca href\x3d"http://www.chemdoodle.com" target\x3d"_blank"\x3eHow do I use MOLFiles?\x3c/a\x3e'));
      this.saveDialog.setup();
      this.openPopup = new f.Popover(d, d.id + "_open_popover");
      this.openPopup.getContentSource = function () {
        let b = ['\x3cdiv style\x3d"width:320px;"\x3e'];
        d instanceof ChemDoodle.EditorCanvas3D
          ? b.push(
              '\x3cdiv width\x3d"100%"\x3ePaste \x3cem\x3eMOL\x3c/em\x3e or \x3cem\x3eChemDoodle JSON\x3c/em\x3e text and press the \x3cstrong\x3eLoad\x3c/strong\x3e button.\x3cbr\x3e\x3cbr\x3e\x3ccenter\x3e\x3ca href\x3d"http://www.chemdoodle.com/3d" target\x3d"_blank"\x3eWhere do I get MOL or ChemDoodle JSON?\x3c/a\x3e\x3c/center\x3e\x3cbr\x3e\x3c/div\x3e'
            )
          : b.push(
              '\x3cdiv width\x3d"100%"\x3ePaste \x3cem\x3eMOL\x3c/em\x3e, \x3cem\x3eRXN\x3c/em\x3e or \x3cem\x3eChemDoodle JSON\x3c/em\x3e text and press the \x3cstrong\x3eLoad\x3c/strong\x3e button.\x3cbr\x3e\x3cbr\x3e\x3ccenter\x3e\x3ca href\x3d"http://www.chemdoodle.com" target\x3d"_blank"\x3eWhere do I get MOL, RXN or ChemDoodle JSON?\x3c/a\x3e\x3c/center\x3e\x3cbr\x3e\x3c/div\x3e'
            );
        b.push(
          '\x3ctextarea rows\x3d"12" id\x3d"' +
            d.id +
            '_open_text" style\x3d"width:100%;"\x3e\x3c/textarea\x3e'
        );
        b.push(
          '\x3cbr\x3e\x3cbutton type\x3d"button" style\x3d"margin-left:270px;" id\x3d"' +
            d.id +
            '_open_load"\x3eLoad\x3c/button\x3e\x3c/div\x3e'
        );
        return b.join("");
      };
      this.openPopup.setupContent = function () {
        r("#" + d.id + "_open_load").click(function () {
          h.openPopup.close();
          let f = r("#" + d.id + "_open_text").val(),
            l;
          -1 !== f.indexOf("v2000") ||
          -1 !== f.indexOf("V2000") ||
          -1 !== f.indexOf("v3000") ||
          -1 !== f.indexOf("V3000")
            ? (l = f.startsWith("$RXN")
                ? k.readRXN(f)
                : { molecules: [k.readMOL(f)], shapes: [] })
            : "{" === f.charAt(0) && (l = k.readJSON(f));
          d.oneMolecule &&
          l &&
          0 < l.molecules.length &&
          0 < l.molecules[0].atoms.length
            ? d.historyManager.pushUndo(
                new b.SwitchMoleculeAction(d, l.molecules[0])
              )
            : !d.oneMolecule &&
              l &&
              (0 < l.molecules.length || 0 < l.shapes.length)
            ? d.historyManager.pushUndo(
                new b.SwitchContentAction(d, l.molecules, l.shapes)
              )
            : alert("No chemical content was recognized.");
        });
      };
      this.openPopup.setup();
      this.enhancedStereoPopup = new f.EnhancedStereoPopover(
        d,
        "_enhanced_stereo_popover"
      );
      this.enhancedStereoPopup.setup();
      this.implicitHydrogenPopup = new f.ImplicitHydrogenPopover(
        d,
        "_implicit_hydrogen_popover"
      );
      this.implicitHydrogenPopup.setup();
      this.isotopePopup = new f.IsotopePopover(d, "_isotope_popover");
      this.isotopePopup.setup();
      this.atomQueryDialog = new f.AtomQueryDialog(d, "_atom_query_dialog");
      this.atomQueryDialog.setup();
      this.bondQueryDialog = new f.BondQueryDialog(d, "_bond_query_dialog");
      this.bondQueryDialog.setup();
      this.templateDialog = new f.TemplateDialog(d, "_templates_dialog");
      this.templateDialog.setup();
      this.searchDialog = new f.MolGrabberDialog(d.id, "_search_dialog");
      this.searchDialog.buttons = {
        Load: function () {
          var f = h.searchDialog.canvas.molecules[0];
          if (f && 0 < f.atoms.length)
            if ((r(this).dialog("close"), d.oneMolecule))
              f !== d.molecule &&
                d.historyManager.pushUndo(new b.SwitchMoleculeAction(d, f));
            else {
              d.historyManager.pushUndo(
                new b.AddContentAction(
                  d,
                  h.searchDialog.canvas.molecules,
                  h.searchDialog.canvas.shapes
                )
              );
              d.toolbarManager.buttonLasso.select();
              d.toolbarManager.buttonLasso.getElement().click();
              f = [];
              for (
                let b = 0, d = h.searchDialog.canvas.molecules.length;
                b < d;
                b++
              )
                f = f.concat(h.searchDialog.canvas.molecules[b].atoms);
              d.lasso.select(f, h.searchDialog.canvas.shapes);
            }
          else
            alert(
              'After entering a search term, press the "Show Molecule" button to show it before loading. To close this dialog, press the "X" button to the top-right.'
            );
        },
      };
      this.searchDialog.setup();
      d.setupScene &&
        ((this.stylesDialog = new f.SpecsDialog(d, "_styles_dialog")),
        (this.stylesDialog.buttons = {
          Done: function () {
            r(this).dialog("close");
          },
        }),
        this.stylesDialog.setup(this.stylesDialog, d));
      this.periodicTableDialog = new f.PeriodicTableDialog(
        d,
        "_periodicTable_dialog"
      );
      this.periodicTableDialog.buttons = {
        Close: function () {
          r(this).dialog("close");
        },
      };
      this.periodicTableDialog.setup();
      this.calculateDialog = new f.Dialog(
        d.id,
        "_calculate_dialog",
        "Calculations"
      );
      this.calculateDialog.includeTextArea = !0;
      this.calculateDialog.afterMessage =
        '\x3ca href\x3d"http://www.chemdoodle.com" target\x3d"_blank"\x3eWant more calculations?\x3c/a\x3e';
      this.calculateDialog.setup();
      this.inputDialog = new f.Dialog(d.id, "_input_dialog", "Input");
      this.inputDialog.message =
        'Please input the rgroup number (must be a positive integer). Input "-1" to remove the rgroup.';
      this.inputDialog.includeTextField = !0;
      this.inputDialog.buttons = {
        Done: function () {
          r(this).dialog("close");
          h.inputDialog.doneFunction &&
            h.inputDialog.doneFunction(h.inputDialog.getTextField().val());
        },
      };
      this.inputDialog.setup();
      this.makeOtherDialogs && this.makeOtherDialogs(d);
    };
  })(
    ChemDoodle,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.gui,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.lib.jQuery
  );
  (function (k, b, n, f, r) {
    k.DropDown = function (b, f, h) {
      this.id = b;
      this.tooltip = f;
      this.dummy = h;
      this.buttonSet = new k.ButtonSet(b + "_set");
      this.buttonSet.buttonGroup = f;
      this.defaultButton = r;
    };
    let h = k.DropDown.prototype;
    h.getButtonSource = function () {
      let d = [];
      d.push('\x3cbutton type\x3d"button" id\x3d"');
      d.push(this.id);
      d.push('" onclick\x3d"return false;" title\x3d"');
      d.push(this.tooltip);
      d.push(
        '" style\x3d"box-sizing:border-box;margin-top:0px; margin-bottom:1px; padding:0px; height:28px; width:15px;"\x3e\x3cimg title\x3d"'
      );
      d.push(this.tooltip);
      d.push('" width\x3d"9" height\x3d"20" src\x3d"');
      d.push(b.getURI(b.ARROW_DOWN));
      d.push('"\x3e\x3c/button\x3e');
      return d.join("");
    };
    h.getHiddenSource = function () {
      let b = [];
      b.push(
        '\x3cdiv style\x3d"display:none;position:absolute;z-index:10;border:1px #C1C1C1 solid;background:#F5F5F5;padding:5px;border-bottom-left-radius:5px;-moz-border-radius-bottomleft:5px;border-bottom-right-radius:5px;-moz-border-radius-bottomright:5px;" id\x3d"'
      );
      b.push(this.id);
      b.push('_hidden"\x3e');
      b.push(this.buttonSet.getSource(this.id + "_popup_set"));
      b.push("\x3c/div\x3e");
      return b.join("");
    };
    h.setup = function () {
      this.defaultButton || (this.defaultButton = this.buttonSet.buttons[0]);
      let b = "#" + this.id,
        h = n(b);
      h.button();
      h.click(function () {
        n(f).trigger("click");
        let d = n(b + "_hidden");
        d.show().position({
          my: "center top",
          at: "center bottom",
          of: this,
          collision: "fit",
        });
        n(f).one("click", function () {
          d.hide();
        });
        return !1;
      });
      this.buttonSet.setup();
      let k = this;
      n.each(this.buttonSet.buttons, function (b, d) {
        k.buttonSet.buttons[b].getElement().click(function () {
          k.dummy.absorb(k.buttonSet.buttons[b]);
          k.dummy.select();
          k.dummy.getElement().click();
        });
      });
      k.dummy.absorb(this.defaultButton);
      this.defaultButton.select();
    };
  })(
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.uis.gui.imageDepot,
    ChemDoodle.lib.jQuery,
    document
  );
  (function (k, b, n, f) {
    k.DummyButton = function (b, h) {
      this.id = b;
      this.toggle = !1;
      this.tooltip = h ? h : "";
      this.func = f;
    };
    k = k.DummyButton.prototype = new k.Button();
    k.setup = function () {
      let b = this;
      this.getElement().click(function () {
        b.func();
      });
    };
    k.absorb = function (f) {
      n("#" + this.id + "_icon").attr("src", b.getURI(f.icon));
      this.func = f.func;
    };
  })(
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.uis.gui.imageDepot,
    ChemDoodle.lib.jQuery
  );
  (function (k, b, n) {
    k.TextButton = function (b, k, h) {
      this.id = b;
      this.toggle = !1;
      this.tooltip = k ? k : "";
      this.func = h ? h : n;
    };
    k = k.TextButton.prototype = new k.Button();
    k.getSource = function (b) {
      let f = [];
      this.toggle
        ? (f.push('\x3cinput type\x3d"radio" name\x3d"'),
          f.push(b),
          f.push('" id\x3d"'),
          f.push(this.id),
          f.push('" title\x3d"'),
          f.push(this.tooltip),
          f.push('" /\x3e\x3clabel for\x3d"'),
          f.push(this.id),
          f.push('"\x3e'),
          f.push(this.tooltip),
          f.push("\x3c/label\x3e"))
        : (f.push('\x3cbutton type\x3d"button" id\x3d"'),
          f.push(this.id),
          f.push('" onclick\x3d"return false;" title\x3d"'),
          f.push(this.tooltip),
          f.push('"\x3e\x3clabel for\x3d"'),
          f.push(this.id),
          f.push('"\x3e'),
          f.push(this.tooltip),
          f.push("\x3c/label\x3e\x3c/button\x3e"));
      return f.join("");
    };
    k.check = function () {
      let b = this.getElement();
      b.prop("checked", !0);
      b.button("refresh");
    };
    k.uncheck = function () {
      let b = this.getElement();
      b.removeAttr("checked");
      b.button("refresh");
    };
  })(ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery);
  (function (k, b, n, f, r) {
    k.Tray = function (b, d, f, n) {
      this.sketcher = b;
      this.id = d;
      this.tooltip = f.tooltip;
      this.dummy = f;
      this.dummy.toggle = !0;
      this.buttonSet = new k.ButtonSet(d + "_set");
      this.buttonSet.columnCount = n;
      this.buttonSet.buttonGroup = this.tooltip;
      this.defaultButton = r;
    };
    b = k.Tray.prototype;
    b.getSource = function (b) {
      let d = [];
      d.push(this.dummy.getSource(b));
      d.push(
        '\x3cdiv style\x3d"display:none;position:absolute;z-index:11;border:none;background:#F5F5F5;box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);" id\x3d"'
      );
      d.push(this.id);
      d.push('_hidden"\x3e');
      d.push(this.buttonSet.getSource(this.id + "_popup_set"));
      d.push("\x3c/div\x3e");
      return d.join("");
    };
    b.setup = function () {
      this.dummy.setup(!0);
      let b = this.dummy.getElement();
      b.button();
      this.defaultButton || (this.defaultButton = this.buttonSet.buttons[0]);
      let d = this,
        k = "#" + this.id;
      b.click(function () {
        d.sketcher.openTray !== d &&
          (d.sketcher.openTray && d.sketcher.openTray.close(),
          (d.sketcher.openTray = d),
          n(f).trigger("click"),
          n(k + "_hidden").show());
        d.reposition();
      });
      this.buttonSet.setup();
      n.each(this.buttonSet.buttons, function (b, f) {
        d.buttonSet.buttons[b].getElement().click(function () {
          d.dummy.absorb(d.buttonSet.buttons[b]);
        });
      });
      this.dummy.absorb(this.defaultButton);
      this.defaultButton.select();
    };
    b.open = function (b) {
      this.sketcher.openTray !== this &&
        (this.sketcher.openTray && this.sketcher.openTray.close(),
        (this.sketcher.openTray = this),
        n(f).trigger("click"),
        n("#" + this.id + "_hidden").show());
      b && (this.dummy.absorb(b), b.select());
      this.reposition();
    };
    b.reposition = function () {
      let b = n("#" + this.dummy.id + "_icon");
      n("#" + this.id + "_hidden").position({
        my: "right-8 center",
        at: "left center",
        of: b,
        collision: "flip none",
      });
    };
    b.close = function () {
      n("#" + this.id + "_hidden").hide();
      this.sketcher.openTray = r;
    };
  })(
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.uis.gui.imageDepot,
    ChemDoodle.lib.jQuery,
    document
  );
  (function (k, b, n, f, r, h, d, l, w, u, v, q, y) {
    h.ToolbarManager = function (e) {
      this.sketcher = e;
      this.sketcher.floatDrawTools &&
        (this.drawTools = new l.FloatingToolbar(e));
      this.buttonOpen = new l.Button(
        e.id + "_button_open",
        d.OPEN,
        "Open",
        function () {
          e.dialogManager.openPopup.show();
        }
      );
      this.buttonSave = new l.Button(
        e.id + "_button_save",
        d.SAVE,
        "Save",
        function () {
          let b = !0;
          e.useServices
            ? e.dialogManager.saveDialog.clear()
            : e.oneMolecule
            ? e.dialogManager.saveDialog
                .getTextArea()
                .val(k.writeMOL(e.molecules[0]))
            : e.lasso.isActive() && 0 < e.lasso.atoms.length
            ? e.dialogManager.saveDialog
                .getTextArea()
                .val(k.writeMOL(e.lasso.getFirstMolecule()))
            : ((b = !1),
              alert(
                "The MOLfile must be generated from a single chemical structure. Please draw and select a single molecule to be output as a MOLfile."
              ));
          b && e.dialogManager.saveDialog.open();
        }
      );
      this.buttonTemplate = new l.Button(
        e.id + "_button_template",
        d.TEMPLATES,
        "Templates",
        function () {
          e.stateManager.setState(e.stateManager.STATE_NEW_TEMPLATE);
          e.dialogManager.templateDialog.open();
        }
      );
      this.buttonTemplate.toggle = !0;
      this.buttonSearch = new l.Button(
        e.id + "_button_search",
        d.SEARCH,
        "Search",
        function () {
          e.dialogManager.searchDialog.open();
        }
      );
      this.buttonCalculate = new l.Button(
        e.id + "_button_calculate",
        d.CALCULATE,
        "Calculate",
        function () {
          let d = e.oneMolecule ? e.molecules[0] : e.lasso.getFirstMolecule();
          d &&
            b.calculate(
              d,
              {
                descriptors:
                  "mf ef mw miw deg_unsat hba hbd rot electron pol_miller cmr tpsa vabc xlogp2 bertz".split(
                    " "
                  ),
              },
              function (b) {
                function d(b, e, d) {
                  a.push(b);
                  a.push(": ");
                  for (b = b.length + 2; 30 > b; b++) a.push(" ");
                  a.push(e);
                  a.push(" ");
                  a.push(d);
                  a.push("\n");
                }
                let a = [];
                d("Molecular Formula", b.mf, "");
                d("Empirical Formula", b.ef, "");
                d("Molecular Mass", b.mw, "amu");
                d("Monoisotopic Mass", b.miw, "amu");
                d("Degree of Unsaturation", b.deg_unsat, "");
                d("Hydrogen Bond Acceptors", b.hba, "");
                d("Hydrogen Bond Donors", b.hbd, "");
                d("Rotatable Bonds", b.rot, "");
                d("Total Electrons", b.rot, "");
                d("Molecular Polarizability", b.pol_miller, "A^3");
                d("Molar Refractivity", b.cmr, "cm^3/mol");
                d("Polar Surface Area", b.tpsa, "A^2");
                d("vdW Volume", b.vabc, "A^3");
                d("logP", b.xlogp2, "");
                d("Complexity", b.bertz, "");
                e.dialogManager.calculateDialog.getTextArea().val(a.join(""));
                e.dialogManager.calculateDialog.open();
              }
            );
        }
      );
      this.buttonMove = new l.Button(
        e.id + "_button_move",
        d.MOVE,
        "Move",
        function () {
          e.stateManager.setState(e.stateManager.STATE_MOVE);
        }
      );
      this.buttonMove.toggle = !0;
      this.buttonErase = new l.Button(
        e.id + "_button_erase",
        d.ERASE,
        "Erase",
        function () {
          e.stateManager.setState(e.stateManager.STATE_ERASE);
        }
      );
      this.buttonErase.toggle = !0;
      this.buttonCenter = new l.Button(
        e.id + "_button_center",
        d.CENTER,
        "Center",
        function () {
          let b = new f.Point(e.width / 2, e.height / 2),
            d = e.getContentBounds();
          b.x -= (d.maxX + d.minX) / 2;
          b.y -= (d.maxY + d.minY) / 2;
          e.historyManager.pushUndo(new r.MoveAction(e.getAllPoints(), b));
        }
      );
      this.buttonClear = new l.Button(
        e.id + "_button_clear",
        d.CLEAR,
        "Clear",
        function () {
          let b = !0;
          if (e.oneMolecule) {
            if (1 === e.molecules[0].atoms.length) {
              let d = e.molecules[0].atoms[0];
              "C" === d.label && 0 === d.charge && -1 === d.mass && (b = !1);
            }
          } else 0 === e.molecules.length && 0 === e.shapes.length && (b = !1);
          b &&
            (e.stateManager.getCurrentState().clearHover(),
            e.lasso && e.lasso.isActive() && e.lasso.empty(),
            e.historyManager.pushUndo(new r.ClearAction(e)));
        }
      );
      this.buttonClean = new l.Button(
        e.id + "_button_clean",
        d.OPTIMIZE,
        "Clean",
        function () {
          let d = e.oneMolecule ? e.molecules[0] : e.lasso.getFirstMolecule();
          if (d) {
            let h = new n.JSONInterpreter();
            b._contactServer(
              "optimize",
              { mol: h.molTo(d) },
              { dimension: 2 },
              function (b) {
                b = h.molFrom(b.mol);
                let a = b.getCenter(),
                  c = e.oneMolecule
                    ? new f.Point(e.width / 2, e.height / 2)
                    : d.getCenter();
                c.sub(a);
                for (let a = 0, e = b.atoms.length; a < e; a++)
                  b.atoms[a].add(c);
                e.historyManager.pushUndo(
                  new r.ChangeCoordinatesAction(d.atoms, b.atoms)
                );
              }
            );
          }
        }
      );
      this.makeLassoSet(this);
      this.makeCopySet(this);
      this.makeScaleSet(this);
      this.makeFlipSet(this);
      this.makeHistorySet(this);
      this.makeLabelSet(this);
      this.buttonTextInput = new l.Button(
        e.id + "_button_text_input",
        d.TEXT,
        "Set Atom Label",
        function () {
          e.stateManager.setState(e.stateManager.STATE_TEXT_INPUT);
        }
      );
      this.buttonTextInput.toggle = !0;
      this.buttonQuery = new l.Button(
        e.id + "_button_query",
        d.QUERY,
        "Set Query to Atom or Bond",
        function () {
          e.stateManager.setState(e.stateManager.STATE_QUERY);
        }
      );
      this.buttonQuery.toggle = !0;
      this.makeBondSet(this);
      this.makeRingSet(this);
      this.buttonChain = new l.Button(
        e.id + "_button_chain",
        d.CHAIN_CARBON,
        "Add Carbon Chain",
        function () {
          e.stateManager.setState(e.stateManager.STATE_NEW_CHAIN);
        }
      );
      this.buttonChain.toggle = !0;
      this.makeAttributeSet(this);
      this.makeShapeSet(this);
      this.makeOtherButtons && this.makeOtherButtons(this);
    };
    h = h.ToolbarManager.prototype;
    h.write = function () {
      let b = ['\x3cdiv style\x3d"font-size:10px;"\x3e'],
        d = this.sketcher.id + "_main_group";
      this.sketcher.oneMolecule
        ? b.push(this.buttonMove.getSource(d))
        : b.push(this.lassoSet.getSource(d));
      b.push(this.buttonClear.getSource());
      b.push(this.buttonErase.getSource(d));
      b.push(this.buttonCenter.getSource());
      this.sketcher.useServices && b.push(this.buttonClean.getSource());
      b.push(this.flipSet.getSource());
      b.push(this.historySet.getSource());
      this.sketcher.oneMolecule || b.push(this.copySet.getSource());
      b.push(this.scaleSet.getSource());
      b.push(this.buttonOpen.getSource());
      b.push(this.buttonSave.getSource());
      b.push(this.buttonTemplate.getSource(d));
      this.sketcher.useServices &&
        (b.push(this.buttonSearch.getSource()),
        b.push(this.buttonCalculate.getSource()));
      this.sketcher.floatDrawTools ||
        (b.push("\x3cbr\x3e"),
        l.TextInput && b.push(this.buttonTextInput.getSource(d)),
        b.push(this.labelSet.getSource(d)),
        this.sketcher.includeQuery && b.push(this.buttonQuery.getSource(d)),
        b.push(this.attributeSet.getSource(d)),
        b.push(this.bondSet.getSource(d)),
        b.push(this.ringSet.getSource(d)),
        b.push(this.buttonChain.getSource(d)),
        this.sketcher.oneMolecule || b.push(this.shapeSet.getSource(d)));
      b.push("\x3c/div\x3e");
      this.sketcher.floatDrawTools &&
        (l.TextInput &&
          this.drawTools.components.splice(0, 0, this.buttonTextInput),
        this.sketcher.includeQuery &&
          this.drawTools.components.splice(
            l.TextInput ? 1 : 0,
            0,
            this.buttonQuery
          ),
        this.drawTools.components.splice(
          this.drawTools.components.length -
            (this.sketcher.oneMolecule ? 1 : 3),
          0,
          this.buttonChain
        ),
        this.sketcher.oneMolecule ||
          this.drawTools.components.push(this.buttonVAP),
        b.push(this.drawTools.getSource(d)));
      q.getElementById(this.sketcher.id)
        ? v("#" + this.sketcher.id).before(b.join(""))
        : q.write(b.join(""));
      this.written = !0;
    };
    h.setup = function () {
      this.sketcher.oneMolecule
        ? this.buttonMove.setup(!0)
        : this.lassoSet.setup();
      this.buttonClear.setup();
      this.buttonErase.setup(!0);
      this.buttonCenter.setup();
      this.sketcher.useServices && this.buttonClean.setup();
      this.flipSet.setup();
      this.historySet.setup();
      this.sketcher.oneMolecule || this.copySet.setup();
      this.scaleSet.setup();
      this.buttonOpen.setup();
      this.buttonSave.setup();
      this.buttonTemplate.setup(!0);
      this.sketcher.useServices &&
        (this.buttonSearch.setup(), this.buttonCalculate.setup());
      this.sketcher.floatDrawTools
        ? (this.drawTools.setup(), this.buttonBond.getElement().click())
        : (l.TextInput && this.buttonTextInput.setup(!0),
          this.labelSet.setup(),
          this.sketcher.includeQuery && this.buttonQuery.setup(!0),
          this.attributeSet.setup(),
          this.bondSet.setup(),
          this.ringSet.setup(),
          this.buttonChain.setup(!0),
          this.sketcher.oneMolecule || this.shapeSet.setup(),
          this.buttonSingle.getElement().click());
      this.buttonUndo.disable();
      this.buttonRedo.disable();
      this.sketcher.oneMolecule ||
        (this.buttonCut.disable(),
        this.buttonCopy.disable(),
        this.buttonPaste.disable(),
        this.buttonFlipVert.disable(),
        this.buttonFlipHor.disable(),
        this.sketcher.useServices &&
          (this.buttonClean.disable(),
          this.buttonCalculate.disable(),
          this.buttonSave.disable()));
    };
    h.makeCopySet = function (b) {
      this.buttonCut = new l.Button(
        b.sketcher.id + "_button_cut",
        d.CUT,
        "Cut",
        function () {
          b.sketcher.copyPasteManager.copy(!0);
        }
      );
      this.buttonCopy = new l.Button(
        b.sketcher.id + "_button_copy",
        d.COPY,
        "Copy",
        function () {
          b.sketcher.copyPasteManager.copy(!1);
        }
      );
      this.buttonPaste = new l.Button(
        b.sketcher.id + "_button_paste",
        d.PASTE,
        "Paste",
        function () {
          b.sketcher.copyPasteManager.paste();
        }
      );
      this.copySet = new l.ButtonSet(b.sketcher.id + "_buttons_copy");
      this.copySet.toggle = !1;
      this.copySet.buttons.push(this.buttonCut);
      this.copySet.buttons.push(this.buttonCopy);
      this.copySet.buttons.push(this.buttonPaste);
    };
    h.makeScaleSet = function (b) {
      this.buttonScalePlus = new l.Button(
        b.sketcher.id + "_button_scale_plus",
        d.ZOOM_IN,
        "Increase Scale",
        function () {
          b.sketcher.styles.scale *= 1.5;
          b.sketcher.checkScale();
          b.sketcher.repaint();
        }
      );
      this.buttonScaleMinus = new l.Button(
        b.sketcher.id + "_button_scale_minus",
        d.ZOOM_OUT,
        "Decrease Scale",
        function () {
          b.sketcher.styles.scale /= 1.5;
          b.sketcher.checkScale();
          b.sketcher.repaint();
        }
      );
      this.scaleSet = new l.ButtonSet(b.sketcher.id + "_buttons_scale");
      this.scaleSet.toggle = !1;
      this.scaleSet.buttons.push(this.buttonScalePlus);
      this.scaleSet.buttons.push(this.buttonScaleMinus);
    };
    h.makeLassoSet = function (b) {
      this.buttonLassoAll = new l.Button(
        b.sketcher.id + "_button_lasso_lasso",
        d.LASSO,
        "Lasso Tool",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LASSO);
          b.sketcher.lasso.mode = w.Lasso.MODE_LASSO;
          b.sketcher.lasso.isActive() || b.sketcher.lasso.selectNextMolecule();
        }
      );
      this.buttonLassoShapes = new l.Button(
        b.sketcher.id + "_button_lasso_shapes",
        d.LASSO_SHAPES,
        "Lasso Tool (shapes only)",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LASSO);
          b.sketcher.lasso.mode = w.Lasso.MODE_LASSO_SHAPES;
          b.sketcher.lasso.isActive() || b.sketcher.lasso.selectNextShape();
        }
      );
      this.buttonRectMarq = new l.Button(
        b.sketcher.id + "_button_lasso_marquee",
        d.MARQUEE,
        "Marquee Tool",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LASSO);
          b.sketcher.lasso.mode = w.Lasso.MODE_RECTANGLE_MARQUEE;
          b.sketcher.lasso.isActive() || b.sketcher.lasso.selectNextMolecule();
        }
      );
      this.lassoSet = new l.ButtonSet(b.sketcher.id + "_buttons_lasso");
      this.buttonLasso = new l.DummyButton(
        b.sketcher.id + "_button_lasso",
        "Selection Tool"
      );
      this.lassoSet.buttons.push(this.buttonLasso);
      this.lassoSet.addDropDown("More Selection Tools");
      this.lassoSet.dropDown.buttonSet.buttons.push(this.buttonLassoAll);
      this.lassoSet.dropDown.buttonSet.buttons.push(this.buttonLassoShapes);
      this.lassoSet.dropDown.buttonSet.buttons.push(this.buttonRectMarq);
    };
    h.makeFlipSet = function (b) {
      let e = function (e) {
        let d = b.sketcher.oneMolecule
            ? b.sketcher.getAllPoints()
            : b.sketcher.lasso.getAllPoints(),
          a = [],
          c = b.sketcher.oneMolecule
            ? b.sketcher.getAllBonds()
            : b.sketcher.lasso.getBonds();
        for (let b = 0, e = c.length; b < e; b++) {
          let e = c[b];
          1 !== e.bondOrder ||
            (e.stereo !== f.Bond.STEREO_PROTRUDING &&
              e.stereo !== f.Bond.STEREO_RECESSED) ||
            a.push(e);
        }
        b.sketcher.historyManager.pushUndo(new r.FlipAction(d, a, e));
      };
      this.buttonFlipVert = new l.Button(
        b.sketcher.id + "_button_flip_hor",
        d.FLIP_HOR,
        "Flip Horizontally",
        function () {
          e(!0);
        }
      );
      this.buttonFlipHor = new l.Button(
        b.sketcher.id + "_button_flip_ver",
        d.FLIP_VER,
        "Flip Vertically",
        function () {
          e(!1);
        }
      );
      this.flipSet = new l.ButtonSet(b.sketcher.id + "_buttons_flip");
      this.flipSet.toggle = !1;
      this.flipSet.buttons.push(this.buttonFlipVert);
      this.flipSet.buttons.push(this.buttonFlipHor);
    };
    h.makeHistorySet = function (b) {
      this.buttonUndo = new l.Button(
        b.sketcher.id + "_button_undo",
        d.UNDO,
        "Undo",
        function () {
          b.sketcher.historyManager.undo();
        }
      );
      this.buttonRedo = new l.Button(
        b.sketcher.id + "_button_redo",
        d.REDO,
        "Redo",
        function () {
          b.sketcher.historyManager.redo();
        }
      );
      this.historySet = new l.ButtonSet(b.sketcher.id + "_buttons_history");
      this.historySet.toggle = !1;
      this.historySet.buttons.push(this.buttonUndo);
      this.historySet.buttons.push(this.buttonRedo);
    };
    h.makeLabelSet = function (b) {
      this.buttonLabelH = new l.Button(
        b.sketcher.id + "_button_label_h",
        d.HYDROGEN,
        "Hydrogen",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "H";
        }
      );
      this.buttonLabelC = new l.Button(
        b.sketcher.id + "_button_label_c",
        d.CARBON,
        "Carbon",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "C";
        }
      );
      this.buttonLabelN = new l.Button(
        b.sketcher.id + "_button_label_n",
        d.NITROGEN,
        "Nitrogen",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "N";
        }
      );
      this.buttonLabelO = new l.Button(
        b.sketcher.id + "_button_label_o",
        d.OXYGEN,
        "Oxygen",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "O";
        }
      );
      this.buttonLabelF = new l.Button(
        b.sketcher.id + "_button_label_f",
        d.FLUORINE,
        "Fluorine",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "F";
        }
      );
      this.buttonLabelCl = new l.Button(
        b.sketcher.id + "_button_label_cl",
        d.CHLORINE,
        "Chlorine",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "Cl";
        }
      );
      this.buttonLabelBr = new l.Button(
        b.sketcher.id + "_button_label_br",
        d.BROMINE,
        "Bromine",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "Br";
        }
      );
      this.buttonLabelI = new l.Button(
        b.sketcher.id + "_button_label_i",
        d.IODINE,
        "Iodine",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "I";
        }
      );
      this.buttonLabelP = new l.Button(
        b.sketcher.id + "_button_label_p",
        d.PHOSPHORUS,
        "Phosphorus",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "P";
        }
      );
      this.buttonLabelS = new l.Button(
        b.sketcher.id + "_button_label_s",
        d.SULFUR,
        "Sulfur",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "S";
        }
      );
      this.buttonLabelSi = new l.Button(
        b.sketcher.id + "_button_label_si",
        d.SILICON,
        "Silicon",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_LABEL);
          b.sketcher.stateManager.STATE_LABEL.label = "Si";
        }
      );
      this.buttonLabelPT = new l.Button(
        b.sketcher.id + "_button_label_pt",
        d.PERIODIC_TABLE,
        "Choose Symbol",
        function () {
          b.sketcher.dialogManager.periodicTableDialog.canvas.selected &&
            (b.sketcher.stateManager.setState(
              b.sketcher.stateManager.STATE_LABEL
            ),
            (b.sketcher.stateManager.STATE_LABEL.label =
              b.sketcher.dialogManager.periodicTableDialog.canvas.selected.element.symbol));
          b.sketcher.dialogManager.periodicTableDialog.open();
        }
      );
      this.buttonLabel = new l.DummyButton(
        b.sketcher.id + "_button_label",
        "Set Label"
      );
      b.sketcher.floatDrawTools
        ? ((this.labelTray = new l.Tray(
            b.sketcher,
            b.sketcher.id + "_buttons_label",
            this.buttonLabel,
            3
          )),
          (this.labelTray.defaultButton = this.buttonLabelO),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelH),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelC),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelN),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelO),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelF),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelCl),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelBr),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelI),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelP),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelS),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelSi),
          this.labelTray.buttonSet.buttons.push(this.buttonLabelPT),
          this.drawTools.components.push(this.labelTray))
        : ((this.labelSet = new l.ButtonSet(b.sketcher.id + "_buttons_label")),
          this.labelSet.buttons.push(this.buttonLabel),
          this.labelSet.addDropDown("More Labels"),
          (this.labelSet.dropDown.defaultButton = this.buttonLabelO),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelH),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelC),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelN),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelO),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelF),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelCl),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelBr),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelI),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelP),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelS),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelSi),
          this.labelSet.dropDown.buttonSet.buttons.push(this.buttonLabelPT));
    };
    h.makeBondSet = function (b) {
      this.buttonSingle = new l.Button(
        b.sketcher.id + "_button_bond_single",
        d.BOND_SINGLE,
        "Single Bond",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 1;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo = f.Bond.STEREO_NONE;
        }
      );
      this.buttonRecessed = new l.Button(
        b.sketcher.id + "_button_bond_recessed",
        d.BOND_RECESSED,
        "Recessed Bond",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 1;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo =
            f.Bond.STEREO_RECESSED;
        }
      );
      this.buttonProtruding = new l.Button(
        b.sketcher.id + "_button_bond_protruding",
        d.BOND_PROTRUDING,
        "Protruding Bond",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 1;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo =
            f.Bond.STEREO_PROTRUDING;
        }
      );
      this.buttonDouble = new l.Button(
        b.sketcher.id + "_button_bond_double",
        d.BOND_DOUBLE,
        "Double Bond",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 2;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo = f.Bond.STEREO_NONE;
        }
      );
      this.buttonZero = new l.Button(
        b.sketcher.id + "_button_bond_zero",
        d.BOND_ZERO,
        "Zero Bond (Ionic/Hydrogen)",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 0;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo = f.Bond.STEREO_NONE;
        }
      );
      this.buttonCovalent = new l.Button(
        b.sketcher.id + "_button_bond_covalent",
        d.BOND_DATIVE,
        "Dative Bond",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 0;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo =
            f.Bond.STEREO_PROTRUDING;
        }
      );
      this.buttonHalf = new l.Button(
        b.sketcher.id + "_button_bond_half",
        d.BOND_HALF,
        "Half Bond",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 0.5;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo = f.Bond.STEREO_NONE;
        }
      );
      this.buttonWavy = new l.Button(
        b.sketcher.id + "_button_bond_wavy",
        d.BOND_WAVY,
        "Wavy Bond",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 1;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo =
            f.Bond.STEREO_AMBIGUOUS;
        }
      );
      this.buttonResonance = new l.Button(
        b.sketcher.id + "_button_bond_resonance",
        d.BOND_RESONANCE,
        "Resonance Bond",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 1.5;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo = f.Bond.STEREO_NONE;
        }
      );
      this.buttonDoubleAmbiguous = new l.Button(
        b.sketcher.id + "_button_bond_ambiguous_double",
        d.BOND_DOUBLE_AMBIGUOUS,
        "Ambiguous Double Bond",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 2;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo =
            f.Bond.STEREO_AMBIGUOUS;
        }
      );
      this.buttonTriple = new l.Button(
        b.sketcher.id + "_button_bond_triple",
        d.BOND_TRIPLE,
        "Triple Bond",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_BOND
          );
          b.sketcher.stateManager.STATE_NEW_BOND.bondOrder = 3;
          b.sketcher.stateManager.STATE_NEW_BOND.stereo = f.Bond.STEREO_NONE;
        }
      );
      this.buttonBond = new l.DummyButton(
        b.sketcher.id + "_button_bond",
        b.sketcher.floatDrawTools ? "Draw Bond" : "Other Bond"
      );
      b.sketcher.floatDrawTools
        ? ((this.bondTray = new l.Tray(
            b.sketcher,
            b.sketcher.id + "_buttons_bond",
            this.buttonBond,
            2
          )),
          (this.bondTray.defaultButton = this.buttonSingle),
          this.bondTray.buttonSet.buttons.push(this.buttonZero),
          this.bondTray.buttonSet.buttons.push(this.buttonCovalent),
          this.bondTray.buttonSet.buttons.push(this.buttonHalf),
          this.bondTray.buttonSet.buttons.push(this.buttonSingle),
          this.bondTray.buttonSet.buttons.push(this.buttonRecessed),
          this.bondTray.buttonSet.buttons.push(this.buttonProtruding),
          this.bondTray.buttonSet.buttons.push(this.buttonWavy),
          this.bondTray.buttonSet.buttons.push(this.buttonResonance),
          this.bondTray.buttonSet.buttons.push(this.buttonDoubleAmbiguous),
          this.bondTray.buttonSet.buttons.push(this.buttonDouble),
          this.bondTray.buttonSet.buttons.push(this.buttonTriple),
          this.drawTools.components.push(this.bondTray))
        : ((this.bondSet = new l.ButtonSet(b.sketcher.id + "_buttons_bond")),
          this.bondSet.buttons.push(this.buttonSingle),
          this.bondSet.buttons.push(this.buttonRecessed),
          this.bondSet.buttons.push(this.buttonProtruding),
          this.bondSet.buttons.push(this.buttonDouble),
          this.bondSet.buttons.push(this.buttonBond),
          this.bondSet.addDropDown("More Bonds"),
          this.bondSet.dropDown.buttonSet.buttons.push(this.buttonZero),
          this.bondSet.dropDown.buttonSet.buttons.push(this.buttonCovalent),
          this.bondSet.dropDown.buttonSet.buttons.push(this.buttonHalf),
          this.bondSet.dropDown.buttonSet.buttons.push(this.buttonWavy),
          this.bondSet.dropDown.buttonSet.buttons.push(this.buttonResonance),
          this.bondSet.dropDown.buttonSet.buttons.push(
            this.buttonDoubleAmbiguous
          ),
          this.bondSet.dropDown.buttonSet.buttons.push(this.buttonTriple),
          (this.bondSet.dropDown.defaultButton = this.buttonTriple));
    };
    h.makeRingSet = function (b) {
      this.buttonCyclohexane = new l.Button(
        b.sketcher.id + "_button_ring_cyclohexane",
        d.CYCLOHEXANE,
        "Cyclohexane Ring",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_RING
          );
          b.sketcher.stateManager.STATE_NEW_RING.numSides = 6;
          b.sketcher.stateManager.STATE_NEW_RING.unsaturated = !1;
        }
      );
      this.buttonBenzene = new l.Button(
        b.sketcher.id + "_button_ring_benzene",
        d.BENZENE,
        "Benzene Ring",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_RING
          );
          b.sketcher.stateManager.STATE_NEW_RING.numSides = 6;
          b.sketcher.stateManager.STATE_NEW_RING.unsaturated = !0;
        }
      );
      this.buttonCyclopropane = new l.Button(
        b.sketcher.id + "_button_ring_cyclopropane",
        d.CYCLOPROPANE,
        "Cyclopropane Ring",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_RING
          );
          b.sketcher.stateManager.STATE_NEW_RING.numSides = 3;
          b.sketcher.stateManager.STATE_NEW_RING.unsaturated = !1;
        }
      );
      this.buttonCyclobutane = new l.Button(
        b.sketcher.id + "_button_ring_cyclobutane",
        d.CYCLOBUTANE,
        "Cyclobutane Ring",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_RING
          );
          b.sketcher.stateManager.STATE_NEW_RING.numSides = 4;
          b.sketcher.stateManager.STATE_NEW_RING.unsaturated = !1;
        }
      );
      this.buttonCyclopentane = new l.Button(
        b.sketcher.id + "_button_ring_cyclopentane",
        d.CYCLOPENTANE,
        "Cyclopentane Ring",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_RING
          );
          b.sketcher.stateManager.STATE_NEW_RING.numSides = 5;
          b.sketcher.stateManager.STATE_NEW_RING.unsaturated = !1;
        }
      );
      this.buttonCycloheptane = new l.Button(
        b.sketcher.id + "_button_ring_cycloheptane",
        d.CYCLOHEPTANE,
        "Cycloheptane Ring",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_RING
          );
          b.sketcher.stateManager.STATE_NEW_RING.numSides = 7;
          b.sketcher.stateManager.STATE_NEW_RING.unsaturated = !1;
        }
      );
      this.buttonCyclooctane = new l.Button(
        b.sketcher.id + "_button_ring_cyclooctane",
        d.CYCLOOCTANE,
        "Cyclooctane Ring",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_RING
          );
          b.sketcher.stateManager.STATE_NEW_RING.numSides = 8;
          b.sketcher.stateManager.STATE_NEW_RING.unsaturated = !1;
        }
      );
      this.buttonRingArbitrary = new l.Button(
        b.sketcher.id + "_button_ring_arbitrary",
        d.RING_ARBITRARY,
        "Arbitrary Ring Size Tool",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_NEW_RING
          );
          b.sketcher.stateManager.STATE_NEW_RING.numSides = -1;
          b.sketcher.stateManager.STATE_NEW_RING.unsaturated = !1;
        }
      );
      this.buttonRing = new l.DummyButton(
        b.sketcher.id + "_button_ring",
        b.sketcher.floatDrawTools ? "Draw Ring" : "Other Ring"
      );
      b.sketcher.floatDrawTools
        ? ((this.ringTray = new l.Tray(
            b.sketcher,
            b.sketcher.id + "_buttons_ring",
            this.buttonRing,
            2
          )),
          (this.ringTray.defaultButton = this.buttonCyclohexane),
          this.ringTray.buttonSet.buttons.push(this.buttonCyclopropane),
          this.ringTray.buttonSet.buttons.push(this.buttonCyclobutane),
          this.ringTray.buttonSet.buttons.push(this.buttonCyclopentane),
          this.ringTray.buttonSet.buttons.push(this.buttonCyclohexane),
          this.ringTray.buttonSet.buttons.push(this.buttonCycloheptane),
          this.ringTray.buttonSet.buttons.push(this.buttonCyclooctane),
          this.ringTray.buttonSet.buttons.push(this.buttonBenzene),
          this.ringTray.buttonSet.buttons.push(this.buttonRingArbitrary),
          this.drawTools.components.push(this.ringTray))
        : ((this.ringSet = new l.ButtonSet(b.sketcher.id + "_buttons_ring")),
          this.ringSet.buttons.push(this.buttonCyclohexane),
          this.ringSet.buttons.push(this.buttonBenzene),
          this.ringSet.buttons.push(this.buttonRing),
          this.ringSet.addDropDown("More Rings"),
          this.ringSet.dropDown.buttonSet.buttons.push(this.buttonCyclopropane),
          this.ringSet.dropDown.buttonSet.buttons.push(this.buttonCyclobutane),
          this.ringSet.dropDown.buttonSet.buttons.push(this.buttonCyclopentane),
          (this.ringSet.dropDown.defaultButton = this.buttonCyclopentane),
          this.ringSet.dropDown.buttonSet.buttons.push(this.buttonCycloheptane),
          this.ringSet.dropDown.buttonSet.buttons.push(this.buttonCyclooctane),
          this.ringSet.dropDown.buttonSet.buttons.push(
            this.buttonRingArbitrary
          ));
    };
    h.makeAttributeSet = function (b) {
      this.buttonChargePlus = new l.Button(
        b.sketcher.id + "_button_attribute_charge_increment",
        d.INCREASE_CHARGE,
        "Increase Charge",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_CHARGE
          );
          b.sketcher.stateManager.STATE_CHARGE.delta = 1;
        }
      );
      this.buttonChargeMinus = new l.Button(
        b.sketcher.id + "_button_attribute_charge_decrement",
        d.DECREASE_CHARGE,
        "Decrease Charge",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_CHARGE
          );
          b.sketcher.stateManager.STATE_CHARGE.delta = -1;
        }
      );
      this.buttonPairPlus = new l.Button(
        b.sketcher.id + "_button_attribute_lonePair_increment",
        d.ADD_LONE_PAIR,
        "Add Lone Pair",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_LONE_PAIR
          );
          b.sketcher.stateManager.STATE_LONE_PAIR.delta = 1;
        }
      );
      this.buttonPairMinus = new l.Button(
        b.sketcher.id + "_button_attribute_lonePair_decrement",
        d.REMOVE_LONE_PAIR,
        "Remove Lone Pair",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_LONE_PAIR
          );
          b.sketcher.stateManager.STATE_LONE_PAIR.delta = -1;
        }
      );
      this.buttonRadicalPlus = new l.Button(
        b.sketcher.id + "_button_attribute_radical_increment",
        d.ADD_RADICAL,
        "Add Radical",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_RADICAL
          );
          b.sketcher.stateManager.STATE_RADICAL.delta = 1;
        }
      );
      this.buttonRadicalMinus = new l.Button(
        b.sketcher.id + "_button_attribute_radical_decrement",
        d.REMOVE_RADICAL,
        "Remove Radical",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_RADICAL
          );
          b.sketcher.stateManager.STATE_RADICAL.delta = -1;
        }
      );
      this.buttonIsotope = new l.Button(
        b.sketcher.id + "_button_attribute_isotope",
        d.ISOTOPE,
        "Set Isotope Value",
        function () {
          b.sketcher.stateManager.STATE_ATTRIBUTE_INPUT.type = 0;
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_ATTRIBUTE_INPUT
          );
        }
      );
      this.buttonImplicitHydrogen = new l.Button(
        b.sketcher.id + "_button_attribute_implicit_hydrogen",
        d.IMPLICITH,
        "Set Implicit Hydrogen Count",
        function () {
          b.sketcher.stateManager.STATE_ATTRIBUTE_INPUT.type = 1;
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_ATTRIBUTE_INPUT
          );
        }
      );
      this.buttonEnhancedStereo = new l.Button(
        b.sketcher.id + "_button_attribute_enhanced_stereo",
        d.ESTEREO,
        "Define Enhanced Stereochemistry",
        function () {
          b.sketcher.stateManager.STATE_ATTRIBUTE_INPUT.type = 2;
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_ATTRIBUTE_INPUT
          );
        }
      );
      this.buttonAttribute = new l.DummyButton(
        b.sketcher.id + "_button_attribute",
        "Attributes"
      );
      b.sketcher.floatDrawTools
        ? ((this.attributeTray = new l.Tray(
            b.sketcher,
            b.sketcher.id + "_buttons_attribute",
            this.buttonAttribute,
            2
          )),
          (this.attributeTray.defaultButton = this.buttonChargePlus),
          this.attributeTray.buttonSet.buttons.push(this.buttonChargeMinus),
          this.attributeTray.buttonSet.buttons.push(this.buttonChargePlus),
          this.attributeTray.buttonSet.buttons.push(this.buttonPairMinus),
          this.attributeTray.buttonSet.buttons.push(this.buttonPairPlus),
          this.attributeTray.buttonSet.buttons.push(this.buttonRadicalMinus),
          this.attributeTray.buttonSet.buttons.push(this.buttonRadicalPlus),
          this.attributeTray.buttonSet.buttons.push(this.buttonIsotope),
          this.attributeTray.buttonSet.buttons.push(
            this.buttonImplicitHydrogen
          ),
          this.attributeTray.buttonSet.buttons.push(this.buttonEnhancedStereo),
          this.drawTools.components.push(this.attributeTray))
        : ((this.attributeSet = new l.ButtonSet(
            b.sketcher.id + "_buttons_attribute"
          )),
          this.attributeSet.buttons.push(this.buttonAttribute),
          this.attributeSet.addDropDown("More Attributes"),
          this.attributeSet.dropDown.buttonSet.buttons.push(
            this.buttonChargePlus
          ),
          this.attributeSet.dropDown.buttonSet.buttons.push(
            this.buttonChargeMinus
          ),
          this.attributeSet.dropDown.buttonSet.buttons.push(
            this.buttonPairPlus
          ),
          this.attributeSet.dropDown.buttonSet.buttons.push(
            this.buttonPairMinus
          ),
          this.attributeSet.dropDown.buttonSet.buttons.push(
            this.buttonRadicalPlus
          ),
          this.attributeSet.dropDown.buttonSet.buttons.push(
            this.buttonRadicalMinus
          ),
          this.attributeSet.dropDown.buttonSet.buttons.push(this.buttonIsotope),
          this.attributeSet.dropDown.buttonSet.buttons.push(
            this.buttonImplicitHydrogen
          ),
          this.attributeSet.dropDown.buttonSet.buttons.push(
            this.buttonEnhancedStereo
          ));
    };
    h.makeShapeSet = function (b) {
      this.buttonArrowSynthetic = new l.Button(
        b.sketcher.id + "_button_shape_arrow_synthetic",
        d.ARROW_SYNTHETIC,
        "Synthetic Arrow",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_SHAPE);
          b.sketcher.stateManager.STATE_SHAPE.shapeType =
            u.ShapeState.ARROW_SYNTHETIC;
        }
      );
      this.buttonArrowRetrosynthetic = new l.Button(
        b.sketcher.id + "_button_shape_arrow_retrosynthetic",
        d.ARROW_RETROSYNTHETIC,
        "Retrosynthetic Arrow",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_SHAPE);
          b.sketcher.stateManager.STATE_SHAPE.shapeType =
            u.ShapeState.ARROW_RETROSYNTHETIC;
        }
      );
      this.buttonArrowResonance = new l.Button(
        b.sketcher.id + "_button_shape_arrow_resonance",
        d.ARROW_RESONANCE,
        "Resonance Arrow",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_SHAPE);
          b.sketcher.stateManager.STATE_SHAPE.shapeType =
            u.ShapeState.ARROW_RESONANCE;
        }
      );
      this.buttonArrowEquilibrum = new l.Button(
        b.sketcher.id + "_button_shape_arrow_equilibrium",
        d.ARROW_EQUILIBRIUM,
        "Equilibrium Arrow",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_SHAPE);
          b.sketcher.stateManager.STATE_SHAPE.shapeType =
            u.ShapeState.ARROW_EQUILIBRIUM;
        }
      );
      this.buttonReactionMapping = new l.Button(
        b.sketcher.id + "_button_reaction_mapping",
        d.ATOM_REACTION_MAP,
        "Reaction Mapping",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_PUSHER
          );
          b.sketcher.stateManager.STATE_PUSHER.numElectron = -10;
        }
      );
      this.buttonPusher1 = new l.Button(
        b.sketcher.id + "_button_shape_pusher_1",
        d.PUSHER_SINGLE,
        "Single Electron Pusher",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_PUSHER
          );
          b.sketcher.stateManager.STATE_PUSHER.numElectron = 1;
        }
      );
      this.buttonPusher2 = new l.Button(
        b.sketcher.id + "_button_shape_pusher_2",
        d.PUSHER_DOUBLE,
        "Electron Pair Pusher",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_PUSHER
          );
          b.sketcher.stateManager.STATE_PUSHER.numElectron = 2;
        }
      );
      this.buttonPusherBond = new l.Button(
        b.sketcher.id + "_button_shape_pusher_bond_forming",
        d.PUSHER_BOND_FORMING,
        "Bond Forming Pusher",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_PUSHER
          );
          b.sketcher.stateManager.STATE_PUSHER.numElectron = -1;
        }
      );
      this.buttonReactionMapping = new l.Button(
        b.sketcher.id + "_button_reaction_mapping",
        d.ATOM_REACTION_MAP,
        "Reaction Mapping",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_PUSHER
          );
          b.sketcher.stateManager.STATE_PUSHER.numElectron = -10;
        }
      );
      this.buttonBracket = new l.Button(
        b.sketcher.id + "_button_shape_charge_bracket",
        d.BRACKET_CHARGE,
        "Bracket",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_SHAPE);
          b.sketcher.stateManager.STATE_SHAPE.shapeType = u.ShapeState.BRACKET;
          b.sketcher.repaint();
        }
      );
      this.buttonRepeatUnit = new l.Button(
        b.sketcher.id + "_button_repeat_unit",
        d.BRACKET_REPEAT_UNIT,
        "Repeat Unit",
        function () {
          b.sketcher.stateManager.setState(
            b.sketcher.stateManager.STATE_REPEAT_UNIT
          );
        }
      );
      this.buttonVAP = new l.Button(
        b.sketcher.id + "_button_vap",
        d.VARIABLE_ATTACHMENT_POINTS,
        "Variable Attachment Points",
        function () {
          b.sketcher.stateManager.setState(b.sketcher.stateManager.STATE_VAP);
        }
      );
      this.sketcher.oneMolecule ||
        ((this.buttonShape = new l.DummyButton(
          b.sketcher.id + "_button_shape",
          b.sketcher.floatDrawTools ? "Reactions" : "Shapes"
        )),
        b.sketcher.floatDrawTools
          ? ((this.buttonVAP.toggle = !0),
            (this.shapeTray = new l.Tray(
              b.sketcher,
              b.sketcher.id + "_buttons_shape",
              this.buttonShape,
              4
            )),
            (this.shapeTray.defaultButton = this.buttonArrowSynthetic),
            this.shapeTray.buttonSet.buttons.push(this.buttonArrowSynthetic),
            this.shapeTray.buttonSet.buttons.push(
              this.buttonArrowRetrosynthetic
            ),
            this.shapeTray.buttonSet.buttons.push(this.buttonArrowResonance),
            this.shapeTray.buttonSet.buttons.push(this.buttonArrowEquilibrum),
            this.shapeTray.buttonSet.buttons.push(this.buttonPusher1),
            this.shapeTray.buttonSet.buttons.push(this.buttonPusher2),
            this.shapeTray.buttonSet.buttons.push(this.buttonPusherBond),
            this.shapeTray.buttonSet.buttons.push(this.buttonReactionMapping),
            this.drawTools.components.push(this.shapeTray),
            (this.buttonBrackets = new l.DummyButton(
              b.sketcher.id + "_button_bracket",
              "Brackets"
            )),
            (this.bracketTray = new l.Tray(
              b.sketcher,
              b.sketcher.id + "_buttons_bracket",
              this.buttonBrackets,
              2
            )),
            this.bracketTray.buttonSet.buttons.push(this.buttonBracket),
            this.bracketTray.buttonSet.buttons.push(this.buttonRepeatUnit),
            this.drawTools.components.push(this.bracketTray))
          : ((this.shapeSet = new l.ButtonSet(
              b.sketcher.id + "_buttons_shape"
            )),
            this.shapeSet.buttons.push(this.buttonShape),
            this.shapeSet.addDropDown("More Shapes"),
            this.shapeSet.dropDown.buttonSet.buttons.push(
              this.buttonArrowSynthetic
            ),
            this.shapeSet.dropDown.buttonSet.buttons.push(
              this.buttonArrowRetrosynthetic
            ),
            this.shapeSet.dropDown.buttonSet.buttons.push(
              this.buttonArrowResonance
            ),
            this.shapeSet.dropDown.buttonSet.buttons.push(
              this.buttonArrowEquilibrum
            ),
            this.shapeSet.dropDown.buttonSet.buttons.push(this.buttonPusher1),
            this.shapeSet.dropDown.buttonSet.buttons.push(this.buttonPusher2),
            this.shapeSet.dropDown.buttonSet.buttons.push(
              this.buttonPusherBond
            ),
            this.shapeSet.dropDown.buttonSet.buttons.push(
              this.buttonReactionMapping
            ),
            this.shapeSet.dropDown.buttonSet.buttons.push(this.buttonBracket),
            this.shapeSet.dropDown.buttonSet.buttons.push(
              this.buttonRepeatUnit
            ),
            this.shapeSet.dropDown.buttonSet.buttons.push(this.buttonVAP)));
    };
  })(
    ChemDoodle,
    ChemDoodle.iChemLabs,
    ChemDoodle.io,
    ChemDoodle.structures,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.gui,
    ChemDoodle.uis.gui.imageDepot,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.uis.tools,
    ChemDoodle.uis.states,
    ChemDoodle.lib.jQuery,
    document
  );
  (function (k, b, n, f) {
    k.CursorManager = function (b) {
      this.sketcher = b;
      this.currentCursor = this.lastCursor = f;
    };
    k.CursorManager.POINTER = "default";
    k.CursorManager.CROSSHAIR = "crosshair";
    k.CursorManager.TEXT = "text";
    n = -1 !== n.navigator.userAgent.indexOf("Trident/");
    k.CursorManager.HAND_OPEN = n ? "move" : "grab";
    k.CursorManager.HAND_CLOSE = n ? "move" : "grabbing";
    k.CursorManager.HAND_POINT = "pointer";
    k.CursorManager.LASSO = "default";
    k.CursorManager.ROTATE = "alias";
    k.CursorManager.RESIZE = "move";
    k.CursorManager.ERASER = "cell";
    k = k.CursorManager.prototype;
    k.setCursor = function (f) {
      this.sketcher.isMobile ||
        this.currentCursor === f ||
        ((this.lastCursor = this.currentCursor),
        (this.currentCursor = f),
        b("#" + this.sketcher.id).css("cursor", f));
    };
    k.setPreviousCursor = function () {
      this.sketcher.isMobile ||
        this.lastCursor === f ||
        this.lastCursor === this.currentCursor ||
        ((this.currentCursor = this.lastCursor),
        b("#" + this.sketcher.id).css("cursor", this.lastCursor));
    };
    k.getCurrentCursor = function () {
      return this.currentCursor;
    };
  })(ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery, window);
  (function (k, b, n, f, r) {
    f.Lasso = function (b) {
      this.sketcher = b;
      this.atoms = [];
      this.shapes = [];
      this.bounds = r;
      this.mode = f.Lasso.MODE_LASSO;
      this.points = [];
    };
    f.Lasso.MODE_LASSO = "lasso";
    f.Lasso.MODE_LASSO_SHAPES = "shapes";
    f.Lasso.MODE_RECTANGLE_MARQUEE = "rectangle";
    let h = f.Lasso.prototype;
    h.select = function (d, h) {
      if (!this.block) {
        b.SHIFT || this.empty();
        if (d) (this.atoms = d.slice(0)), (this.shapes = h.slice(0));
        else {
          if (this.mode !== f.Lasso.MODE_LASSO_SHAPES) {
            d = [];
            for (let b = 0, n = this.sketcher.molecules.length; b < n; b++) {
              h = this.sketcher.molecules[b];
              for (let b = 0, n = h.atoms.length; b < n; b++) {
                var l = h.atoms[b];
                this.mode === f.Lasso.MODE_RECTANGLE_MARQUEE
                  ? 2 === this.points.length &&
                    k.isBetween(l.x, this.points[0].x, this.points[1].x) &&
                    k.isBetween(l.y, this.points[0].y, this.points[1].y) &&
                    d.push(l)
                  : 1 < this.points.length &&
                    k.isPointInPoly(this.points, l) &&
                    d.push(l);
              }
            }
            if (0 === this.atoms.length) this.atoms = d;
            else {
              h = [];
              for (let b = 0, f = this.atoms.length; b < f; b++)
                (l = this.atoms[b]),
                  -1 === d.indexOf(l) ? h.push(l) : (l.isLassoed = !1);
              for (let b = 0, f = d.length; b < f; b++)
                -1 === this.atoms.indexOf(d[b]) && h.push(d[b]);
              this.atoms = h;
            }
          }
          d = [];
          for (let b = 0, n = this.sketcher.shapes.length; b < n; b++) {
            h = this.sketcher.shapes[b];
            l = h.getPoints();
            let q = 0 < l.length;
            for (let b = 0, e = l.length; b < e; b++) {
              let e = l[b];
              if (this.mode === f.Lasso.MODE_RECTANGLE_MARQUEE)
                if (2 === this.points.length) {
                  if (
                    !k.isBetween(e.x, this.points[0].x, this.points[1].x) ||
                    !k.isBetween(e.y, this.points[0].y, this.points[1].y)
                  ) {
                    q = !1;
                    break;
                  }
                } else {
                  q = !1;
                  break;
                }
              else if (1 < this.points.length) {
                if (!k.isPointInPoly(this.points, e)) {
                  q = !1;
                  break;
                }
              } else {
                q = !1;
                break;
              }
            }
            q && d.push(h);
          }
          if (0 === this.shapes.length) this.shapes = d;
          else {
            h = [];
            for (let b = 0, f = this.shapes.length; b < f; b++)
              (l = this.shapes[b]),
                -1 === d.indexOf(l) ? asFinal.push(l) : (l.isLassoed = !1);
            for (let b = 0, f = d.length; b < f; b++)
              -1 === this.shapes.indexOf(d[b]) && h.push(d[b]);
            this.shapes = h;
          }
        }
        for (let b = 0, d = this.atoms.length; b < d; b++)
          this.atoms[b].isLassoed = !0;
        for (let b = 0, d = this.shapes.length; b < d; b++)
          this.shapes[b].isLassoed = !0;
        this.setBounds();
        this.bounds && Infinity === this.bounds.minX && this.empty();
        this.points = [];
        this.sketcher.stateManager.getCurrentState().clearHover();
        this.enableButtons();
        this.sketcher.repaint();
      }
    };
    h.enableButtons = function () {
      this.sketcher.useServices &&
        (0 < this.atoms.length
          ? (this.sketcher.toolbarManager.buttonClean.enable(),
            this.sketcher.toolbarManager.buttonCalculate.enable())
          : (this.sketcher.toolbarManager.buttonClean.disable(),
            this.sketcher.toolbarManager.buttonCalculate.disable()));
      0 < this.atoms.length || 0 < this.shapes.length
        ? (this.sketcher.toolbarManager.buttonSave.enable(),
          this.sketcher.toolbarManager.buttonCut.enable(),
          this.sketcher.toolbarManager.buttonCopy.enable(),
          this.sketcher.toolbarManager.buttonFlipVert.enable(),
          this.sketcher.toolbarManager.buttonFlipHor.enable())
        : (this.sketcher.toolbarManager.buttonSave.disable(),
          this.sketcher.toolbarManager.buttonCut.disable(),
          this.sketcher.toolbarManager.buttonCopy.disable(),
          this.sketcher.toolbarManager.buttonFlipVert.disable(),
          this.sketcher.toolbarManager.buttonFlipHor.disable());
    };
    h.setBounds = function () {
      if (this.isActive()) {
        this.sketcher.repaint();
        this.bounds = new k.Bounds();
        for (let b = 0, f = this.atoms.length; b < f; b++)
          this.bounds.expand(this.atoms[b].getBounds());
        for (let b = 0, f = this.shapes.length; b < f; b++)
          this.bounds.expand(this.shapes[b].getBounds());
        this.bounds.minX -= 5;
        this.bounds.minY -= 5;
        this.bounds.maxX += 5;
        this.bounds.maxY += 5;
      } else this.bounds = r;
    };
    h.empty = function () {
      for (let b = 0, f = this.atoms.length; b < f; b++)
        this.atoms[b].isLassoed = !1;
      for (let b = 0, f = this.shapes.length; b < f; b++)
        this.shapes[b].isLassoed = !1;
      this.atoms = [];
      this.shapes = [];
      this.bounds = r;
      this.enableButtons();
      this.sketcher.repaint();
    };
    h.draw = function (b, h) {
      b.strokeStyle = h.colorSelect;
      b.lineWidth = 0.5 / h.scale;
      b.setLineDash([5]);
      if (0 < this.points.length)
        if (this.mode === f.Lasso.MODE_RECTANGLE_MARQUEE) {
          if (2 === this.points.length) {
            h = this.points[0];
            let d = this.points[1];
            b.beginPath();
            b.rect(h.x, h.y, d.x - h.x, d.y - h.y);
            b.stroke();
          }
        } else if (1 < this.points.length) {
          b.beginPath();
          b.moveTo(this.points[0].x, this.points[0].y);
          for (let d = 1, f = this.points.length; d < f; d++)
            b.lineTo(this.points[d].x, this.points[d].y);
          b.closePath();
          b.stroke();
        }
      this.bounds &&
        (b.beginPath(),
        b.rect(
          this.bounds.minX,
          this.bounds.minY,
          this.bounds.maxX - this.bounds.minX,
          this.bounds.maxY - this.bounds.minY
        ),
        b.stroke());
      b.setLineDash([]);
    };
    h.isActive = function () {
      return 0 < this.atoms.length || 0 < this.shapes.length;
    };
    h.getFirstMolecule = function () {
      return 0 < this.atoms.length
        ? this.sketcher.getMoleculeByAtom(this.atoms[0])
        : r;
    };
    h.getBonds = function () {
      let b = [];
      if (0 < this.atoms.length)
        for (let d = 0, f = this.sketcher.molecules.length; d < f; d++) {
          let f = this.sketcher.molecules[d];
          for (let d = 0, h = f.bonds.length; d < h; d++) {
            let h = f.bonds[d];
            h.a1.isLassoed && h.a2.isLassoed && b.push(h);
          }
        }
      return b;
    };
    h.getAllPoints = function () {
      let b = this.atoms;
      for (let d = 0, f = this.shapes.length; d < f; d++)
        b = b.concat(this.shapes[d].getPoints());
      return b;
    };
    h.addPoint = function (b) {
      if (this.mode === f.Lasso.MODE_RECTANGLE_MARQUEE)
        if (2 > this.points.length) this.points.push(b);
        else {
          let d = this.points[1];
          d.x = b.x;
          d.y = b.y;
        }
      else this.points.push(b);
    };
    h.selectNextMolecule = function () {
      if (0 < this.sketcher.molecules.length) {
        var b = this.sketcher.molecules.length - 1;
        0 < this.atoms.length &&
          ((b = this.sketcher.getMoleculeByAtom(this.atoms[0])),
          (b = this.sketcher.molecules.indexOf(b) + 1));
        b === this.sketcher.molecules.length && (b = 0);
        b = this.sketcher.molecules[b];
        let d = [];
        for (let f = 0, h = this.sketcher.shapes.length; f < h; f++) {
          let h = this.sketcher.shapes[f];
          h instanceof n.d2.RepeatUnit &&
            0 !== h.contents.length &&
            -1 !== b.atoms.indexOf(h.contents[0]) &&
            d.push(h);
        }
        this.select(b.atoms, d);
      }
    };
    h.selectNextShape = function () {
      if (0 < this.sketcher.shapes.length) {
        let b = this.sketcher.shapes.length - 1;
        0 < this.shapes.length &&
          (b = this.sketcher.shapes.indexOf(this.shapes[0]) + 1);
        b === this.sketcher.shapes.length && (b = 0);
        this.empty();
        this.select([], [this.sketcher.shapes[b]]);
      }
    };
  })(
    ChemDoodle.math,
    ChemDoodle.monitor,
    ChemDoodle.structures,
    ChemDoodle.uis.tools
  );
  (function (k, b, n, f, r, h) {
    let d = new k.Splitter();
    f.CopyPasteManager = function (b) {
      this.sketcher = b;
      this.data = h;
    };
    k = f.CopyPasteManager.prototype;
    k.interpreter = new b.JSONInterpreter();
    k.copy = function (b) {
      if (this.sketcher.lasso.isActive()) {
        let f = d.split({
          atoms: this.sketcher.lasso.atoms,
          bonds: this.sketcher.lasso.getBonds(),
        });
        this.data = this.interpreter.contentTo(f, this.sketcher.lasso.shapes);
        b && this.sketcher.stateManager.STATE_ERASE.handleDelete();
        this.sketcher.toolbarManager.buttonPaste.enable();
      }
    };
    k.paste = function () {
      if (this.data) {
        var b = this.interpreter.contentFrom(this.data);
        if (0 !== b.molecules.length || 0 !== b.shapes.length) {
          let f = [];
          for (let d = 0, h = b.molecules.length; d < h; d++)
            f = f.concat(b.molecules[d].atoms);
          if (this.sketcher.lastMousePos)
            var d = new n.Point(
              this.sketcher.lastMousePos.x,
              this.sketcher.lastMousePos.y
            );
          else
            this.sketcher.lasso.isActive()
              ? (this.sketcher.lasso.setBounds(),
                (d = this.sketcher.lasso.bounds),
                (d = new n.Point(
                  (d.minX + d.maxX) / 2 + 50,
                  (d.minY + d.maxY) / 2 + 50
                )))
              : (d = new n.Point(
                  this.sketcher.width / 2,
                  this.sketcher.height / 2
                ));
          this.sketcher.historyManager.pushUndo(
            new r.AddContentAction(this.sketcher, b.molecules, b.shapes)
          );
          this.sketcher.lasso.empty();
          this.sketcher.lasso.select(f, b.shapes);
          this.sketcher.lasso.setBounds();
          b = this.sketcher.lasso.bounds;
          d.sub(
            new n.Point((b.minX + b.maxX) / 2 + 10, (b.minY + b.maxY) / 2 + 10)
          );
          new r.MoveAction(this.sketcher.lasso.getAllPoints(), d).forward(
            this.sketcher
          );
          this.sketcher.repaint();
        }
      }
    };
  })(
    ChemDoodle.informatics,
    ChemDoodle.io,
    ChemDoodle.structures,
    ChemDoodle.uis,
    ChemDoodle.uis.actions
  );
  (function (k, b, n, f, r, h, d, l, w, u, v) {
    k.SketcherCanvas = function (b, h, e, k) {
      this.isMobile = k.isMobile === v ? n.supports_touch() : k.isMobile;
      this.useServices = k.useServices === v ? !1 : k.useServices;
      this.oneMolecule = k.oneMolecule === v ? !1 : k.oneMolecule;
      this.requireStartingAtom =
        k.requireStartingAtom === v ? !0 : k.requireStartingAtom;
      this.includeToolbar = k.includeToolbar === v ? !0 : k.includeToolbar;
      this.floatDrawTools = k.floatDrawTools === v ? !1 : k.floatDrawTools;
      this.resizable = k.resizable === v ? !1 : k.resizable;
      this.includeQuery = k.includeQuery === v ? !1 : k.includeQuery;
      this.originalOptions = k;
      this.id = b;
      this.toolbarManager = new f.gui.ToolbarManager(this);
      if (this.includeToolbar && !this.toolbarManager.written) {
        this.toolbarManager.write();
        let e = this;
        if (document.getElementById(this.id))
          l("#" + b + "_button_chain_icon").on("load", function () {
            e.toolbarManager.setup();
          });
        else
          l(u).on("load", function () {
            e.toolbarManager.setup();
          });
        this.dialogManager = new f.gui.DialogManager(this);
      }
      f.gui.desktop.TextInput &&
        (this.textInput = new f.gui.desktop.TextInput(
          this,
          this.id + "_textInput"
        ));
      b && this.create(b, h, e);
      this.cursorManager = new f.gui.desktop.CursorManager(this);
      this.stateManager = new f.states.StateManager(this);
      this.historyManager = new f.actions.HistoryManager(this);
      this.copyPasteManager = new f.CopyPasteManager(this);
      this.styles.atoms_circleDiameter_2D = 7;
      this.styles.atoms_circleBorderWidth_2D = 0;
      this.isHelp = !1;
      this.lastPinchScale = 1;
      this.lastGestureRotate = 0;
      this.inGesture = !1;
      this.oneMolecule
        ? ((b = new r.Molecule()),
          b.atoms.push(new r.Atom()),
          this.loadMolecule(b))
        : ((this.startAtom = new r.Atom("C", -10, -10)),
          (this.startAtom.isLone = !0),
          (this.lasso = new d.Lasso(this)));
      if (this.resizable) {
        let b = l("#" + this.id),
          e = this;
        b.resizable({
          resize: function (a, c) {
            e.resize(b.innerWidth(), b.innerHeight());
          },
        });
      }
    };
    k = k.SketcherCanvas.prototype = new k._Canvas();
    k.drawSketcherDecorations = function (d, f) {
      d.save();
      d.translate(this.width / 2, this.height / 2);
      d.rotate(f.rotateAngle);
      d.scale(f.scale, f.scale);
      d.translate(-this.width / 2, -this.height / 2);
      this.hovering && this.hovering.drawDecorations(d, f);
      this.startAtom &&
        -10 != this.startAtom.x &&
        !this.isMobile &&
        this.startAtom.draw(d, f);
      this.tempAtom &&
        ((d.strokeStyle = f.colorPreview),
        (d.fillStyle = f.colorPreview),
        (d.lineWidth = 1),
        d.beginPath(),
        d.moveTo(this.hovering.x, this.hovering.y),
        d.lineTo(this.tempAtom.x, this.tempAtom.y),
        d.setLineDash([2]),
        d.stroke(),
        d.setLineDash([]),
        "C" === this.tempAtom.label
          ? (d.beginPath(),
            d.arc(this.tempAtom.x, this.tempAtom.y, 3, 0, 2 * w.PI, !1),
            d.fill())
          : ((d.textAlign = "center"),
            (d.textBaseline = "middle"),
            (d.font = b.getFontString(
              f.atoms_font_size_2D,
              f.atoms_font_families_2D,
              f.atoms_font_bold_2D,
              f.atoms_font_italic_2D
            )),
            d.fillText(this.tempAtom.label, this.tempAtom.x, this.tempAtom.y)),
        this.tempAtom.isOverlap &&
          ((d.strokeStyle = f.colorError),
          (d.lineWidth = 1.2),
          d.beginPath(),
          d.arc(this.tempAtom.x, this.tempAtom.y, 7, 0, 2 * w.PI, !1),
          d.stroke()));
      if (this.tempRing) {
        d.strokeStyle = f.colorPreview;
        d.fillStyle = f.colorPreview;
        d.lineWidth = 1;
        d.beginPath();
        if (this.hovering instanceof r.Atom) {
          d.moveTo(this.hovering.x, this.hovering.y);
          d.lineTo(this.tempRing[0].x, this.tempRing[0].y);
          for (let a = 1, b = this.tempRing.length; a < b; a++)
            d.lineTo(this.tempRing[a].x, this.tempRing[a].y);
          d.lineTo(this.hovering.x, this.hovering.y);
        } else if (this.hovering instanceof r.Bond) {
          var e = this.hovering.a2,
            h = this.hovering.a1;
          this.tempRing[0] === this.hovering.a1 &&
            ((e = this.hovering.a1), (h = this.hovering.a2));
          d.moveTo(e.x, e.y);
          d.lineTo(this.tempRing[1].x, this.tempRing[1].y);
          for (let a = 2, b = this.tempRing.length; a < b; a++)
            d.lineTo(this.tempRing[a].x, this.tempRing[a].y);
          d.lineTo(h.x, h.y);
        }
        d.setLineDash([2]);
        d.stroke();
        d.setLineDash([]);
        d.strokeStyle = f.colorError;
        d.lineWidth = 1.2;
        for (let a = 0, b = this.tempRing.length; a < b; a++)
          this.tempRing[a].isOverlap &&
            (d.beginPath(),
            d.arc(this.tempRing[a].x, this.tempRing[a].y, 7, 0, 2 * w.PI, !1),
            d.stroke());
        if (-1 === this.stateManager.STATE_NEW_RING.numSides) {
          h = e = 0;
          if (this.hovering instanceof r.Atom)
            (e += this.hovering.x), (h += this.hovering.y);
          else if (this.hovering instanceof r.Bond) {
            var k = this.hovering.a1;
            this.tempRing[0] === this.hovering.a1 && (k = this.hovering.a2);
            e += k.x;
            h += k.y;
          }
          k = this.tempRing.length;
          for (var l = 0; l < k; l++)
            (e += this.tempRing[l].x), (h += this.tempRing[l].y);
          k++;
          e /= k;
          h /= k;
          d.font = b.getFontString(
            f.text_font_size,
            f.text_font_families,
            f.text_font_bold,
            f.text_font_italic
          );
          d.textAlign = "center";
          d.textBaseline = "middle";
          d.fillStyle = "black";
          d.fillText(k, e, h);
        }
      }
      if (this.tempChain && 0 < this.tempChain.length) {
        d.strokeStyle = f.colorPreview;
        d.fillStyle = f.colorPreview;
        d.lineWidth = 1;
        d.beginPath();
        d.moveTo(this.hovering.x, this.hovering.y);
        d.lineTo(this.tempChain[0].x, this.tempChain[0].y);
        for (let a = 1, b = this.tempChain.length; a < b; a++)
          d.lineTo(this.tempChain[a].x, this.tempChain[a].y);
        d.setLineDash([2]);
        d.stroke();
        d.setLineDash([]);
        d.strokeStyle = f.colorError;
        d.lineWidth = 1.2;
        for (let a = 0, b = this.tempChain.length; a < b; a++)
          this.tempChain[a].isOverlap &&
            (d.beginPath(),
            d.arc(this.tempChain[a].x, this.tempChain[a].y, 7, 0, 2 * w.PI, !1),
            d.stroke());
        d.font = b.getFontString(
          f.text_font_size,
          f.text_font_families,
          f.text_font_bold,
          f.text_font_italic
        );
        d.textAlign = "left";
        d.textBaseline = "bottom";
        e = this.tempChain.length;
        d.fillStyle = "black";
        d.fillText(
          e,
          this.tempChain[e - 1].x + 10,
          this.tempChain[e - 1].y - 10
        );
      }
      if (this.tempTemplate) {
        if (0 < this.tempTemplate.atoms.length) {
          e = f.atoms_color;
          h = f.atoms_useJMOLColors;
          k = f.atoms_usePYMOLColors;
          l = f.bonds_color;
          let a = f.atoms_HBlack_2D;
          f.atoms_color = f.colorPreview;
          f.atoms_useJMOLColors = !1;
          f.atoms_usePYMOLColors = !1;
          f.bonds_color = f.colorPreview;
          f.atoms_HBlack_2D = !1;
          this.tempTemplate.draw(d, f);
          f.atoms_color = e;
          f.atoms_useJMOLColors = h;
          f.atoms_usePYMOLColors = k;
          f.bonds_color = l;
          f.atoms_HBlack_2D = a;
        }
        d.strokeStyle = f.colorError;
        d.lineWidth = 1.2;
        for (let a = 0, b = this.molecules.length; a < b; a++) {
          e = this.molecules[a];
          for (let a = 0, b = e.atoms.length; a < b; a++)
            (h = e.atoms[a]),
              h.isOverlap &&
                (d.beginPath(),
                d.arc(h.x, h.y, 7, 0, 2 * w.PI, !1),
                d.stroke());
        }
      }
      this.lasso && this.lasso.draw(d, f);
      this.stateManager.getCurrentState().draw &&
        this.stateManager.getCurrentState().draw(d, f);
      d.restore();
    };
    k.checksOnAction = function (b) {
      if (b && this.doChecks) {
        var d = [],
          e = [];
        let b = [];
        for (let a = 0, c = this.shapes.length; a < c; a++) {
          var f = this.shapes[a];
          if (f instanceof h.AtomMapping) (f.error = !1), d.push(f);
          else if (f instanceof h.Line && !k) var k = f;
          else
            f instanceof h.RepeatUnit
              ? ((f.error = !1), e.push(f))
              : f instanceof h.VAP && ((f.error = !1), b.push(f));
        }
        for (let a = 0, b = d.length; a < b; a++) {
          k = d[a];
          k.label = (a + 1).toString();
          for (let b = a + 1, c = d.length; b < c; b++)
            if (
              ((f = d[b]),
              k.o1 === f.o1 || k.o2 === f.o1 || k.o1 === f.o2 || k.o2 === f.o2)
            )
              (k.error = !0), (f.error = !0);
          k.error || k.o1.label === k.o2.label || (k.error = !0);
          k.error ||
            this.getMoleculeByAtom(k.o1) !== this.getMoleculeByAtom(k.o2) ||
            (k.error = !0);
        }
        if (0 !== e.length) {
          d = this.getAllAtoms();
          for (let a = 0, b = d.length; a < b; a++) d[a].inBracket = !1;
          for (let a = 0, b = e.length; a < b; a++) {
            d = e[a];
            d.setContents(this);
            if (0 === d.contents.length) d.error = !0;
            else
              for (let a = 0, b = d.contents.length; a < b; a++)
                if (d.contents[a].inBracket) {
                  d.error = !0;
                  break;
                }
            for (let a = 0, b = d.contents.length; a < b; a++)
              d.contents[a].inBracket = !0;
          }
        }
        for (let a = 0, c = b.length; a < c; a++)
          if (
            ((e = b[a]),
            e.substituent
              ? 0 === e.attachments.length && (e.error = !0)
              : (e.error = !0),
            !e.error)
          ) {
            d = this.getMoleculeByAtom(e.attachments[0]);
            e.substituent.present = v;
            for (let a = 0, b = d.atoms.length; a < b; a++)
              d.atoms[a].present = !0;
            e.substituent.present && (e.error = !0);
            if (!e.error)
              for (let a = 0, b = e.attachments.length; a < b; a++)
                if (!e.attachments[a].present) {
                  e.error = !0;
                  break;
                }
            for (let a = 0, b = d.atoms.length; a < b; a++)
              d.atoms[a].present = v;
          }
      }
      this.doChecks = !b;
    };
    k.drawChildExtras = function (b, d) {
      this.drawSketcherDecorations(b, d);
      if (!this.hideHelp) {
        let e = new r.Point(this.width - 20, 20),
          f = b.createRadialGradient(e.x, e.y, 10, e.x, e.y, 2);
        f.addColorStop(0, "#00680F");
        f.addColorStop(1, "#01DF01");
        b.fillStyle = f;
        b.beginPath();
        b.arc(e.x, e.y, 10, 0, 2 * w.PI, !1);
        b.fill();
        b.lineWidth = 2;
        this.isHelp && ((b.strokeStyle = d.colorHover), b.stroke());
        b.strokeStyle = "black";
        b.fillStyle = "white";
        b.textAlign = "center";
        b.textBaseline = "middle";
        b.font = "14px sans-serif";
        b.strokeText("?", e.x, e.y);
        b.fillText("?", e.x, e.y);
      }
      this.paidToHideTrademark ||
        ((b.font = "14px sans-serif"),
        (d = b.measureText("ChemDoodle").width),
        (b.textAlign = "left"),
        (b.textBaseline = "bottom"),
        (b.fillStyle = "rgba(60, 60, 60, 0.5)"),
        b.fillText("ChemDoodle", this.width - d - 13, this.height - 4),
        (b.font = "10px sans-serif"),
        b.fillText("\u00ae", this.width - 13, this.height - 12));
    };
    k.scaleEvent = function (b) {
      b.op = new r.Point(b.p.x, b.p.y);
      1 !== this.styles.scale &&
        ((b.p.x =
          this.width / 2 + (b.p.x - this.width / 2) / this.styles.scale),
        (b.p.y =
          this.height / 2 + (b.p.y - this.height / 2) / this.styles.scale));
    };
    k.checkScale = function () {
      0.5 > this.styles.scale
        ? (this.styles.scale = 0.5)
        : 10 < this.styles.scale && (this.styles.scale = 10);
    };
    k.click = function (b) {
      this.scaleEvent(b);
      if (this.modal) return this.modal.close(b), !1;
      this.stateManager.getCurrentState().click(b);
    };
    k.rightclick = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().rightclick(b);
    };
    k.dblclick = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().dblclick(b);
    };
    k.mousedown = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().mousedown(b);
    };
    k.rightmousedown = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().rightmousedown(b);
    };
    k.mousemove = function (b) {
      if (this.modal) return !1;
      this.isHelp = !1;
      10 > b.p.distance(new r.Point(this.width - 20, 20)) && (this.isHelp = !0);
      this.scaleEvent(b);
      this.stateManager.getCurrentState().mousemove(b);
    };
    k.mouseout = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().mouseout(b);
    };
    k.mouseover = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().mouseover(b);
    };
    k.mouseup = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().mouseup(b);
    };
    k.rightmouseup = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().rightmouseup(b);
    };
    k.mousewheel = function (b, d) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().mousewheel(b, d);
    };
    k.drag = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().drag(b);
    };
    k.keydown = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().keydown(b);
    };
    k.keypress = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().keypress(b);
    };
    k.keyup = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().keyup(b);
    };
    k.touchstart = function (b) {
      if (this.modal) return !1;
      if (b.touches && 1 < b.touches.length) {
        if (this.tempAtom || this.tempRing)
          (this.hovering = this.tempRing = this.tempAtom = v), this.repaint();
        this.lastPoint = v;
      } else
        this.scaleEvent(b),
          this.stateManager.getCurrentState().mousemove(b),
          this.stateManager.getCurrentState().mousedown(b);
    };
    k.touchmove = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      !this.inGesture &&
        this.lastPoint &&
        5 < this.lastPoint.distance(b.p) &&
        this.stateManager.getCurrentState().drag(b);
    };
    k.touchend = function (b) {
      if (this.modal) return !1;
      this.scaleEvent(b);
      this.stateManager.getCurrentState().mouseup(b);
      this.hovering &&
        (this.stateManager.getCurrentState().clearHover(), this.repaint());
    };
    k.gesturechange = function (b) {
      if (this.modal) return !1;
      this.inGesture = !0;
      this.stateManager.getCurrentState().newMolAllowed = !1;
      1 !== b.scale - this.lastPinchScale &&
        ((this.lasso && this.lasso.isActive()) ||
          ((this.styles.scale *= b.scale / this.lastPinchScale),
          this.checkScale()),
        (this.lastPinchScale = b.scale));
      if (0 !== this.lastGestureRotate - b.rotation) {
        let h = ((this.lastGestureRotate - b.rotation) / 180) * w.PI;
        if (this.parentAction) {
          this.parentAction.dif += h;
          for (let b = 0, f = this.parentAction.ps.length; b < f; b++) {
            var d = this.parentAction.ps[b],
              e = this.parentAction.center.distance(d);
            let a = this.parentAction.center.angle(d) + h;
            d.x = this.parentAction.center.x + e * w.cos(a);
            d.y = this.parentAction.center.y - e * w.sin(a);
          }
          for (let b = 0, e = this.molecules.length; b < e; b++)
            this.molecules[b].check();
          this.lasso && this.lasso.isActive() && this.lasso.setBounds();
        } else
          (d =
            this.lasso && this.lasso.isActive()
              ? this.lasso.getAllPoints()
              : this.getAllPoints()),
            (e =
              this.lasso && this.lasso.isActive()
                ? new r.Point(
                    (this.lasso.bounds.minX + this.lasso.bounds.maxX) / 2,
                    (this.lasso.bounds.minY + this.lasso.bounds.maxY) / 2
                  )
                : new r.Point(this.width / 2, this.height / 2)),
            (this.parentAction = new f.actions.RotateAction(d, h, e)),
            this.historyManager.pushUndo(this.parentAction);
        this.lastGestureRotate = b.rotation;
      }
      this.repaint();
    };
    k.gestureend = function (b) {
      if (this.modal) return !1;
      this.inGesture = !1;
      this.lastPinchScale = 1;
      this.lastGestureRotate = 0;
      this.parentAction = v;
    };
  })(
    ChemDoodle,
    ChemDoodle.extensions,
    ChemDoodle.featureDetection,
    ChemDoodle.uis,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    ChemDoodle.uis.tools,
    ChemDoodle.lib.jQuery,
    Math,
    window
  );
  (function (k, b, n, f, r, h, d, l, w, u) {
    r._State3D = function () {};
    k = r._State3D.prototype;
    k.setup = function (b) {
      this.editor = b;
    };
    k.enter = function () {
      this.innerenter && this.innerenter();
    };
    k.exit = function () {
      this.innerexit && this.innerexit();
    };
    k.click = function (b) {
      this.innerclick && this.innerclick(b);
    };
    k.rightclick = function (b) {
      this.innerrightclick && this.innerrightclick(b);
    };
    k.dblclick = function (b) {
      this.innerdblclick && this.innerdblclick(b);
    };
    k.mousedown = function (b) {
      this.editor.defaultmousedown(b);
      this.editor.lastPoint = b.p;
      this.editor.isHelp ||
      (this.editor.isMobile &&
        10 > b.op.distance(new h.Point(this.editor.width - 20, 20)))
        ? this.editor.isHelp || (this.editor.doEventDefault = !0)
        : this.innermousedown && this.innermousedown(b);
    };
    k.rightmousedown = function (b) {
      this.innerrightmousedown && this.innerrightmousedown(b);
      this.editor.defaultrightmousedown(b);
    };
    k.mousemove = function (b) {
      this.innermousemove && this.innermousemove(b);
      this.editor.repaint();
    };
    k.mouseout = function (b) {
      this.innermouseout && this.innermouseout(b);
    };
    k.mouseover = function (b) {
      this.innermouseover && this.innermouseover(b);
    };
    k.mouseup = function (b) {
      this.parentAction = u;
      this.editor.isHelp ||
      (this.editor.isMobile &&
        this.editor.doEventDefault &&
        10 > b.op.distance(new h.Point(this.editor.width - 20, 20)))
        ? ((this.editor.isHelp = !1),
          (this.editor.lastPoint = u),
          this.editor.repaint(),
          window.open("https://web.chemdoodle.com/demos/3d-editor", "_blank"),
          (this.editor.doEventDefault = !1))
        : (this.innermouseup && this.innermouseup(b),
          this.editor.defaultmouseup(b));
    };
    k.rightmouseup = function (b) {
      this.innerrightmouseup && this.innerrightmouseup(b);
    };
    k.mousewheel = function (b, d) {
      this.innermousewheel
        ? this.innermousewheel(b)
        : this.editor.defaultmousewheel(b, d);
    };
    k.drag = function (b) {
      this.innerdrag ? this.innerdrag(b) : this.editor.defaultdrag(b);
    };
    k.keydown = function (b) {
      n.META &&
        (90 === b.which
          ? this.editor.historyManager.undo()
          : 89 === b.which
          ? this.editor.historyManager.redo()
          : 83 === b.which
          ? this.editor.toolbarManager.buttonSave.func()
          : 79 === b.which
          ? this.editor.toolbarManager.buttonOpen.func()
          : 78 === b.which
          ? this.editor.toolbarManager.buttonClear.func()
          : 187 === b.which || 61 === b.which
          ? this.editor.toolbarManager.buttonScalePlus.func()
          : (189 === b.which || 109 === b.which) &&
            this.editor.toolbarManager.buttonScaleMinus.func());
      this.innerkeydown && this.innerkeydown(b);
    };
    k.keypress = function (b) {
      this.innerkeypress && this.innerkeypress(b);
    };
    k.keyup = function (b) {
      this.innerkeyup && this.innerkeyup(b);
    };
  })(
    ChemDoodle,
    ChemDoodle.math,
    ChemDoodle.monitor,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.structures,
    ChemDoodle.SYMBOLS,
    Math,
    ChemDoodle.lib.mat4
  );
  (function (k, b, n, f, r) {
    b.MeasureState3D = function (b) {
      this.setup(b);
      this.selectedAtoms = [];
    };
    b = b.MeasureState3D.prototype = new b._State3D();
    b.numToSelect = 2;
    b.reset = function () {
      for (let b = 0, d = this.selectedAtoms.length; b < d; b++)
        this.selectedAtoms[b].isSelected = !1;
      this.selectedAtoms = [];
      this.editor.repaint();
    };
    b.innerenter = function (b) {
      this.reset();
    };
    b.innerexit = function (b) {
      this.reset();
    };
    b.innermousemove = function (b) {
      this.hoveredAtom &&
        ((this.hoveredAtom.isHover = !1), (this.hoveredAtom = r));
      (b = this.editor.pick(b.p.x, b.p.y, !0, !1)) &&
        b instanceof n.Atom &&
        ((this.hoveredAtom = b), (b.isHover = !0));
      this.editor.repaint();
    };
    b.innermousedown = function (b) {
      this.editor.isMobile && this.innermousemove(b);
      if (this.hoveredAtom) {
        this.hoveredAtom.isHover = !1;
        if (this.hoveredAtom.isSelected) {
          let b = this.hoveredAtom;
          this.selectedAtoms = this.selectedAtoms.filter(function (d) {
            return d !== b;
          });
        } else this.selectedAtoms.push(this.hoveredAtom);
        this.hoveredAtom.isSelected = !this.hoveredAtom.isSelected;
        this.hoveredAtom = r;
        this.editor.repaint();
      }
      if (this.selectedAtoms.length === this.numToSelect) {
        let b;
        switch (this.numToSelect) {
          case 2:
            b = new f.Distance(this.selectedAtoms[0], this.selectedAtoms[1]);
            break;
          case 3:
            b = new f.Angle(
              this.selectedAtoms[0],
              this.selectedAtoms[1],
              this.selectedAtoms[2]
            );
            break;
          case 4:
            b = new f.Torsion(
              this.selectedAtoms[0],
              this.selectedAtoms[1],
              this.selectedAtoms[2],
              this.selectedAtoms[3]
            );
        }
        this.reset();
        b &&
          this.editor.historyManager.pushUndo(
            new k.AddShapeAction(this.editor, b)
          );
      }
    };
  })(
    ChemDoodle.uis.actions,
    ChemDoodle.uis.states,
    ChemDoodle.structures,
    ChemDoodle.structures.d3
  );
  (function (k, b) {
    k.ViewState3D = function (b) {
      this.setup(b);
    };
    k.ViewState3D.prototype = new k._State3D();
  })(ChemDoodle.uis.states);
  (function (k, b) {
    k.StateManager3D = function (b) {
      this.STATE_VIEW = new k.ViewState3D(b);
      this.STATE_MEASURE = new k.MeasureState3D(b);
      let f = this.STATE_VIEW;
      f.enter();
      this.setState = function (b) {
        b !== f && (f.exit(), (f = b), f.enter());
      };
      this.getCurrentState = function () {
        return f;
      };
    };
  })(ChemDoodle.uis.states);
  (function (k, b, n, f, r, h, d, l, w, u, v, q, y) {
    h.ToolbarManager3D = function (e) {
      this.editor = e;
      this.buttonOpen = new l.Button(
        e.id + "_button_open",
        d.OPEN,
        "Open",
        function () {
          e.dialogManager.openPopup.show();
        }
      );
      this.buttonSave = new l.Button(
        e.id + "_button_save",
        d.SAVE,
        "Save",
        function () {
          e.useServices
            ? e.dialogManager.saveDialog.clear()
            : 0 < e.molecules.length &&
              e.dialogManager.saveDialog
                .getTextArea()
                .val(k.writeMOL(e.molecules[0]));
          e.dialogManager.saveDialog.open();
        }
      );
      this.buttonSearch = new l.Button(
        e.id + "_button_search",
        d.SEARCH,
        "Search",
        function () {
          e.dialogManager.searchDialog.open();
        }
      );
      this.buttonCalculate = new l.Button(
        e.id + "_button_calculate",
        d.CALCULATE,
        "Calculate",
        function () {
          let d = e.molecules[0];
          d &&
            b.calculate(
              d,
              {
                descriptors:
                  "mf ef mw miw deg_unsat hba hbd rot electron pol_miller cmr tpsa vabc xlogp2 bertz".split(
                    " "
                  ),
              },
              function (b) {
                function d(b, e, d) {
                  a.push(b);
                  a.push(": ");
                  for (b = b.length + 2; 30 > b; b++) a.push(" ");
                  a.push(e);
                  a.push(" ");
                  a.push(d);
                  a.push("\n");
                }
                let a = [];
                d("Molecular Formula", b.mf, "");
                d("Empirical Formula", b.ef, "");
                d("Molecular Mass", b.mw, "amu");
                d("Monoisotopic Mass", b.miw, "amu");
                d("Degree of Unsaturation", b.deg_unsat, "");
                d("Hydrogen Bond Acceptors", b.hba, "");
                d("Hydrogen Bond Donors", b.hbd, "");
                d("Rotatable Bonds", b.rot, "");
                d("Total Electrons", b.rot, "");
                d("Molecular Polarizability", b.pol_miller, "A^3");
                d("Molar Refractivity", b.cmr, "cm^3/mol");
                d("Polar Surface Area", b.tpsa, "A^2");
                d("vdW Volume", b.vabc, "A^3");
                d("logP", b.xlogp2, "");
                d("Complexity", b.bertz, "");
                e.dialogManager.calculateDialog.getTextArea().val(a.join(""));
                e.dialogManager.calculateDialog.open();
              }
            );
        }
      );
      this.buttonTransform = new l.Button(
        e.id + "_button_transform",
        d.PERSPECTIVE,
        "Transform",
        function () {
          e.stateManager.setState(e.stateManager.STATE_VIEW);
        }
      );
      this.buttonTransform.toggle = !0;
      this.buttonSettings = new l.Button(
        e.id + "_button_specifications",
        d.SETTINGS,
        "Visual Specifications",
        function () {
          e.dialogManager.stylesDialog.update(e.styles);
          e.dialogManager.stylesDialog.open();
        }
      );
      this.buttonAnimation = new l.Button(
        e.id + "_button_animation",
        d.ANIMATION,
        "Animations",
        function () {
          e.stateManager.setState(e.stateManager.STATE_MOVE);
        }
      );
      this.buttonClear = new l.Button(
        e.id + "_button_clear",
        d.CLEAR,
        "Clear",
        function () {
          e.historyManager.pushUndo(new r.ClearAction(e));
        }
      );
      this.buttonClean = new l.Button(
        e.id + "_button_clean",
        d.OPTIMIZE,
        "Clean",
        function () {
          let d = e.molecules[0];
          d &&
            b.optimize(d, { dimension: 3 }, function (b) {
              e.historyManager.pushUndo(new r.SwitchMoleculeAction(e, b));
            });
        }
      );
      this.makeScaleSet(this);
      this.makeHistorySet(this);
      this.makeMeasurementsSet(this);
    };
    n = h.ToolbarManager3D.prototype;
    n.write = function () {
      let b = ['\x3cdiv style\x3d"font-size:10px;"\x3e'],
        d = this.editor.id + "_main_group";
      b.push(this.historySet.getSource());
      b.push(this.scaleSet.getSource());
      b.push(this.buttonOpen.getSource());
      b.push(this.buttonSave.getSource());
      this.editor.useServices &&
        (b.push(this.buttonSearch.getSource()),
        b.push(this.buttonCalculate.getSource()));
      b.push("\x3cbr\x3e");
      b.push(this.buttonTransform.getSource(d));
      b.push(this.buttonSettings.getSource());
      b.push(this.measurementsSet.getSource(d));
      b.push(this.buttonClear.getSource());
      this.editor.useServices && b.push(this.buttonClean.getSource());
      b.push("\x3c/div\x3e");
      q.getElementById(this.editor.id)
        ? v("#" + this.editor.id).before(b.join(""))
        : q.write(b.join(""));
      this.written = !0;
    };
    n.setup = function () {
      this.buttonTransform.setup(!0);
      this.buttonSettings.setup();
      this.measurementsSet.setup();
      this.buttonClear.setup();
      this.editor.useServices && this.buttonClean.setup();
      this.historySet.setup();
      this.scaleSet.setup();
      this.buttonOpen.setup();
      this.buttonSave.setup();
      this.editor.useServices &&
        (this.buttonSearch.setup(), this.buttonCalculate.setup());
      this.buttonTransform.getElement().click();
      this.buttonUndo.disable();
      this.buttonRedo.disable();
    };
    n.makeScaleSet = function (b) {
      this.scaleSet = new l.ButtonSet(b.editor.id + "_buttons_scale");
      this.scaleSet.toggle = !1;
      this.buttonScalePlus = new l.Button(
        b.editor.id + "_button_scale_plus",
        d.ZOOM_IN,
        "Increase Scale",
        function () {
          b.editor.mousewheel(null, -10);
        }
      );
      this.scaleSet.buttons.push(this.buttonScalePlus);
      this.buttonScaleMinus = new l.Button(
        b.editor.id + "_button_scale_minus",
        d.ZOOM_OUT,
        "Decrease Scale",
        function () {
          b.editor.mousewheel(null, 10);
        }
      );
      this.scaleSet.buttons.push(this.buttonScaleMinus);
    };
    n.makeHistorySet = function (b) {
      this.historySet = new l.ButtonSet(b.editor.id + "_buttons_history");
      this.historySet.toggle = !1;
      this.buttonUndo = new l.Button(
        b.editor.id + "_button_undo",
        d.UNDO,
        "Undo",
        function () {
          b.editor.historyManager.undo();
        }
      );
      this.historySet.buttons.push(this.buttonUndo);
      this.buttonRedo = new l.Button(
        b.editor.id + "_button_redo",
        d.REDO,
        "Redo",
        function () {
          b.editor.historyManager.redo();
        }
      );
      this.historySet.buttons.push(this.buttonRedo);
    };
    n.makeMeasurementsSet = function (b) {
      this.measurementsSet = new l.ButtonSet(
        b.editor.id + "_buttons_measurements"
      );
      this.buttonDistance = new l.Button(
        b.editor.id + "_button_distance",
        d.DISTANCE,
        "Distance",
        function () {
          b.editor.stateManager.STATE_MEASURE.numToSelect = 2;
          b.editor.stateManager.STATE_MEASURE.reset();
          b.editor.stateManager.setState(b.editor.stateManager.STATE_MEASURE);
        }
      );
      this.measurementsSet.buttons.push(this.buttonDistance);
      this.buttonAngle = new l.Button(
        b.editor.id + "_button_angle",
        d.ANGLE,
        "Angle",
        function () {
          b.editor.stateManager.STATE_MEASURE.numToSelect = 3;
          b.editor.stateManager.STATE_MEASURE.reset();
          b.editor.stateManager.setState(b.editor.stateManager.STATE_MEASURE);
        }
      );
      this.measurementsSet.buttons.push(this.buttonAngle);
      this.buttonTorsion = new l.Button(
        b.editor.id + "_button_torsion",
        d.TORSION,
        "Torsion",
        function () {
          b.editor.stateManager.STATE_MEASURE.numToSelect = 4;
          b.editor.stateManager.STATE_MEASURE.reset();
          b.editor.stateManager.setState(b.editor.stateManager.STATE_MEASURE);
        }
      );
      this.measurementsSet.buttons.push(this.buttonTorsion);
    };
  })(
    ChemDoodle,
    ChemDoodle.iChemLabs,
    ChemDoodle.io,
    ChemDoodle.structures,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.gui,
    ChemDoodle.uis.gui.imageDepot,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.uis.tools,
    ChemDoodle.uis.states,
    ChemDoodle.lib.jQuery,
    document
  );
  (function (k, b, n, f, r) {
    b.SpecsDialog = function (b, d) {
      this.editor = b;
      this.id = this.editor.id + d;
    };
    k = b.SpecsDialog.prototype = new b.Dialog();
    k.title = "Visual Specifications";
    k.makeProjectionSet = function (f) {
      this.projectionSet = new b.ButtonSet(f.id + "_projection_group");
      this.buttonPerspective = new b.TextButton(
        f.id + "_button_Perspective",
        "Perspective",
        function () {
          f.editor.styles.projectionPerspective_3D = !0;
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.projectionSet.buttons.push(this.buttonPerspective);
      this.buttonOrthographic = new b.TextButton(
        f.id + "_button_Orthographic",
        "Orthographic",
        function () {
          f.editor.styles.projectionPerspective_3D = !1;
          f.editor.updateScene(f);
          f.update(editor.styles);
        }
      );
      this.projectionSet.buttons.push(this.buttonOrthographic);
    };
    k.makeAtomColorSet = function (f) {
      this.atomColorSet = new b.ButtonSet(f.id + "_atom_color_group");
      this.atomColorSet.toggle = !0;
      this.buttonJmolColors = new b.TextButton(
        f.id + "_button_Jmol_Colors",
        "Jmol",
        function () {
          f.editor.styles.atoms_useJMOLColors = !0;
          f.editor.styles.atoms_usePYMOLColors = !1;
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.atomColorSet.buttons.push(this.buttonJmolColors);
      this.buttonPymolColors = new b.TextButton(
        f.id + "_button_PyMOL_Colors",
        "PyMOL",
        function () {
          f.editor.styles.atoms_usePYMOLColors = !0;
          f.editor.styles.atoms_useJMOLColors = !1;
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.atomColorSet.buttons.push(this.buttonPymolColors);
    };
    k.makeBondColorSet = function (f) {
      this.bondColorSet = new b.ButtonSet(f.id + "_bond_color_group");
      this.bondColorSet.toggle = !0;
      this.buttonJmolBondColors = new b.TextButton(
        f.id + "_button_Jmol_Bond_Colors",
        "Jmol",
        function () {
          f.editor.styles.bonds_useJMOLColors = !0;
          f.editor.styles.bonds_usePYMOLColors = !1;
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.bondColorSet.buttons.push(this.buttonJmolBondColors);
      this.buttonPymolBondColors = new b.TextButton(
        f.id + "_button_PyMOL_Bond_Colors",
        "PyMOL",
        function () {
          f.editor.styles.bonds_usePYMOLColors = !0;
          f.editor.styles.bonds_useJMOLColors = !1;
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.bondColorSet.buttons.push(this.buttonPymolBondColors);
    };
    k.makeCompassPositionSet = function (f) {
      this.compassPositionSet = new b.ButtonSet(
        f.id + "_compass_position_group"
      );
      this.buttonCompassCorner = new b.TextButton(
        f.id + "_button_compass_corner",
        "Corner",
        function () {
          f.editor.styles.compass_type_3D = 0;
          f.editor.styles.compass_size_3D = 50;
          f.editor.setupScene();
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.compassPositionSet.buttons.push(this.buttonCompassCorner);
      this.buttonCompassOrigin = new b.TextButton(
        f.id + "_button_compass_origin",
        "Origin",
        function () {
          f.editor.styles.compass_type_3D = 1;
          f.editor.styles.compass_size_3D = 150;
          f.editor.setupScene();
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.compassPositionSet.buttons.push(this.buttonCompassOrigin);
    };
    k.makeFogModeSet = function (f) {
      this.fogModeSet = new b.ButtonSet(f.id + "_fog_mode_group");
      this.buttonFogMode0 = new b.TextButton(
        f.id + "_button_fog_mode_0",
        "No Fogging",
        function () {
          f.editor.styles.fog_mode_3D = 0;
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.fogModeSet.buttons.push(this.buttonFogMode0);
      this.buttonFogMode1 = new b.TextButton(
        f.id + "_button_fog_mode_1",
        "Linear",
        function () {
          f.editor.styles.fog_mode_3D = 1;
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.fogModeSet.buttons.push(this.buttonFogMode1);
      this.buttonFogMode2 = new b.TextButton(
        f.id + "_button_fog_mode_2",
        "Exponential",
        function () {
          f.editor.styles.fog_mode_3D = 2;
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.fogModeSet.buttons.push(this.buttonFogMode2);
      this.buttonFogMode3 = new b.TextButton(
        f.id + "_button_fog_mode_3",
        "Exponential\x26sup2;",
        function () {
          f.editor.styles.fog_mode_3D = 3;
          f.editor.updateScene();
          f.update(editor.styles);
        }
      );
      this.fogModeSet.buttons.push(this.buttonFogMode3);
    };
    k.setup = function (h, d) {
      this.makeProjectionSet(this);
      this.bgcolor = new b.ColorPicker(
        this.id + "_bgcolor",
        "Background Color: ",
        function (b) {
          d.styles.backgroundColor = b;
          d.setupScene();
          d.repaint();
          h.update(d.styles);
        }
      );
      this.makeFogModeSet(this);
      this.fogcolor = new b.ColorPicker(
        this.id + "_fogcolor",
        "Fog Color: ",
        function (b) {
          d.styles.fog_color_3D = b;
          d.setupScene();
          d.repaint();
          h.update(d.styles);
        }
      );
      this.atomsDisplayToggle = new b.CheckBox(
        this.id + "_atoms_display_toggle",
        "Display atoms",
        function () {
          d.styles.atoms_display = !d.styles.atoms_display;
          d.updateScene();
          h.update(d.styles);
        },
        !0
      );
      this.atomcolor = new b.ColorPicker(
        this.id + "_atomcolor",
        "Atom Color: ",
        function (b) {
          d.styles.atoms_color = b;
          d.setupScene();
          d.repaint();
          h.update(d.styles);
        }
      );
      this.makeAtomColorSet(this);
      this.atomColorSetToggle = new b.CheckBox(
        this.id + "_atom_color_group_toggle",
        "Color Schemes",
        function () {
          h.buttonJmolColors.getElement().prop("disabled")
            ? (h.atomColorSet.enable(), (d.styles.atoms_useJMOLColors = !0))
            : (h.atomColorSet.disable(),
              (d.styles.atoms_useJMOLColors = !1),
              (d.styles.atoms_usePYMOLColors = !1),
              h.buttonJmolColors.uncheck(),
              h.buttonPymolColors.uncheck());
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.vdwToggle = new b.CheckBox(
        this.id + "_vdw_toggle",
        "Use VDW Diameters",
        function () {
          d.styles.atoms_useVDWDiameters_3D =
            !d.styles.atoms_useVDWDiameters_3D;
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.atomsNonBondedAsStarsToggle = new b.CheckBox(
        this.id + "_non_bonded_as_stars_toggle",
        "Non-bonded as stars",
        function () {
          d.styles.atoms_nonBondedAsStars_3D =
            !d.styles.atoms_nonBondedAsStars_3D;
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.displayLabelsToggle = new b.CheckBox(
        this.id + "_display_labels_toggle",
        "Atom labels",
        function () {
          d.styles.atoms_displayLabels_3D = !d.styles.atoms_displayLabels_3D;
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.bondsDisplayToggle = new b.CheckBox(
        this.id + "_bonds_display_toggle",
        "Display bonds",
        function () {
          d.styles.bonds_display = !d.styles.bonds_display;
          d.updateScene();
          h.update(d.styles);
        },
        !0
      );
      this.bondcolor = new b.ColorPicker(
        this.id + "_bondcolor",
        "Bond Color: ",
        function (b) {
          d.styles.bonds_color = b;
          d.setupScene();
          d.repaint();
          h.update(d.styles);
        }
      );
      this.makeBondColorSet(this);
      this.bondColorSetToggle = new b.CheckBox(
        this.id + "_bond_color_group_toggle",
        "Color Schemes",
        function () {
          h.buttonJmolBondColors.getElement().prop("disabled")
            ? (h.bondColorSet.enable(), (d.styles.bonds_useJMOLColors = !0))
            : (h.bondColorSet.disable(),
              (d.styles.bonds_useJMOLColors = !1),
              (d.styles.bonds_usePYMOLColors = !1),
              h.buttonJmolBondColors.uncheck(),
              h.buttonPymolBondColors.uncheck());
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.bondOrderToggle = new b.CheckBox(
        this.id + "_bond_order_toggle",
        "Show order",
        function () {
          d.styles.bonds_showBondOrders_3D = !d.styles.bonds_showBondOrders_3D;
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.bondsRenderAsLinesToggle = new b.CheckBox(
        this.id + "_bonds_render_as_lines_toggle",
        "Render as lines",
        function () {
          d.styles.bonds_renderAsLines_3D = !d.styles.bonds_renderAsLines_3D;
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.ribbonsToggle = new b.CheckBox(
        this.id + "_ribbons_toggle",
        "Ribbons",
        function () {
          d.styles.proteins_displayRibbon = !d.styles.proteins_displayRibbon;
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.backboneToggle = new b.CheckBox(
        this.id + "_backbone_toggle",
        "Backbone",
        function () {
          d.styles.proteins_displayBackbone =
            !d.styles.proteins_displayBackbone;
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.pipeplankToggle = new b.CheckBox(
        this.id + "_pipeplank_toggle",
        "Pipe and Plank",
        function () {
          d.styles.proteins_displayPipePlank =
            !d.styles.proteins_displayPipePlank;
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.cartoonizeToggle = new b.CheckBox(
        this.id + "_cartoonize_toggle",
        "Cartoonize",
        function () {
          d.styles.proteins_ribbonCartoonize =
            !d.styles.proteins_ribbonCartoonize;
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.colorByChainToggle = new b.CheckBox(
        this.id + "_color_by_chain_toggle",
        "Color by Chain",
        function () {
          d.styles.macro_colorByChain = !d.styles.macro_colorByChain;
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.proteinColorToggle = new b.CheckBox(
        this.id + "_protein_color_toggle",
        "Color by Segment",
        function () {
          h.proteinColorToggle.checked
            ? ((d.styles.proteins_residueColor = "none"),
              h.proteinColorToggle.uncheck(),
              n("#proteinColors").prop("disabled", !0))
            : (h.proteinColorToggle.check(),
              n("#proteinColors").removeAttr("disabled"),
              (d.styles.proteins_residueColor = n("#proteinColors").val()));
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.nucleicAcidColorToggle = new b.CheckBox(
        this.id + "_nucleic_acid_color_toggle",
        "Color by Segment",
        function () {
          h.nucleicAcidColorToggle.checked
            ? ((d.styles.nucleics_residueColor = "none"),
              h.nucleicAcidColorToggle.uncheck(),
              n("#nucleicColors").prop("disabled", !0))
            : (h.nucleicAcidColorToggle.check(),
              n("#nucleicColors").removeAttr("disabled"),
              (d.styles.nucleics_residueColor = n("#nucleicColors").val()));
          d.updateScene();
          h.update(d.styles);
        },
        !1
      );
      this.shapecolor = new b.ColorPicker(
        this.id + "_shapecolor",
        "Shape Color: ",
        function (b) {
          d.styles.shapes_color = b;
          d.setupScene();
          d.repaint();
          h.update(d.styles);
        }
      );
      this.displayCompassToggle = new b.CheckBox(
        this.id + "_display_compass_toggle",
        "Display Compass",
        function () {
          h.displayCompassToggle.checked
            ? ((d.styles.compass_display = !1),
              d.setupScene(),
              d.updateScene(),
              h.compassPositionSet.disable(),
              h.buttonCompassCorner.uncheck(),
              h.displayCompassToggle.uncheck())
            : ((d.styles.compass_display = !0),
              (d.styles.compass_type_3D = 0),
              (d.styles.compass_size_3D = 50),
              h.compassPositionSet.enable(),
              h.displayCompassToggle.check(),
              h.buttonCompassCorner.check(),
              d.setupScene(),
              d.updateScene());
          h.update(d.styles);
        },
        !1
      );
      this.makeCompassPositionSet(this);
      let k = [];
      k.push(
        '\x3cdiv style\x3d"font-size:12px;text-align:left;overflow-y:scroll;height:300px;" id\x3d"'
      );
      k.push(this.id);
      k.push('" title\x3d"');
      k.push(this.title);
      k.push('"\x3e');
      this.message &&
        (k.push("\x3cp\x3e"), k.push(this.message), k.push("\x3c/p\x3e"));
      k.push("\x3cp\x3e\x3cstrong\x3eRepresentation\x3c/strong\x3e");
      k.push(
        '\x3cp\x3e\x3cselect id\x3d"reps"\x3e\x3coption value\x3d"Ball and Stick"\x3eBall and Stick\x3c/option\x3e\x3coption value\x3d"van der Waals Spheres"\x3evdW Spheres\x3c/option\x3e\x3coption value\x3d"Stick"\x3eStick\x3c/option\x3e\x3coption value\x3d"Wireframe"\x3eWireframe\x3c/option\x3e\x3coption value\x3d"Line"\x3eLine\x3c/option\x3e\x3c/select\x3e\x3c/p\x3e'
      );
      k.push("\x3chr\x3e\x3cstrong\x3eCanvas\x3c/strong\x3e");
      k.push(this.bgcolor.getSource());
      k.push("\x3cp\x3eProjection: ");
      k.push(this.projectionSet.getSource(this.id + "_projection_group"));
      k.push("\x3c/p\x3e\x3cp\x3eFog Mode: ");
      k.push(this.fogModeSet.getSource(this.id + "_fog_mode_group"));
      k.push(this.fogcolor.getSource());
      k.push(
        '\x3c/p\x3e\x3cp\x3eFog start: \x3cinput type\x3d"number" id\x3d"fogstart" min\x3d"0" max\x3d"100" value\x3d"0"\x3e %\x3c/p\x3e'
      );
      k.push(
        '\x3c/p\x3e\x3cp\x3eFog end: \x3cinput type\x3d"number" id\x3d"fogend" min\x3d"0" max\x3d"100" value\x3d"100"\x3e %\x3c/p\x3e'
      );
      k.push(
        '\x3c/p\x3e\x3cp\x3eFog density: \x3cinput type\x3d"number" id\x3d"fogdensity" min\x3d"0" max\x3d"100" value\x3d"100"\x3e %\x3c/p\x3e'
      );
      k.push("\x3chr\x3e\x3cstrong\x3eAtoms\x3c/strong\x3e\x3cp\x3e");
      k.push(this.atomsDisplayToggle.getSource());
      k.push("\x3c/p\x3e\x3cp\x3e");
      k.push(this.atomcolor.getSource());
      k.push(
        '\x3c/p\x3e\x3cp\x3eSphere diameter: \x3cinput type\x3d"number" id\x3d"spherediameter" min\x3d"0" max\x3d"40" value\x3d"0.8" step\x3d"0.01"\x3e Angstroms\x3c/p\x3e'
      );
      k.push(this.vdwToggle.getSource());
      k.push(
        '\x3c/p\x3e\x3cp\x3eVDW Multiplier: \x3cinput type\x3d"number" id\x3d"vdwMultiplier" min\x3d"0" max\x3d"100" value\x3d"100"\x3e %\x3c/p\x3e'
      );
      k.push(this.atomsNonBondedAsStarsToggle.getSource());
      k.push("\x3c/p\x3e\x3cp\x3e");
      k.push(this.displayLabelsToggle.getSource());
      k.push("\x3c/p\x3e\x3cp\x3e");
      k.push(this.atomColorSetToggle.getSource());
      k.push(": ");
      k.push(this.atomColorSet.getSource(this.id + "_atom_color_group"));
      k.push("\x3c/p\x3e\x3chr\x3e\x3cstrong\x3eBonds\x3c/strong\x3e\x3cp\x3e");
      k.push(this.bondsDisplayToggle.getSource());
      k.push("\x3c/p\x3e\x3cp\x3e");
      k.push(this.bondcolor.getSource());
      k.push(this.bondColorSetToggle.getSource());
      k.push(": ");
      k.push(this.bondColorSet.getSource(this.id + "_bond_color_group"));
      k.push("\x3c/p\x3e\x3cp\x3e");
      k.push(this.bondOrderToggle.getSource());
      k.push(
        '\x3c/p\x3e\x3cp\x3eCylinder diameter: \x3cinput type\x3d"number" id\x3d"cylinderdiameter" min\x3d"0" max\x3d"40" value\x3d"0.3" step\x3d"0.01"\x3e Angstroms\x3c/p\x3e'
      );
      k.push("\x3c/p\x3e\x3chr\x3e\x3cstrong\x3eProteins\x3c/strong\x3e");
      k.push("\x3cp\x3e");
      k.push(this.ribbonsToggle.getSource());
      k.push("\x3c/p\x3e\x3cp\x3e");
      k.push(this.backboneToggle.getSource());
      k.push("\x3c/p\x3e\x3cp\x3e");
      k.push(this.pipeplankToggle.getSource());
      k.push("\x3c/p\x3e\x3cp\x3e");
      k.push(this.cartoonizeToggle.getSource());
      k.push("\x3c/p\x3e\x3cp\x3e");
      k.push(this.colorByChainToggle.getSource());
      k.push("\x3c/p\x3e\x3cp\x3e");
      k.push(this.proteinColorToggle.getSource());
      k.push(
        '\x3cselect id\x3d"proteinColors" disabled\x3e\x3coption value\x3d"amino"\x3eAmino\x3c/option\x3e\x3coption value\x3d"shapely"\x3eShapely\x3c/option\x3e\x3coption value\x3d"polarity"\x3ePolarity\x3c/option\x3e\x3coption value\x3d"rainbow"\x3eRainbow\x3c/option\x3e\x3coption value\x3d"acidity"\x3eAcidity\x3c/option\x3e\x3c/select\x3e\x3c/p\x3e'
      );
      k.push("\x3chr\x3e\x3cstrong\x3eNucleic Acids\x3c/strong\x3e\x3cp\x3e");
      k.push(this.nucleicAcidColorToggle.getSource());
      k.push(": ");
      k.push(
        '\x3cselect id\x3d"nucleicColors" disabled\x3e\x3coption value\x3d"shapely"\x3eShapely\x3c/option\x3e\x3coption value\x3d"rainbow"\x3eRainbow\x3c/option\x3e\x3c/select\x3e\x3c/p\x3e'
      );
      k.push("\x3chr\x3e\x3cstrong\x3eShapes\x3c/strong\x3e\x3cp\x3e");
      k.push(this.shapecolor.getSource());
      k.push("\x3c/p\x3e\x3chr\x3e\x3cstrong\x3eCompass\x3c/strong\x3e");
      k.push("\x3cp\x3e");
      k.push(this.displayCompassToggle.getSource());
      k.push(": ");
      k.push(
        this.compassPositionSet.getSource(this.id + "_compass_position_group")
      );
      k.push("\x3c/p\x3e");
      k.push("\x3c/div\x3e");
      this.afterMessage &&
        (k.push("\x3cp\x3e"), k.push(this.afterMessage), k.push("\x3c/p\x3e"));
      f.getElementById(this.editor.id)
        ? n("#" + this.editor.id).before(k.join(""))
        : f.write(k.join(""));
      this.getElement().dialog({
        autoOpen: !1,
        position: { my: "center", at: "center", of: f },
        buttons: h.buttons,
        width: 500,
        height: 300,
        open: function (b, d) {
          n(this).height(300);
          n(this).width(478);
          n(this).dialog("option", "position", "center");
        },
      });
      this.bgcolor.setup();
      this.fogcolor.setup();
      this.atomcolor.setup();
      this.bondcolor.setup();
      this.shapecolor.setup();
      n("#reps").change(function () {
        d.styles.set3DRepresentation(this.options[this.selectedIndex].value);
        d.updateScene();
        h.update(d.styles);
      });
      n("#proteinColors").change(function () {
        switch (this.selectedIndex) {
          case 0:
            d.styles.proteins_residueColor = "amino";
            break;
          case 1:
            d.styles.proteins_residueColor = "shapely";
            break;
          case 2:
            d.styles.proteins_residueColor = "polarity";
            break;
          case 3:
            d.styles.proteins_residueColor = "rainbow";
            break;
          case 4:
            d.styles.proteins_residueColor = "acidity";
        }
        d.updateScene();
        h.update(d.styles);
      });
      n("#nucleicColors").change(function () {
        switch (this.selectedIndex) {
          case 0:
            d.styles.nucleics_residueColor = "shapely";
            break;
          case 1:
            d.styles.nucleics_residueColor = "rainbow";
        }
        d.updateScene();
        h.update(d.styles);
      });
      n("#fogstart").change(function () {
        d.styles.fog_start_3D = parseInt(this.value) / 100;
        d.updateScene();
      });
      n("#fogend").change(function () {
        d.styles.fog_end_3D = parseInt(this.value) / 100;
        d.updateScene();
      });
      n("#fogdensity").change(function () {
        d.styles.fog_density_3D = parseInt(this.value) / 100;
        d.updateScene();
      });
      n("#vdwMultiplier").change(function () {
        d.styles.atoms_vdwMultiplier_3D = parseInt(this.value) / 100;
        d.updateScene();
      });
      n("#spherediameter").change(function () {
        d.styles.atoms_sphereDiameter_3D = parseFloat(this.value);
        d.updateScene();
      });
      n("#cylinderdiameter").change(function () {
        d.styles.bonds_cylinderDiameter_3D = parseFloat(this.value);
        d.updateScene();
      });
      this.projectionSet.setup();
      this.fogModeSet.setup();
      this.atomsDisplayToggle.setup();
      this.vdwToggle.setup();
      this.atomsNonBondedAsStarsToggle.setup();
      this.displayLabelsToggle.setup();
      this.atomColorSet.setup();
      this.atomColorSet.disable();
      this.atomColorSetToggle.setup();
      this.bondsDisplayToggle.setup();
      this.bondColorSet.setup();
      this.bondColorSet.disable();
      this.bondColorSetToggle.setup();
      this.bondOrderToggle.setup();
      this.ribbonsToggle.setup();
      this.backboneToggle.setup();
      this.pipeplankToggle.setup();
      this.cartoonizeToggle.setup();
      this.colorByChainToggle.setup();
      this.proteinColorToggle.setup();
      this.nucleicAcidColorToggle.setup();
      this.displayCompassToggle.setup();
      this.compassPositionSet.setup();
      this.compassPositionSet.disable();
    };
    k.update = function (b) {
      this.bgcolor.setColor(b.backgroundColor);
      this.fogcolor.setColor(b.fog_color_3D);
      this.atomcolor.setColor(b.atoms_color);
      this.bondcolor.setColor(b.bonds_color);
      this.shapecolor.setColor(b.shapes_color);
      b.projectionPerspective_3D
        ? this.buttonPerspective.select()
        : this.buttonOrthographic.select();
      switch (b.fog_mode_3D) {
        case 1:
          this.buttonFogMode0.uncheck();
          this.buttonFogMode1.check();
          this.buttonFogMode2.uncheck();
          this.buttonFogMode3.uncheck();
          break;
        case 2:
          this.buttonFogMode0.uncheck();
          this.buttonFogMode1.uncheck();
          this.buttonFogMode2.check();
          this.buttonFogMode3.uncheck();
          break;
        case 3:
          this.buttonFogMode0.uncheck();
          this.buttonFogMode1.uncheck();
          this.buttonFogMode2.uncheck();
          this.buttonFogMode3.check();
          break;
        default:
          this.buttonFogMode0.check(),
            this.buttonFogMode1.uncheck(),
            this.buttonFogMode2.uncheck(),
            this.buttonFogMode3.uncheck();
      }
      n("#fogstart").val(100 * b.fog_start_3D);
      n("#fogend").val(100 * b.fog_end_3D);
      n("#fogdensity").val(100 * b.fog_density_3D);
      b.atoms_display
        ? this.atomsDisplayToggle.check()
        : this.atomsDisplayToggle.uncheck();
      b.atoms_useVDWDiameters_3D
        ? (this.vdwToggle.check(),
          n("#spherediameter").prop("disabled", !0),
          n("#vdwMultiplier").prop("disabled", !1),
          n("#vdwMultiplier").val(100 * b.atoms_vdwMultiplier_3D))
        : (this.vdwToggle.uncheck(),
          n("#spherediameter").prop("disabled", !1),
          n("#spherediameter").val(b.atoms_sphereDiameter_3D),
          n("#vdwMultiplier").prop("disabled", !0));
      b.atoms_useJMOLColors || b.atoms_usePYMOLColors
        ? (this.atomColorSetToggle.check(),
          this.atomColorSet.enable(),
          b.atoms_useJMOLColors
            ? (this.buttonJmolColors.check(), this.buttonPymolColors.uncheck())
            : b.atoms_usePYMOLColors &&
              (this.buttonJmolColors.uncheck(), this.buttonPymolColors.check()))
        : (this.atomColorSetToggle.uncheck(),
          this.buttonPymolColors.uncheck(),
          this.buttonJmolColors.uncheck(),
          this.atomColorSet.disable());
      b.atoms_nonBondedAsStars_3D
        ? this.atomsNonBondedAsStarsToggle.check()
        : this.atomsNonBondedAsStarsToggle.uncheck();
      b.atoms_displayLabels_3D
        ? this.displayLabelsToggle.check()
        : this.displayLabelsToggle.uncheck();
      b.bonds_display
        ? this.bondsDisplayToggle.check()
        : this.bondsDisplayToggle.uncheck();
      b.bonds_useJMOLColors || b.bonds_usePYMOLColors
        ? (this.bondColorSetToggle.check(),
          this.bondColorSet.enable(),
          b.bonds_useJMOLColors
            ? (this.buttonJmolBondColors.check(),
              this.buttonPymolBondColors.uncheck())
            : b.atoms_usePYMOLColors &&
              (this.buttonJmolBondColors.uncheck(),
              this.buttonPymolBondColors.check()))
        : (this.bondColorSetToggle.uncheck(),
          this.buttonPymolBondColors.uncheck(),
          this.buttonJmolBondColors.uncheck(),
          this.bondColorSet.disable());
      b.bonds_showBondOrders_3D
        ? this.bondOrderToggle.check()
        : this.bondOrderToggle.uncheck();
      n("#cylinderdiameter").val(b.bonds_cylinderDiameter_3D);
      b.proteins_displayRibbon
        ? this.ribbonsToggle.check()
        : this.ribbonsToggle.uncheck();
      b.proteins_displayBackbone
        ? this.backboneToggle.check()
        : this.backboneToggle.uncheck();
      b.proteins_displayPipePlank
        ? this.pipeplankToggle.check()
        : this.pipeplankToggle.uncheck();
      b.proteins_ribbonCartoonize
        ? this.cartoonizeToggle.check()
        : this.cartoonizeToggle.uncheck();
      b.macro_colorByChain
        ? this.colorByChainToggle.check()
        : this.colorByChainToggle.uncheck();
      switch (b.proteins_residueColor) {
        case "amino":
          this.proteinColorToggle.check();
          n("#proteinColors").val("amino");
          break;
        case "shapely":
          this.proteinColorToggle.check();
          n("#proteinColors").val("shapely");
          break;
        case "polarity":
          this.proteinColorToggle.check();
          n("#proteinColors").val("polarity");
          break;
        case "rainbow":
          this.proteinColorToggle.check();
          n("#proteinColors").val("rainbow");
          break;
        case "acidity":
          this.proteinColorToggle.check();
          n("#proteinColors").val("acidity");
          break;
        default:
          this.proteinColorToggle.uncheck(),
            n("#proteinColors").prop("disabled", !0);
      }
      switch (b.nucleics_residueColor) {
        case "shapely":
          this.nucleicAcidColorToggle.check();
          n("#nucleicColors").val("shapely");
          break;
        case "rainbow":
          this.nucleicAcidColorToggle.check();
          n("#nucleicColors").val("rainbow");
          break;
        default:
          this.nucleicAcidColorToggle.uncheck(),
            n("#nucleicColors").prop("disabled", !0);
      }
      1 == b.compass_display
        ? (this.compassPositionSet.enable(),
          0 == b.compass_type_3D
            ? (this.buttonCompassCorner.check(),
              this.buttonCompassOrigin.uncheck())
            : (this.buttonCompassOrigin.check(),
              this.buttonCompassCorner.uncheck()))
        : (this.compassPositionSet.disable(),
          this.buttonCompassCorner.uncheck(),
          this.buttonCompassOrigin.uncheck());
    };
  })(ChemDoodle, ChemDoodle.uis.gui.desktop, ChemDoodle.lib.jQuery, document);
  (function (k, b, n, f, r, h, d, l, w, u, v) {
    k.EditorCanvas3D = function (h, k, e, l) {
      this.isMobile = l.isMobile === v ? b.supports_touch() : l.isMobile;
      this.useServices = l.useServices === v ? !1 : l.useServices;
      this.includeToolbar = l.includeToolbar === v ? !0 : l.includeToolbar;
      this.id = h;
      this.toolbarManager = new f.gui.ToolbarManager3D(this);
      if (this.includeToolbar && !this.toolbarManager.written) {
        this.toolbarManager.write();
        let b = this;
        if (document.getElementById(this.id))
          d("#" + h + "_button_transform_icon").on("load", function () {
            b.toolbarManager.setup();
          });
        else
          d(u).on("load", function () {
            b.toolbarManager.setup();
          });
        this.dialogManager = new f.gui.DialogManager(this);
      }
      this.stateManager = new f.states.StateManager3D(this);
      this.historyManager = new f.actions.HistoryManager(this);
      h && this.create(h, k, e);
      h = new r.Styles();
      h.atoms_useVDWDiameters_3D = !1;
      h.atoms_sphereDiameter_3D = 2;
      this.helpButton = new r.Atom("C", 0, 0, 0);
      this.helpButton.isHover = !0;
      this.helpButton.styles = h;
      this.styles.backgroundColor = "#000";
      this.styles.shapes_color = "#fff";
      this.isHelp = !1;
      this.setupScene();
      this.repaint();
    };
    k = k.EditorCanvas3D.prototype = new k._Canvas3D();
    k.defaultmousedown = k.mousedown;
    k.defaultmouseup = k.mouseup;
    k.defaultrightmousedown = k.rightmousedown;
    k.defaultdrag = k.drag;
    k.defaultmousewheel = k.mousewheel;
    k.drawChildExtras = function (b) {
      b.disable(b.DEPTH_TEST);
      let d = w.create();
      var e = this.height / 20,
        f = l.tan(
          (this.styles.projectionPerspectiveVerticalFieldOfView_3D / 360) * l.PI
        );
      let h = e / f;
      var k = l.max(h - e, 0.1),
        a = this.width / this.height;
      let c = (h / this.height) * f;
      f *= h;
      let g = -f;
      e = w.ortho(a * g, a * f, g, f, k, h + e, []);
      this.phongShader.useShaderProgram(b);
      this.phongShader.setProjectionMatrix(b, e);
      this.phongShader.setFogMode(b, 0);
      this.hideHelp ||
        ((k = (this.width - 40) * c),
        (a = (this.height - 40) * c),
        w.translate(w.identity([]), [k, a, -h], d),
        b.material.setTempColors(
          b,
          this.styles.bonds_materialAmbientColor_3D,
          v,
          this.styles.bonds_materialSpecularColor_3D,
          this.styles.bonds_materialShininess_3D
        ),
        b.material.setDiffuseColor(b, "#00ff00"),
        (b.modelViewMatrix = w.multiply(d, b.rotationMatrix, [])),
        this.phongShader.enableAttribsArray(b),
        b.sphereBuffer.bindBuffers(this.gl),
        this.helpButton.render(b, v, !0),
        this.isHelp &&
          (b.sphereBuffer.bindBuffers(b),
          b.blendFunc(b.SRC_ALPHA, b.ONE),
          b.material.setTempColors(b, "#000000", v, "#000000", 0),
          b.enable(b.BLEND),
          b.depthMask(!1),
          b.material.setAlpha(b, 0.4),
          this.helpButton.renderHighlight(b, v),
          b.depthMask(!0),
          b.disable(b.BLEND),
          b.blendFuncSeparate(
            b.SRC_ALPHA,
            b.ONE_MINUS_SRC_ALPHA,
            b.ONE,
            b.ONE_MINUS_SRC_ALPHA
          )),
        this.phongShader.disableAttribsArray(b),
        b.flush(),
        b.enable(b.BLEND),
        b.depthMask(!1),
        this.labelShader.useShaderProgram(b),
        this.labelShader.setProjectionMatrix(b, e),
        this.textTextImage.updateFont(
          this.gl,
          14.1,
          ["sans-serif"],
          !1,
          !1,
          !0
        ),
        (k = w.multiply(d, w.identity([]), [])),
        this.labelShader.setModelViewMatrix(b, k),
        this.labelShader.enableAttribsArray(b),
        this.renderText("?", [0, 0, 0]),
        this.labelShader.disableAttribsArray(b),
        b.disable(b.BLEND),
        b.depthMask(!0));
      this.paidToHideTrademark ||
        (b.enable(this.gl.BLEND),
        this.labelShader.useShaderProgram(b),
        this.labelShader.setProjectionMatrix(b, e),
        this.labelShader.enableAttribsArray(b),
        this.textTextImage.updateFont(b, 14.1, ["sans-serif"], !1, !1, !0),
        (e = this.textTextImage.textWidth("ChemDoodle") / this.pixelRatio),
        (e = (this.width - e - 30) * c),
        (k = (-this.height + 24) * c),
        w.translate(w.identity([]), [e, k, -h], d),
        (e = w.multiply(d, b.rotationMatrix, [])),
        this.labelShader.setModelViewMatrix(b, e),
        this.renderText("ChemDoodle", [0, 0, 0]),
        (e = (this.width - 18) * c),
        (k = (-this.height + 30) * c),
        w.translate(w.identity([]), [e, k, -h], d),
        (e = w.multiply(d, b.rotationMatrix, [])),
        this.labelShader.setModelViewMatrix(b, e),
        this.textTextImage.updateFont(b, 10, ["sans-serif"], !1, !1, !0),
        this.renderText("\u00ae", [0, 0, 0]),
        this.labelShader.disableAttribsArray(b),
        b.disable(b.BLEND),
        b.flush());
      b.enable(b.DEPTH_TEST);
    };
    k.checksOnAction = function (b) {
      this.doChecks = !b;
    };
    k.click = function (b) {
      this.stateManager.getCurrentState().click(b);
    };
    k.rightclick = function (b) {
      this.stateManager.getCurrentState().rightclick(b);
    };
    k.dblclick = function (b) {
      this.stateManager.getCurrentState().dblclick(b);
    };
    k.mousedown = function (b) {
      this.stateManager.getCurrentState().mousedown(b);
    };
    k.rightmousedown = function (b) {
      this.stateManager.getCurrentState().rightmousedown(b);
    };
    k.mousemove = function (b) {
      this.isHelp = !1;
      10 > b.p.distance(new r.Point(this.width - 20, 20)) && (this.isHelp = !0);
      this.stateManager.getCurrentState().mousemove(b);
    };
    k.mouseout = function (b) {
      this.stateManager.getCurrentState().mouseout(b);
    };
    k.mouseover = function (b) {
      this.stateManager.getCurrentState().mouseover(b);
    };
    k.mouseup = function (b) {
      this.stateManager.getCurrentState().mouseup(b);
    };
    k.rightmouseup = function (b) {
      this.stateManager.getCurrentState().rightmouseup(b);
    };
    k.mousewheel = function (b, d) {
      this.stateManager.getCurrentState().mousewheel(b, d);
    };
    k.drag = function (b) {
      this.stateManager.getCurrentState().drag(b);
    };
    k.keydown = function (b) {
      this.stateManager.getCurrentState().keydown(b);
    };
    k.keypress = function (b) {
      this.stateManager.getCurrentState().keypress(b);
    };
    k.keyup = function (b) {
      this.stateManager.getCurrentState().keyup(b);
    };
  })(
    ChemDoodle,
    ChemDoodle.featureDetection,
    ChemDoodle.structures.d3,
    ChemDoodle.uis,
    ChemDoodle.structures,
    ChemDoodle.uis.tools,
    ChemDoodle.lib.jQuery,
    Math,
    ChemDoodle.lib.mat4,
    window
  );
  (function (k, b, n, f, r, h) {
    function d(b, d) {
      this.id = b;
      this.meta = d;
    }
    function l(b) {
      return b.scrollHeight > b.clientHeight || b.scrollWidth > b.clientWidth;
    }
    const w =
      -1 < r.userAgent.indexOf("Safari") &&
      -1 === r.userAgent.indexOf("Chrome");
    k.StoichiometryTable = function (d, h) {
      this.id = d;
      this.options = h;
      let k = this;
      this.buttonCancel = new b.Button(
        this.id + "_edit_undo",
        n.UNDO,
        "Cancel Edits",
        function () {
          k.closeEdit(!1);
        }
      );
      this.buttonClear = new b.Button(
        this.id + "_edit_clear",
        n.ERASE,
        "Remove Value",
        function () {
          f("#" + k.id + "_stoichiometry_edit_value").val("");
          k.closeEdit(!0);
        }
      );
      d = this.makeTableContainer();
      h = this.makeEditComponent();
      if (document.getElementById(this.id)) {
        let b = f("#" + this.id);
        b.empty();
        b.html(d + h);
      } else
        document.writeln('\x3cdiv id\x3d"' + this.id + '"\x3e'),
          document.writeln(h),
          document.writeln(d),
          document.writeln("\x3c/div\x3e");
      f(document).ready(function () {
        k.buttonCancel.setup(!0);
        k.buttonClear.setup(!0);
        f("#" + k.id + "_stoichiometry_edit_value").keydown(function (b) {
          (13 !== b.which && 27 !== b.which) || k.closeEdit(!0);
        });
      });
    };
    k = k.StoichiometryTable.prototype;
    k.makeTableContainer = function () {
      let b = [];
      b.push(
        '\x3cdiv id\x3d"progressbar" style\x3d"width:16px;height:16px;"\x3e\x3cimg id\x3d"'
      );
      b.push(this.id);
      b.push(
        '_progressbar_image" style\x3d"display:none;" src\x3d"data:image/gif;base64,R0lGODlhEAAQAPYAAP///wAAANTU1JSUlGBgYEBAQERERG5ubqKiotzc3KSkpCQkJCgoKDAwMDY2Nj4+Pmpqarq6uhwcHHJycuzs7O7u7sLCwoqKilBQUF5eXr6+vtDQ0Do6OhYWFoyMjKqqqlxcXHx8fOLi4oaGhg4ODmhoaJycnGZmZra2tkZGRgoKCrCwsJaWlhgYGAYGBujo6PT09Hh4eISEhPb29oKCgqioqPr6+vz8/MDAwMrKyvj4+NbW1q6urvDw8NLS0uTk5N7e3s7OzsbGxry8vODg4NjY2PLy8tra2np6erS0tLKyskxMTFJSUlpaWmJiYkJCQjw8PMTExHZ2djIyMurq6ioqKo6OjlhYWCwsLB4eHqCgoE5OThISEoiIiGRkZDQ0NMjIyMzMzObm5ri4uH5+fpKSkp6enlZWVpCQkEpKSkhISCIiIqamphAQEAwMDKysrAQEBJqamiYmJhQUFDg4OHR0dC4uLggICHBwcCAgIFRUVGxsbICAgAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAAHjYAAgoOEhYUbIykthoUIHCQqLoI2OjeFCgsdJSsvgjcwPTaDAgYSHoY2FBSWAAMLE4wAPT89ggQMEbEzQD+CBQ0UsQA7RYIGDhWxN0E+ggcPFrEUQjuCCAYXsT5DRIIJEBgfhjsrFkaDERkgJhswMwk4CDzdhBohJwcxNB4sPAmMIlCwkOGhRo5gwhIGAgAh+QQJCgAAACwAAAAAEAAQAAAHjIAAgoOEhYU7A1dYDFtdG4YAPBhVC1ktXCRfJoVKT1NIERRUSl4qXIRHBFCbhTKFCgYjkII3g0hLUbMAOjaCBEw9ukZGgidNxLMUFYIXTkGzOmLLAEkQCLNUQMEAPxdSGoYvAkS9gjkyNEkJOjovRWAb04NBJlYsWh9KQ2FUkFQ5SWqsEJIAhq6DAAIBACH5BAkKAAAALAAAAAAQABAAAAeJgACCg4SFhQkKE2kGXiwChgBDB0sGDw4NDGpshTheZ2hRFRVDUmsMCIMiZE48hmgtUBuCYxBmkAAQbV2CLBM+t0puaoIySDC3VC4tgh40M7eFNRdH0IRgZUO3NjqDFB9mv4U6Pc+DRzUfQVQ3NzAULxU2hUBDKENCQTtAL9yGRgkbcvggEq9atUAAIfkECQoAAAAsAAAAABAAEAAAB4+AAIKDhIWFPygeEE4hbEeGADkXBycZZ1tqTkqFQSNIbBtGPUJdD088g1QmMjiGZl9MO4I5ViiQAEgMA4JKLAm3EWtXgmxmOrcUElWCb2zHkFQdcoIWPGK3Sm1LgkcoPrdOKiOCRmA4IpBwDUGDL2A5IjCCN/QAcYUURQIJIlQ9MzZu6aAgRgwFGAFvKRwUCAAh+QQJCgAAACwAAAAAEAAQAAAHjIAAgoOEhYUUYW9lHiYRP4YACStxZRc0SBMyFoVEPAoWQDMzAgolEBqDRjg8O4ZKIBNAgkBjG5AAZVtsgj44VLdCanWCYUI3txUPS7xBx5AVDgazAjC3Q3ZeghUJv5B1cgOCNmI/1YUeWSkCgzNUFDODKydzCwqFNkYwOoIubnQIt244MzDC1q2DggIBACH5BAkKAAAALAAAAAAQABAAAAeJgACCg4SFhTBAOSgrEUEUhgBUQThjSh8IcQo+hRUbYEdUNjoiGlZWQYM2QD4vhkI0ZWKCPQmtkG9SEYJURDOQAD4HaLuyv0ZeB4IVj8ZNJ4IwRje/QkxkgjYz05BdamyDN9uFJg9OR4YEK1RUYzFTT0qGdnduXC1Zchg8kEEjaQsMzpTZ8avgoEAAIfkECQoAAAAsAAAAABAAEAAAB4iAAIKDhIWFNz0/Oz47IjCGADpURAkCQUI4USKFNhUvFTMANxU7KElAhDA9OoZHH0oVgjczrJBRZkGyNpCCRCw8vIUzHmXBhDM0HoIGLsCQAjEmgjIqXrxaBxGCGw5cF4Y8TnybglprLXhjFBUWVnpeOIUIT3lydg4PantDz2UZDwYOIEhgzFggACH5BAkKAAAALAAAAAAQABAAAAeLgACCg4SFhjc6RhUVRjaGgzYzRhRiREQ9hSaGOhRFOxSDQQ0uj1RBPjOCIypOjwAJFkSCSyQrrhRDOYILXFSuNkpjggwtvo86H7YAZ1korkRaEYJlC3WuESxBggJLWHGGFhcIxgBvUHQyUT1GQWwhFxuFKyBPakxNXgceYY9HCDEZTlxA8cOVwUGBAAA7AAAAAAAAAAAA" /\x3e\x3c/div\x3e'
      );
      b.push('\x3cdiv id\x3d"');
      b.push(this.id);
      b.push(
        '_table" style\x3d"display:flex;overflow-x:auto;align-items:center;justify-content:'
      );
      b.push(w ? "left" : "center");
      b.push(';"\x3e\x3c/div\x3e');
      return b.join("");
    };
    k.makeEditComponent = function () {
      let b = [
        '\x3cdiv style\x3d"display:none;position:absolute;z-index:10;border:1px #C1C1C1 solid;background:#F5F5F5;padding:5px;" id\x3d"',
      ];
      b.push(this.id);
      b.push('_stoichiometry_edit"\x3e\x3cnobr\x3e\x3cspan id\x3d"');
      b.push(this.id);
      b.push(
        '_stoichiometry_edit_description"\x3eEquivalents\x3c/span\x3e\x3cinput type\x3d"number" style\x3d"margin-left:10px;margin-right:5px;" id\x3d"'
      );
      b.push(this.id);
      b.push(
        '_stoichiometry_edit_value" size\x3d"10" /\x3e\x3cdiv style\x3d"display:inline;margin-right:15px;" id\x3d"'
      );
      b.push(this.id);
      b.push('_stoichiometry_edit_unit"\x3e\x3c/div\x3e');
      b.push(this.buttonCancel.getSource());
      b.push(this.buttonClear.getSource());
      b.push("\x3c/nobr\x3e\x3c/div\x3e");
      return b.join("");
    };
    k.setupStoichiometryTable = function (b) {
      this.currentTableData = b;
      this.tableContainer = f("#" + this.id + "_table");
      this.tableContainer.empty();
      this.editableCells = [];
      let k = [],
        l = ['\x3ctable class\x3d"stoichiometry_table"\x3e'];
      for (let f = 0; f < b.r; f++) {
        l.push("\x3ctr\x3e");
        for (let e = 0; e < b.c; e++)
          if (-1 === k.indexOf(e)) {
            let n = this.id + "_" + f + "_" + e,
              q = b.data[f][e];
            l.push('\x3ctd class\x3d"stoichiometry_cell" id\x3d"');
            l.push(n);
            l.push('" ');
            q.editable && l.push(' tabindex\x3d"0"');
            let r = [];
            q.colspan !== h &&
              (r.push("text-align:center;"),
              l.push(' colspan\x3d"'),
              l.push(q.colspan),
              l.push('"'));
            0 === f && 0 === q.display.length
              ? (r.push("width:20px;"),
                l.push(' rowspan\x3d"'),
                l.push(b.r),
                l.push('"'),
                k.push(e))
              : q.editable && this.editableCells.push(new d(n, q));
            q.c !== h && (r.push("background:"), r.push(q.c), r.push(";"));
            q.b && r.push("font-weight:bold;");
            q.i && r.push("font-style:italic;");
            q.editable || "center" === q.align
              ? r.push("text-align:center;")
              : r.push("padding-left:10px;");
            0 < r.length &&
              (l.push(' style\x3d"'), l.push(r.join("")), l.push('"'));
            l.push("\x3e");
            0 < q.display.length &&
              (q.value === h
                ? l.push(q.display)
                : (l.push(q.value),
                  q.unit !== h &&
                    (l.push('\x3cspan style\x3d"font-size:80%"\x3e'),
                    l.push(q.unit),
                    l.push("\x3c/span\x3e"))));
            l.push("\x3c/td\x3e");
            q.colspan !== h && (e += q.colspan - 1);
          }
        l.push("\x3c/tr\x3e");
      }
      l.push("\x3c/table\x3e");
      this.tableContainer.html(l.join(""));
      this.setupInteractivity();
    };
    k.updateStoichiometryTable = function (b) {
      this.currentTableData = b;
      this.editableCells = [];
      for (let l = 0; l < b.r; l++)
        for (let n = 0; n < b.c; n++) {
          let e = b.data[l][n];
          if (e.editable) {
            var k = this.id + "_" + l + "_" + n;
            this.editableCells.push(new d(k, e));
            k = f("#" + k);
            e.b ? k.css("font-weight", "bold") : k.css("font-weight", "");
            e.i ? k.css("font-style", "italic") : k.css("font-style", "");
            e.ec ? k.css("color", e.ec) : k.css("color", "");
            if (0 < e.display.length) {
              let b = [e.value];
              e.unit !== h &&
                (b.push('\x3cspan style\x3d"font-size:80%"\x3e'),
                b.push(e.unit),
                b.push("\x3c/span\x3e"));
              k.html(b.join(""));
            } else k.empty();
          }
        }
      this.setupInteractivity();
    };
    k.setupInteractivity = function () {
      let b = this.id + "_table",
        d;
      d = w || l(document.getElementById(b)) ? "left" : "center";
      d !== f("#" + b).css("justify-content") &&
        f("#" + b).css("justify-content", d);
      let k = this;
      for (let b = 0, d = this.editableCells.length; b < d; b++) {
        let d = this.editableCells[b],
          e = f("#" + d.id);
        e.css("cursor", "cell");
        e.hover(
          function () {
            e.css("border", "4px solid #885210");
          },
          function () {
            e.css("border", "1px solid black");
          }
        );
        e.click(function () {
          k.currentCell = d;
          var b = f("#" + k.id + "_stoichiometry_edit");
          (k.currentCell.meta.b && k.currentCell.meta.i) ||
          0 === k.currentCell.meta.display.length
            ? (k.buttonCancel.getElement().show(0),
              k.buttonClear.getElement().show(0))
            : (k.currentCell.meta.units && 1 < k.currentCell.meta.units.length
                ? k.buttonCancel.getElement().show(0)
                : k.buttonCancel.getElement().hide(0),
              k.buttonClear.getElement().hide(0));
          b.fadeIn(200).position({
            my: "center center",
            at: "center",
            of: e,
            collision: "fit",
          });
          f("#" + k.id + "_stoichiometry_edit_description").html(d.meta.field);
          b = "";
          if (d.meta.units !== h)
            if (1 === d.meta.units.length) b = d.meta.units[0];
            else {
              b = d.meta.unit === h ? d.meta.dunit : d.meta.unit;
              let a = [];
              a.push('\x3cselect id\x3d"');
              a.push(k.id);
              a.push('_stoichiometry_edit_units"\x3e');
              for (let c = 0, e = d.meta.units.length; c < e; c++) {
                let e = d.meta.units[c];
                a.push('\x3coption value\x3d"');
                a.push(e);
                a.push('"');
                e === b && a.push(' selected\x3d"selected"');
                a.push("\x3e");
                a.push(e);
                a.push("\x3c/option\x3e");
              }
              a.push("\x3c/select\x3e");
              b = a.join("");
            }
          f("#" + k.id + "_stoichiometry_edit_unit").html(b);
          b = f("#" + k.id + "_stoichiometry_edit_value");
          b.val(d.meta.value);
          0 === d.meta.display.length || (d.meta.i && d.meta.b)
            ? (b.prop("disabled", !1), b.focus())
            : b.prop("disabled", !0);
          f(document).one("mousedown", function (a) {
            k.closeEditCheckNotInEditDiv();
          });
        });
        e.keydown(function (b) {
          8 === b.which
            ? ((k.currentCell = d),
              f("#" + k.id + "_stoichiometry_edit_value").val(""),
              k.closeEdit(!0))
            : 32 === b.which && e.click();
        });
      }
    };
    k.closeEdit = function (b) {
      f("#" + this.id + "_stoichiometry_edit").hide(0);
      if (b) {
        b = !0;
        var d = f("#" + this.id + "_stoichiometry_edit_value").val();
        let l = f("#" + this.currentCell.id);
        if (0 === d.length)
          this.currentCell.meta.value === h
            ? (b = !1)
            : (l.empty(),
              (this.currentCell.meta.display = h),
              (this.currentCell.meta.value = h),
              (this.currentCell.meta.unit = h),
              (this.currentCell.meta.b = h),
              (this.currentCell.meta.i = h));
        else {
          var k = f("#" + this.id + "_stoichiometry_edit_units");
          k = k.length
            ? k.val()
            : f("#" + this.id + "_stoichiometry_edit_unit").text();
          this.currentCell.meta.value === d && this.currentCell.meta.unit === k
            ? (b = !1)
            : (0 === this.currentCell.meta.display.length &&
                ((this.currentCell.meta.b = !0),
                (this.currentCell.meta.i = !0)),
              (this.currentCell.meta.display = d + k),
              (this.currentCell.meta.value = d),
              (this.currentCell.meta.unit = 0 === k.length ? h : k),
              (d = []),
              d.push(this.currentCell.meta.value),
              this.currentCell.meta.unit !== h &&
                (d.push('\x3cspan style\x3d"font-size:80%"\x3e'),
                d.push(this.currentCell.meta.unit),
                d.push("\x3c/span\x3e")),
              l.html(d.join("")),
              this.currentCell.meta.b &&
                this.currentCell.meta.i &&
                (l.css("font-weight", "bold"), l.css("font-style", "italic")));
        }
        if (b) {
          for (let b = 0, d = this.editableCells.length; b < d; b++)
            f("#" + this.editableCells[b].id).unbind(
              "mouseenter mouseleave click keydown"
            );
          this.serverUpdate(this.currentTableData);
        }
      }
    };
    k.closeEditCheckNotInEditDiv = function () {
      if (f("#" + this.id + "_stoichiometry_edit").is(":visible"))
        if (
          0 ===
          f(event.target).parents("div#" + this.id + "_stoichiometry_edit")
            .length
        )
          this.closeEdit(!0);
        else {
          let b = this;
          f(document).one("mousedown", function (d) {
            b.closeEditCheckNotInEditDiv();
          });
        }
    };
    k.serverSetup = function (b) {
      let d = f("#" + this.id + "_progressbar_image");
      d.show();
      if (!this.running) {
        this.running = !0;
        let f = h;
        f =
          "string" === typeof b || b instanceof String
            ? b
            : { molecules: b.molecules, shapes: b.shapes };
        let k = this;
        ChemDoodle.iChemLabs.stoichiometry(
          f,
          {},
          function (b, f) {
            f &&
              alert(
                f
                  .replace("\x3cbr\x3e\x3cbr\x3e", "\n\n")
                  .replace("\x3ccenter\x3e", "")
                  .replace("\x3c/center\x3e", "")
              );
            b && k.setupStoichiometryTable(b);
            k.running = !1;
            d.hide();
          },
          function () {
            k.running = !1;
            d.hide();
          }
        );
      }
    };
    k.serverUpdate = function (b) {
      let d = f("#" + this.id + "_progressbar_image");
      d.show();
      if (!this.running) {
        this.running = !0;
        let f = this;
        ChemDoodle.iChemLabs.stoichiometry(
          { table: b },
          {},
          function (b) {
            b && f.updateStoichiometryTable(b);
            f.running = !1;
            d.hide();
          },
          function () {
            f.running = !1;
            d.hide();
          }
        );
      }
    };
  })(
    ChemDoodle,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.uis.gui.imageDepot,
    ChemDoodle.lib.jQuery,
    navigator
  );

  (function (
    c,
    iChemLabs,
    io,
    structures,
    actions,
    gui,
    imageDepot,
    desktop,
    tools,
    states,
    q,
    document,
    undefined
  ) {
    gui.ToolbarManager.prototype.write = function () {
      let sb = [
        '<div id="' + this.sketcher.id + '_toolbar" style="font-size:10px;">',
      ]; /* NOTE: patch change */
      let bg = this.sketcher.id + "_main_group";
      if (this.sketcher.oneMolecule) {
        sb.push(this.buttonMove.getSource(bg));
      } else {
        sb.push(this.lassoSet.getSource(bg));
      }
      sb.push(this.buttonClear.getSource());
      sb.push(this.buttonErase.getSource(bg));
      sb.push(this.buttonCenter.getSource());
      if (this.sketcher.useServices) {
        sb.push(this.buttonClean.getSource());
      }
      sb.push(this.flipSet.getSource());
      sb.push(this.historySet.getSource());
      if (!this.sketcher.oneMolecule) {
        sb.push(this.copySet.getSource());
      }
      sb.push(this.scaleSet.getSource());
      sb.push(this.buttonOpen.getSource());
      sb.push(this.buttonSave.getSource());
      sb.push(this.buttonTemplate.getSource(bg));
      if (this.sketcher.useServices) {
        sb.push(this.buttonSearch.getSource());
        sb.push(this.buttonCalculate.getSource());
      }
      if (!this.sketcher.floatDrawTools) {
        sb.push("<br>");
        if (desktop.TextInput) {
          sb.push(this.buttonTextInput.getSource(bg));
        }
        sb.push(this.labelSet.getSource(bg));
        if (this.sketcher.includeQuery) {
          sb.push(this.buttonQuery.getSource(bg));
        }
        sb.push(this.attributeSet.getSource(bg));
        sb.push(this.bondSet.getSource(bg));
        sb.push(this.ringSet.getSource(bg));
        sb.push(this.buttonChain.getSource(bg));
        if (!this.sketcher.oneMolecule) {
          sb.push(this.shapeSet.getSource(bg));
        }
      }
      sb.push("</div>");
      if (this.sketcher.floatDrawTools) {
        if (desktop.TextInput) {
          this.drawTools.components.splice(0, 0, this.buttonTextInput);
        }
        if (this.sketcher.includeQuery) {
          this.drawTools.components.splice(
            desktop.TextInput ? 1 : 0,
            0,
            this.buttonQuery
          );
        }
        this.drawTools.components.splice(
          this.drawTools.components.length -
            (this.sketcher.oneMolecule ? 1 : 3),
          0,
          this.buttonChain
        );
        if (!this.sketcher.oneMolecule) {
          this.drawTools.components.push(this.buttonVAP);
        }
        sb.push(this.drawTools.getSource(bg));
      }

      if (document.getElementById(this.sketcher.id)) {
        let canvas = q("#" + this.sketcher.id);
        canvas.before(sb.join(""));
      } else {
        document.write(sb.join(""));
      }
    };
  })(
    ChemDoodle,
    ChemDoodle.iChemLabs,
    ChemDoodle.io,
    ChemDoodle.structures,
    ChemDoodle.uis.actions,
    ChemDoodle.uis.gui,
    ChemDoodle.uis.gui.imageDepot,
    ChemDoodle.uis.gui.desktop,
    ChemDoodle.uis.tools,
    ChemDoodle.uis.states,
    ChemDoodle.lib.jQuery,
    document
  );
  (function (
    c,
    extensions,
    featureDetection,
    uis,
    structures,
    d2,
    tools,
    q,
    m,
    window,
    undefined
  ) {
    const prototype = c.SketcherCanvas.prototype;

    c.SketcherCanvas = function (id, width, height, options) {
      // keep checks to undefined here as these are booleans
      this.isMobile =
        options.isMobile === undefined
          ? featureDetection.supports_touch()
          : options.isMobile;
      this.useServices =
        options.useServices === undefined ? false : options.useServices;
      this.oneMolecule =
        options.oneMolecule === undefined ? false : options.oneMolecule;
      this.requireStartingAtom =
        options.requireStartingAtom === undefined
          ? true
          : options.requireStartingAtom;
      this.includeToolbar =
        options.includeToolbar === undefined ? true : options.includeToolbar;
      this.floatDrawTools =
        options.floatDrawTools === undefined ? false : options.floatDrawTools;
      this.resizable =
        options.resizable === undefined ? false : options.resizable;
      this.includeQuery =
        options.includeQuery === undefined ? false : options.includeQuery;
      // save the original options object
      this.originalOptions = options;
      // toolbar manager needs the sketcher id to make it unique to this
      // canvas
      this.id = id;
      this.toolbarManager = new uis.gui.ToolbarManager(this);
      const hasToolbar = !!document.getElementById(
        this.id + "_toolbar"
      ); /* NOTE: patch change */
      if (this.includeToolbar && !hasToolbar) {
        this.toolbarManager.write();
        // If pre-created, wait until the last button image loads before
        // calling setup.
        let self = this;
        if (document.getElementById(this.id)) {
          q("#" + id + "_button_chain_icon").load(function () {
            self.toolbarManager.setup();
          });
        } else {
          q(window).load(function () {
            self.toolbarManager.setup();
          });
        }
        this.dialogManager = new uis.gui.DialogManager(this);
      }
      if (uis.gui.desktop.TextInput) {
        this.textInput = new uis.gui.desktop.TextInput(
          this,
          this.id + "_textInput"
        );
      }
      if (id) {
        this.create(id, width, height);
      }
      // cursor manager must be initialized before state manager
      // cursor manager must be initialized after sketcher element is created to set the default cursor
      this.cursorManager = new uis.gui.desktop.CursorManager(this);
      this.stateManager = new uis.states.StateManager(this);
      this.historyManager = new uis.actions.HistoryManager(this);
      this.copyPasteManager = new uis.CopyPasteManager(this);
      // styles is now created and available
      this.styles.atoms_circleDiameter_2D = 7;
      this.styles.atoms_circleBorderWidth_2D = 0;
      this.isHelp = false;
      this.lastPinchScale = 1;
      this.lastGestureRotate = 0;
      this.inGesture = false;
      if (this.oneMolecule) {
        let startMol = new structures.Molecule();
        startMol.atoms.push(new structures.Atom());
        this.loadMolecule(startMol);
      } else {
        this.startAtom = new structures.Atom("C", -10, -10);
        this.startAtom.isLone = true;
        this.lasso = new tools.Lasso(this);
      }
      if (this.resizable) {
        let jqsk = q("#" + this.id);
        let self = this;
        jqsk.resizable({
          resize: function (event, ui) {
            self.resize(jqsk.innerWidth(), jqsk.innerHeight());
          },
        });
      }
    };

    c.SketcherCanvas.prototype = prototype;
  })(
    ChemDoodle,
    ChemDoodle.extensions,
    ChemDoodle.featureDetection,
    ChemDoodle.uis,
    ChemDoodle.structures,
    ChemDoodle.structures.d2,
    ChemDoodle.uis.tools,
    ChemDoodle.lib.jQuery,
    Math,
    window
  );
})();
